(() => {
  // node_modules/monaco-editor/esm/vs/base/common/errors.js
  var ErrorHandler = class {
    constructor() {
      this.listeners = [];
      this.unexpectedErrorHandler = function(e) {
        setTimeout(() => {
          if (e.stack) {
            throw new Error(e.message + "\n\n" + e.stack);
          }
          throw e;
        }, 0);
      };
    }
    emit(e) {
      this.listeners.forEach((listener) => {
        listener(e);
      });
    }
    onUnexpectedError(e) {
      this.unexpectedErrorHandler(e);
      this.emit(e);
    }
    onUnexpectedExternalError(e) {
      this.unexpectedErrorHandler(e);
    }
  };
  var errorHandler = new ErrorHandler();
  function onUnexpectedError(e) {
    if (!isPromiseCanceledError(e)) {
      errorHandler.onUnexpectedError(e);
    }
    return void 0;
  }
  function transformErrorForSerialization(error) {
    if (error instanceof Error) {
      let {name, message} = error;
      const stack = error.stacktrace || error.stack;
      return {
        $isError: true,
        name,
        message,
        stack
      };
    }
    return error;
  }
  var canceledName = "Canceled";
  function isPromiseCanceledError(error) {
    return error instanceof Error && error.name === canceledName && error.message === canceledName;
  }

  // node_modules/monaco-editor/esm/vs/base/common/iterator.js
  var Iterable;
  (function(Iterable2) {
    function is(thing) {
      return thing && typeof thing === "object" && typeof thing[Symbol.iterator] === "function";
    }
    Iterable2.is = is;
    const _empty2 = Object.freeze([]);
    function empty() {
      return _empty2;
    }
    Iterable2.empty = empty;
    function* single(element) {
      yield element;
    }
    Iterable2.single = single;
    function from(iterable) {
      return iterable || _empty2;
    }
    Iterable2.from = from;
    function isEmpty(iterable) {
      return !iterable || iterable[Symbol.iterator]().next().done === true;
    }
    Iterable2.isEmpty = isEmpty;
    function first(iterable) {
      return iterable[Symbol.iterator]().next().value;
    }
    Iterable2.first = first;
    function some(iterable, predicate) {
      for (const element of iterable) {
        if (predicate(element)) {
          return true;
        }
      }
      return false;
    }
    Iterable2.some = some;
    function find(iterable, predicate) {
      for (const element of iterable) {
        if (predicate(element)) {
          return element;
        }
      }
      return void 0;
    }
    Iterable2.find = find;
    function* filter(iterable, predicate) {
      for (const element of iterable) {
        if (predicate(element)) {
          yield element;
        }
      }
    }
    Iterable2.filter = filter;
    function* map(iterable, fn) {
      let index = 0;
      for (const element of iterable) {
        yield fn(element, index++);
      }
    }
    Iterable2.map = map;
    function* concat(...iterables) {
      for (const iterable of iterables) {
        for (const element of iterable) {
          yield element;
        }
      }
    }
    Iterable2.concat = concat;
    function* concatNested(iterables) {
      for (const iterable of iterables) {
        for (const element of iterable) {
          yield element;
        }
      }
    }
    Iterable2.concatNested = concatNested;
    function reduce(iterable, reducer, initialValue) {
      let value = initialValue;
      for (const element of iterable) {
        value = reducer(value, element);
      }
      return value;
    }
    Iterable2.reduce = reduce;
    function* slice(arr, from2, to = arr.length) {
      if (from2 < 0) {
        from2 += arr.length;
      }
      if (to < 0) {
        to += arr.length;
      } else if (to > arr.length) {
        to = arr.length;
      }
      for (; from2 < to; from2++) {
        yield arr[from2];
      }
    }
    Iterable2.slice = slice;
    function consume(iterable, atMost = Number.POSITIVE_INFINITY) {
      const consumed = [];
      if (atMost === 0) {
        return [consumed, iterable];
      }
      const iterator = iterable[Symbol.iterator]();
      for (let i = 0; i < atMost; i++) {
        const next = iterator.next();
        if (next.done) {
          return [consumed, Iterable2.empty()];
        }
        consumed.push(next.value);
      }
      return [consumed, {[Symbol.iterator]() {
        return iterator;
      }}];
    }
    Iterable2.consume = consume;
    function equals2(a2, b, comparator = (at, bt) => at === bt) {
      const ai = a2[Symbol.iterator]();
      const bi = b[Symbol.iterator]();
      while (true) {
        const an = ai.next();
        const bn = bi.next();
        if (an.done !== bn.done) {
          return false;
        } else if (an.done) {
          return true;
        } else if (!comparator(an.value, bn.value)) {
          return false;
        }
      }
    }
    Iterable2.equals = equals2;
  })(Iterable || (Iterable = {}));

  // node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
  var TRACK_DISPOSABLES = false;
  var disposableTracker = null;
  if (TRACK_DISPOSABLES) {
    const __is_disposable_tracked__ = "__is_disposable_tracked__";
    disposableTracker = new class {
      trackDisposable(x) {
        const stack = new Error("Potentially leaked disposable").stack;
        setTimeout(() => {
          if (!x[__is_disposable_tracked__]) {
            console.log(stack);
          }
        }, 3e3);
      }
      markTracked(x) {
        if (x && x !== Disposable.None) {
          try {
            x[__is_disposable_tracked__] = true;
          } catch (_a2) {
          }
        }
      }
    }();
  }
  function markTracked(x) {
    if (!disposableTracker) {
      return;
    }
    disposableTracker.markTracked(x);
  }
  function trackDisposable(x) {
    if (!disposableTracker) {
      return x;
    }
    disposableTracker.trackDisposable(x);
    return x;
  }
  var MultiDisposeError = class extends Error {
    constructor(errors) {
      super(`Encountered errors while disposing of store. Errors: [${errors.join(", ")}]`);
      this.errors = errors;
    }
  };
  function dispose(arg) {
    if (Iterable.is(arg)) {
      let errors = [];
      for (const d of arg) {
        if (d) {
          markTracked(d);
          try {
            d.dispose();
          } catch (e) {
            errors.push(e);
          }
        }
      }
      if (errors.length === 1) {
        throw errors[0];
      } else if (errors.length > 1) {
        throw new MultiDisposeError(errors);
      }
      return Array.isArray(arg) ? [] : arg;
    } else if (arg) {
      markTracked(arg);
      arg.dispose();
      return arg;
    }
  }
  function combinedDisposable(...disposables) {
    disposables.forEach(markTracked);
    return toDisposable(() => dispose(disposables));
  }
  function toDisposable(fn) {
    const self2 = trackDisposable({
      dispose: () => {
        markTracked(self2);
        fn();
      }
    });
    return self2;
  }
  var DisposableStore = class {
    constructor() {
      this._toDispose = new Set();
      this._isDisposed = false;
    }
    dispose() {
      if (this._isDisposed) {
        return;
      }
      markTracked(this);
      this._isDisposed = true;
      this.clear();
    }
    clear() {
      try {
        dispose(this._toDispose.values());
      } finally {
        this._toDispose.clear();
      }
    }
    add(t) {
      if (!t) {
        return t;
      }
      if (t === this) {
        throw new Error("Cannot register a disposable on itself!");
      }
      markTracked(t);
      if (this._isDisposed) {
        if (!DisposableStore.DISABLE_DISPOSED_WARNING) {
          console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack);
        }
      } else {
        this._toDispose.add(t);
      }
      return t;
    }
  };
  DisposableStore.DISABLE_DISPOSED_WARNING = false;
  var Disposable = class {
    constructor() {
      this._store = new DisposableStore();
      trackDisposable(this);
    }
    dispose() {
      markTracked(this);
      this._store.dispose();
    }
    _register(t) {
      if (t === this) {
        throw new Error("Cannot register a disposable on itself!");
      }
      return this._store.add(t);
    }
  };
  Disposable.None = Object.freeze({dispose() {
  }});

  // node_modules/monaco-editor/esm/vs/base/common/platform.js
  var _a;
  var LANGUAGE_DEFAULT = "en";
  var _isWindows = false;
  var _isMacintosh = false;
  var _isLinux = false;
  var _isLinuxSnap = false;
  var _isNative = false;
  var _isWeb = false;
  var _isIOS = false;
  var _locale = void 0;
  var _language = LANGUAGE_DEFAULT;
  var _translationsConfigFile = void 0;
  var _userAgent = void 0;
  var globals = typeof self === "object" ? self : typeof global === "object" ? global : {};
  var nodeProcess = void 0;
  if (typeof globals.vscode !== "undefined" && typeof globals.vscode.process !== "undefined") {
    nodeProcess = globals.vscode.process;
  } else if (typeof process !== "undefined") {
    nodeProcess = process;
  }
  var isElectronRenderer = typeof ((_a = nodeProcess === null || nodeProcess === void 0 ? void 0 : nodeProcess.versions) === null || _a === void 0 ? void 0 : _a.electron) === "string" && nodeProcess.type === "renderer";
  var isElectronSandboxed = isElectronRenderer && (nodeProcess === null || nodeProcess === void 0 ? void 0 : nodeProcess.sandboxed);
  var browserCodeLoadingCacheStrategy = (() => {
    if (isElectronSandboxed) {
      return "bypassHeatCheck";
    }
    const env2 = nodeProcess === null || nodeProcess === void 0 ? void 0 : nodeProcess.env["VSCODE_BROWSER_CODE_LOADING"];
    if (typeof env2 === "string") {
      if (env2 === "none" || env2 === "code" || env2 === "bypassHeatCheck" || env2 === "bypassHeatCheckAndEagerCompile") {
        return env2;
      }
      return "bypassHeatCheck";
    }
    return void 0;
  })();
  if (typeof navigator === "object" && !isElectronRenderer) {
    _userAgent = navigator.userAgent;
    _isWindows = _userAgent.indexOf("Windows") >= 0;
    _isMacintosh = _userAgent.indexOf("Macintosh") >= 0;
    _isIOS = (_userAgent.indexOf("Macintosh") >= 0 || _userAgent.indexOf("iPad") >= 0 || _userAgent.indexOf("iPhone") >= 0) && !!navigator.maxTouchPoints && navigator.maxTouchPoints > 0;
    _isLinux = _userAgent.indexOf("Linux") >= 0;
    _isWeb = true;
    _locale = navigator.language;
    _language = _locale;
  } else if (typeof nodeProcess === "object") {
    _isWindows = nodeProcess.platform === "win32";
    _isMacintosh = nodeProcess.platform === "darwin";
    _isLinux = nodeProcess.platform === "linux";
    _isLinuxSnap = _isLinux && !!nodeProcess.env["SNAP"] && !!nodeProcess.env["SNAP_REVISION"];
    _locale = LANGUAGE_DEFAULT;
    _language = LANGUAGE_DEFAULT;
    const rawNlsConfig = nodeProcess.env["VSCODE_NLS_CONFIG"];
    if (rawNlsConfig) {
      try {
        const nlsConfig = JSON.parse(rawNlsConfig);
        const resolved = nlsConfig.availableLanguages["*"];
        _locale = nlsConfig.locale;
        _language = resolved ? resolved : LANGUAGE_DEFAULT;
        _translationsConfigFile = nlsConfig._translationsConfigFile;
      } catch (e) {
      }
    }
    _isNative = true;
  } else {
    console.error("Unable to resolve platform.");
  }
  var _platform = 0;
  if (_isMacintosh) {
    _platform = 1;
  } else if (_isWindows) {
    _platform = 3;
  } else if (_isLinux) {
    _platform = 2;
  }
  var isWindows = _isWindows;
  var isMacintosh = _isMacintosh;
  var setImmediate = function defineSetImmediate() {
    if (globals.setImmediate) {
      return globals.setImmediate.bind(globals);
    }
    if (typeof globals.postMessage === "function" && !globals.importScripts) {
      let pending = [];
      globals.addEventListener("message", (e) => {
        if (e.data && e.data.vscodeSetImmediateId) {
          for (let i = 0, len = pending.length; i < len; i++) {
            const candidate = pending[i];
            if (candidate.id === e.data.vscodeSetImmediateId) {
              pending.splice(i, 1);
              candidate.callback();
              return;
            }
          }
        }
      });
      let lastId = 0;
      return (callback) => {
        const myId = ++lastId;
        pending.push({
          id: myId,
          callback
        });
        globals.postMessage({vscodeSetImmediateId: myId}, "*");
      };
    }
    if (typeof (nodeProcess === null || nodeProcess === void 0 ? void 0 : nodeProcess.nextTick) === "function") {
      return nodeProcess.nextTick.bind(nodeProcess);
    }
    const _promise = Promise.resolve();
    return (callback) => _promise.then(callback);
  }();

  // node_modules/monaco-editor/esm/vs/base/common/types.js
  function getAllPropertyNames(obj) {
    let res = [];
    let proto = Object.getPrototypeOf(obj);
    while (Object.prototype !== proto) {
      res = res.concat(Object.getOwnPropertyNames(proto));
      proto = Object.getPrototypeOf(proto);
    }
    return res;
  }
  function getAllMethodNames(obj) {
    const methods = [];
    for (const prop of getAllPropertyNames(obj)) {
      if (typeof obj[prop] === "function") {
        methods.push(prop);
      }
    }
    return methods;
  }
  function createProxyObject(methodNames, invoke) {
    const createProxyMethod = (method) => {
      return function() {
        const args = Array.prototype.slice.call(arguments, 0);
        return invoke(method, args);
      };
    };
    let result = {};
    for (const methodName of methodNames) {
      result[methodName] = createProxyMethod(methodName);
    }
    return result;
  }

  // node_modules/monaco-editor/esm/vs/base/common/worker/simpleWorker.js
  var INITIALIZE = "$initialize";
  var SimpleWorkerProtocol = class {
    constructor(handler) {
      this._workerId = -1;
      this._handler = handler;
      this._lastSentReq = 0;
      this._pendingReplies = Object.create(null);
    }
    setWorkerId(workerId) {
      this._workerId = workerId;
    }
    sendMessage(method, args) {
      let req = String(++this._lastSentReq);
      return new Promise((resolve2, reject) => {
        this._pendingReplies[req] = {
          resolve: resolve2,
          reject
        };
        this._send({
          vsWorker: this._workerId,
          req,
          method,
          args
        });
      });
    }
    handleMessage(message) {
      if (!message || !message.vsWorker) {
        return;
      }
      if (this._workerId !== -1 && message.vsWorker !== this._workerId) {
        return;
      }
      this._handleMessage(message);
    }
    _handleMessage(msg) {
      if (msg.seq) {
        let replyMessage = msg;
        if (!this._pendingReplies[replyMessage.seq]) {
          console.warn("Got reply to unknown seq");
          return;
        }
        let reply = this._pendingReplies[replyMessage.seq];
        delete this._pendingReplies[replyMessage.seq];
        if (replyMessage.err) {
          let err = replyMessage.err;
          if (replyMessage.err.$isError) {
            err = new Error();
            err.name = replyMessage.err.name;
            err.message = replyMessage.err.message;
            err.stack = replyMessage.err.stack;
          }
          reply.reject(err);
          return;
        }
        reply.resolve(replyMessage.res);
        return;
      }
      let requestMessage = msg;
      let req = requestMessage.req;
      let result = this._handler.handleMessage(requestMessage.method, requestMessage.args);
      result.then((r) => {
        this._send({
          vsWorker: this._workerId,
          seq: req,
          res: r,
          err: void 0
        });
      }, (e) => {
        if (e.detail instanceof Error) {
          e.detail = transformErrorForSerialization(e.detail);
        }
        this._send({
          vsWorker: this._workerId,
          seq: req,
          res: void 0,
          err: transformErrorForSerialization(e)
        });
      });
    }
    _send(msg) {
      let transfer = [];
      if (msg.req) {
        const m = msg;
        for (let i = 0; i < m.args.length; i++) {
          if (m.args[i] instanceof ArrayBuffer) {
            transfer.push(m.args[i]);
          }
        }
      } else {
        const m = msg;
        if (m.res instanceof ArrayBuffer) {
          transfer.push(m.res);
        }
      }
      this._handler.sendMessage(msg, transfer);
    }
  };
  var SimpleWorkerServer = class {
    constructor(postMessage, requestHandlerFactory) {
      this._requestHandlerFactory = requestHandlerFactory;
      this._requestHandler = null;
      this._protocol = new SimpleWorkerProtocol({
        sendMessage: (msg, transfer) => {
          postMessage(msg, transfer);
        },
        handleMessage: (method, args) => this._handleMessage(method, args)
      });
    }
    onmessage(msg) {
      this._protocol.handleMessage(msg);
    }
    _handleMessage(method, args) {
      if (method === INITIALIZE) {
        return this.initialize(args[0], args[1], args[2], args[3]);
      }
      if (!this._requestHandler || typeof this._requestHandler[method] !== "function") {
        return Promise.reject(new Error("Missing requestHandler or method: " + method));
      }
      try {
        return Promise.resolve(this._requestHandler[method].apply(this._requestHandler, args));
      } catch (e) {
        return Promise.reject(e);
      }
    }
    initialize(workerId, loaderConfig, moduleId, hostMethods) {
      this._protocol.setWorkerId(workerId);
      const proxyMethodRequest = (method, args) => {
        return this._protocol.sendMessage(method, args);
      };
      const hostProxy = createProxyObject(hostMethods, proxyMethodRequest);
      if (this._requestHandlerFactory) {
        this._requestHandler = this._requestHandlerFactory(hostProxy);
        return Promise.resolve(getAllMethodNames(this._requestHandler));
      }
      if (loaderConfig) {
        if (typeof loaderConfig.baseUrl !== "undefined") {
          delete loaderConfig["baseUrl"];
        }
        if (typeof loaderConfig.paths !== "undefined") {
          if (typeof loaderConfig.paths.vs !== "undefined") {
            delete loaderConfig.paths["vs"];
          }
        }
        if (typeof loaderConfig.trustedTypesPolicy !== void 0) {
          delete loaderConfig["trustedTypesPolicy"];
        }
        loaderConfig.catchError = true;
        self.require.config(loaderConfig);
      }
      return new Promise((resolve2, reject) => {
        self.require([moduleId], (module) => {
          this._requestHandler = module.create(hostProxy);
          if (!this._requestHandler) {
            reject(new Error(`No RequestHandler!`));
            return;
          }
          resolve2(getAllMethodNames(this._requestHandler));
        }, reject);
      });
    }
  };

  // node_modules/monaco-editor/esm/vs/base/common/diff/diffChange.js
  var DiffChange = class {
    constructor(originalStart, originalLength, modifiedStart, modifiedLength) {
      this.originalStart = originalStart;
      this.originalLength = originalLength;
      this.modifiedStart = modifiedStart;
      this.modifiedLength = modifiedLength;
    }
    getOriginalEnd() {
      return this.originalStart + this.originalLength;
    }
    getModifiedEnd() {
      return this.modifiedStart + this.modifiedLength;
    }
  };

  // node_modules/monaco-editor/esm/vs/base/common/strings.js
  function splitLines(str) {
    return str.split(/\r\n|\r|\n/);
  }
  function firstNonWhitespaceIndex(str) {
    for (let i = 0, len = str.length; i < len; i++) {
      const chCode = str.charCodeAt(i);
      if (chCode !== 32 && chCode !== 9) {
        return i;
      }
    }
    return -1;
  }
  function lastNonWhitespaceIndex(str, startIndex = str.length - 1) {
    for (let i = startIndex; i >= 0; i--) {
      const chCode = str.charCodeAt(i);
      if (chCode !== 32 && chCode !== 9) {
        return i;
      }
    }
    return -1;
  }
  function isHighSurrogate(charCode) {
    return 55296 <= charCode && charCode <= 56319;
  }
  function isLowSurrogate(charCode) {
    return 56320 <= charCode && charCode <= 57343;
  }
  function computeCodePoint(highSurrogate, lowSurrogate) {
    return (highSurrogate - 55296 << 10) + (lowSurrogate - 56320) + 65536;
  }
  var UTF8_BOM_CHARACTER = String.fromCharCode(65279);
  var GraphemeBreakTree = class {
    constructor() {
      this._data = getGraphemeBreakRawData();
    }
    static getInstance() {
      if (!GraphemeBreakTree._INSTANCE) {
        GraphemeBreakTree._INSTANCE = new GraphemeBreakTree();
      }
      return GraphemeBreakTree._INSTANCE;
    }
    getGraphemeBreakType(codePoint) {
      if (codePoint < 32) {
        if (codePoint === 10) {
          return 3;
        }
        if (codePoint === 13) {
          return 2;
        }
        return 4;
      }
      if (codePoint < 127) {
        return 0;
      }
      const data = this._data;
      const nodeCount = data.length / 3;
      let nodeIndex = 1;
      while (nodeIndex <= nodeCount) {
        if (codePoint < data[3 * nodeIndex]) {
          nodeIndex = 2 * nodeIndex;
        } else if (codePoint > data[3 * nodeIndex + 1]) {
          nodeIndex = 2 * nodeIndex + 1;
        } else {
          return data[3 * nodeIndex + 2];
        }
      }
      return 0;
    }
  };
  GraphemeBreakTree._INSTANCE = null;
  function getGraphemeBreakRawData() {
    return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]");
  }

  // node_modules/monaco-editor/esm/vs/base/common/hash.js
  function numberHash(val, initialHashVal) {
    return (initialHashVal << 5) - initialHashVal + val | 0;
  }
  function stringHash(s, hashVal) {
    hashVal = numberHash(149417, hashVal);
    for (let i = 0, length = s.length; i < length; i++) {
      hashVal = numberHash(s.charCodeAt(i), hashVal);
    }
    return hashVal;
  }
  function leftRotate(value, bits, totalBits = 32) {
    const delta = totalBits - bits;
    const mask = ~((1 << delta) - 1);
    return (value << bits | (mask & value) >>> delta) >>> 0;
  }
  function fill(dest, index = 0, count = dest.byteLength, value = 0) {
    for (let i = 0; i < count; i++) {
      dest[index + i] = value;
    }
  }
  function leftPad(value, length, char = "0") {
    while (value.length < length) {
      value = char + value;
    }
    return value;
  }
  function toHexString(bufferOrValue, bitsize = 32) {
    if (bufferOrValue instanceof ArrayBuffer) {
      return Array.from(new Uint8Array(bufferOrValue)).map((b) => b.toString(16).padStart(2, "0")).join("");
    }
    return leftPad((bufferOrValue >>> 0).toString(16), bitsize / 4);
  }
  var StringSHA1 = class {
    constructor() {
      this._h0 = 1732584193;
      this._h1 = 4023233417;
      this._h2 = 2562383102;
      this._h3 = 271733878;
      this._h4 = 3285377520;
      this._buff = new Uint8Array(64 + 3);
      this._buffDV = new DataView(this._buff.buffer);
      this._buffLen = 0;
      this._totalLen = 0;
      this._leftoverHighSurrogate = 0;
      this._finished = false;
    }
    update(str) {
      const strLen = str.length;
      if (strLen === 0) {
        return;
      }
      const buff = this._buff;
      let buffLen = this._buffLen;
      let leftoverHighSurrogate = this._leftoverHighSurrogate;
      let charCode;
      let offset;
      if (leftoverHighSurrogate !== 0) {
        charCode = leftoverHighSurrogate;
        offset = -1;
        leftoverHighSurrogate = 0;
      } else {
        charCode = str.charCodeAt(0);
        offset = 0;
      }
      while (true) {
        let codePoint = charCode;
        if (isHighSurrogate(charCode)) {
          if (offset + 1 < strLen) {
            const nextCharCode = str.charCodeAt(offset + 1);
            if (isLowSurrogate(nextCharCode)) {
              offset++;
              codePoint = computeCodePoint(charCode, nextCharCode);
            } else {
              codePoint = 65533;
            }
          } else {
            leftoverHighSurrogate = charCode;
            break;
          }
        } else if (isLowSurrogate(charCode)) {
          codePoint = 65533;
        }
        buffLen = this._push(buff, buffLen, codePoint);
        offset++;
        if (offset < strLen) {
          charCode = str.charCodeAt(offset);
        } else {
          break;
        }
      }
      this._buffLen = buffLen;
      this._leftoverHighSurrogate = leftoverHighSurrogate;
    }
    _push(buff, buffLen, codePoint) {
      if (codePoint < 128) {
        buff[buffLen++] = codePoint;
      } else if (codePoint < 2048) {
        buff[buffLen++] = 192 | (codePoint & 1984) >>> 6;
        buff[buffLen++] = 128 | (codePoint & 63) >>> 0;
      } else if (codePoint < 65536) {
        buff[buffLen++] = 224 | (codePoint & 61440) >>> 12;
        buff[buffLen++] = 128 | (codePoint & 4032) >>> 6;
        buff[buffLen++] = 128 | (codePoint & 63) >>> 0;
      } else {
        buff[buffLen++] = 240 | (codePoint & 1835008) >>> 18;
        buff[buffLen++] = 128 | (codePoint & 258048) >>> 12;
        buff[buffLen++] = 128 | (codePoint & 4032) >>> 6;
        buff[buffLen++] = 128 | (codePoint & 63) >>> 0;
      }
      if (buffLen >= 64) {
        this._step();
        buffLen -= 64;
        this._totalLen += 64;
        buff[0] = buff[64 + 0];
        buff[1] = buff[64 + 1];
        buff[2] = buff[64 + 2];
      }
      return buffLen;
    }
    digest() {
      if (!this._finished) {
        this._finished = true;
        if (this._leftoverHighSurrogate) {
          this._leftoverHighSurrogate = 0;
          this._buffLen = this._push(this._buff, this._buffLen, 65533);
        }
        this._totalLen += this._buffLen;
        this._wrapUp();
      }
      return toHexString(this._h0) + toHexString(this._h1) + toHexString(this._h2) + toHexString(this._h3) + toHexString(this._h4);
    }
    _wrapUp() {
      this._buff[this._buffLen++] = 128;
      fill(this._buff, this._buffLen);
      if (this._buffLen > 56) {
        this._step();
        fill(this._buff);
      }
      const ml = 8 * this._totalLen;
      this._buffDV.setUint32(56, Math.floor(ml / 4294967296), false);
      this._buffDV.setUint32(60, ml % 4294967296, false);
      this._step();
    }
    _step() {
      const bigBlock32 = StringSHA1._bigBlock32;
      const data = this._buffDV;
      for (let j = 0; j < 64; j += 4) {
        bigBlock32.setUint32(j, data.getUint32(j, false), false);
      }
      for (let j = 64; j < 320; j += 4) {
        bigBlock32.setUint32(j, leftRotate(bigBlock32.getUint32(j - 12, false) ^ bigBlock32.getUint32(j - 32, false) ^ bigBlock32.getUint32(j - 56, false) ^ bigBlock32.getUint32(j - 64, false), 1), false);
      }
      let a2 = this._h0;
      let b = this._h1;
      let c = this._h2;
      let d = this._h3;
      let e = this._h4;
      let f2, k;
      let temp;
      for (let j = 0; j < 80; j++) {
        if (j < 20) {
          f2 = b & c | ~b & d;
          k = 1518500249;
        } else if (j < 40) {
          f2 = b ^ c ^ d;
          k = 1859775393;
        } else if (j < 60) {
          f2 = b & c | b & d | c & d;
          k = 2400959708;
        } else {
          f2 = b ^ c ^ d;
          k = 3395469782;
        }
        temp = leftRotate(a2, 5) + f2 + e + k + bigBlock32.getUint32(j * 4, false) & 4294967295;
        e = d;
        d = c;
        c = leftRotate(b, 30);
        b = a2;
        a2 = temp;
      }
      this._h0 = this._h0 + a2 & 4294967295;
      this._h1 = this._h1 + b & 4294967295;
      this._h2 = this._h2 + c & 4294967295;
      this._h3 = this._h3 + d & 4294967295;
      this._h4 = this._h4 + e & 4294967295;
    }
  };
  StringSHA1._bigBlock32 = new DataView(new ArrayBuffer(320));

  // node_modules/monaco-editor/esm/vs/base/common/diff/diff.js
  var StringDiffSequence = class {
    constructor(source) {
      this.source = source;
    }
    getElements() {
      const source = this.source;
      const characters = new Int32Array(source.length);
      for (let i = 0, len = source.length; i < len; i++) {
        characters[i] = source.charCodeAt(i);
      }
      return characters;
    }
  };
  function stringDiff(original, modified, pretty) {
    return new LcsDiff(new StringDiffSequence(original), new StringDiffSequence(modified)).ComputeDiff(pretty).changes;
  }
  var Debug = class {
    static Assert(condition, message) {
      if (!condition) {
        throw new Error(message);
      }
    }
  };
  var MyArray = class {
    static Copy(sourceArray, sourceIndex, destinationArray, destinationIndex, length) {
      for (let i = 0; i < length; i++) {
        destinationArray[destinationIndex + i] = sourceArray[sourceIndex + i];
      }
    }
    static Copy2(sourceArray, sourceIndex, destinationArray, destinationIndex, length) {
      for (let i = 0; i < length; i++) {
        destinationArray[destinationIndex + i] = sourceArray[sourceIndex + i];
      }
    }
  };
  var DiffChangeHelper = class {
    constructor() {
      this.m_changes = [];
      this.m_originalStart = 1073741824;
      this.m_modifiedStart = 1073741824;
      this.m_originalCount = 0;
      this.m_modifiedCount = 0;
    }
    MarkNextChange() {
      if (this.m_originalCount > 0 || this.m_modifiedCount > 0) {
        this.m_changes.push(new DiffChange(this.m_originalStart, this.m_originalCount, this.m_modifiedStart, this.m_modifiedCount));
      }
      this.m_originalCount = 0;
      this.m_modifiedCount = 0;
      this.m_originalStart = 1073741824;
      this.m_modifiedStart = 1073741824;
    }
    AddOriginalElement(originalIndex, modifiedIndex) {
      this.m_originalStart = Math.min(this.m_originalStart, originalIndex);
      this.m_modifiedStart = Math.min(this.m_modifiedStart, modifiedIndex);
      this.m_originalCount++;
    }
    AddModifiedElement(originalIndex, modifiedIndex) {
      this.m_originalStart = Math.min(this.m_originalStart, originalIndex);
      this.m_modifiedStart = Math.min(this.m_modifiedStart, modifiedIndex);
      this.m_modifiedCount++;
    }
    getChanges() {
      if (this.m_originalCount > 0 || this.m_modifiedCount > 0) {
        this.MarkNextChange();
      }
      return this.m_changes;
    }
    getReverseChanges() {
      if (this.m_originalCount > 0 || this.m_modifiedCount > 0) {
        this.MarkNextChange();
      }
      this.m_changes.reverse();
      return this.m_changes;
    }
  };
  var LcsDiff = class {
    constructor(originalSequence, modifiedSequence, continueProcessingPredicate = null) {
      this.ContinueProcessingPredicate = continueProcessingPredicate;
      const [originalStringElements, originalElementsOrHash, originalHasStrings] = LcsDiff._getElements(originalSequence);
      const [modifiedStringElements, modifiedElementsOrHash, modifiedHasStrings] = LcsDiff._getElements(modifiedSequence);
      this._hasStrings = originalHasStrings && modifiedHasStrings;
      this._originalStringElements = originalStringElements;
      this._originalElementsOrHash = originalElementsOrHash;
      this._modifiedStringElements = modifiedStringElements;
      this._modifiedElementsOrHash = modifiedElementsOrHash;
      this.m_forwardHistory = [];
      this.m_reverseHistory = [];
    }
    static _isStringArray(arr) {
      return arr.length > 0 && typeof arr[0] === "string";
    }
    static _getElements(sequence) {
      const elements = sequence.getElements();
      if (LcsDiff._isStringArray(elements)) {
        const hashes = new Int32Array(elements.length);
        for (let i = 0, len = elements.length; i < len; i++) {
          hashes[i] = stringHash(elements[i], 0);
        }
        return [elements, hashes, true];
      }
      if (elements instanceof Int32Array) {
        return [[], elements, false];
      }
      return [[], new Int32Array(elements), false];
    }
    ElementsAreEqual(originalIndex, newIndex) {
      if (this._originalElementsOrHash[originalIndex] !== this._modifiedElementsOrHash[newIndex]) {
        return false;
      }
      return this._hasStrings ? this._originalStringElements[originalIndex] === this._modifiedStringElements[newIndex] : true;
    }
    OriginalElementsAreEqual(index1, index2) {
      if (this._originalElementsOrHash[index1] !== this._originalElementsOrHash[index2]) {
        return false;
      }
      return this._hasStrings ? this._originalStringElements[index1] === this._originalStringElements[index2] : true;
    }
    ModifiedElementsAreEqual(index1, index2) {
      if (this._modifiedElementsOrHash[index1] !== this._modifiedElementsOrHash[index2]) {
        return false;
      }
      return this._hasStrings ? this._modifiedStringElements[index1] === this._modifiedStringElements[index2] : true;
    }
    ComputeDiff(pretty) {
      return this._ComputeDiff(0, this._originalElementsOrHash.length - 1, 0, this._modifiedElementsOrHash.length - 1, pretty);
    }
    _ComputeDiff(originalStart, originalEnd, modifiedStart, modifiedEnd, pretty) {
      const quitEarlyArr = [false];
      let changes = this.ComputeDiffRecursive(originalStart, originalEnd, modifiedStart, modifiedEnd, quitEarlyArr);
      if (pretty) {
        changes = this.PrettifyChanges(changes);
      }
      return {
        quitEarly: quitEarlyArr[0],
        changes
      };
    }
    ComputeDiffRecursive(originalStart, originalEnd, modifiedStart, modifiedEnd, quitEarlyArr) {
      quitEarlyArr[0] = false;
      while (originalStart <= originalEnd && modifiedStart <= modifiedEnd && this.ElementsAreEqual(originalStart, modifiedStart)) {
        originalStart++;
        modifiedStart++;
      }
      while (originalEnd >= originalStart && modifiedEnd >= modifiedStart && this.ElementsAreEqual(originalEnd, modifiedEnd)) {
        originalEnd--;
        modifiedEnd--;
      }
      if (originalStart > originalEnd || modifiedStart > modifiedEnd) {
        let changes;
        if (modifiedStart <= modifiedEnd) {
          Debug.Assert(originalStart === originalEnd + 1, "originalStart should only be one more than originalEnd");
          changes = [
            new DiffChange(originalStart, 0, modifiedStart, modifiedEnd - modifiedStart + 1)
          ];
        } else if (originalStart <= originalEnd) {
          Debug.Assert(modifiedStart === modifiedEnd + 1, "modifiedStart should only be one more than modifiedEnd");
          changes = [
            new DiffChange(originalStart, originalEnd - originalStart + 1, modifiedStart, 0)
          ];
        } else {
          Debug.Assert(originalStart === originalEnd + 1, "originalStart should only be one more than originalEnd");
          Debug.Assert(modifiedStart === modifiedEnd + 1, "modifiedStart should only be one more than modifiedEnd");
          changes = [];
        }
        return changes;
      }
      const midOriginalArr = [0];
      const midModifiedArr = [0];
      const result = this.ComputeRecursionPoint(originalStart, originalEnd, modifiedStart, modifiedEnd, midOriginalArr, midModifiedArr, quitEarlyArr);
      const midOriginal = midOriginalArr[0];
      const midModified = midModifiedArr[0];
      if (result !== null) {
        return result;
      } else if (!quitEarlyArr[0]) {
        const leftChanges = this.ComputeDiffRecursive(originalStart, midOriginal, modifiedStart, midModified, quitEarlyArr);
        let rightChanges = [];
        if (!quitEarlyArr[0]) {
          rightChanges = this.ComputeDiffRecursive(midOriginal + 1, originalEnd, midModified + 1, modifiedEnd, quitEarlyArr);
        } else {
          rightChanges = [
            new DiffChange(midOriginal + 1, originalEnd - (midOriginal + 1) + 1, midModified + 1, modifiedEnd - (midModified + 1) + 1)
          ];
        }
        return this.ConcatenateChanges(leftChanges, rightChanges);
      }
      return [
        new DiffChange(originalStart, originalEnd - originalStart + 1, modifiedStart, modifiedEnd - modifiedStart + 1)
      ];
    }
    WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr) {
      let forwardChanges = null;
      let reverseChanges = null;
      let changeHelper = new DiffChangeHelper();
      let diagonalMin = diagonalForwardStart;
      let diagonalMax = diagonalForwardEnd;
      let diagonalRelative = midOriginalArr[0] - midModifiedArr[0] - diagonalForwardOffset;
      let lastOriginalIndex = -1073741824;
      let historyIndex = this.m_forwardHistory.length - 1;
      do {
        const diagonal = diagonalRelative + diagonalForwardBase;
        if (diagonal === diagonalMin || diagonal < diagonalMax && forwardPoints[diagonal - 1] < forwardPoints[diagonal + 1]) {
          originalIndex = forwardPoints[diagonal + 1];
          modifiedIndex = originalIndex - diagonalRelative - diagonalForwardOffset;
          if (originalIndex < lastOriginalIndex) {
            changeHelper.MarkNextChange();
          }
          lastOriginalIndex = originalIndex;
          changeHelper.AddModifiedElement(originalIndex + 1, modifiedIndex);
          diagonalRelative = diagonal + 1 - diagonalForwardBase;
        } else {
          originalIndex = forwardPoints[diagonal - 1] + 1;
          modifiedIndex = originalIndex - diagonalRelative - diagonalForwardOffset;
          if (originalIndex < lastOriginalIndex) {
            changeHelper.MarkNextChange();
          }
          lastOriginalIndex = originalIndex - 1;
          changeHelper.AddOriginalElement(originalIndex, modifiedIndex + 1);
          diagonalRelative = diagonal - 1 - diagonalForwardBase;
        }
        if (historyIndex >= 0) {
          forwardPoints = this.m_forwardHistory[historyIndex];
          diagonalForwardBase = forwardPoints[0];
          diagonalMin = 1;
          diagonalMax = forwardPoints.length - 1;
        }
      } while (--historyIndex >= -1);
      forwardChanges = changeHelper.getReverseChanges();
      if (quitEarlyArr[0]) {
        let originalStartPoint = midOriginalArr[0] + 1;
        let modifiedStartPoint = midModifiedArr[0] + 1;
        if (forwardChanges !== null && forwardChanges.length > 0) {
          const lastForwardChange = forwardChanges[forwardChanges.length - 1];
          originalStartPoint = Math.max(originalStartPoint, lastForwardChange.getOriginalEnd());
          modifiedStartPoint = Math.max(modifiedStartPoint, lastForwardChange.getModifiedEnd());
        }
        reverseChanges = [
          new DiffChange(originalStartPoint, originalEnd - originalStartPoint + 1, modifiedStartPoint, modifiedEnd - modifiedStartPoint + 1)
        ];
      } else {
        changeHelper = new DiffChangeHelper();
        diagonalMin = diagonalReverseStart;
        diagonalMax = diagonalReverseEnd;
        diagonalRelative = midOriginalArr[0] - midModifiedArr[0] - diagonalReverseOffset;
        lastOriginalIndex = 1073741824;
        historyIndex = deltaIsEven ? this.m_reverseHistory.length - 1 : this.m_reverseHistory.length - 2;
        do {
          const diagonal = diagonalRelative + diagonalReverseBase;
          if (diagonal === diagonalMin || diagonal < diagonalMax && reversePoints[diagonal - 1] >= reversePoints[diagonal + 1]) {
            originalIndex = reversePoints[diagonal + 1] - 1;
            modifiedIndex = originalIndex - diagonalRelative - diagonalReverseOffset;
            if (originalIndex > lastOriginalIndex) {
              changeHelper.MarkNextChange();
            }
            lastOriginalIndex = originalIndex + 1;
            changeHelper.AddOriginalElement(originalIndex + 1, modifiedIndex + 1);
            diagonalRelative = diagonal + 1 - diagonalReverseBase;
          } else {
            originalIndex = reversePoints[diagonal - 1];
            modifiedIndex = originalIndex - diagonalRelative - diagonalReverseOffset;
            if (originalIndex > lastOriginalIndex) {
              changeHelper.MarkNextChange();
            }
            lastOriginalIndex = originalIndex;
            changeHelper.AddModifiedElement(originalIndex + 1, modifiedIndex + 1);
            diagonalRelative = diagonal - 1 - diagonalReverseBase;
          }
          if (historyIndex >= 0) {
            reversePoints = this.m_reverseHistory[historyIndex];
            diagonalReverseBase = reversePoints[0];
            diagonalMin = 1;
            diagonalMax = reversePoints.length - 1;
          }
        } while (--historyIndex >= -1);
        reverseChanges = changeHelper.getChanges();
      }
      return this.ConcatenateChanges(forwardChanges, reverseChanges);
    }
    ComputeRecursionPoint(originalStart, originalEnd, modifiedStart, modifiedEnd, midOriginalArr, midModifiedArr, quitEarlyArr) {
      let originalIndex = 0, modifiedIndex = 0;
      let diagonalForwardStart = 0, diagonalForwardEnd = 0;
      let diagonalReverseStart = 0, diagonalReverseEnd = 0;
      originalStart--;
      modifiedStart--;
      midOriginalArr[0] = 0;
      midModifiedArr[0] = 0;
      this.m_forwardHistory = [];
      this.m_reverseHistory = [];
      const maxDifferences = originalEnd - originalStart + (modifiedEnd - modifiedStart);
      const numDiagonals = maxDifferences + 1;
      const forwardPoints = new Int32Array(numDiagonals);
      const reversePoints = new Int32Array(numDiagonals);
      const diagonalForwardBase = modifiedEnd - modifiedStart;
      const diagonalReverseBase = originalEnd - originalStart;
      const diagonalForwardOffset = originalStart - modifiedStart;
      const diagonalReverseOffset = originalEnd - modifiedEnd;
      const delta = diagonalReverseBase - diagonalForwardBase;
      const deltaIsEven = delta % 2 === 0;
      forwardPoints[diagonalForwardBase] = originalStart;
      reversePoints[diagonalReverseBase] = originalEnd;
      quitEarlyArr[0] = false;
      for (let numDifferences = 1; numDifferences <= maxDifferences / 2 + 1; numDifferences++) {
        let furthestOriginalIndex = 0;
        let furthestModifiedIndex = 0;
        diagonalForwardStart = this.ClipDiagonalBound(diagonalForwardBase - numDifferences, numDifferences, diagonalForwardBase, numDiagonals);
        diagonalForwardEnd = this.ClipDiagonalBound(diagonalForwardBase + numDifferences, numDifferences, diagonalForwardBase, numDiagonals);
        for (let diagonal = diagonalForwardStart; diagonal <= diagonalForwardEnd; diagonal += 2) {
          if (diagonal === diagonalForwardStart || diagonal < diagonalForwardEnd && forwardPoints[diagonal - 1] < forwardPoints[diagonal + 1]) {
            originalIndex = forwardPoints[diagonal + 1];
          } else {
            originalIndex = forwardPoints[diagonal - 1] + 1;
          }
          modifiedIndex = originalIndex - (diagonal - diagonalForwardBase) - diagonalForwardOffset;
          const tempOriginalIndex = originalIndex;
          while (originalIndex < originalEnd && modifiedIndex < modifiedEnd && this.ElementsAreEqual(originalIndex + 1, modifiedIndex + 1)) {
            originalIndex++;
            modifiedIndex++;
          }
          forwardPoints[diagonal] = originalIndex;
          if (originalIndex + modifiedIndex > furthestOriginalIndex + furthestModifiedIndex) {
            furthestOriginalIndex = originalIndex;
            furthestModifiedIndex = modifiedIndex;
          }
          if (!deltaIsEven && Math.abs(diagonal - diagonalReverseBase) <= numDifferences - 1) {
            if (originalIndex >= reversePoints[diagonal]) {
              midOriginalArr[0] = originalIndex;
              midModifiedArr[0] = modifiedIndex;
              if (tempOriginalIndex <= reversePoints[diagonal] && 1447 > 0 && numDifferences <= 1447 + 1) {
                return this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr);
              } else {
                return null;
              }
            }
          }
        }
        const matchLengthOfLongest = (furthestOriginalIndex - originalStart + (furthestModifiedIndex - modifiedStart) - numDifferences) / 2;
        if (this.ContinueProcessingPredicate !== null && !this.ContinueProcessingPredicate(furthestOriginalIndex, matchLengthOfLongest)) {
          quitEarlyArr[0] = true;
          midOriginalArr[0] = furthestOriginalIndex;
          midModifiedArr[0] = furthestModifiedIndex;
          if (matchLengthOfLongest > 0 && 1447 > 0 && numDifferences <= 1447 + 1) {
            return this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr);
          } else {
            originalStart++;
            modifiedStart++;
            return [
              new DiffChange(originalStart, originalEnd - originalStart + 1, modifiedStart, modifiedEnd - modifiedStart + 1)
            ];
          }
        }
        diagonalReverseStart = this.ClipDiagonalBound(diagonalReverseBase - numDifferences, numDifferences, diagonalReverseBase, numDiagonals);
        diagonalReverseEnd = this.ClipDiagonalBound(diagonalReverseBase + numDifferences, numDifferences, diagonalReverseBase, numDiagonals);
        for (let diagonal = diagonalReverseStart; diagonal <= diagonalReverseEnd; diagonal += 2) {
          if (diagonal === diagonalReverseStart || diagonal < diagonalReverseEnd && reversePoints[diagonal - 1] >= reversePoints[diagonal + 1]) {
            originalIndex = reversePoints[diagonal + 1] - 1;
          } else {
            originalIndex = reversePoints[diagonal - 1];
          }
          modifiedIndex = originalIndex - (diagonal - diagonalReverseBase) - diagonalReverseOffset;
          const tempOriginalIndex = originalIndex;
          while (originalIndex > originalStart && modifiedIndex > modifiedStart && this.ElementsAreEqual(originalIndex, modifiedIndex)) {
            originalIndex--;
            modifiedIndex--;
          }
          reversePoints[diagonal] = originalIndex;
          if (deltaIsEven && Math.abs(diagonal - diagonalForwardBase) <= numDifferences) {
            if (originalIndex <= forwardPoints[diagonal]) {
              midOriginalArr[0] = originalIndex;
              midModifiedArr[0] = modifiedIndex;
              if (tempOriginalIndex >= forwardPoints[diagonal] && 1447 > 0 && numDifferences <= 1447 + 1) {
                return this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr);
              } else {
                return null;
              }
            }
          }
        }
        if (numDifferences <= 1447) {
          let temp = new Int32Array(diagonalForwardEnd - diagonalForwardStart + 2);
          temp[0] = diagonalForwardBase - diagonalForwardStart + 1;
          MyArray.Copy2(forwardPoints, diagonalForwardStart, temp, 1, diagonalForwardEnd - diagonalForwardStart + 1);
          this.m_forwardHistory.push(temp);
          temp = new Int32Array(diagonalReverseEnd - diagonalReverseStart + 2);
          temp[0] = diagonalReverseBase - diagonalReverseStart + 1;
          MyArray.Copy2(reversePoints, diagonalReverseStart, temp, 1, diagonalReverseEnd - diagonalReverseStart + 1);
          this.m_reverseHistory.push(temp);
        }
      }
      return this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr);
    }
    PrettifyChanges(changes) {
      for (let i = 0; i < changes.length; i++) {
        const change = changes[i];
        const originalStop = i < changes.length - 1 ? changes[i + 1].originalStart : this._originalElementsOrHash.length;
        const modifiedStop = i < changes.length - 1 ? changes[i + 1].modifiedStart : this._modifiedElementsOrHash.length;
        const checkOriginal = change.originalLength > 0;
        const checkModified = change.modifiedLength > 0;
        while (change.originalStart + change.originalLength < originalStop && change.modifiedStart + change.modifiedLength < modifiedStop && (!checkOriginal || this.OriginalElementsAreEqual(change.originalStart, change.originalStart + change.originalLength)) && (!checkModified || this.ModifiedElementsAreEqual(change.modifiedStart, change.modifiedStart + change.modifiedLength))) {
          change.originalStart++;
          change.modifiedStart++;
        }
        let mergedChangeArr = [null];
        if (i < changes.length - 1 && this.ChangesOverlap(changes[i], changes[i + 1], mergedChangeArr)) {
          changes[i] = mergedChangeArr[0];
          changes.splice(i + 1, 1);
          i--;
          continue;
        }
      }
      for (let i = changes.length - 1; i >= 0; i--) {
        const change = changes[i];
        let originalStop = 0;
        let modifiedStop = 0;
        if (i > 0) {
          const prevChange = changes[i - 1];
          originalStop = prevChange.originalStart + prevChange.originalLength;
          modifiedStop = prevChange.modifiedStart + prevChange.modifiedLength;
        }
        const checkOriginal = change.originalLength > 0;
        const checkModified = change.modifiedLength > 0;
        let bestDelta = 0;
        let bestScore = this._boundaryScore(change.originalStart, change.originalLength, change.modifiedStart, change.modifiedLength);
        for (let delta = 1; ; delta++) {
          const originalStart = change.originalStart - delta;
          const modifiedStart = change.modifiedStart - delta;
          if (originalStart < originalStop || modifiedStart < modifiedStop) {
            break;
          }
          if (checkOriginal && !this.OriginalElementsAreEqual(originalStart, originalStart + change.originalLength)) {
            break;
          }
          if (checkModified && !this.ModifiedElementsAreEqual(modifiedStart, modifiedStart + change.modifiedLength)) {
            break;
          }
          const touchingPreviousChange = originalStart === originalStop && modifiedStart === modifiedStop;
          const score = (touchingPreviousChange ? 5 : 0) + this._boundaryScore(originalStart, change.originalLength, modifiedStart, change.modifiedLength);
          if (score > bestScore) {
            bestScore = score;
            bestDelta = delta;
          }
        }
        change.originalStart -= bestDelta;
        change.modifiedStart -= bestDelta;
        const mergedChangeArr = [null];
        if (i > 0 && this.ChangesOverlap(changes[i - 1], changes[i], mergedChangeArr)) {
          changes[i - 1] = mergedChangeArr[0];
          changes.splice(i, 1);
          i++;
          continue;
        }
      }
      if (this._hasStrings) {
        for (let i = 1, len = changes.length; i < len; i++) {
          const aChange = changes[i - 1];
          const bChange = changes[i];
          const matchedLength = bChange.originalStart - aChange.originalStart - aChange.originalLength;
          const aOriginalStart = aChange.originalStart;
          const bOriginalEnd = bChange.originalStart + bChange.originalLength;
          const abOriginalLength = bOriginalEnd - aOriginalStart;
          const aModifiedStart = aChange.modifiedStart;
          const bModifiedEnd = bChange.modifiedStart + bChange.modifiedLength;
          const abModifiedLength = bModifiedEnd - aModifiedStart;
          if (matchedLength < 5 && abOriginalLength < 20 && abModifiedLength < 20) {
            const t = this._findBetterContiguousSequence(aOriginalStart, abOriginalLength, aModifiedStart, abModifiedLength, matchedLength);
            if (t) {
              const [originalMatchStart, modifiedMatchStart] = t;
              if (originalMatchStart !== aChange.originalStart + aChange.originalLength || modifiedMatchStart !== aChange.modifiedStart + aChange.modifiedLength) {
                aChange.originalLength = originalMatchStart - aChange.originalStart;
                aChange.modifiedLength = modifiedMatchStart - aChange.modifiedStart;
                bChange.originalStart = originalMatchStart + matchedLength;
                bChange.modifiedStart = modifiedMatchStart + matchedLength;
                bChange.originalLength = bOriginalEnd - bChange.originalStart;
                bChange.modifiedLength = bModifiedEnd - bChange.modifiedStart;
              }
            }
          }
        }
      }
      return changes;
    }
    _findBetterContiguousSequence(originalStart, originalLength, modifiedStart, modifiedLength, desiredLength) {
      if (originalLength < desiredLength || modifiedLength < desiredLength) {
        return null;
      }
      const originalMax = originalStart + originalLength - desiredLength + 1;
      const modifiedMax = modifiedStart + modifiedLength - desiredLength + 1;
      let bestScore = 0;
      let bestOriginalStart = 0;
      let bestModifiedStart = 0;
      for (let i = originalStart; i < originalMax; i++) {
        for (let j = modifiedStart; j < modifiedMax; j++) {
          const score = this._contiguousSequenceScore(i, j, desiredLength);
          if (score > 0 && score > bestScore) {
            bestScore = score;
            bestOriginalStart = i;
            bestModifiedStart = j;
          }
        }
      }
      if (bestScore > 0) {
        return [bestOriginalStart, bestModifiedStart];
      }
      return null;
    }
    _contiguousSequenceScore(originalStart, modifiedStart, length) {
      let score = 0;
      for (let l = 0; l < length; l++) {
        if (!this.ElementsAreEqual(originalStart + l, modifiedStart + l)) {
          return 0;
        }
        score += this._originalStringElements[originalStart + l].length;
      }
      return score;
    }
    _OriginalIsBoundary(index) {
      if (index <= 0 || index >= this._originalElementsOrHash.length - 1) {
        return true;
      }
      return this._hasStrings && /^\s*$/.test(this._originalStringElements[index]);
    }
    _OriginalRegionIsBoundary(originalStart, originalLength) {
      if (this._OriginalIsBoundary(originalStart) || this._OriginalIsBoundary(originalStart - 1)) {
        return true;
      }
      if (originalLength > 0) {
        const originalEnd = originalStart + originalLength;
        if (this._OriginalIsBoundary(originalEnd - 1) || this._OriginalIsBoundary(originalEnd)) {
          return true;
        }
      }
      return false;
    }
    _ModifiedIsBoundary(index) {
      if (index <= 0 || index >= this._modifiedElementsOrHash.length - 1) {
        return true;
      }
      return this._hasStrings && /^\s*$/.test(this._modifiedStringElements[index]);
    }
    _ModifiedRegionIsBoundary(modifiedStart, modifiedLength) {
      if (this._ModifiedIsBoundary(modifiedStart) || this._ModifiedIsBoundary(modifiedStart - 1)) {
        return true;
      }
      if (modifiedLength > 0) {
        const modifiedEnd = modifiedStart + modifiedLength;
        if (this._ModifiedIsBoundary(modifiedEnd - 1) || this._ModifiedIsBoundary(modifiedEnd)) {
          return true;
        }
      }
      return false;
    }
    _boundaryScore(originalStart, originalLength, modifiedStart, modifiedLength) {
      const originalScore = this._OriginalRegionIsBoundary(originalStart, originalLength) ? 1 : 0;
      const modifiedScore = this._ModifiedRegionIsBoundary(modifiedStart, modifiedLength) ? 1 : 0;
      return originalScore + modifiedScore;
    }
    ConcatenateChanges(left, right) {
      let mergedChangeArr = [];
      if (left.length === 0 || right.length === 0) {
        return right.length > 0 ? right : left;
      } else if (this.ChangesOverlap(left[left.length - 1], right[0], mergedChangeArr)) {
        const result = new Array(left.length + right.length - 1);
        MyArray.Copy(left, 0, result, 0, left.length - 1);
        result[left.length - 1] = mergedChangeArr[0];
        MyArray.Copy(right, 1, result, left.length, right.length - 1);
        return result;
      } else {
        const result = new Array(left.length + right.length);
        MyArray.Copy(left, 0, result, 0, left.length);
        MyArray.Copy(right, 0, result, left.length, right.length);
        return result;
      }
    }
    ChangesOverlap(left, right, mergedChangeArr) {
      Debug.Assert(left.originalStart <= right.originalStart, "Left change is not less than or equal to right change");
      Debug.Assert(left.modifiedStart <= right.modifiedStart, "Left change is not less than or equal to right change");
      if (left.originalStart + left.originalLength >= right.originalStart || left.modifiedStart + left.modifiedLength >= right.modifiedStart) {
        const originalStart = left.originalStart;
        let originalLength = left.originalLength;
        const modifiedStart = left.modifiedStart;
        let modifiedLength = left.modifiedLength;
        if (left.originalStart + left.originalLength >= right.originalStart) {
          originalLength = right.originalStart + right.originalLength - left.originalStart;
        }
        if (left.modifiedStart + left.modifiedLength >= right.modifiedStart) {
          modifiedLength = right.modifiedStart + right.modifiedLength - left.modifiedStart;
        }
        mergedChangeArr[0] = new DiffChange(originalStart, originalLength, modifiedStart, modifiedLength);
        return true;
      } else {
        mergedChangeArr[0] = null;
        return false;
      }
    }
    ClipDiagonalBound(diagonal, numDifferences, diagonalBaseIndex, numDiagonals) {
      if (diagonal >= 0 && diagonal < numDiagonals) {
        return diagonal;
      }
      const diagonalsBelow = diagonalBaseIndex;
      const diagonalsAbove = numDiagonals - diagonalBaseIndex - 1;
      const diffEven = numDifferences % 2 === 0;
      if (diagonal < 0) {
        const lowerBoundEven = diagonalsBelow % 2 === 0;
        return diffEven === lowerBoundEven ? 0 : 1;
      } else {
        const upperBoundEven = diagonalsAbove % 2 === 0;
        return diffEven === upperBoundEven ? numDiagonals - 1 : numDiagonals - 2;
      }
    }
  };

  // node_modules/monaco-editor/esm/vs/base/common/process.js
  var safeProcess;
  if (typeof globals.vscode !== "undefined" && typeof globals.vscode.process !== "undefined") {
    const sandboxProcess = globals.vscode.process;
    safeProcess = {
      get platform() {
        return sandboxProcess.platform;
      },
      get env() {
        return sandboxProcess.env;
      },
      cwd() {
        return sandboxProcess.cwd();
      },
      nextTick(callback) {
        return setImmediate(callback);
      }
    };
  } else if (typeof process !== "undefined") {
    safeProcess = {
      get platform() {
        return process.platform;
      },
      get env() {
        return process.env;
      },
      cwd() {
        return process.env["VSCODE_CWD"] || process.cwd();
      },
      nextTick(callback) {
        return process.nextTick(callback);
      }
    };
  } else {
    safeProcess = {
      get platform() {
        return isWindows ? "win32" : isMacintosh ? "darwin" : "linux";
      },
      nextTick(callback) {
        return setImmediate(callback);
      },
      get env() {
        return {};
      },
      cwd() {
        return "/";
      }
    };
  }
  var cwd = safeProcess.cwd;
  var env = safeProcess.env;
  var platform = safeProcess.platform;

  // node_modules/monaco-editor/esm/vs/base/common/path.js
  var CHAR_UPPERCASE_A = 65;
  var CHAR_LOWERCASE_A = 97;
  var CHAR_UPPERCASE_Z = 90;
  var CHAR_LOWERCASE_Z = 122;
  var CHAR_DOT = 46;
  var CHAR_FORWARD_SLASH = 47;
  var CHAR_BACKWARD_SLASH = 92;
  var CHAR_COLON = 58;
  var CHAR_QUESTION_MARK = 63;
  var ErrorInvalidArgType = class extends Error {
    constructor(name, expected, actual) {
      let determiner;
      if (typeof expected === "string" && expected.indexOf("not ") === 0) {
        determiner = "must not be";
        expected = expected.replace(/^not /, "");
      } else {
        determiner = "must be";
      }
      const type = name.indexOf(".") !== -1 ? "property" : "argument";
      let msg = `The "${name}" ${type} ${determiner} of type ${expected}`;
      msg += `. Received type ${typeof actual}`;
      super(msg);
      this.code = "ERR_INVALID_ARG_TYPE";
    }
  };
  function validateString(value, name) {
    if (typeof value !== "string") {
      throw new ErrorInvalidArgType(name, "string", value);
    }
  }
  function isPathSeparator(code) {
    return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;
  }
  function isPosixPathSeparator(code) {
    return code === CHAR_FORWARD_SLASH;
  }
  function isWindowsDeviceRoot(code) {
    return code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z || code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z;
  }
  function normalizeString(path, allowAboveRoot, separator, isPathSeparator2) {
    let res = "";
    let lastSegmentLength = 0;
    let lastSlash = -1;
    let dots = 0;
    let code = 0;
    for (let i = 0; i <= path.length; ++i) {
      if (i < path.length) {
        code = path.charCodeAt(i);
      } else if (isPathSeparator2(code)) {
        break;
      } else {
        code = CHAR_FORWARD_SLASH;
      }
      if (isPathSeparator2(code)) {
        if (lastSlash === i - 1 || dots === 1) {
        } else if (dots === 2) {
          if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== CHAR_DOT || res.charCodeAt(res.length - 2) !== CHAR_DOT) {
            if (res.length > 2) {
              const lastSlashIndex = res.lastIndexOf(separator);
              if (lastSlashIndex === -1) {
                res = "";
                lastSegmentLength = 0;
              } else {
                res = res.slice(0, lastSlashIndex);
                lastSegmentLength = res.length - 1 - res.lastIndexOf(separator);
              }
              lastSlash = i;
              dots = 0;
              continue;
            } else if (res.length !== 0) {
              res = "";
              lastSegmentLength = 0;
              lastSlash = i;
              dots = 0;
              continue;
            }
          }
          if (allowAboveRoot) {
            res += res.length > 0 ? `${separator}..` : "..";
            lastSegmentLength = 2;
          }
        } else {
          if (res.length > 0) {
            res += `${separator}${path.slice(lastSlash + 1, i)}`;
          } else {
            res = path.slice(lastSlash + 1, i);
          }
          lastSegmentLength = i - lastSlash - 1;
        }
        lastSlash = i;
        dots = 0;
      } else if (code === CHAR_DOT && dots !== -1) {
        ++dots;
      } else {
        dots = -1;
      }
    }
    return res;
  }
  function _format(sep2, pathObject) {
    if (pathObject === null || typeof pathObject !== "object") {
      throw new ErrorInvalidArgType("pathObject", "Object", pathObject);
    }
    const dir = pathObject.dir || pathObject.root;
    const base = pathObject.base || `${pathObject.name || ""}${pathObject.ext || ""}`;
    if (!dir) {
      return base;
    }
    return dir === pathObject.root ? `${dir}${base}` : `${dir}${sep2}${base}`;
  }
  var win32 = {
    resolve(...pathSegments) {
      let resolvedDevice = "";
      let resolvedTail = "";
      let resolvedAbsolute = false;
      for (let i = pathSegments.length - 1; i >= -1; i--) {
        let path;
        if (i >= 0) {
          path = pathSegments[i];
          validateString(path, "path");
          if (path.length === 0) {
            continue;
          }
        } else if (resolvedDevice.length === 0) {
          path = cwd();
        } else {
          path = env[`=${resolvedDevice}`] || cwd();
          if (path === void 0 || path.slice(0, 2).toLowerCase() !== resolvedDevice.toLowerCase() && path.charCodeAt(2) === CHAR_BACKWARD_SLASH) {
            path = `${resolvedDevice}\\`;
          }
        }
        const len = path.length;
        let rootEnd = 0;
        let device = "";
        let isAbsolute = false;
        const code = path.charCodeAt(0);
        if (len === 1) {
          if (isPathSeparator(code)) {
            rootEnd = 1;
            isAbsolute = true;
          }
        } else if (isPathSeparator(code)) {
          isAbsolute = true;
          if (isPathSeparator(path.charCodeAt(1))) {
            let j = 2;
            let last = j;
            while (j < len && !isPathSeparator(path.charCodeAt(j))) {
              j++;
            }
            if (j < len && j !== last) {
              const firstPart = path.slice(last, j);
              last = j;
              while (j < len && isPathSeparator(path.charCodeAt(j))) {
                j++;
              }
              if (j < len && j !== last) {
                last = j;
                while (j < len && !isPathSeparator(path.charCodeAt(j))) {
                  j++;
                }
                if (j === len || j !== last) {
                  device = `\\\\${firstPart}\\${path.slice(last, j)}`;
                  rootEnd = j;
                }
              }
            }
          } else {
            rootEnd = 1;
          }
        } else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {
          device = path.slice(0, 2);
          rootEnd = 2;
          if (len > 2 && isPathSeparator(path.charCodeAt(2))) {
            isAbsolute = true;
            rootEnd = 3;
          }
        }
        if (device.length > 0) {
          if (resolvedDevice.length > 0) {
            if (device.toLowerCase() !== resolvedDevice.toLowerCase()) {
              continue;
            }
          } else {
            resolvedDevice = device;
          }
        }
        if (resolvedAbsolute) {
          if (resolvedDevice.length > 0) {
            break;
          }
        } else {
          resolvedTail = `${path.slice(rootEnd)}\\${resolvedTail}`;
          resolvedAbsolute = isAbsolute;
          if (isAbsolute && resolvedDevice.length > 0) {
            break;
          }
        }
      }
      resolvedTail = normalizeString(resolvedTail, !resolvedAbsolute, "\\", isPathSeparator);
      return resolvedAbsolute ? `${resolvedDevice}\\${resolvedTail}` : `${resolvedDevice}${resolvedTail}` || ".";
    },
    normalize(path) {
      validateString(path, "path");
      const len = path.length;
      if (len === 0) {
        return ".";
      }
      let rootEnd = 0;
      let device;
      let isAbsolute = false;
      const code = path.charCodeAt(0);
      if (len === 1) {
        return isPosixPathSeparator(code) ? "\\" : path;
      }
      if (isPathSeparator(code)) {
        isAbsolute = true;
        if (isPathSeparator(path.charCodeAt(1))) {
          let j = 2;
          let last = j;
          while (j < len && !isPathSeparator(path.charCodeAt(j))) {
            j++;
          }
          if (j < len && j !== last) {
            const firstPart = path.slice(last, j);
            last = j;
            while (j < len && isPathSeparator(path.charCodeAt(j))) {
              j++;
            }
            if (j < len && j !== last) {
              last = j;
              while (j < len && !isPathSeparator(path.charCodeAt(j))) {
                j++;
              }
              if (j === len) {
                return `\\\\${firstPart}\\${path.slice(last)}\\`;
              }
              if (j !== last) {
                device = `\\\\${firstPart}\\${path.slice(last, j)}`;
                rootEnd = j;
              }
            }
          }
        } else {
          rootEnd = 1;
        }
      } else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {
        device = path.slice(0, 2);
        rootEnd = 2;
        if (len > 2 && isPathSeparator(path.charCodeAt(2))) {
          isAbsolute = true;
          rootEnd = 3;
        }
      }
      let tail = rootEnd < len ? normalizeString(path.slice(rootEnd), !isAbsolute, "\\", isPathSeparator) : "";
      if (tail.length === 0 && !isAbsolute) {
        tail = ".";
      }
      if (tail.length > 0 && isPathSeparator(path.charCodeAt(len - 1))) {
        tail += "\\";
      }
      if (device === void 0) {
        return isAbsolute ? `\\${tail}` : tail;
      }
      return isAbsolute ? `${device}\\${tail}` : `${device}${tail}`;
    },
    isAbsolute(path) {
      validateString(path, "path");
      const len = path.length;
      if (len === 0) {
        return false;
      }
      const code = path.charCodeAt(0);
      return isPathSeparator(code) || len > 2 && isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON && isPathSeparator(path.charCodeAt(2));
    },
    join(...paths2) {
      if (paths2.length === 0) {
        return ".";
      }
      let joined;
      let firstPart;
      for (let i = 0; i < paths2.length; ++i) {
        const arg = paths2[i];
        validateString(arg, "path");
        if (arg.length > 0) {
          if (joined === void 0) {
            joined = firstPart = arg;
          } else {
            joined += `\\${arg}`;
          }
        }
      }
      if (joined === void 0) {
        return ".";
      }
      let needsReplace = true;
      let slashCount = 0;
      if (typeof firstPart === "string" && isPathSeparator(firstPart.charCodeAt(0))) {
        ++slashCount;
        const firstLen = firstPart.length;
        if (firstLen > 1 && isPathSeparator(firstPart.charCodeAt(1))) {
          ++slashCount;
          if (firstLen > 2) {
            if (isPathSeparator(firstPart.charCodeAt(2))) {
              ++slashCount;
            } else {
              needsReplace = false;
            }
          }
        }
      }
      if (needsReplace) {
        while (slashCount < joined.length && isPathSeparator(joined.charCodeAt(slashCount))) {
          slashCount++;
        }
        if (slashCount >= 2) {
          joined = `\\${joined.slice(slashCount)}`;
        }
      }
      return win32.normalize(joined);
    },
    relative(from, to) {
      validateString(from, "from");
      validateString(to, "to");
      if (from === to) {
        return "";
      }
      const fromOrig = win32.resolve(from);
      const toOrig = win32.resolve(to);
      if (fromOrig === toOrig) {
        return "";
      }
      from = fromOrig.toLowerCase();
      to = toOrig.toLowerCase();
      if (from === to) {
        return "";
      }
      let fromStart = 0;
      while (fromStart < from.length && from.charCodeAt(fromStart) === CHAR_BACKWARD_SLASH) {
        fromStart++;
      }
      let fromEnd = from.length;
      while (fromEnd - 1 > fromStart && from.charCodeAt(fromEnd - 1) === CHAR_BACKWARD_SLASH) {
        fromEnd--;
      }
      const fromLen = fromEnd - fromStart;
      let toStart = 0;
      while (toStart < to.length && to.charCodeAt(toStart) === CHAR_BACKWARD_SLASH) {
        toStart++;
      }
      let toEnd = to.length;
      while (toEnd - 1 > toStart && to.charCodeAt(toEnd - 1) === CHAR_BACKWARD_SLASH) {
        toEnd--;
      }
      const toLen = toEnd - toStart;
      const length = fromLen < toLen ? fromLen : toLen;
      let lastCommonSep = -1;
      let i = 0;
      for (; i < length; i++) {
        const fromCode = from.charCodeAt(fromStart + i);
        if (fromCode !== to.charCodeAt(toStart + i)) {
          break;
        } else if (fromCode === CHAR_BACKWARD_SLASH) {
          lastCommonSep = i;
        }
      }
      if (i !== length) {
        if (lastCommonSep === -1) {
          return toOrig;
        }
      } else {
        if (toLen > length) {
          if (to.charCodeAt(toStart + i) === CHAR_BACKWARD_SLASH) {
            return toOrig.slice(toStart + i + 1);
          }
          if (i === 2) {
            return toOrig.slice(toStart + i);
          }
        }
        if (fromLen > length) {
          if (from.charCodeAt(fromStart + i) === CHAR_BACKWARD_SLASH) {
            lastCommonSep = i;
          } else if (i === 2) {
            lastCommonSep = 3;
          }
        }
        if (lastCommonSep === -1) {
          lastCommonSep = 0;
        }
      }
      let out = "";
      for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {
        if (i === fromEnd || from.charCodeAt(i) === CHAR_BACKWARD_SLASH) {
          out += out.length === 0 ? ".." : "\\..";
        }
      }
      toStart += lastCommonSep;
      if (out.length > 0) {
        return `${out}${toOrig.slice(toStart, toEnd)}`;
      }
      if (toOrig.charCodeAt(toStart) === CHAR_BACKWARD_SLASH) {
        ++toStart;
      }
      return toOrig.slice(toStart, toEnd);
    },
    toNamespacedPath(path) {
      if (typeof path !== "string") {
        return path;
      }
      if (path.length === 0) {
        return "";
      }
      const resolvedPath = win32.resolve(path);
      if (resolvedPath.length <= 2) {
        return path;
      }
      if (resolvedPath.charCodeAt(0) === CHAR_BACKWARD_SLASH) {
        if (resolvedPath.charCodeAt(1) === CHAR_BACKWARD_SLASH) {
          const code = resolvedPath.charCodeAt(2);
          if (code !== CHAR_QUESTION_MARK && code !== CHAR_DOT) {
            return `\\\\?\\UNC\\${resolvedPath.slice(2)}`;
          }
        }
      } else if (isWindowsDeviceRoot(resolvedPath.charCodeAt(0)) && resolvedPath.charCodeAt(1) === CHAR_COLON && resolvedPath.charCodeAt(2) === CHAR_BACKWARD_SLASH) {
        return `\\\\?\\${resolvedPath}`;
      }
      return path;
    },
    dirname(path) {
      validateString(path, "path");
      const len = path.length;
      if (len === 0) {
        return ".";
      }
      let rootEnd = -1;
      let offset = 0;
      const code = path.charCodeAt(0);
      if (len === 1) {
        return isPathSeparator(code) ? path : ".";
      }
      if (isPathSeparator(code)) {
        rootEnd = offset = 1;
        if (isPathSeparator(path.charCodeAt(1))) {
          let j = 2;
          let last = j;
          while (j < len && !isPathSeparator(path.charCodeAt(j))) {
            j++;
          }
          if (j < len && j !== last) {
            last = j;
            while (j < len && isPathSeparator(path.charCodeAt(j))) {
              j++;
            }
            if (j < len && j !== last) {
              last = j;
              while (j < len && !isPathSeparator(path.charCodeAt(j))) {
                j++;
              }
              if (j === len) {
                return path;
              }
              if (j !== last) {
                rootEnd = offset = j + 1;
              }
            }
          }
        }
      } else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {
        rootEnd = len > 2 && isPathSeparator(path.charCodeAt(2)) ? 3 : 2;
        offset = rootEnd;
      }
      let end = -1;
      let matchedSlash = true;
      for (let i = len - 1; i >= offset; --i) {
        if (isPathSeparator(path.charCodeAt(i))) {
          if (!matchedSlash) {
            end = i;
            break;
          }
        } else {
          matchedSlash = false;
        }
      }
      if (end === -1) {
        if (rootEnd === -1) {
          return ".";
        }
        end = rootEnd;
      }
      return path.slice(0, end);
    },
    basename(path, ext) {
      if (ext !== void 0) {
        validateString(ext, "ext");
      }
      validateString(path, "path");
      let start = 0;
      let end = -1;
      let matchedSlash = true;
      let i;
      if (path.length >= 2 && isWindowsDeviceRoot(path.charCodeAt(0)) && path.charCodeAt(1) === CHAR_COLON) {
        start = 2;
      }
      if (ext !== void 0 && ext.length > 0 && ext.length <= path.length) {
        if (ext === path) {
          return "";
        }
        let extIdx = ext.length - 1;
        let firstNonSlashEnd = -1;
        for (i = path.length - 1; i >= start; --i) {
          const code = path.charCodeAt(i);
          if (isPathSeparator(code)) {
            if (!matchedSlash) {
              start = i + 1;
              break;
            }
          } else {
            if (firstNonSlashEnd === -1) {
              matchedSlash = false;
              firstNonSlashEnd = i + 1;
            }
            if (extIdx >= 0) {
              if (code === ext.charCodeAt(extIdx)) {
                if (--extIdx === -1) {
                  end = i;
                }
              } else {
                extIdx = -1;
                end = firstNonSlashEnd;
              }
            }
          }
        }
        if (start === end) {
          end = firstNonSlashEnd;
        } else if (end === -1) {
          end = path.length;
        }
        return path.slice(start, end);
      }
      for (i = path.length - 1; i >= start; --i) {
        if (isPathSeparator(path.charCodeAt(i))) {
          if (!matchedSlash) {
            start = i + 1;
            break;
          }
        } else if (end === -1) {
          matchedSlash = false;
          end = i + 1;
        }
      }
      if (end === -1) {
        return "";
      }
      return path.slice(start, end);
    },
    extname(path) {
      validateString(path, "path");
      let start = 0;
      let startDot = -1;
      let startPart = 0;
      let end = -1;
      let matchedSlash = true;
      let preDotState = 0;
      if (path.length >= 2 && path.charCodeAt(1) === CHAR_COLON && isWindowsDeviceRoot(path.charCodeAt(0))) {
        start = startPart = 2;
      }
      for (let i = path.length - 1; i >= start; --i) {
        const code = path.charCodeAt(i);
        if (isPathSeparator(code)) {
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
        if (end === -1) {
          matchedSlash = false;
          end = i + 1;
        }
        if (code === CHAR_DOT) {
          if (startDot === -1) {
            startDot = i;
          } else if (preDotState !== 1) {
            preDotState = 1;
          }
        } else if (startDot !== -1) {
          preDotState = -1;
        }
      }
      if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
        return "";
      }
      return path.slice(startDot, end);
    },
    format: _format.bind(null, "\\"),
    parse(path) {
      validateString(path, "path");
      const ret = {root: "", dir: "", base: "", ext: "", name: ""};
      if (path.length === 0) {
        return ret;
      }
      const len = path.length;
      let rootEnd = 0;
      let code = path.charCodeAt(0);
      if (len === 1) {
        if (isPathSeparator(code)) {
          ret.root = ret.dir = path;
          return ret;
        }
        ret.base = ret.name = path;
        return ret;
      }
      if (isPathSeparator(code)) {
        rootEnd = 1;
        if (isPathSeparator(path.charCodeAt(1))) {
          let j = 2;
          let last = j;
          while (j < len && !isPathSeparator(path.charCodeAt(j))) {
            j++;
          }
          if (j < len && j !== last) {
            last = j;
            while (j < len && isPathSeparator(path.charCodeAt(j))) {
              j++;
            }
            if (j < len && j !== last) {
              last = j;
              while (j < len && !isPathSeparator(path.charCodeAt(j))) {
                j++;
              }
              if (j === len) {
                rootEnd = j;
              } else if (j !== last) {
                rootEnd = j + 1;
              }
            }
          }
        }
      } else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {
        if (len <= 2) {
          ret.root = ret.dir = path;
          return ret;
        }
        rootEnd = 2;
        if (isPathSeparator(path.charCodeAt(2))) {
          if (len === 3) {
            ret.root = ret.dir = path;
            return ret;
          }
          rootEnd = 3;
        }
      }
      if (rootEnd > 0) {
        ret.root = path.slice(0, rootEnd);
      }
      let startDot = -1;
      let startPart = rootEnd;
      let end = -1;
      let matchedSlash = true;
      let i = path.length - 1;
      let preDotState = 0;
      for (; i >= rootEnd; --i) {
        code = path.charCodeAt(i);
        if (isPathSeparator(code)) {
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
        if (end === -1) {
          matchedSlash = false;
          end = i + 1;
        }
        if (code === CHAR_DOT) {
          if (startDot === -1) {
            startDot = i;
          } else if (preDotState !== 1) {
            preDotState = 1;
          }
        } else if (startDot !== -1) {
          preDotState = -1;
        }
      }
      if (end !== -1) {
        if (startDot === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
          ret.base = ret.name = path.slice(startPart, end);
        } else {
          ret.name = path.slice(startPart, startDot);
          ret.base = path.slice(startPart, end);
          ret.ext = path.slice(startDot, end);
        }
      }
      if (startPart > 0 && startPart !== rootEnd) {
        ret.dir = path.slice(0, startPart - 1);
      } else {
        ret.dir = ret.root;
      }
      return ret;
    },
    sep: "\\",
    delimiter: ";",
    win32: null,
    posix: null
  };
  var posix = {
    resolve(...pathSegments) {
      let resolvedPath = "";
      let resolvedAbsolute = false;
      for (let i = pathSegments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
        const path = i >= 0 ? pathSegments[i] : cwd();
        validateString(path, "path");
        if (path.length === 0) {
          continue;
        }
        resolvedPath = `${path}/${resolvedPath}`;
        resolvedAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;
      }
      resolvedPath = normalizeString(resolvedPath, !resolvedAbsolute, "/", isPosixPathSeparator);
      if (resolvedAbsolute) {
        return `/${resolvedPath}`;
      }
      return resolvedPath.length > 0 ? resolvedPath : ".";
    },
    normalize(path) {
      validateString(path, "path");
      if (path.length === 0) {
        return ".";
      }
      const isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;
      const trailingSeparator = path.charCodeAt(path.length - 1) === CHAR_FORWARD_SLASH;
      path = normalizeString(path, !isAbsolute, "/", isPosixPathSeparator);
      if (path.length === 0) {
        if (isAbsolute) {
          return "/";
        }
        return trailingSeparator ? "./" : ".";
      }
      if (trailingSeparator) {
        path += "/";
      }
      return isAbsolute ? `/${path}` : path;
    },
    isAbsolute(path) {
      validateString(path, "path");
      return path.length > 0 && path.charCodeAt(0) === CHAR_FORWARD_SLASH;
    },
    join(...paths2) {
      if (paths2.length === 0) {
        return ".";
      }
      let joined;
      for (let i = 0; i < paths2.length; ++i) {
        const arg = paths2[i];
        validateString(arg, "path");
        if (arg.length > 0) {
          if (joined === void 0) {
            joined = arg;
          } else {
            joined += `/${arg}`;
          }
        }
      }
      if (joined === void 0) {
        return ".";
      }
      return posix.normalize(joined);
    },
    relative(from, to) {
      validateString(from, "from");
      validateString(to, "to");
      if (from === to) {
        return "";
      }
      from = posix.resolve(from);
      to = posix.resolve(to);
      if (from === to) {
        return "";
      }
      const fromStart = 1;
      const fromEnd = from.length;
      const fromLen = fromEnd - fromStart;
      const toStart = 1;
      const toLen = to.length - toStart;
      const length = fromLen < toLen ? fromLen : toLen;
      let lastCommonSep = -1;
      let i = 0;
      for (; i < length; i++) {
        const fromCode = from.charCodeAt(fromStart + i);
        if (fromCode !== to.charCodeAt(toStart + i)) {
          break;
        } else if (fromCode === CHAR_FORWARD_SLASH) {
          lastCommonSep = i;
        }
      }
      if (i === length) {
        if (toLen > length) {
          if (to.charCodeAt(toStart + i) === CHAR_FORWARD_SLASH) {
            return to.slice(toStart + i + 1);
          }
          if (i === 0) {
            return to.slice(toStart + i);
          }
        } else if (fromLen > length) {
          if (from.charCodeAt(fromStart + i) === CHAR_FORWARD_SLASH) {
            lastCommonSep = i;
          } else if (i === 0) {
            lastCommonSep = 0;
          }
        }
      }
      let out = "";
      for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {
        if (i === fromEnd || from.charCodeAt(i) === CHAR_FORWARD_SLASH) {
          out += out.length === 0 ? ".." : "/..";
        }
      }
      return `${out}${to.slice(toStart + lastCommonSep)}`;
    },
    toNamespacedPath(path) {
      return path;
    },
    dirname(path) {
      validateString(path, "path");
      if (path.length === 0) {
        return ".";
      }
      const hasRoot = path.charCodeAt(0) === CHAR_FORWARD_SLASH;
      let end = -1;
      let matchedSlash = true;
      for (let i = path.length - 1; i >= 1; --i) {
        if (path.charCodeAt(i) === CHAR_FORWARD_SLASH) {
          if (!matchedSlash) {
            end = i;
            break;
          }
        } else {
          matchedSlash = false;
        }
      }
      if (end === -1) {
        return hasRoot ? "/" : ".";
      }
      if (hasRoot && end === 1) {
        return "//";
      }
      return path.slice(0, end);
    },
    basename(path, ext) {
      if (ext !== void 0) {
        validateString(ext, "ext");
      }
      validateString(path, "path");
      let start = 0;
      let end = -1;
      let matchedSlash = true;
      let i;
      if (ext !== void 0 && ext.length > 0 && ext.length <= path.length) {
        if (ext === path) {
          return "";
        }
        let extIdx = ext.length - 1;
        let firstNonSlashEnd = -1;
        for (i = path.length - 1; i >= 0; --i) {
          const code = path.charCodeAt(i);
          if (code === CHAR_FORWARD_SLASH) {
            if (!matchedSlash) {
              start = i + 1;
              break;
            }
          } else {
            if (firstNonSlashEnd === -1) {
              matchedSlash = false;
              firstNonSlashEnd = i + 1;
            }
            if (extIdx >= 0) {
              if (code === ext.charCodeAt(extIdx)) {
                if (--extIdx === -1) {
                  end = i;
                }
              } else {
                extIdx = -1;
                end = firstNonSlashEnd;
              }
            }
          }
        }
        if (start === end) {
          end = firstNonSlashEnd;
        } else if (end === -1) {
          end = path.length;
        }
        return path.slice(start, end);
      }
      for (i = path.length - 1; i >= 0; --i) {
        if (path.charCodeAt(i) === CHAR_FORWARD_SLASH) {
          if (!matchedSlash) {
            start = i + 1;
            break;
          }
        } else if (end === -1) {
          matchedSlash = false;
          end = i + 1;
        }
      }
      if (end === -1) {
        return "";
      }
      return path.slice(start, end);
    },
    extname(path) {
      validateString(path, "path");
      let startDot = -1;
      let startPart = 0;
      let end = -1;
      let matchedSlash = true;
      let preDotState = 0;
      for (let i = path.length - 1; i >= 0; --i) {
        const code = path.charCodeAt(i);
        if (code === CHAR_FORWARD_SLASH) {
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
        if (end === -1) {
          matchedSlash = false;
          end = i + 1;
        }
        if (code === CHAR_DOT) {
          if (startDot === -1) {
            startDot = i;
          } else if (preDotState !== 1) {
            preDotState = 1;
          }
        } else if (startDot !== -1) {
          preDotState = -1;
        }
      }
      if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
        return "";
      }
      return path.slice(startDot, end);
    },
    format: _format.bind(null, "/"),
    parse(path) {
      validateString(path, "path");
      const ret = {root: "", dir: "", base: "", ext: "", name: ""};
      if (path.length === 0) {
        return ret;
      }
      const isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;
      let start;
      if (isAbsolute) {
        ret.root = "/";
        start = 1;
      } else {
        start = 0;
      }
      let startDot = -1;
      let startPart = 0;
      let end = -1;
      let matchedSlash = true;
      let i = path.length - 1;
      let preDotState = 0;
      for (; i >= start; --i) {
        const code = path.charCodeAt(i);
        if (code === CHAR_FORWARD_SLASH) {
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
        if (end === -1) {
          matchedSlash = false;
          end = i + 1;
        }
        if (code === CHAR_DOT) {
          if (startDot === -1) {
            startDot = i;
          } else if (preDotState !== 1) {
            preDotState = 1;
          }
        } else if (startDot !== -1) {
          preDotState = -1;
        }
      }
      if (end !== -1) {
        const start2 = startPart === 0 && isAbsolute ? 1 : startPart;
        if (startDot === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
          ret.base = ret.name = path.slice(start2, end);
        } else {
          ret.name = path.slice(start2, startDot);
          ret.base = path.slice(start2, end);
          ret.ext = path.slice(startDot, end);
        }
      }
      if (startPart > 0) {
        ret.dir = path.slice(0, startPart - 1);
      } else if (isAbsolute) {
        ret.dir = "/";
      }
      return ret;
    },
    sep: "/",
    delimiter: ":",
    win32: null,
    posix: null
  };
  posix.win32 = win32.win32 = win32;
  posix.posix = win32.posix = posix;
  var normalize = platform === "win32" ? win32.normalize : posix.normalize;
  var resolve = platform === "win32" ? win32.resolve : posix.resolve;
  var relative = platform === "win32" ? win32.relative : posix.relative;
  var dirname = platform === "win32" ? win32.dirname : posix.dirname;
  var basename = platform === "win32" ? win32.basename : posix.basename;
  var extname = platform === "win32" ? win32.extname : posix.extname;
  var sep = platform === "win32" ? win32.sep : posix.sep;

  // node_modules/monaco-editor/esm/vs/base/common/uri.js
  var _schemePattern = /^\w[\w\d+.-]*$/;
  var _singleSlashStart = /^\//;
  var _doubleSlashStart = /^\/\//;
  function _validateUri(ret, _strict) {
    if (!ret.scheme && _strict) {
      throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${ret.authority}", path: "${ret.path}", query: "${ret.query}", fragment: "${ret.fragment}"}`);
    }
    if (ret.scheme && !_schemePattern.test(ret.scheme)) {
      throw new Error("[UriError]: Scheme contains illegal characters.");
    }
    if (ret.path) {
      if (ret.authority) {
        if (!_singleSlashStart.test(ret.path)) {
          throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character');
        }
      } else {
        if (_doubleSlashStart.test(ret.path)) {
          throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")');
        }
      }
    }
  }
  function _schemeFix(scheme, _strict) {
    if (!scheme && !_strict) {
      return "file";
    }
    return scheme;
  }
  function _referenceResolution(scheme, path) {
    switch (scheme) {
      case "https":
      case "http":
      case "file":
        if (!path) {
          path = _slash;
        } else if (path[0] !== _slash) {
          path = _slash + path;
        }
        break;
    }
    return path;
  }
  var _empty = "";
  var _slash = "/";
  var _regexp = /^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;
  var URI = class {
    constructor(schemeOrData, authority, path, query, fragment, _strict = false) {
      if (typeof schemeOrData === "object") {
        this.scheme = schemeOrData.scheme || _empty;
        this.authority = schemeOrData.authority || _empty;
        this.path = schemeOrData.path || _empty;
        this.query = schemeOrData.query || _empty;
        this.fragment = schemeOrData.fragment || _empty;
      } else {
        this.scheme = _schemeFix(schemeOrData, _strict);
        this.authority = authority || _empty;
        this.path = _referenceResolution(this.scheme, path || _empty);
        this.query = query || _empty;
        this.fragment = fragment || _empty;
        _validateUri(this, _strict);
      }
    }
    static isUri(thing) {
      if (thing instanceof URI) {
        return true;
      }
      if (!thing) {
        return false;
      }
      return typeof thing.authority === "string" && typeof thing.fragment === "string" && typeof thing.path === "string" && typeof thing.query === "string" && typeof thing.scheme === "string" && typeof thing.fsPath === "string" && typeof thing.with === "function" && typeof thing.toString === "function";
    }
    get fsPath() {
      return uriToFsPath(this, false);
    }
    with(change) {
      if (!change) {
        return this;
      }
      let {scheme, authority, path, query, fragment} = change;
      if (scheme === void 0) {
        scheme = this.scheme;
      } else if (scheme === null) {
        scheme = _empty;
      }
      if (authority === void 0) {
        authority = this.authority;
      } else if (authority === null) {
        authority = _empty;
      }
      if (path === void 0) {
        path = this.path;
      } else if (path === null) {
        path = _empty;
      }
      if (query === void 0) {
        query = this.query;
      } else if (query === null) {
        query = _empty;
      }
      if (fragment === void 0) {
        fragment = this.fragment;
      } else if (fragment === null) {
        fragment = _empty;
      }
      if (scheme === this.scheme && authority === this.authority && path === this.path && query === this.query && fragment === this.fragment) {
        return this;
      }
      return new Uri(scheme, authority, path, query, fragment);
    }
    static parse(value, _strict = false) {
      const match = _regexp.exec(value);
      if (!match) {
        return new Uri(_empty, _empty, _empty, _empty, _empty);
      }
      return new Uri(match[2] || _empty, percentDecode(match[4] || _empty), percentDecode(match[5] || _empty), percentDecode(match[7] || _empty), percentDecode(match[9] || _empty), _strict);
    }
    static file(path) {
      let authority = _empty;
      if (isWindows) {
        path = path.replace(/\\/g, _slash);
      }
      if (path[0] === _slash && path[1] === _slash) {
        const idx = path.indexOf(_slash, 2);
        if (idx === -1) {
          authority = path.substring(2);
          path = _slash;
        } else {
          authority = path.substring(2, idx);
          path = path.substring(idx) || _slash;
        }
      }
      return new Uri("file", authority, path, _empty, _empty);
    }
    static from(components) {
      const result = new Uri(components.scheme, components.authority, components.path, components.query, components.fragment);
      _validateUri(result, true);
      return result;
    }
    static joinPath(uri, ...pathFragment) {
      if (!uri.path) {
        throw new Error(`[UriError]: cannot call joinPath on URI without path`);
      }
      let newPath;
      if (isWindows && uri.scheme === "file") {
        newPath = URI.file(win32.join(uriToFsPath(uri, true), ...pathFragment)).path;
      } else {
        newPath = posix.join(uri.path, ...pathFragment);
      }
      return uri.with({path: newPath});
    }
    toString(skipEncoding = false) {
      return _asFormatted(this, skipEncoding);
    }
    toJSON() {
      return this;
    }
    static revive(data) {
      if (!data) {
        return data;
      } else if (data instanceof URI) {
        return data;
      } else {
        const result = new Uri(data);
        result._formatted = data.external;
        result._fsPath = data._sep === _pathSepMarker ? data.fsPath : null;
        return result;
      }
    }
  };
  var _pathSepMarker = isWindows ? 1 : void 0;
  var Uri = class extends URI {
    constructor() {
      super(...arguments);
      this._formatted = null;
      this._fsPath = null;
    }
    get fsPath() {
      if (!this._fsPath) {
        this._fsPath = uriToFsPath(this, false);
      }
      return this._fsPath;
    }
    toString(skipEncoding = false) {
      if (!skipEncoding) {
        if (!this._formatted) {
          this._formatted = _asFormatted(this, false);
        }
        return this._formatted;
      } else {
        return _asFormatted(this, true);
      }
    }
    toJSON() {
      const res = {
        $mid: 1
      };
      if (this._fsPath) {
        res.fsPath = this._fsPath;
        res._sep = _pathSepMarker;
      }
      if (this._formatted) {
        res.external = this._formatted;
      }
      if (this.path) {
        res.path = this.path;
      }
      if (this.scheme) {
        res.scheme = this.scheme;
      }
      if (this.authority) {
        res.authority = this.authority;
      }
      if (this.query) {
        res.query = this.query;
      }
      if (this.fragment) {
        res.fragment = this.fragment;
      }
      return res;
    }
  };
  var encodeTable = {
    [58]: "%3A",
    [47]: "%2F",
    [63]: "%3F",
    [35]: "%23",
    [91]: "%5B",
    [93]: "%5D",
    [64]: "%40",
    [33]: "%21",
    [36]: "%24",
    [38]: "%26",
    [39]: "%27",
    [40]: "%28",
    [41]: "%29",
    [42]: "%2A",
    [43]: "%2B",
    [44]: "%2C",
    [59]: "%3B",
    [61]: "%3D",
    [32]: "%20"
  };
  function encodeURIComponentFast(uriComponent, allowSlash) {
    let res = void 0;
    let nativeEncodePos = -1;
    for (let pos = 0; pos < uriComponent.length; pos++) {
      const code = uriComponent.charCodeAt(pos);
      if (code >= 97 && code <= 122 || code >= 65 && code <= 90 || code >= 48 && code <= 57 || code === 45 || code === 46 || code === 95 || code === 126 || allowSlash && code === 47) {
        if (nativeEncodePos !== -1) {
          res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));
          nativeEncodePos = -1;
        }
        if (res !== void 0) {
          res += uriComponent.charAt(pos);
        }
      } else {
        if (res === void 0) {
          res = uriComponent.substr(0, pos);
        }
        const escaped = encodeTable[code];
        if (escaped !== void 0) {
          if (nativeEncodePos !== -1) {
            res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));
            nativeEncodePos = -1;
          }
          res += escaped;
        } else if (nativeEncodePos === -1) {
          nativeEncodePos = pos;
        }
      }
    }
    if (nativeEncodePos !== -1) {
      res += encodeURIComponent(uriComponent.substring(nativeEncodePos));
    }
    return res !== void 0 ? res : uriComponent;
  }
  function encodeURIComponentMinimal(path) {
    let res = void 0;
    for (let pos = 0; pos < path.length; pos++) {
      const code = path.charCodeAt(pos);
      if (code === 35 || code === 63) {
        if (res === void 0) {
          res = path.substr(0, pos);
        }
        res += encodeTable[code];
      } else {
        if (res !== void 0) {
          res += path[pos];
        }
      }
    }
    return res !== void 0 ? res : path;
  }
  function uriToFsPath(uri, keepDriveLetterCasing) {
    let value;
    if (uri.authority && uri.path.length > 1 && uri.scheme === "file") {
      value = `//${uri.authority}${uri.path}`;
    } else if (uri.path.charCodeAt(0) === 47 && (uri.path.charCodeAt(1) >= 65 && uri.path.charCodeAt(1) <= 90 || uri.path.charCodeAt(1) >= 97 && uri.path.charCodeAt(1) <= 122) && uri.path.charCodeAt(2) === 58) {
      if (!keepDriveLetterCasing) {
        value = uri.path[1].toLowerCase() + uri.path.substr(2);
      } else {
        value = uri.path.substr(1);
      }
    } else {
      value = uri.path;
    }
    if (isWindows) {
      value = value.replace(/\//g, "\\");
    }
    return value;
  }
  function _asFormatted(uri, skipEncoding) {
    const encoder = !skipEncoding ? encodeURIComponentFast : encodeURIComponentMinimal;
    let res = "";
    let {scheme, authority, path, query, fragment} = uri;
    if (scheme) {
      res += scheme;
      res += ":";
    }
    if (authority || scheme === "file") {
      res += _slash;
      res += _slash;
    }
    if (authority) {
      let idx = authority.indexOf("@");
      if (idx !== -1) {
        const userinfo = authority.substr(0, idx);
        authority = authority.substr(idx + 1);
        idx = userinfo.indexOf(":");
        if (idx === -1) {
          res += encoder(userinfo, false);
        } else {
          res += encoder(userinfo.substr(0, idx), false);
          res += ":";
          res += encoder(userinfo.substr(idx + 1), false);
        }
        res += "@";
      }
      authority = authority.toLowerCase();
      idx = authority.indexOf(":");
      if (idx === -1) {
        res += encoder(authority, false);
      } else {
        res += encoder(authority.substr(0, idx), false);
        res += authority.substr(idx);
      }
    }
    if (path) {
      if (path.length >= 3 && path.charCodeAt(0) === 47 && path.charCodeAt(2) === 58) {
        const code = path.charCodeAt(1);
        if (code >= 65 && code <= 90) {
          path = `/${String.fromCharCode(code + 32)}:${path.substr(3)}`;
        }
      } else if (path.length >= 2 && path.charCodeAt(1) === 58) {
        const code = path.charCodeAt(0);
        if (code >= 65 && code <= 90) {
          path = `${String.fromCharCode(code + 32)}:${path.substr(2)}`;
        }
      }
      res += encoder(path, true);
    }
    if (query) {
      res += "?";
      res += encoder(query, false);
    }
    if (fragment) {
      res += "#";
      res += !skipEncoding ? encodeURIComponentFast(fragment, false) : fragment;
    }
    return res;
  }
  function decodeURIComponentGraceful(str) {
    try {
      return decodeURIComponent(str);
    } catch (_a2) {
      if (str.length > 3) {
        return str.substr(0, 3) + decodeURIComponentGraceful(str.substr(3));
      } else {
        return str;
      }
    }
  }
  var _rEncodedAsHex = /(%[0-9A-Za-z][0-9A-Za-z])+/g;
  function percentDecode(str) {
    if (!str.match(_rEncodedAsHex)) {
      return str;
    }
    return str.replace(_rEncodedAsHex, (match) => decodeURIComponentGraceful(match));
  }

  // node_modules/monaco-editor/esm/vs/editor/common/core/position.js
  var Position = class {
    constructor(lineNumber, column) {
      this.lineNumber = lineNumber;
      this.column = column;
    }
    with(newLineNumber = this.lineNumber, newColumn = this.column) {
      if (newLineNumber === this.lineNumber && newColumn === this.column) {
        return this;
      } else {
        return new Position(newLineNumber, newColumn);
      }
    }
    delta(deltaLineNumber = 0, deltaColumn = 0) {
      return this.with(this.lineNumber + deltaLineNumber, this.column + deltaColumn);
    }
    equals(other) {
      return Position.equals(this, other);
    }
    static equals(a2, b) {
      if (!a2 && !b) {
        return true;
      }
      return !!a2 && !!b && a2.lineNumber === b.lineNumber && a2.column === b.column;
    }
    isBefore(other) {
      return Position.isBefore(this, other);
    }
    static isBefore(a2, b) {
      if (a2.lineNumber < b.lineNumber) {
        return true;
      }
      if (b.lineNumber < a2.lineNumber) {
        return false;
      }
      return a2.column < b.column;
    }
    isBeforeOrEqual(other) {
      return Position.isBeforeOrEqual(this, other);
    }
    static isBeforeOrEqual(a2, b) {
      if (a2.lineNumber < b.lineNumber) {
        return true;
      }
      if (b.lineNumber < a2.lineNumber) {
        return false;
      }
      return a2.column <= b.column;
    }
    static compare(a2, b) {
      let aLineNumber = a2.lineNumber | 0;
      let bLineNumber = b.lineNumber | 0;
      if (aLineNumber === bLineNumber) {
        let aColumn = a2.column | 0;
        let bColumn = b.column | 0;
        return aColumn - bColumn;
      }
      return aLineNumber - bLineNumber;
    }
    clone() {
      return new Position(this.lineNumber, this.column);
    }
    toString() {
      return "(" + this.lineNumber + "," + this.column + ")";
    }
    static lift(pos) {
      return new Position(pos.lineNumber, pos.column);
    }
    static isIPosition(obj) {
      return obj && typeof obj.lineNumber === "number" && typeof obj.column === "number";
    }
  };

  // node_modules/monaco-editor/esm/vs/editor/common/core/range.js
  var Range = class {
    constructor(startLineNumber, startColumn, endLineNumber, endColumn) {
      if (startLineNumber > endLineNumber || startLineNumber === endLineNumber && startColumn > endColumn) {
        this.startLineNumber = endLineNumber;
        this.startColumn = endColumn;
        this.endLineNumber = startLineNumber;
        this.endColumn = startColumn;
      } else {
        this.startLineNumber = startLineNumber;
        this.startColumn = startColumn;
        this.endLineNumber = endLineNumber;
        this.endColumn = endColumn;
      }
    }
    isEmpty() {
      return Range.isEmpty(this);
    }
    static isEmpty(range) {
      return range.startLineNumber === range.endLineNumber && range.startColumn === range.endColumn;
    }
    containsPosition(position) {
      return Range.containsPosition(this, position);
    }
    static containsPosition(range, position) {
      if (position.lineNumber < range.startLineNumber || position.lineNumber > range.endLineNumber) {
        return false;
      }
      if (position.lineNumber === range.startLineNumber && position.column < range.startColumn) {
        return false;
      }
      if (position.lineNumber === range.endLineNumber && position.column > range.endColumn) {
        return false;
      }
      return true;
    }
    containsRange(range) {
      return Range.containsRange(this, range);
    }
    static containsRange(range, otherRange) {
      if (otherRange.startLineNumber < range.startLineNumber || otherRange.endLineNumber < range.startLineNumber) {
        return false;
      }
      if (otherRange.startLineNumber > range.endLineNumber || otherRange.endLineNumber > range.endLineNumber) {
        return false;
      }
      if (otherRange.startLineNumber === range.startLineNumber && otherRange.startColumn < range.startColumn) {
        return false;
      }
      if (otherRange.endLineNumber === range.endLineNumber && otherRange.endColumn > range.endColumn) {
        return false;
      }
      return true;
    }
    strictContainsRange(range) {
      return Range.strictContainsRange(this, range);
    }
    static strictContainsRange(range, otherRange) {
      if (otherRange.startLineNumber < range.startLineNumber || otherRange.endLineNumber < range.startLineNumber) {
        return false;
      }
      if (otherRange.startLineNumber > range.endLineNumber || otherRange.endLineNumber > range.endLineNumber) {
        return false;
      }
      if (otherRange.startLineNumber === range.startLineNumber && otherRange.startColumn <= range.startColumn) {
        return false;
      }
      if (otherRange.endLineNumber === range.endLineNumber && otherRange.endColumn >= range.endColumn) {
        return false;
      }
      return true;
    }
    plusRange(range) {
      return Range.plusRange(this, range);
    }
    static plusRange(a2, b) {
      let startLineNumber;
      let startColumn;
      let endLineNumber;
      let endColumn;
      if (b.startLineNumber < a2.startLineNumber) {
        startLineNumber = b.startLineNumber;
        startColumn = b.startColumn;
      } else if (b.startLineNumber === a2.startLineNumber) {
        startLineNumber = b.startLineNumber;
        startColumn = Math.min(b.startColumn, a2.startColumn);
      } else {
        startLineNumber = a2.startLineNumber;
        startColumn = a2.startColumn;
      }
      if (b.endLineNumber > a2.endLineNumber) {
        endLineNumber = b.endLineNumber;
        endColumn = b.endColumn;
      } else if (b.endLineNumber === a2.endLineNumber) {
        endLineNumber = b.endLineNumber;
        endColumn = Math.max(b.endColumn, a2.endColumn);
      } else {
        endLineNumber = a2.endLineNumber;
        endColumn = a2.endColumn;
      }
      return new Range(startLineNumber, startColumn, endLineNumber, endColumn);
    }
    intersectRanges(range) {
      return Range.intersectRanges(this, range);
    }
    static intersectRanges(a2, b) {
      let resultStartLineNumber = a2.startLineNumber;
      let resultStartColumn = a2.startColumn;
      let resultEndLineNumber = a2.endLineNumber;
      let resultEndColumn = a2.endColumn;
      let otherStartLineNumber = b.startLineNumber;
      let otherStartColumn = b.startColumn;
      let otherEndLineNumber = b.endLineNumber;
      let otherEndColumn = b.endColumn;
      if (resultStartLineNumber < otherStartLineNumber) {
        resultStartLineNumber = otherStartLineNumber;
        resultStartColumn = otherStartColumn;
      } else if (resultStartLineNumber === otherStartLineNumber) {
        resultStartColumn = Math.max(resultStartColumn, otherStartColumn);
      }
      if (resultEndLineNumber > otherEndLineNumber) {
        resultEndLineNumber = otherEndLineNumber;
        resultEndColumn = otherEndColumn;
      } else if (resultEndLineNumber === otherEndLineNumber) {
        resultEndColumn = Math.min(resultEndColumn, otherEndColumn);
      }
      if (resultStartLineNumber > resultEndLineNumber) {
        return null;
      }
      if (resultStartLineNumber === resultEndLineNumber && resultStartColumn > resultEndColumn) {
        return null;
      }
      return new Range(resultStartLineNumber, resultStartColumn, resultEndLineNumber, resultEndColumn);
    }
    equalsRange(other) {
      return Range.equalsRange(this, other);
    }
    static equalsRange(a2, b) {
      return !!a2 && !!b && a2.startLineNumber === b.startLineNumber && a2.startColumn === b.startColumn && a2.endLineNumber === b.endLineNumber && a2.endColumn === b.endColumn;
    }
    getEndPosition() {
      return Range.getEndPosition(this);
    }
    static getEndPosition(range) {
      return new Position(range.endLineNumber, range.endColumn);
    }
    getStartPosition() {
      return Range.getStartPosition(this);
    }
    static getStartPosition(range) {
      return new Position(range.startLineNumber, range.startColumn);
    }
    toString() {
      return "[" + this.startLineNumber + "," + this.startColumn + " -> " + this.endLineNumber + "," + this.endColumn + "]";
    }
    setEndPosition(endLineNumber, endColumn) {
      return new Range(this.startLineNumber, this.startColumn, endLineNumber, endColumn);
    }
    setStartPosition(startLineNumber, startColumn) {
      return new Range(startLineNumber, startColumn, this.endLineNumber, this.endColumn);
    }
    collapseToStart() {
      return Range.collapseToStart(this);
    }
    static collapseToStart(range) {
      return new Range(range.startLineNumber, range.startColumn, range.startLineNumber, range.startColumn);
    }
    static fromPositions(start, end = start) {
      return new Range(start.lineNumber, start.column, end.lineNumber, end.column);
    }
    static lift(range) {
      if (!range) {
        return null;
      }
      return new Range(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn);
    }
    static isIRange(obj) {
      return obj && typeof obj.startLineNumber === "number" && typeof obj.startColumn === "number" && typeof obj.endLineNumber === "number" && typeof obj.endColumn === "number";
    }
    static areIntersectingOrTouching(a2, b) {
      if (a2.endLineNumber < b.startLineNumber || a2.endLineNumber === b.startLineNumber && a2.endColumn < b.startColumn) {
        return false;
      }
      if (b.endLineNumber < a2.startLineNumber || b.endLineNumber === a2.startLineNumber && b.endColumn < a2.startColumn) {
        return false;
      }
      return true;
    }
    static areIntersecting(a2, b) {
      if (a2.endLineNumber < b.startLineNumber || a2.endLineNumber === b.startLineNumber && a2.endColumn <= b.startColumn) {
        return false;
      }
      if (b.endLineNumber < a2.startLineNumber || b.endLineNumber === a2.startLineNumber && b.endColumn <= a2.startColumn) {
        return false;
      }
      return true;
    }
    static compareRangesUsingStarts(a2, b) {
      if (a2 && b) {
        const aStartLineNumber = a2.startLineNumber | 0;
        const bStartLineNumber = b.startLineNumber | 0;
        if (aStartLineNumber === bStartLineNumber) {
          const aStartColumn = a2.startColumn | 0;
          const bStartColumn = b.startColumn | 0;
          if (aStartColumn === bStartColumn) {
            const aEndLineNumber = a2.endLineNumber | 0;
            const bEndLineNumber = b.endLineNumber | 0;
            if (aEndLineNumber === bEndLineNumber) {
              const aEndColumn = a2.endColumn | 0;
              const bEndColumn = b.endColumn | 0;
              return aEndColumn - bEndColumn;
            }
            return aEndLineNumber - bEndLineNumber;
          }
          return aStartColumn - bStartColumn;
        }
        return aStartLineNumber - bStartLineNumber;
      }
      const aExists = a2 ? 1 : 0;
      const bExists = b ? 1 : 0;
      return aExists - bExists;
    }
    static compareRangesUsingEnds(a2, b) {
      if (a2.endLineNumber === b.endLineNumber) {
        if (a2.endColumn === b.endColumn) {
          if (a2.startLineNumber === b.startLineNumber) {
            return a2.startColumn - b.startColumn;
          }
          return a2.startLineNumber - b.startLineNumber;
        }
        return a2.endColumn - b.endColumn;
      }
      return a2.endLineNumber - b.endLineNumber;
    }
    static spansMultipleLines(range) {
      return range.endLineNumber > range.startLineNumber;
    }
  };

  // node_modules/monaco-editor/esm/vs/editor/common/diff/diffComputer.js
  var MINIMUM_MATCHING_CHARACTER_LENGTH = 3;
  function computeDiff(originalSequence, modifiedSequence, continueProcessingPredicate, pretty) {
    const diffAlgo = new LcsDiff(originalSequence, modifiedSequence, continueProcessingPredicate);
    return diffAlgo.ComputeDiff(pretty);
  }
  var LineSequence = class {
    constructor(lines) {
      const startColumns = [];
      const endColumns = [];
      for (let i = 0, length = lines.length; i < length; i++) {
        startColumns[i] = getFirstNonBlankColumn(lines[i], 1);
        endColumns[i] = getLastNonBlankColumn(lines[i], 1);
      }
      this.lines = lines;
      this._startColumns = startColumns;
      this._endColumns = endColumns;
    }
    getElements() {
      const elements = [];
      for (let i = 0, len = this.lines.length; i < len; i++) {
        elements[i] = this.lines[i].substring(this._startColumns[i] - 1, this._endColumns[i] - 1);
      }
      return elements;
    }
    getStartLineNumber(i) {
      return i + 1;
    }
    getEndLineNumber(i) {
      return i + 1;
    }
    createCharSequence(shouldIgnoreTrimWhitespace, startIndex, endIndex) {
      const charCodes = [];
      const lineNumbers = [];
      const columns = [];
      let len = 0;
      for (let index = startIndex; index <= endIndex; index++) {
        const lineContent = this.lines[index];
        const startColumn = shouldIgnoreTrimWhitespace ? this._startColumns[index] : 1;
        const endColumn = shouldIgnoreTrimWhitespace ? this._endColumns[index] : lineContent.length + 1;
        for (let col = startColumn; col < endColumn; col++) {
          charCodes[len] = lineContent.charCodeAt(col - 1);
          lineNumbers[len] = index + 1;
          columns[len] = col;
          len++;
        }
      }
      return new CharSequence(charCodes, lineNumbers, columns);
    }
  };
  var CharSequence = class {
    constructor(charCodes, lineNumbers, columns) {
      this._charCodes = charCodes;
      this._lineNumbers = lineNumbers;
      this._columns = columns;
    }
    getElements() {
      return this._charCodes;
    }
    getStartLineNumber(i) {
      return this._lineNumbers[i];
    }
    getStartColumn(i) {
      return this._columns[i];
    }
    getEndLineNumber(i) {
      return this._lineNumbers[i];
    }
    getEndColumn(i) {
      return this._columns[i] + 1;
    }
  };
  var CharChange = class {
    constructor(originalStartLineNumber, originalStartColumn, originalEndLineNumber, originalEndColumn, modifiedStartLineNumber, modifiedStartColumn, modifiedEndLineNumber, modifiedEndColumn) {
      this.originalStartLineNumber = originalStartLineNumber;
      this.originalStartColumn = originalStartColumn;
      this.originalEndLineNumber = originalEndLineNumber;
      this.originalEndColumn = originalEndColumn;
      this.modifiedStartLineNumber = modifiedStartLineNumber;
      this.modifiedStartColumn = modifiedStartColumn;
      this.modifiedEndLineNumber = modifiedEndLineNumber;
      this.modifiedEndColumn = modifiedEndColumn;
    }
    static createFromDiffChange(diffChange, originalCharSequence, modifiedCharSequence) {
      let originalStartLineNumber;
      let originalStartColumn;
      let originalEndLineNumber;
      let originalEndColumn;
      let modifiedStartLineNumber;
      let modifiedStartColumn;
      let modifiedEndLineNumber;
      let modifiedEndColumn;
      if (diffChange.originalLength === 0) {
        originalStartLineNumber = 0;
        originalStartColumn = 0;
        originalEndLineNumber = 0;
        originalEndColumn = 0;
      } else {
        originalStartLineNumber = originalCharSequence.getStartLineNumber(diffChange.originalStart);
        originalStartColumn = originalCharSequence.getStartColumn(diffChange.originalStart);
        originalEndLineNumber = originalCharSequence.getEndLineNumber(diffChange.originalStart + diffChange.originalLength - 1);
        originalEndColumn = originalCharSequence.getEndColumn(diffChange.originalStart + diffChange.originalLength - 1);
      }
      if (diffChange.modifiedLength === 0) {
        modifiedStartLineNumber = 0;
        modifiedStartColumn = 0;
        modifiedEndLineNumber = 0;
        modifiedEndColumn = 0;
      } else {
        modifiedStartLineNumber = modifiedCharSequence.getStartLineNumber(diffChange.modifiedStart);
        modifiedStartColumn = modifiedCharSequence.getStartColumn(diffChange.modifiedStart);
        modifiedEndLineNumber = modifiedCharSequence.getEndLineNumber(diffChange.modifiedStart + diffChange.modifiedLength - 1);
        modifiedEndColumn = modifiedCharSequence.getEndColumn(diffChange.modifiedStart + diffChange.modifiedLength - 1);
      }
      return new CharChange(originalStartLineNumber, originalStartColumn, originalEndLineNumber, originalEndColumn, modifiedStartLineNumber, modifiedStartColumn, modifiedEndLineNumber, modifiedEndColumn);
    }
  };
  function postProcessCharChanges(rawChanges) {
    if (rawChanges.length <= 1) {
      return rawChanges;
    }
    const result = [rawChanges[0]];
    let prevChange = result[0];
    for (let i = 1, len = rawChanges.length; i < len; i++) {
      const currChange = rawChanges[i];
      const originalMatchingLength = currChange.originalStart - (prevChange.originalStart + prevChange.originalLength);
      const modifiedMatchingLength = currChange.modifiedStart - (prevChange.modifiedStart + prevChange.modifiedLength);
      const matchingLength = Math.min(originalMatchingLength, modifiedMatchingLength);
      if (matchingLength < MINIMUM_MATCHING_CHARACTER_LENGTH) {
        prevChange.originalLength = currChange.originalStart + currChange.originalLength - prevChange.originalStart;
        prevChange.modifiedLength = currChange.modifiedStart + currChange.modifiedLength - prevChange.modifiedStart;
      } else {
        result.push(currChange);
        prevChange = currChange;
      }
    }
    return result;
  }
  var LineChange = class {
    constructor(originalStartLineNumber, originalEndLineNumber, modifiedStartLineNumber, modifiedEndLineNumber, charChanges) {
      this.originalStartLineNumber = originalStartLineNumber;
      this.originalEndLineNumber = originalEndLineNumber;
      this.modifiedStartLineNumber = modifiedStartLineNumber;
      this.modifiedEndLineNumber = modifiedEndLineNumber;
      this.charChanges = charChanges;
    }
    static createFromDiffResult(shouldIgnoreTrimWhitespace, diffChange, originalLineSequence, modifiedLineSequence, continueCharDiff, shouldComputeCharChanges, shouldPostProcessCharChanges) {
      let originalStartLineNumber;
      let originalEndLineNumber;
      let modifiedStartLineNumber;
      let modifiedEndLineNumber;
      let charChanges = void 0;
      if (diffChange.originalLength === 0) {
        originalStartLineNumber = originalLineSequence.getStartLineNumber(diffChange.originalStart) - 1;
        originalEndLineNumber = 0;
      } else {
        originalStartLineNumber = originalLineSequence.getStartLineNumber(diffChange.originalStart);
        originalEndLineNumber = originalLineSequence.getEndLineNumber(diffChange.originalStart + diffChange.originalLength - 1);
      }
      if (diffChange.modifiedLength === 0) {
        modifiedStartLineNumber = modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart) - 1;
        modifiedEndLineNumber = 0;
      } else {
        modifiedStartLineNumber = modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart);
        modifiedEndLineNumber = modifiedLineSequence.getEndLineNumber(diffChange.modifiedStart + diffChange.modifiedLength - 1);
      }
      if (shouldComputeCharChanges && diffChange.originalLength > 0 && diffChange.originalLength < 20 && diffChange.modifiedLength > 0 && diffChange.modifiedLength < 20 && continueCharDiff()) {
        const originalCharSequence = originalLineSequence.createCharSequence(shouldIgnoreTrimWhitespace, diffChange.originalStart, diffChange.originalStart + diffChange.originalLength - 1);
        const modifiedCharSequence = modifiedLineSequence.createCharSequence(shouldIgnoreTrimWhitespace, diffChange.modifiedStart, diffChange.modifiedStart + diffChange.modifiedLength - 1);
        let rawChanges = computeDiff(originalCharSequence, modifiedCharSequence, continueCharDiff, true).changes;
        if (shouldPostProcessCharChanges) {
          rawChanges = postProcessCharChanges(rawChanges);
        }
        charChanges = [];
        for (let i = 0, length = rawChanges.length; i < length; i++) {
          charChanges.push(CharChange.createFromDiffChange(rawChanges[i], originalCharSequence, modifiedCharSequence));
        }
      }
      return new LineChange(originalStartLineNumber, originalEndLineNumber, modifiedStartLineNumber, modifiedEndLineNumber, charChanges);
    }
  };
  var DiffComputer = class {
    constructor(originalLines, modifiedLines, opts) {
      this.shouldComputeCharChanges = opts.shouldComputeCharChanges;
      this.shouldPostProcessCharChanges = opts.shouldPostProcessCharChanges;
      this.shouldIgnoreTrimWhitespace = opts.shouldIgnoreTrimWhitespace;
      this.shouldMakePrettyDiff = opts.shouldMakePrettyDiff;
      this.originalLines = originalLines;
      this.modifiedLines = modifiedLines;
      this.original = new LineSequence(originalLines);
      this.modified = new LineSequence(modifiedLines);
      this.continueLineDiff = createContinueProcessingPredicate(opts.maxComputationTime);
      this.continueCharDiff = createContinueProcessingPredicate(opts.maxComputationTime === 0 ? 0 : Math.min(opts.maxComputationTime, 5e3));
    }
    computeDiff() {
      if (this.original.lines.length === 1 && this.original.lines[0].length === 0) {
        if (this.modified.lines.length === 1 && this.modified.lines[0].length === 0) {
          return {
            quitEarly: false,
            changes: []
          };
        }
        return {
          quitEarly: false,
          changes: [{
            originalStartLineNumber: 1,
            originalEndLineNumber: 1,
            modifiedStartLineNumber: 1,
            modifiedEndLineNumber: this.modified.lines.length,
            charChanges: [{
              modifiedEndColumn: 0,
              modifiedEndLineNumber: 0,
              modifiedStartColumn: 0,
              modifiedStartLineNumber: 0,
              originalEndColumn: 0,
              originalEndLineNumber: 0,
              originalStartColumn: 0,
              originalStartLineNumber: 0
            }]
          }]
        };
      }
      if (this.modified.lines.length === 1 && this.modified.lines[0].length === 0) {
        return {
          quitEarly: false,
          changes: [{
            originalStartLineNumber: 1,
            originalEndLineNumber: this.original.lines.length,
            modifiedStartLineNumber: 1,
            modifiedEndLineNumber: 1,
            charChanges: [{
              modifiedEndColumn: 0,
              modifiedEndLineNumber: 0,
              modifiedStartColumn: 0,
              modifiedStartLineNumber: 0,
              originalEndColumn: 0,
              originalEndLineNumber: 0,
              originalStartColumn: 0,
              originalStartLineNumber: 0
            }]
          }]
        };
      }
      const diffResult = computeDiff(this.original, this.modified, this.continueLineDiff, this.shouldMakePrettyDiff);
      const rawChanges = diffResult.changes;
      const quitEarly = diffResult.quitEarly;
      if (this.shouldIgnoreTrimWhitespace) {
        const lineChanges = [];
        for (let i = 0, length = rawChanges.length; i < length; i++) {
          lineChanges.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace, rawChanges[i], this.original, this.modified, this.continueCharDiff, this.shouldComputeCharChanges, this.shouldPostProcessCharChanges));
        }
        return {
          quitEarly,
          changes: lineChanges
        };
      }
      const result = [];
      let originalLineIndex = 0;
      let modifiedLineIndex = 0;
      for (let i = -1, len = rawChanges.length; i < len; i++) {
        const nextChange = i + 1 < len ? rawChanges[i + 1] : null;
        const originalStop = nextChange ? nextChange.originalStart : this.originalLines.length;
        const modifiedStop = nextChange ? nextChange.modifiedStart : this.modifiedLines.length;
        while (originalLineIndex < originalStop && modifiedLineIndex < modifiedStop) {
          const originalLine = this.originalLines[originalLineIndex];
          const modifiedLine = this.modifiedLines[modifiedLineIndex];
          if (originalLine !== modifiedLine) {
            {
              let originalStartColumn = getFirstNonBlankColumn(originalLine, 1);
              let modifiedStartColumn = getFirstNonBlankColumn(modifiedLine, 1);
              while (originalStartColumn > 1 && modifiedStartColumn > 1) {
                const originalChar = originalLine.charCodeAt(originalStartColumn - 2);
                const modifiedChar = modifiedLine.charCodeAt(modifiedStartColumn - 2);
                if (originalChar !== modifiedChar) {
                  break;
                }
                originalStartColumn--;
                modifiedStartColumn--;
              }
              if (originalStartColumn > 1 || modifiedStartColumn > 1) {
                this._pushTrimWhitespaceCharChange(result, originalLineIndex + 1, 1, originalStartColumn, modifiedLineIndex + 1, 1, modifiedStartColumn);
              }
            }
            {
              let originalEndColumn = getLastNonBlankColumn(originalLine, 1);
              let modifiedEndColumn = getLastNonBlankColumn(modifiedLine, 1);
              const originalMaxColumn = originalLine.length + 1;
              const modifiedMaxColumn = modifiedLine.length + 1;
              while (originalEndColumn < originalMaxColumn && modifiedEndColumn < modifiedMaxColumn) {
                const originalChar = originalLine.charCodeAt(originalEndColumn - 1);
                const modifiedChar = originalLine.charCodeAt(modifiedEndColumn - 1);
                if (originalChar !== modifiedChar) {
                  break;
                }
                originalEndColumn++;
                modifiedEndColumn++;
              }
              if (originalEndColumn < originalMaxColumn || modifiedEndColumn < modifiedMaxColumn) {
                this._pushTrimWhitespaceCharChange(result, originalLineIndex + 1, originalEndColumn, originalMaxColumn, modifiedLineIndex + 1, modifiedEndColumn, modifiedMaxColumn);
              }
            }
          }
          originalLineIndex++;
          modifiedLineIndex++;
        }
        if (nextChange) {
          result.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace, nextChange, this.original, this.modified, this.continueCharDiff, this.shouldComputeCharChanges, this.shouldPostProcessCharChanges));
          originalLineIndex += nextChange.originalLength;
          modifiedLineIndex += nextChange.modifiedLength;
        }
      }
      return {
        quitEarly,
        changes: result
      };
    }
    _pushTrimWhitespaceCharChange(result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn) {
      if (this._mergeTrimWhitespaceCharChange(result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn)) {
        return;
      }
      let charChanges = void 0;
      if (this.shouldComputeCharChanges) {
        charChanges = [new CharChange(originalLineNumber, originalStartColumn, originalLineNumber, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedLineNumber, modifiedEndColumn)];
      }
      result.push(new LineChange(originalLineNumber, originalLineNumber, modifiedLineNumber, modifiedLineNumber, charChanges));
    }
    _mergeTrimWhitespaceCharChange(result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn) {
      const len = result.length;
      if (len === 0) {
        return false;
      }
      const prevChange = result[len - 1];
      if (prevChange.originalEndLineNumber === 0 || prevChange.modifiedEndLineNumber === 0) {
        return false;
      }
      if (prevChange.originalEndLineNumber + 1 === originalLineNumber && prevChange.modifiedEndLineNumber + 1 === modifiedLineNumber) {
        prevChange.originalEndLineNumber = originalLineNumber;
        prevChange.modifiedEndLineNumber = modifiedLineNumber;
        if (this.shouldComputeCharChanges && prevChange.charChanges) {
          prevChange.charChanges.push(new CharChange(originalLineNumber, originalStartColumn, originalLineNumber, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedLineNumber, modifiedEndColumn));
        }
        return true;
      }
      return false;
    }
  };
  function getFirstNonBlankColumn(txt, defaultValue) {
    const r = firstNonWhitespaceIndex(txt);
    if (r === -1) {
      return defaultValue;
    }
    return r + 1;
  }
  function getLastNonBlankColumn(txt, defaultValue) {
    const r = lastNonWhitespaceIndex(txt);
    if (r === -1) {
      return defaultValue;
    }
    return r + 2;
  }
  function createContinueProcessingPredicate(maximumRuntime) {
    if (maximumRuntime === 0) {
      return () => true;
    }
    const startTime = Date.now();
    return () => {
      return Date.now() - startTime < maximumRuntime;
    };
  }

  // node_modules/monaco-editor/esm/vs/base/common/uint.js
  function toUint8(v) {
    if (v < 0) {
      return 0;
    }
    if (v > 255) {
      return 255;
    }
    return v | 0;
  }
  function toUint32(v) {
    if (v < 0) {
      return 0;
    }
    if (v > 4294967295) {
      return 4294967295;
    }
    return v | 0;
  }

  // node_modules/monaco-editor/esm/vs/editor/common/viewModel/prefixSumComputer.js
  var PrefixSumIndexOfResult = class {
    constructor(index, remainder) {
      this.index = index;
      this.remainder = remainder;
    }
  };
  var PrefixSumComputer = class {
    constructor(values) {
      this.values = values;
      this.prefixSum = new Uint32Array(values.length);
      this.prefixSumValidIndex = new Int32Array(1);
      this.prefixSumValidIndex[0] = -1;
    }
    insertValues(insertIndex, insertValues) {
      insertIndex = toUint32(insertIndex);
      const oldValues = this.values;
      const oldPrefixSum = this.prefixSum;
      const insertValuesLen = insertValues.length;
      if (insertValuesLen === 0) {
        return false;
      }
      this.values = new Uint32Array(oldValues.length + insertValuesLen);
      this.values.set(oldValues.subarray(0, insertIndex), 0);
      this.values.set(oldValues.subarray(insertIndex), insertIndex + insertValuesLen);
      this.values.set(insertValues, insertIndex);
      if (insertIndex - 1 < this.prefixSumValidIndex[0]) {
        this.prefixSumValidIndex[0] = insertIndex - 1;
      }
      this.prefixSum = new Uint32Array(this.values.length);
      if (this.prefixSumValidIndex[0] >= 0) {
        this.prefixSum.set(oldPrefixSum.subarray(0, this.prefixSumValidIndex[0] + 1));
      }
      return true;
    }
    changeValue(index, value) {
      index = toUint32(index);
      value = toUint32(value);
      if (this.values[index] === value) {
        return false;
      }
      this.values[index] = value;
      if (index - 1 < this.prefixSumValidIndex[0]) {
        this.prefixSumValidIndex[0] = index - 1;
      }
      return true;
    }
    removeValues(startIndex, cnt) {
      startIndex = toUint32(startIndex);
      cnt = toUint32(cnt);
      const oldValues = this.values;
      const oldPrefixSum = this.prefixSum;
      if (startIndex >= oldValues.length) {
        return false;
      }
      let maxCnt = oldValues.length - startIndex;
      if (cnt >= maxCnt) {
        cnt = maxCnt;
      }
      if (cnt === 0) {
        return false;
      }
      this.values = new Uint32Array(oldValues.length - cnt);
      this.values.set(oldValues.subarray(0, startIndex), 0);
      this.values.set(oldValues.subarray(startIndex + cnt), startIndex);
      this.prefixSum = new Uint32Array(this.values.length);
      if (startIndex - 1 < this.prefixSumValidIndex[0]) {
        this.prefixSumValidIndex[0] = startIndex - 1;
      }
      if (this.prefixSumValidIndex[0] >= 0) {
        this.prefixSum.set(oldPrefixSum.subarray(0, this.prefixSumValidIndex[0] + 1));
      }
      return true;
    }
    getTotalValue() {
      if (this.values.length === 0) {
        return 0;
      }
      return this._getAccumulatedValue(this.values.length - 1);
    }
    getAccumulatedValue(index) {
      if (index < 0) {
        return 0;
      }
      index = toUint32(index);
      return this._getAccumulatedValue(index);
    }
    _getAccumulatedValue(index) {
      if (index <= this.prefixSumValidIndex[0]) {
        return this.prefixSum[index];
      }
      let startIndex = this.prefixSumValidIndex[0] + 1;
      if (startIndex === 0) {
        this.prefixSum[0] = this.values[0];
        startIndex++;
      }
      if (index >= this.values.length) {
        index = this.values.length - 1;
      }
      for (let i = startIndex; i <= index; i++) {
        this.prefixSum[i] = this.prefixSum[i - 1] + this.values[i];
      }
      this.prefixSumValidIndex[0] = Math.max(this.prefixSumValidIndex[0], index);
      return this.prefixSum[index];
    }
    getIndexOf(accumulatedValue) {
      accumulatedValue = Math.floor(accumulatedValue);
      this.getTotalValue();
      let low = 0;
      let high = this.values.length - 1;
      let mid = 0;
      let midStop = 0;
      let midStart = 0;
      while (low <= high) {
        mid = low + (high - low) / 2 | 0;
        midStop = this.prefixSum[mid];
        midStart = midStop - this.values[mid];
        if (accumulatedValue < midStart) {
          high = mid - 1;
        } else if (accumulatedValue >= midStop) {
          low = mid + 1;
        } else {
          break;
        }
      }
      return new PrefixSumIndexOfResult(mid, accumulatedValue - midStart);
    }
  };

  // node_modules/monaco-editor/esm/vs/editor/common/model/mirrorTextModel.js
  var MirrorTextModel = class {
    constructor(uri, lines, eol, versionId) {
      this._uri = uri;
      this._lines = lines;
      this._eol = eol;
      this._versionId = versionId;
      this._lineStarts = null;
      this._cachedTextValue = null;
    }
    dispose() {
      this._lines.length = 0;
    }
    get version() {
      return this._versionId;
    }
    getText() {
      if (this._cachedTextValue === null) {
        this._cachedTextValue = this._lines.join(this._eol);
      }
      return this._cachedTextValue;
    }
    onEvents(e) {
      if (e.eol && e.eol !== this._eol) {
        this._eol = e.eol;
        this._lineStarts = null;
      }
      const changes = e.changes;
      for (const change of changes) {
        this._acceptDeleteRange(change.range);
        this._acceptInsertText(new Position(change.range.startLineNumber, change.range.startColumn), change.text);
      }
      this._versionId = e.versionId;
      this._cachedTextValue = null;
    }
    _ensureLineStarts() {
      if (!this._lineStarts) {
        const eolLength = this._eol.length;
        const linesLength = this._lines.length;
        const lineStartValues = new Uint32Array(linesLength);
        for (let i = 0; i < linesLength; i++) {
          lineStartValues[i] = this._lines[i].length + eolLength;
        }
        this._lineStarts = new PrefixSumComputer(lineStartValues);
      }
    }
    _setLineText(lineIndex, newValue) {
      this._lines[lineIndex] = newValue;
      if (this._lineStarts) {
        this._lineStarts.changeValue(lineIndex, this._lines[lineIndex].length + this._eol.length);
      }
    }
    _acceptDeleteRange(range) {
      if (range.startLineNumber === range.endLineNumber) {
        if (range.startColumn === range.endColumn) {
          return;
        }
        this._setLineText(range.startLineNumber - 1, this._lines[range.startLineNumber - 1].substring(0, range.startColumn - 1) + this._lines[range.startLineNumber - 1].substring(range.endColumn - 1));
        return;
      }
      this._setLineText(range.startLineNumber - 1, this._lines[range.startLineNumber - 1].substring(0, range.startColumn - 1) + this._lines[range.endLineNumber - 1].substring(range.endColumn - 1));
      this._lines.splice(range.startLineNumber, range.endLineNumber - range.startLineNumber);
      if (this._lineStarts) {
        this._lineStarts.removeValues(range.startLineNumber, range.endLineNumber - range.startLineNumber);
      }
    }
    _acceptInsertText(position, insertText) {
      if (insertText.length === 0) {
        return;
      }
      let insertLines = splitLines(insertText);
      if (insertLines.length === 1) {
        this._setLineText(position.lineNumber - 1, this._lines[position.lineNumber - 1].substring(0, position.column - 1) + insertLines[0] + this._lines[position.lineNumber - 1].substring(position.column - 1));
        return;
      }
      insertLines[insertLines.length - 1] += this._lines[position.lineNumber - 1].substring(position.column - 1);
      this._setLineText(position.lineNumber - 1, this._lines[position.lineNumber - 1].substring(0, position.column - 1) + insertLines[0]);
      let newLengths = new Uint32Array(insertLines.length - 1);
      for (let i = 1; i < insertLines.length; i++) {
        this._lines.splice(position.lineNumber + i - 1, 0, insertLines[i]);
        newLengths[i - 1] = insertLines[i].length + this._eol.length;
      }
      if (this._lineStarts) {
        this._lineStarts.insertValues(position.lineNumber, newLengths);
      }
    }
  };

  // node_modules/monaco-editor/esm/vs/editor/common/model/wordHelper.js
  var USUAL_WORD_SEPARATORS = "`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";
  function createWordRegExp(allowInWords = "") {
    let source = "(-?\\d*\\.\\d\\w*)|([^";
    for (const sep2 of USUAL_WORD_SEPARATORS) {
      if (allowInWords.indexOf(sep2) >= 0) {
        continue;
      }
      source += "\\" + sep2;
    }
    source += "\\s]+)";
    return new RegExp(source, "g");
  }
  var DEFAULT_WORD_REGEXP = createWordRegExp();
  function ensureValidWordDefinition(wordDefinition) {
    let result = DEFAULT_WORD_REGEXP;
    if (wordDefinition && wordDefinition instanceof RegExp) {
      if (!wordDefinition.global) {
        let flags = "g";
        if (wordDefinition.ignoreCase) {
          flags += "i";
        }
        if (wordDefinition.multiline) {
          flags += "m";
        }
        if (wordDefinition.unicode) {
          flags += "u";
        }
        result = new RegExp(wordDefinition.source, flags);
      } else {
        result = wordDefinition;
      }
    }
    result.lastIndex = 0;
    return result;
  }
  var _defaultConfig = {
    maxLen: 1e3,
    windowSize: 15,
    timeBudget: 150
  };
  function getWordAtText(column, wordDefinition, text, textOffset, config = _defaultConfig) {
    if (text.length > config.maxLen) {
      let start = column - config.maxLen / 2;
      if (start < 0) {
        start = 0;
      } else {
        textOffset += start;
      }
      text = text.substring(start, column + config.maxLen / 2);
      return getWordAtText(column, wordDefinition, text, textOffset, config);
    }
    const t1 = Date.now();
    const pos = column - 1 - textOffset;
    let prevRegexIndex = -1;
    let match = null;
    for (let i = 1; ; i++) {
      if (Date.now() - t1 >= config.timeBudget) {
        break;
      }
      const regexIndex = pos - config.windowSize * i;
      wordDefinition.lastIndex = Math.max(0, regexIndex);
      const thisMatch = _findRegexMatchEnclosingPosition(wordDefinition, text, pos, prevRegexIndex);
      if (!thisMatch && match) {
        break;
      }
      match = thisMatch;
      if (regexIndex <= 0) {
        break;
      }
      prevRegexIndex = regexIndex;
    }
    if (match) {
      let result = {
        word: match[0],
        startColumn: textOffset + 1 + match.index,
        endColumn: textOffset + 1 + match.index + match[0].length
      };
      wordDefinition.lastIndex = 0;
      return result;
    }
    return null;
  }
  function _findRegexMatchEnclosingPosition(wordDefinition, text, pos, stopPos) {
    let match;
    while (match = wordDefinition.exec(text)) {
      const matchIndex = match.index || 0;
      if (matchIndex <= pos && wordDefinition.lastIndex >= pos) {
        return match;
      } else if (stopPos > 0 && matchIndex > stopPos) {
        return null;
      }
    }
    return null;
  }

  // node_modules/monaco-editor/esm/vs/editor/common/core/characterClassifier.js
  var CharacterClassifier = class {
    constructor(_defaultValue) {
      let defaultValue = toUint8(_defaultValue);
      this._defaultValue = defaultValue;
      this._asciiMap = CharacterClassifier._createAsciiMap(defaultValue);
      this._map = new Map();
    }
    static _createAsciiMap(defaultValue) {
      let asciiMap = new Uint8Array(256);
      for (let i = 0; i < 256; i++) {
        asciiMap[i] = defaultValue;
      }
      return asciiMap;
    }
    set(charCode, _value) {
      let value = toUint8(_value);
      if (charCode >= 0 && charCode < 256) {
        this._asciiMap[charCode] = value;
      } else {
        this._map.set(charCode, value);
      }
    }
    get(charCode) {
      if (charCode >= 0 && charCode < 256) {
        return this._asciiMap[charCode];
      } else {
        return this._map.get(charCode) || this._defaultValue;
      }
    }
  };

  // node_modules/monaco-editor/esm/vs/editor/common/modes/linkComputer.js
  var Uint8Matrix = class {
    constructor(rows, cols, defaultValue) {
      const data = new Uint8Array(rows * cols);
      for (let i = 0, len = rows * cols; i < len; i++) {
        data[i] = defaultValue;
      }
      this._data = data;
      this.rows = rows;
      this.cols = cols;
    }
    get(row, col) {
      return this._data[row * this.cols + col];
    }
    set(row, col, value) {
      this._data[row * this.cols + col] = value;
    }
  };
  var StateMachine = class {
    constructor(edges) {
      let maxCharCode = 0;
      let maxState = 0;
      for (let i = 0, len = edges.length; i < len; i++) {
        let [from, chCode, to] = edges[i];
        if (chCode > maxCharCode) {
          maxCharCode = chCode;
        }
        if (from > maxState) {
          maxState = from;
        }
        if (to > maxState) {
          maxState = to;
        }
      }
      maxCharCode++;
      maxState++;
      let states = new Uint8Matrix(maxState, maxCharCode, 0);
      for (let i = 0, len = edges.length; i < len; i++) {
        let [from, chCode, to] = edges[i];
        states.set(from, chCode, to);
      }
      this._states = states;
      this._maxCharCode = maxCharCode;
    }
    nextState(currentState, chCode) {
      if (chCode < 0 || chCode >= this._maxCharCode) {
        return 0;
      }
      return this._states.get(currentState, chCode);
    }
  };
  var _stateMachine = null;
  function getStateMachine() {
    if (_stateMachine === null) {
      _stateMachine = new StateMachine([
        [1, 104, 2],
        [1, 72, 2],
        [1, 102, 6],
        [1, 70, 6],
        [2, 116, 3],
        [2, 84, 3],
        [3, 116, 4],
        [3, 84, 4],
        [4, 112, 5],
        [4, 80, 5],
        [5, 115, 9],
        [5, 83, 9],
        [5, 58, 10],
        [6, 105, 7],
        [6, 73, 7],
        [7, 108, 8],
        [7, 76, 8],
        [8, 101, 9],
        [8, 69, 9],
        [9, 58, 10],
        [10, 47, 11],
        [11, 47, 12]
      ]);
    }
    return _stateMachine;
  }
  var _classifier = null;
  function getClassifier() {
    if (_classifier === null) {
      _classifier = new CharacterClassifier(0);
      const FORCE_TERMINATION_CHARACTERS = ` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;
      for (let i = 0; i < FORCE_TERMINATION_CHARACTERS.length; i++) {
        _classifier.set(FORCE_TERMINATION_CHARACTERS.charCodeAt(i), 1);
      }
      const CANNOT_END_WITH_CHARACTERS = ".,;";
      for (let i = 0; i < CANNOT_END_WITH_CHARACTERS.length; i++) {
        _classifier.set(CANNOT_END_WITH_CHARACTERS.charCodeAt(i), 2);
      }
    }
    return _classifier;
  }
  var LinkComputer = class {
    static _createLink(classifier, line, lineNumber, linkBeginIndex, linkEndIndex) {
      let lastIncludedCharIndex = linkEndIndex - 1;
      do {
        const chCode = line.charCodeAt(lastIncludedCharIndex);
        const chClass = classifier.get(chCode);
        if (chClass !== 2) {
          break;
        }
        lastIncludedCharIndex--;
      } while (lastIncludedCharIndex > linkBeginIndex);
      if (linkBeginIndex > 0) {
        const charCodeBeforeLink = line.charCodeAt(linkBeginIndex - 1);
        const lastCharCodeInLink = line.charCodeAt(lastIncludedCharIndex);
        if (charCodeBeforeLink === 40 && lastCharCodeInLink === 41 || charCodeBeforeLink === 91 && lastCharCodeInLink === 93 || charCodeBeforeLink === 123 && lastCharCodeInLink === 125) {
          lastIncludedCharIndex--;
        }
      }
      return {
        range: {
          startLineNumber: lineNumber,
          startColumn: linkBeginIndex + 1,
          endLineNumber: lineNumber,
          endColumn: lastIncludedCharIndex + 2
        },
        url: line.substring(linkBeginIndex, lastIncludedCharIndex + 1)
      };
    }
    static computeLinks(model, stateMachine = getStateMachine()) {
      const classifier = getClassifier();
      let result = [];
      for (let i = 1, lineCount = model.getLineCount(); i <= lineCount; i++) {
        const line = model.getLineContent(i);
        const len = line.length;
        let j = 0;
        let linkBeginIndex = 0;
        let linkBeginChCode = 0;
        let state = 1;
        let hasOpenParens = false;
        let hasOpenSquareBracket = false;
        let inSquareBrackets = false;
        let hasOpenCurlyBracket = false;
        while (j < len) {
          let resetStateMachine = false;
          const chCode = line.charCodeAt(j);
          if (state === 13) {
            let chClass;
            switch (chCode) {
              case 40:
                hasOpenParens = true;
                chClass = 0;
                break;
              case 41:
                chClass = hasOpenParens ? 0 : 1;
                break;
              case 91:
                inSquareBrackets = true;
                hasOpenSquareBracket = true;
                chClass = 0;
                break;
              case 93:
                inSquareBrackets = false;
                chClass = hasOpenSquareBracket ? 0 : 1;
                break;
              case 123:
                hasOpenCurlyBracket = true;
                chClass = 0;
                break;
              case 125:
                chClass = hasOpenCurlyBracket ? 0 : 1;
                break;
              case 39:
                chClass = linkBeginChCode === 34 || linkBeginChCode === 96 ? 0 : 1;
                break;
              case 34:
                chClass = linkBeginChCode === 39 || linkBeginChCode === 96 ? 0 : 1;
                break;
              case 96:
                chClass = linkBeginChCode === 39 || linkBeginChCode === 34 ? 0 : 1;
                break;
              case 42:
                chClass = linkBeginChCode === 42 ? 1 : 0;
                break;
              case 124:
                chClass = linkBeginChCode === 124 ? 1 : 0;
                break;
              case 32:
                chClass = inSquareBrackets ? 0 : 1;
                break;
              default:
                chClass = classifier.get(chCode);
            }
            if (chClass === 1) {
              result.push(LinkComputer._createLink(classifier, line, i, linkBeginIndex, j));
              resetStateMachine = true;
            }
          } else if (state === 12) {
            let chClass;
            if (chCode === 91) {
              hasOpenSquareBracket = true;
              chClass = 0;
            } else {
              chClass = classifier.get(chCode);
            }
            if (chClass === 1) {
              resetStateMachine = true;
            } else {
              state = 13;
            }
          } else {
            state = stateMachine.nextState(state, chCode);
            if (state === 0) {
              resetStateMachine = true;
            }
          }
          if (resetStateMachine) {
            state = 1;
            hasOpenParens = false;
            hasOpenSquareBracket = false;
            hasOpenCurlyBracket = false;
            linkBeginIndex = j + 1;
            linkBeginChCode = chCode;
          }
          j++;
        }
        if (state === 13) {
          result.push(LinkComputer._createLink(classifier, line, i, linkBeginIndex, len));
        }
      }
      return result;
    }
  };
  function computeLinks(model) {
    if (!model || typeof model.getLineCount !== "function" || typeof model.getLineContent !== "function") {
      return [];
    }
    return LinkComputer.computeLinks(model);
  }

  // node_modules/monaco-editor/esm/vs/editor/common/modes/supports/inplaceReplaceSupport.js
  var BasicInplaceReplace = class {
    constructor() {
      this._defaultValueSet = [
        ["true", "false"],
        ["True", "False"],
        ["Private", "Public", "Friend", "ReadOnly", "Partial", "Protected", "WriteOnly"],
        ["public", "protected", "private"]
      ];
    }
    navigateValueSet(range1, text1, range2, text2, up) {
      if (range1 && text1) {
        let result = this.doNavigateValueSet(text1, up);
        if (result) {
          return {
            range: range1,
            value: result
          };
        }
      }
      if (range2 && text2) {
        let result = this.doNavigateValueSet(text2, up);
        if (result) {
          return {
            range: range2,
            value: result
          };
        }
      }
      return null;
    }
    doNavigateValueSet(text, up) {
      let numberResult = this.numberReplace(text, up);
      if (numberResult !== null) {
        return numberResult;
      }
      return this.textReplace(text, up);
    }
    numberReplace(value, up) {
      let precision = Math.pow(10, value.length - (value.lastIndexOf(".") + 1));
      let n1 = Number(value);
      let n2 = parseFloat(value);
      if (!isNaN(n1) && !isNaN(n2) && n1 === n2) {
        if (n1 === 0 && !up) {
          return null;
        } else {
          n1 = Math.floor(n1 * precision);
          n1 += up ? precision : -precision;
          return String(n1 / precision);
        }
      }
      return null;
    }
    textReplace(value, up) {
      return this.valueSetsReplace(this._defaultValueSet, value, up);
    }
    valueSetsReplace(valueSets, value, up) {
      let result = null;
      for (let i = 0, len = valueSets.length; result === null && i < len; i++) {
        result = this.valueSetReplace(valueSets[i], value, up);
      }
      return result;
    }
    valueSetReplace(valueSet, value, up) {
      let idx = valueSet.indexOf(value);
      if (idx >= 0) {
        idx += up ? 1 : -1;
        if (idx < 0) {
          idx = valueSet.length - 1;
        } else {
          idx %= valueSet.length;
        }
        return valueSet[idx];
      }
      return null;
    }
  };
  BasicInplaceReplace.INSTANCE = new BasicInplaceReplace();

  // node_modules/monaco-editor/esm/vs/base/common/linkedList.js
  var Node = class {
    constructor(element) {
      this.element = element;
      this.next = Node.Undefined;
      this.prev = Node.Undefined;
    }
  };
  Node.Undefined = new Node(void 0);
  var LinkedList = class {
    constructor() {
      this._first = Node.Undefined;
      this._last = Node.Undefined;
      this._size = 0;
    }
    get size() {
      return this._size;
    }
    isEmpty() {
      return this._first === Node.Undefined;
    }
    clear() {
      let node = this._first;
      while (node !== Node.Undefined) {
        const next = node.next;
        node.prev = Node.Undefined;
        node.next = Node.Undefined;
        node = next;
      }
      this._first = Node.Undefined;
      this._last = Node.Undefined;
      this._size = 0;
    }
    unshift(element) {
      return this._insert(element, false);
    }
    push(element) {
      return this._insert(element, true);
    }
    _insert(element, atTheEnd) {
      const newNode = new Node(element);
      if (this._first === Node.Undefined) {
        this._first = newNode;
        this._last = newNode;
      } else if (atTheEnd) {
        const oldLast = this._last;
        this._last = newNode;
        newNode.prev = oldLast;
        oldLast.next = newNode;
      } else {
        const oldFirst = this._first;
        this._first = newNode;
        newNode.next = oldFirst;
        oldFirst.prev = newNode;
      }
      this._size += 1;
      let didRemove = false;
      return () => {
        if (!didRemove) {
          didRemove = true;
          this._remove(newNode);
        }
      };
    }
    shift() {
      if (this._first === Node.Undefined) {
        return void 0;
      } else {
        const res = this._first.element;
        this._remove(this._first);
        return res;
      }
    }
    pop() {
      if (this._last === Node.Undefined) {
        return void 0;
      } else {
        const res = this._last.element;
        this._remove(this._last);
        return res;
      }
    }
    _remove(node) {
      if (node.prev !== Node.Undefined && node.next !== Node.Undefined) {
        const anchor = node.prev;
        anchor.next = node.next;
        node.next.prev = anchor;
      } else if (node.prev === Node.Undefined && node.next === Node.Undefined) {
        this._first = Node.Undefined;
        this._last = Node.Undefined;
      } else if (node.next === Node.Undefined) {
        this._last = this._last.prev;
        this._last.next = Node.Undefined;
      } else if (node.prev === Node.Undefined) {
        this._first = this._first.next;
        this._first.prev = Node.Undefined;
      }
      this._size -= 1;
    }
    *[Symbol.iterator]() {
      let node = this._first;
      while (node !== Node.Undefined) {
        yield node.element;
        node = node.next;
      }
    }
  };

  // node_modules/monaco-editor/esm/vs/base/common/stopwatch.js
  var hasPerformanceNow = globals.performance && typeof globals.performance.now === "function";
  var StopWatch = class {
    constructor(highResolution) {
      this._highResolution = hasPerformanceNow && highResolution;
      this._startTime = this._now();
      this._stopTime = -1;
    }
    static create(highResolution = true) {
      return new StopWatch(highResolution);
    }
    stop() {
      this._stopTime = this._now();
    }
    elapsed() {
      if (this._stopTime !== -1) {
        return this._stopTime - this._startTime;
      }
      return this._now() - this._startTime;
    }
    _now() {
      return this._highResolution ? globals.performance.now() : Date.now();
    }
  };

  // node_modules/monaco-editor/esm/vs/base/common/event.js
  var Event;
  (function(Event2) {
    Event2.None = () => Disposable.None;
    function once(event) {
      return (listener, thisArgs = null, disposables) => {
        let didFire = false;
        let result;
        result = event((e) => {
          if (didFire) {
            return;
          } else if (result) {
            result.dispose();
          } else {
            didFire = true;
          }
          return listener.call(thisArgs, e);
        }, null, disposables);
        if (didFire) {
          result.dispose();
        }
        return result;
      };
    }
    Event2.once = once;
    function map(event, map2) {
      return snapshot((listener, thisArgs = null, disposables) => event((i) => listener.call(thisArgs, map2(i)), null, disposables));
    }
    Event2.map = map;
    function forEach(event, each) {
      return snapshot((listener, thisArgs = null, disposables) => event((i) => {
        each(i);
        listener.call(thisArgs, i);
      }, null, disposables));
    }
    Event2.forEach = forEach;
    function filter(event, filter2) {
      return snapshot((listener, thisArgs = null, disposables) => event((e) => filter2(e) && listener.call(thisArgs, e), null, disposables));
    }
    Event2.filter = filter;
    function signal(event) {
      return event;
    }
    Event2.signal = signal;
    function any(...events) {
      return (listener, thisArgs = null, disposables) => combinedDisposable(...events.map((event) => event((e) => listener.call(thisArgs, e), null, disposables)));
    }
    Event2.any = any;
    function reduce(event, merge, initial) {
      let output = initial;
      return map(event, (e) => {
        output = merge(output, e);
        return output;
      });
    }
    Event2.reduce = reduce;
    function snapshot(event) {
      let listener;
      const emitter = new Emitter({
        onFirstListenerAdd() {
          listener = event(emitter.fire, emitter);
        },
        onLastListenerRemove() {
          listener.dispose();
        }
      });
      return emitter.event;
    }
    Event2.snapshot = snapshot;
    function debounce(event, merge, delay = 100, leading = false, leakWarningThreshold) {
      let subscription;
      let output = void 0;
      let handle = void 0;
      let numDebouncedCalls = 0;
      const emitter = new Emitter({
        leakWarningThreshold,
        onFirstListenerAdd() {
          subscription = event((cur) => {
            numDebouncedCalls++;
            output = merge(output, cur);
            if (leading && !handle) {
              emitter.fire(output);
              output = void 0;
            }
            clearTimeout(handle);
            handle = setTimeout(() => {
              const _output = output;
              output = void 0;
              handle = void 0;
              if (!leading || numDebouncedCalls > 1) {
                emitter.fire(_output);
              }
              numDebouncedCalls = 0;
            }, delay);
          });
        },
        onLastListenerRemove() {
          subscription.dispose();
        }
      });
      return emitter.event;
    }
    Event2.debounce = debounce;
    function stopwatch(event) {
      const start = new Date().getTime();
      return map(once(event), (_) => new Date().getTime() - start);
    }
    Event2.stopwatch = stopwatch;
    function latch(event, equals2 = (a2, b) => a2 === b) {
      let firstCall = true;
      let cache;
      return filter(event, (value) => {
        const shouldEmit = firstCall || !equals2(value, cache);
        firstCall = false;
        cache = value;
        return shouldEmit;
      });
    }
    Event2.latch = latch;
    function split(event, isT) {
      return [
        Event2.filter(event, isT),
        Event2.filter(event, (e) => !isT(e))
      ];
    }
    Event2.split = split;
    function buffer(event, nextTick = false, _buffer = []) {
      let buffer2 = _buffer.slice();
      let listener = event((e) => {
        if (buffer2) {
          buffer2.push(e);
        } else {
          emitter.fire(e);
        }
      });
      const flush = () => {
        if (buffer2) {
          buffer2.forEach((e) => emitter.fire(e));
        }
        buffer2 = null;
      };
      const emitter = new Emitter({
        onFirstListenerAdd() {
          if (!listener) {
            listener = event((e) => emitter.fire(e));
          }
        },
        onFirstListenerDidAdd() {
          if (buffer2) {
            if (nextTick) {
              setTimeout(flush);
            } else {
              flush();
            }
          }
        },
        onLastListenerRemove() {
          if (listener) {
            listener.dispose();
          }
          listener = null;
        }
      });
      return emitter.event;
    }
    Event2.buffer = buffer;
    class ChainableEvent {
      constructor(event) {
        this.event = event;
      }
      map(fn) {
        return new ChainableEvent(map(this.event, fn));
      }
      forEach(fn) {
        return new ChainableEvent(forEach(this.event, fn));
      }
      filter(fn) {
        return new ChainableEvent(filter(this.event, fn));
      }
      reduce(merge, initial) {
        return new ChainableEvent(reduce(this.event, merge, initial));
      }
      latch() {
        return new ChainableEvent(latch(this.event));
      }
      debounce(merge, delay = 100, leading = false, leakWarningThreshold) {
        return new ChainableEvent(debounce(this.event, merge, delay, leading, leakWarningThreshold));
      }
      on(listener, thisArgs, disposables) {
        return this.event(listener, thisArgs, disposables);
      }
      once(listener, thisArgs, disposables) {
        return once(this.event)(listener, thisArgs, disposables);
      }
    }
    function chain(event) {
      return new ChainableEvent(event);
    }
    Event2.chain = chain;
    function fromNodeEventEmitter(emitter, eventName, map2 = (id) => id) {
      const fn = (...args) => result.fire(map2(...args));
      const onFirstListenerAdd = () => emitter.on(eventName, fn);
      const onLastListenerRemove = () => emitter.removeListener(eventName, fn);
      const result = new Emitter({onFirstListenerAdd, onLastListenerRemove});
      return result.event;
    }
    Event2.fromNodeEventEmitter = fromNodeEventEmitter;
    function fromDOMEventEmitter(emitter, eventName, map2 = (id) => id) {
      const fn = (...args) => result.fire(map2(...args));
      const onFirstListenerAdd = () => emitter.addEventListener(eventName, fn);
      const onLastListenerRemove = () => emitter.removeEventListener(eventName, fn);
      const result = new Emitter({onFirstListenerAdd, onLastListenerRemove});
      return result.event;
    }
    Event2.fromDOMEventEmitter = fromDOMEventEmitter;
    function fromPromise(promise) {
      const emitter = new Emitter();
      let shouldEmit = false;
      promise.then(void 0, () => null).then(() => {
        if (!shouldEmit) {
          setTimeout(() => emitter.fire(void 0), 0);
        } else {
          emitter.fire(void 0);
        }
      });
      shouldEmit = true;
      return emitter.event;
    }
    Event2.fromPromise = fromPromise;
    function toPromise(event) {
      return new Promise((resolve2) => once(event)(resolve2));
    }
    Event2.toPromise = toPromise;
  })(Event || (Event = {}));
  var EventProfiling = class {
    constructor(name) {
      this._listenerCount = 0;
      this._invocationCount = 0;
      this._elapsedOverall = 0;
      this._name = `${name}_${EventProfiling._idPool++}`;
    }
    start(listenerCount) {
      this._stopWatch = new StopWatch(true);
      this._listenerCount = listenerCount;
    }
    stop() {
      if (this._stopWatch) {
        const elapsed = this._stopWatch.elapsed();
        this._elapsedOverall += elapsed;
        this._invocationCount += 1;
        console.info(`did FIRE ${this._name}: elapsed_ms: ${elapsed.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`);
        this._stopWatch = void 0;
      }
    }
  };
  EventProfiling._idPool = 0;
  var _globalLeakWarningThreshold = -1;
  var LeakageMonitor = class {
    constructor(customThreshold, name = Math.random().toString(18).slice(2, 5)) {
      this.customThreshold = customThreshold;
      this.name = name;
      this._warnCountdown = 0;
    }
    dispose() {
      if (this._stacks) {
        this._stacks.clear();
      }
    }
    check(listenerCount) {
      let threshold = _globalLeakWarningThreshold;
      if (typeof this.customThreshold === "number") {
        threshold = this.customThreshold;
      }
      if (threshold <= 0 || listenerCount < threshold) {
        return void 0;
      }
      if (!this._stacks) {
        this._stacks = new Map();
      }
      const stack = new Error().stack.split("\n").slice(3).join("\n");
      const count = this._stacks.get(stack) || 0;
      this._stacks.set(stack, count + 1);
      this._warnCountdown -= 1;
      if (this._warnCountdown <= 0) {
        this._warnCountdown = threshold * 0.5;
        let topStack;
        let topCount = 0;
        for (const [stack2, count2] of this._stacks) {
          if (!topStack || topCount < count2) {
            topStack = stack2;
            topCount = count2;
          }
        }
        console.warn(`[${this.name}] potential listener LEAK detected, having ${listenerCount} listeners already. MOST frequent listener (${topCount}):`);
        console.warn(topStack);
      }
      return () => {
        const count2 = this._stacks.get(stack) || 0;
        this._stacks.set(stack, count2 - 1);
      };
    }
  };
  var Emitter = class {
    constructor(options) {
      var _a2;
      this._disposed = false;
      this._options = options;
      this._leakageMon = _globalLeakWarningThreshold > 0 ? new LeakageMonitor(this._options && this._options.leakWarningThreshold) : void 0;
      this._perfMon = ((_a2 = this._options) === null || _a2 === void 0 ? void 0 : _a2._profName) ? new EventProfiling(this._options._profName) : void 0;
    }
    get event() {
      if (!this._event) {
        this._event = (listener, thisArgs, disposables) => {
          var _a2;
          if (!this._listeners) {
            this._listeners = new LinkedList();
          }
          const firstListener = this._listeners.isEmpty();
          if (firstListener && this._options && this._options.onFirstListenerAdd) {
            this._options.onFirstListenerAdd(this);
          }
          const remove = this._listeners.push(!thisArgs ? listener : [listener, thisArgs]);
          if (firstListener && this._options && this._options.onFirstListenerDidAdd) {
            this._options.onFirstListenerDidAdd(this);
          }
          if (this._options && this._options.onListenerDidAdd) {
            this._options.onListenerDidAdd(this, listener, thisArgs);
          }
          const removeMonitor = (_a2 = this._leakageMon) === null || _a2 === void 0 ? void 0 : _a2.check(this._listeners.size);
          let result;
          result = {
            dispose: () => {
              if (removeMonitor) {
                removeMonitor();
              }
              result.dispose = Emitter._noop;
              if (!this._disposed) {
                remove();
                if (this._options && this._options.onLastListenerRemove) {
                  const hasListeners = this._listeners && !this._listeners.isEmpty();
                  if (!hasListeners) {
                    this._options.onLastListenerRemove(this);
                  }
                }
              }
            }
          };
          if (disposables instanceof DisposableStore) {
            disposables.add(result);
          } else if (Array.isArray(disposables)) {
            disposables.push(result);
          }
          return result;
        };
      }
      return this._event;
    }
    fire(event) {
      var _a2, _b;
      if (this._listeners) {
        if (!this._deliveryQueue) {
          this._deliveryQueue = new LinkedList();
        }
        for (let listener of this._listeners) {
          this._deliveryQueue.push([listener, event]);
        }
        (_a2 = this._perfMon) === null || _a2 === void 0 ? void 0 : _a2.start(this._deliveryQueue.size);
        while (this._deliveryQueue.size > 0) {
          const [listener, event2] = this._deliveryQueue.shift();
          try {
            if (typeof listener === "function") {
              listener.call(void 0, event2);
            } else {
              listener[0].call(listener[1], event2);
            }
          } catch (e) {
            onUnexpectedError(e);
          }
        }
        (_b = this._perfMon) === null || _b === void 0 ? void 0 : _b.stop();
      }
    }
    dispose() {
      var _a2, _b, _c, _d, _e;
      if (!this._disposed) {
        this._disposed = true;
        (_a2 = this._listeners) === null || _a2 === void 0 ? void 0 : _a2.clear();
        (_b = this._deliveryQueue) === null || _b === void 0 ? void 0 : _b.clear();
        (_d = (_c = this._options) === null || _c === void 0 ? void 0 : _c.onLastListenerRemove) === null || _d === void 0 ? void 0 : _d.call(_c);
        (_e = this._leakageMon) === null || _e === void 0 ? void 0 : _e.dispose();
      }
    }
  };
  Emitter._noop = function() {
  };

  // node_modules/monaco-editor/esm/vs/base/common/cancellation.js
  var shortcutEvent = Object.freeze(function(callback, context) {
    const handle = setTimeout(callback.bind(context), 0);
    return {dispose() {
      clearTimeout(handle);
    }};
  });
  var CancellationToken;
  (function(CancellationToken2) {
    function isCancellationToken(thing) {
      if (thing === CancellationToken2.None || thing === CancellationToken2.Cancelled) {
        return true;
      }
      if (thing instanceof MutableToken) {
        return true;
      }
      if (!thing || typeof thing !== "object") {
        return false;
      }
      return typeof thing.isCancellationRequested === "boolean" && typeof thing.onCancellationRequested === "function";
    }
    CancellationToken2.isCancellationToken = isCancellationToken;
    CancellationToken2.None = Object.freeze({
      isCancellationRequested: false,
      onCancellationRequested: Event.None
    });
    CancellationToken2.Cancelled = Object.freeze({
      isCancellationRequested: true,
      onCancellationRequested: shortcutEvent
    });
  })(CancellationToken || (CancellationToken = {}));
  var MutableToken = class {
    constructor() {
      this._isCancelled = false;
      this._emitter = null;
    }
    cancel() {
      if (!this._isCancelled) {
        this._isCancelled = true;
        if (this._emitter) {
          this._emitter.fire(void 0);
          this.dispose();
        }
      }
    }
    get isCancellationRequested() {
      return this._isCancelled;
    }
    get onCancellationRequested() {
      if (this._isCancelled) {
        return shortcutEvent;
      }
      if (!this._emitter) {
        this._emitter = new Emitter();
      }
      return this._emitter.event;
    }
    dispose() {
      if (this._emitter) {
        this._emitter.dispose();
        this._emitter = null;
      }
    }
  };
  var CancellationTokenSource = class {
    constructor(parent) {
      this._token = void 0;
      this._parentListener = void 0;
      this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);
    }
    get token() {
      if (!this._token) {
        this._token = new MutableToken();
      }
      return this._token;
    }
    cancel() {
      if (!this._token) {
        this._token = CancellationToken.Cancelled;
      } else if (this._token instanceof MutableToken) {
        this._token.cancel();
      }
    }
    dispose(cancel = false) {
      if (cancel) {
        this.cancel();
      }
      if (this._parentListener) {
        this._parentListener.dispose();
      }
      if (!this._token) {
        this._token = CancellationToken.None;
      } else if (this._token instanceof MutableToken) {
        this._token.dispose();
      }
    }
  };

  // node_modules/monaco-editor/esm/vs/base/common/keyCodes.js
  var KeyCodeStrMap = class {
    constructor() {
      this._keyCodeToStr = [];
      this._strToKeyCode = Object.create(null);
    }
    define(keyCode, str) {
      this._keyCodeToStr[keyCode] = str;
      this._strToKeyCode[str.toLowerCase()] = keyCode;
    }
    keyCodeToStr(keyCode) {
      return this._keyCodeToStr[keyCode];
    }
    strToKeyCode(str) {
      return this._strToKeyCode[str.toLowerCase()] || 0;
    }
  };
  var uiMap = new KeyCodeStrMap();
  var userSettingsUSMap = new KeyCodeStrMap();
  var userSettingsGeneralMap = new KeyCodeStrMap();
  (function() {
    function define(keyCode, uiLabel, usUserSettingsLabel = uiLabel, generalUserSettingsLabel = usUserSettingsLabel) {
      uiMap.define(keyCode, uiLabel);
      userSettingsUSMap.define(keyCode, usUserSettingsLabel);
      userSettingsGeneralMap.define(keyCode, generalUserSettingsLabel);
    }
    define(0, "unknown");
    define(1, "Backspace");
    define(2, "Tab");
    define(3, "Enter");
    define(4, "Shift");
    define(5, "Ctrl");
    define(6, "Alt");
    define(7, "PauseBreak");
    define(8, "CapsLock");
    define(9, "Escape");
    define(10, "Space");
    define(11, "PageUp");
    define(12, "PageDown");
    define(13, "End");
    define(14, "Home");
    define(15, "LeftArrow", "Left");
    define(16, "UpArrow", "Up");
    define(17, "RightArrow", "Right");
    define(18, "DownArrow", "Down");
    define(19, "Insert");
    define(20, "Delete");
    define(21, "0");
    define(22, "1");
    define(23, "2");
    define(24, "3");
    define(25, "4");
    define(26, "5");
    define(27, "6");
    define(28, "7");
    define(29, "8");
    define(30, "9");
    define(31, "A");
    define(32, "B");
    define(33, "C");
    define(34, "D");
    define(35, "E");
    define(36, "F");
    define(37, "G");
    define(38, "H");
    define(39, "I");
    define(40, "J");
    define(41, "K");
    define(42, "L");
    define(43, "M");
    define(44, "N");
    define(45, "O");
    define(46, "P");
    define(47, "Q");
    define(48, "R");
    define(49, "S");
    define(50, "T");
    define(51, "U");
    define(52, "V");
    define(53, "W");
    define(54, "X");
    define(55, "Y");
    define(56, "Z");
    define(57, "Meta");
    define(58, "ContextMenu");
    define(59, "F1");
    define(60, "F2");
    define(61, "F3");
    define(62, "F4");
    define(63, "F5");
    define(64, "F6");
    define(65, "F7");
    define(66, "F8");
    define(67, "F9");
    define(68, "F10");
    define(69, "F11");
    define(70, "F12");
    define(71, "F13");
    define(72, "F14");
    define(73, "F15");
    define(74, "F16");
    define(75, "F17");
    define(76, "F18");
    define(77, "F19");
    define(78, "NumLock");
    define(79, "ScrollLock");
    define(80, ";", ";", "OEM_1");
    define(81, "=", "=", "OEM_PLUS");
    define(82, ",", ",", "OEM_COMMA");
    define(83, "-", "-", "OEM_MINUS");
    define(84, ".", ".", "OEM_PERIOD");
    define(85, "/", "/", "OEM_2");
    define(86, "`", "`", "OEM_3");
    define(110, "ABNT_C1");
    define(111, "ABNT_C2");
    define(87, "[", "[", "OEM_4");
    define(88, "\\", "\\", "OEM_5");
    define(89, "]", "]", "OEM_6");
    define(90, "'", "'", "OEM_7");
    define(91, "OEM_8");
    define(92, "OEM_102");
    define(93, "NumPad0");
    define(94, "NumPad1");
    define(95, "NumPad2");
    define(96, "NumPad3");
    define(97, "NumPad4");
    define(98, "NumPad5");
    define(99, "NumPad6");
    define(100, "NumPad7");
    define(101, "NumPad8");
    define(102, "NumPad9");
    define(103, "NumPad_Multiply");
    define(104, "NumPad_Add");
    define(105, "NumPad_Separator");
    define(106, "NumPad_Subtract");
    define(107, "NumPad_Decimal");
    define(108, "NumPad_Divide");
  })();
  var KeyCodeUtils;
  (function(KeyCodeUtils2) {
    function toString(keyCode) {
      return uiMap.keyCodeToStr(keyCode);
    }
    KeyCodeUtils2.toString = toString;
    function fromString(key) {
      return uiMap.strToKeyCode(key);
    }
    KeyCodeUtils2.fromString = fromString;
    function toUserSettingsUS(keyCode) {
      return userSettingsUSMap.keyCodeToStr(keyCode);
    }
    KeyCodeUtils2.toUserSettingsUS = toUserSettingsUS;
    function toUserSettingsGeneral(keyCode) {
      return userSettingsGeneralMap.keyCodeToStr(keyCode);
    }
    KeyCodeUtils2.toUserSettingsGeneral = toUserSettingsGeneral;
    function fromUserSettings(key) {
      return userSettingsUSMap.strToKeyCode(key) || userSettingsGeneralMap.strToKeyCode(key);
    }
    KeyCodeUtils2.fromUserSettings = fromUserSettings;
  })(KeyCodeUtils || (KeyCodeUtils = {}));
  function KeyChord(firstPart, secondPart) {
    const chordPart = (secondPart & 65535) << 16 >>> 0;
    return (firstPart | chordPart) >>> 0;
  }

  // node_modules/monaco-editor/esm/vs/editor/common/core/selection.js
  var Selection = class extends Range {
    constructor(selectionStartLineNumber, selectionStartColumn, positionLineNumber, positionColumn) {
      super(selectionStartLineNumber, selectionStartColumn, positionLineNumber, positionColumn);
      this.selectionStartLineNumber = selectionStartLineNumber;
      this.selectionStartColumn = selectionStartColumn;
      this.positionLineNumber = positionLineNumber;
      this.positionColumn = positionColumn;
    }
    toString() {
      return "[" + this.selectionStartLineNumber + "," + this.selectionStartColumn + " -> " + this.positionLineNumber + "," + this.positionColumn + "]";
    }
    equalsSelection(other) {
      return Selection.selectionsEqual(this, other);
    }
    static selectionsEqual(a2, b) {
      return a2.selectionStartLineNumber === b.selectionStartLineNumber && a2.selectionStartColumn === b.selectionStartColumn && a2.positionLineNumber === b.positionLineNumber && a2.positionColumn === b.positionColumn;
    }
    getDirection() {
      if (this.selectionStartLineNumber === this.startLineNumber && this.selectionStartColumn === this.startColumn) {
        return 0;
      }
      return 1;
    }
    setEndPosition(endLineNumber, endColumn) {
      if (this.getDirection() === 0) {
        return new Selection(this.startLineNumber, this.startColumn, endLineNumber, endColumn);
      }
      return new Selection(endLineNumber, endColumn, this.startLineNumber, this.startColumn);
    }
    getPosition() {
      return new Position(this.positionLineNumber, this.positionColumn);
    }
    setStartPosition(startLineNumber, startColumn) {
      if (this.getDirection() === 0) {
        return new Selection(startLineNumber, startColumn, this.endLineNumber, this.endColumn);
      }
      return new Selection(this.endLineNumber, this.endColumn, startLineNumber, startColumn);
    }
    static fromPositions(start, end = start) {
      return new Selection(start.lineNumber, start.column, end.lineNumber, end.column);
    }
    static liftSelection(sel) {
      return new Selection(sel.selectionStartLineNumber, sel.selectionStartColumn, sel.positionLineNumber, sel.positionColumn);
    }
    static selectionsArrEqual(a2, b) {
      if (a2 && !b || !a2 && b) {
        return false;
      }
      if (!a2 && !b) {
        return true;
      }
      if (a2.length !== b.length) {
        return false;
      }
      for (let i = 0, len = a2.length; i < len; i++) {
        if (!this.selectionsEqual(a2[i], b[i])) {
          return false;
        }
      }
      return true;
    }
    static isISelection(obj) {
      return obj && typeof obj.selectionStartLineNumber === "number" && typeof obj.selectionStartColumn === "number" && typeof obj.positionLineNumber === "number" && typeof obj.positionColumn === "number";
    }
    static createWithDirection(startLineNumber, startColumn, endLineNumber, endColumn, direction) {
      if (direction === 0) {
        return new Selection(startLineNumber, startColumn, endLineNumber, endColumn);
      }
      return new Selection(endLineNumber, endColumn, startLineNumber, startColumn);
    }
  };

  // node_modules/monaco-editor/esm/vs/editor/common/core/token.js
  var Token = class {
    constructor(offset, type, language) {
      this.offset = offset | 0;
      this.type = type;
      this.language = language;
    }
    toString() {
      return "(" + this.offset + ", " + this.type + ")";
    }
  };

  // node_modules/monaco-editor/esm/vs/editor/common/standalone/standaloneEnums.js
  var AccessibilitySupport;
  (function(AccessibilitySupport2) {
    AccessibilitySupport2[AccessibilitySupport2["Unknown"] = 0] = "Unknown";
    AccessibilitySupport2[AccessibilitySupport2["Disabled"] = 1] = "Disabled";
    AccessibilitySupport2[AccessibilitySupport2["Enabled"] = 2] = "Enabled";
  })(AccessibilitySupport || (AccessibilitySupport = {}));
  var CompletionItemInsertTextRule;
  (function(CompletionItemInsertTextRule2) {
    CompletionItemInsertTextRule2[CompletionItemInsertTextRule2["KeepWhitespace"] = 1] = "KeepWhitespace";
    CompletionItemInsertTextRule2[CompletionItemInsertTextRule2["InsertAsSnippet"] = 4] = "InsertAsSnippet";
  })(CompletionItemInsertTextRule || (CompletionItemInsertTextRule = {}));
  var CompletionItemKind;
  (function(CompletionItemKind3) {
    CompletionItemKind3[CompletionItemKind3["Method"] = 0] = "Method";
    CompletionItemKind3[CompletionItemKind3["Function"] = 1] = "Function";
    CompletionItemKind3[CompletionItemKind3["Constructor"] = 2] = "Constructor";
    CompletionItemKind3[CompletionItemKind3["Field"] = 3] = "Field";
    CompletionItemKind3[CompletionItemKind3["Variable"] = 4] = "Variable";
    CompletionItemKind3[CompletionItemKind3["Class"] = 5] = "Class";
    CompletionItemKind3[CompletionItemKind3["Struct"] = 6] = "Struct";
    CompletionItemKind3[CompletionItemKind3["Interface"] = 7] = "Interface";
    CompletionItemKind3[CompletionItemKind3["Module"] = 8] = "Module";
    CompletionItemKind3[CompletionItemKind3["Property"] = 9] = "Property";
    CompletionItemKind3[CompletionItemKind3["Event"] = 10] = "Event";
    CompletionItemKind3[CompletionItemKind3["Operator"] = 11] = "Operator";
    CompletionItemKind3[CompletionItemKind3["Unit"] = 12] = "Unit";
    CompletionItemKind3[CompletionItemKind3["Value"] = 13] = "Value";
    CompletionItemKind3[CompletionItemKind3["Constant"] = 14] = "Constant";
    CompletionItemKind3[CompletionItemKind3["Enum"] = 15] = "Enum";
    CompletionItemKind3[CompletionItemKind3["EnumMember"] = 16] = "EnumMember";
    CompletionItemKind3[CompletionItemKind3["Keyword"] = 17] = "Keyword";
    CompletionItemKind3[CompletionItemKind3["Text"] = 18] = "Text";
    CompletionItemKind3[CompletionItemKind3["Color"] = 19] = "Color";
    CompletionItemKind3[CompletionItemKind3["File"] = 20] = "File";
    CompletionItemKind3[CompletionItemKind3["Reference"] = 21] = "Reference";
    CompletionItemKind3[CompletionItemKind3["Customcolor"] = 22] = "Customcolor";
    CompletionItemKind3[CompletionItemKind3["Folder"] = 23] = "Folder";
    CompletionItemKind3[CompletionItemKind3["TypeParameter"] = 24] = "TypeParameter";
    CompletionItemKind3[CompletionItemKind3["User"] = 25] = "User";
    CompletionItemKind3[CompletionItemKind3["Issue"] = 26] = "Issue";
    CompletionItemKind3[CompletionItemKind3["Snippet"] = 27] = "Snippet";
  })(CompletionItemKind || (CompletionItemKind = {}));
  var CompletionItemTag;
  (function(CompletionItemTag3) {
    CompletionItemTag3[CompletionItemTag3["Deprecated"] = 1] = "Deprecated";
  })(CompletionItemTag || (CompletionItemTag = {}));
  var CompletionTriggerKind;
  (function(CompletionTriggerKind2) {
    CompletionTriggerKind2[CompletionTriggerKind2["Invoke"] = 0] = "Invoke";
    CompletionTriggerKind2[CompletionTriggerKind2["TriggerCharacter"] = 1] = "TriggerCharacter";
    CompletionTriggerKind2[CompletionTriggerKind2["TriggerForIncompleteCompletions"] = 2] = "TriggerForIncompleteCompletions";
  })(CompletionTriggerKind || (CompletionTriggerKind = {}));
  var ContentWidgetPositionPreference;
  (function(ContentWidgetPositionPreference2) {
    ContentWidgetPositionPreference2[ContentWidgetPositionPreference2["EXACT"] = 0] = "EXACT";
    ContentWidgetPositionPreference2[ContentWidgetPositionPreference2["ABOVE"] = 1] = "ABOVE";
    ContentWidgetPositionPreference2[ContentWidgetPositionPreference2["BELOW"] = 2] = "BELOW";
  })(ContentWidgetPositionPreference || (ContentWidgetPositionPreference = {}));
  var CursorChangeReason;
  (function(CursorChangeReason2) {
    CursorChangeReason2[CursorChangeReason2["NotSet"] = 0] = "NotSet";
    CursorChangeReason2[CursorChangeReason2["ContentFlush"] = 1] = "ContentFlush";
    CursorChangeReason2[CursorChangeReason2["RecoverFromMarkers"] = 2] = "RecoverFromMarkers";
    CursorChangeReason2[CursorChangeReason2["Explicit"] = 3] = "Explicit";
    CursorChangeReason2[CursorChangeReason2["Paste"] = 4] = "Paste";
    CursorChangeReason2[CursorChangeReason2["Undo"] = 5] = "Undo";
    CursorChangeReason2[CursorChangeReason2["Redo"] = 6] = "Redo";
  })(CursorChangeReason || (CursorChangeReason = {}));
  var DefaultEndOfLine;
  (function(DefaultEndOfLine2) {
    DefaultEndOfLine2[DefaultEndOfLine2["LF"] = 1] = "LF";
    DefaultEndOfLine2[DefaultEndOfLine2["CRLF"] = 2] = "CRLF";
  })(DefaultEndOfLine || (DefaultEndOfLine = {}));
  var DocumentHighlightKind;
  (function(DocumentHighlightKind3) {
    DocumentHighlightKind3[DocumentHighlightKind3["Text"] = 0] = "Text";
    DocumentHighlightKind3[DocumentHighlightKind3["Read"] = 1] = "Read";
    DocumentHighlightKind3[DocumentHighlightKind3["Write"] = 2] = "Write";
  })(DocumentHighlightKind || (DocumentHighlightKind = {}));
  var EditorAutoIndentStrategy;
  (function(EditorAutoIndentStrategy2) {
    EditorAutoIndentStrategy2[EditorAutoIndentStrategy2["None"] = 0] = "None";
    EditorAutoIndentStrategy2[EditorAutoIndentStrategy2["Keep"] = 1] = "Keep";
    EditorAutoIndentStrategy2[EditorAutoIndentStrategy2["Brackets"] = 2] = "Brackets";
    EditorAutoIndentStrategy2[EditorAutoIndentStrategy2["Advanced"] = 3] = "Advanced";
    EditorAutoIndentStrategy2[EditorAutoIndentStrategy2["Full"] = 4] = "Full";
  })(EditorAutoIndentStrategy || (EditorAutoIndentStrategy = {}));
  var EditorOption;
  (function(EditorOption2) {
    EditorOption2[EditorOption2["acceptSuggestionOnCommitCharacter"] = 0] = "acceptSuggestionOnCommitCharacter";
    EditorOption2[EditorOption2["acceptSuggestionOnEnter"] = 1] = "acceptSuggestionOnEnter";
    EditorOption2[EditorOption2["accessibilitySupport"] = 2] = "accessibilitySupport";
    EditorOption2[EditorOption2["accessibilityPageSize"] = 3] = "accessibilityPageSize";
    EditorOption2[EditorOption2["ariaLabel"] = 4] = "ariaLabel";
    EditorOption2[EditorOption2["autoClosingBrackets"] = 5] = "autoClosingBrackets";
    EditorOption2[EditorOption2["autoClosingDelete"] = 6] = "autoClosingDelete";
    EditorOption2[EditorOption2["autoClosingOvertype"] = 7] = "autoClosingOvertype";
    EditorOption2[EditorOption2["autoClosingQuotes"] = 8] = "autoClosingQuotes";
    EditorOption2[EditorOption2["autoIndent"] = 9] = "autoIndent";
    EditorOption2[EditorOption2["automaticLayout"] = 10] = "automaticLayout";
    EditorOption2[EditorOption2["autoSurround"] = 11] = "autoSurround";
    EditorOption2[EditorOption2["codeLens"] = 12] = "codeLens";
    EditorOption2[EditorOption2["codeLensFontFamily"] = 13] = "codeLensFontFamily";
    EditorOption2[EditorOption2["codeLensFontSize"] = 14] = "codeLensFontSize";
    EditorOption2[EditorOption2["colorDecorators"] = 15] = "colorDecorators";
    EditorOption2[EditorOption2["columnSelection"] = 16] = "columnSelection";
    EditorOption2[EditorOption2["comments"] = 17] = "comments";
    EditorOption2[EditorOption2["contextmenu"] = 18] = "contextmenu";
    EditorOption2[EditorOption2["copyWithSyntaxHighlighting"] = 19] = "copyWithSyntaxHighlighting";
    EditorOption2[EditorOption2["cursorBlinking"] = 20] = "cursorBlinking";
    EditorOption2[EditorOption2["cursorSmoothCaretAnimation"] = 21] = "cursorSmoothCaretAnimation";
    EditorOption2[EditorOption2["cursorStyle"] = 22] = "cursorStyle";
    EditorOption2[EditorOption2["cursorSurroundingLines"] = 23] = "cursorSurroundingLines";
    EditorOption2[EditorOption2["cursorSurroundingLinesStyle"] = 24] = "cursorSurroundingLinesStyle";
    EditorOption2[EditorOption2["cursorWidth"] = 25] = "cursorWidth";
    EditorOption2[EditorOption2["disableLayerHinting"] = 26] = "disableLayerHinting";
    EditorOption2[EditorOption2["disableMonospaceOptimizations"] = 27] = "disableMonospaceOptimizations";
    EditorOption2[EditorOption2["domReadOnly"] = 28] = "domReadOnly";
    EditorOption2[EditorOption2["dragAndDrop"] = 29] = "dragAndDrop";
    EditorOption2[EditorOption2["emptySelectionClipboard"] = 30] = "emptySelectionClipboard";
    EditorOption2[EditorOption2["extraEditorClassName"] = 31] = "extraEditorClassName";
    EditorOption2[EditorOption2["fastScrollSensitivity"] = 32] = "fastScrollSensitivity";
    EditorOption2[EditorOption2["find"] = 33] = "find";
    EditorOption2[EditorOption2["fixedOverflowWidgets"] = 34] = "fixedOverflowWidgets";
    EditorOption2[EditorOption2["folding"] = 35] = "folding";
    EditorOption2[EditorOption2["foldingStrategy"] = 36] = "foldingStrategy";
    EditorOption2[EditorOption2["foldingHighlight"] = 37] = "foldingHighlight";
    EditorOption2[EditorOption2["unfoldOnClickAfterEndOfLine"] = 38] = "unfoldOnClickAfterEndOfLine";
    EditorOption2[EditorOption2["fontFamily"] = 39] = "fontFamily";
    EditorOption2[EditorOption2["fontInfo"] = 40] = "fontInfo";
    EditorOption2[EditorOption2["fontLigatures"] = 41] = "fontLigatures";
    EditorOption2[EditorOption2["fontSize"] = 42] = "fontSize";
    EditorOption2[EditorOption2["fontWeight"] = 43] = "fontWeight";
    EditorOption2[EditorOption2["formatOnPaste"] = 44] = "formatOnPaste";
    EditorOption2[EditorOption2["formatOnType"] = 45] = "formatOnType";
    EditorOption2[EditorOption2["glyphMargin"] = 46] = "glyphMargin";
    EditorOption2[EditorOption2["gotoLocation"] = 47] = "gotoLocation";
    EditorOption2[EditorOption2["hideCursorInOverviewRuler"] = 48] = "hideCursorInOverviewRuler";
    EditorOption2[EditorOption2["highlightActiveIndentGuide"] = 49] = "highlightActiveIndentGuide";
    EditorOption2[EditorOption2["hover"] = 50] = "hover";
    EditorOption2[EditorOption2["inDiffEditor"] = 51] = "inDiffEditor";
    EditorOption2[EditorOption2["inlineSuggest"] = 52] = "inlineSuggest";
    EditorOption2[EditorOption2["letterSpacing"] = 53] = "letterSpacing";
    EditorOption2[EditorOption2["lightbulb"] = 54] = "lightbulb";
    EditorOption2[EditorOption2["lineDecorationsWidth"] = 55] = "lineDecorationsWidth";
    EditorOption2[EditorOption2["lineHeight"] = 56] = "lineHeight";
    EditorOption2[EditorOption2["lineNumbers"] = 57] = "lineNumbers";
    EditorOption2[EditorOption2["lineNumbersMinChars"] = 58] = "lineNumbersMinChars";
    EditorOption2[EditorOption2["linkedEditing"] = 59] = "linkedEditing";
    EditorOption2[EditorOption2["links"] = 60] = "links";
    EditorOption2[EditorOption2["matchBrackets"] = 61] = "matchBrackets";
    EditorOption2[EditorOption2["minimap"] = 62] = "minimap";
    EditorOption2[EditorOption2["mouseStyle"] = 63] = "mouseStyle";
    EditorOption2[EditorOption2["mouseWheelScrollSensitivity"] = 64] = "mouseWheelScrollSensitivity";
    EditorOption2[EditorOption2["mouseWheelZoom"] = 65] = "mouseWheelZoom";
    EditorOption2[EditorOption2["multiCursorMergeOverlapping"] = 66] = "multiCursorMergeOverlapping";
    EditorOption2[EditorOption2["multiCursorModifier"] = 67] = "multiCursorModifier";
    EditorOption2[EditorOption2["multiCursorPaste"] = 68] = "multiCursorPaste";
    EditorOption2[EditorOption2["occurrencesHighlight"] = 69] = "occurrencesHighlight";
    EditorOption2[EditorOption2["overviewRulerBorder"] = 70] = "overviewRulerBorder";
    EditorOption2[EditorOption2["overviewRulerLanes"] = 71] = "overviewRulerLanes";
    EditorOption2[EditorOption2["padding"] = 72] = "padding";
    EditorOption2[EditorOption2["parameterHints"] = 73] = "parameterHints";
    EditorOption2[EditorOption2["peekWidgetDefaultFocus"] = 74] = "peekWidgetDefaultFocus";
    EditorOption2[EditorOption2["definitionLinkOpensInPeek"] = 75] = "definitionLinkOpensInPeek";
    EditorOption2[EditorOption2["quickSuggestions"] = 76] = "quickSuggestions";
    EditorOption2[EditorOption2["quickSuggestionsDelay"] = 77] = "quickSuggestionsDelay";
    EditorOption2[EditorOption2["readOnly"] = 78] = "readOnly";
    EditorOption2[EditorOption2["renameOnType"] = 79] = "renameOnType";
    EditorOption2[EditorOption2["renderControlCharacters"] = 80] = "renderControlCharacters";
    EditorOption2[EditorOption2["renderIndentGuides"] = 81] = "renderIndentGuides";
    EditorOption2[EditorOption2["renderFinalNewline"] = 82] = "renderFinalNewline";
    EditorOption2[EditorOption2["renderLineHighlight"] = 83] = "renderLineHighlight";
    EditorOption2[EditorOption2["renderLineHighlightOnlyWhenFocus"] = 84] = "renderLineHighlightOnlyWhenFocus";
    EditorOption2[EditorOption2["renderValidationDecorations"] = 85] = "renderValidationDecorations";
    EditorOption2[EditorOption2["renderWhitespace"] = 86] = "renderWhitespace";
    EditorOption2[EditorOption2["revealHorizontalRightPadding"] = 87] = "revealHorizontalRightPadding";
    EditorOption2[EditorOption2["roundedSelection"] = 88] = "roundedSelection";
    EditorOption2[EditorOption2["rulers"] = 89] = "rulers";
    EditorOption2[EditorOption2["scrollbar"] = 90] = "scrollbar";
    EditorOption2[EditorOption2["scrollBeyondLastColumn"] = 91] = "scrollBeyondLastColumn";
    EditorOption2[EditorOption2["scrollBeyondLastLine"] = 92] = "scrollBeyondLastLine";
    EditorOption2[EditorOption2["scrollPredominantAxis"] = 93] = "scrollPredominantAxis";
    EditorOption2[EditorOption2["selectionClipboard"] = 94] = "selectionClipboard";
    EditorOption2[EditorOption2["selectionHighlight"] = 95] = "selectionHighlight";
    EditorOption2[EditorOption2["selectOnLineNumbers"] = 96] = "selectOnLineNumbers";
    EditorOption2[EditorOption2["showFoldingControls"] = 97] = "showFoldingControls";
    EditorOption2[EditorOption2["showUnused"] = 98] = "showUnused";
    EditorOption2[EditorOption2["snippetSuggestions"] = 99] = "snippetSuggestions";
    EditorOption2[EditorOption2["smartSelect"] = 100] = "smartSelect";
    EditorOption2[EditorOption2["smoothScrolling"] = 101] = "smoothScrolling";
    EditorOption2[EditorOption2["stickyTabStops"] = 102] = "stickyTabStops";
    EditorOption2[EditorOption2["stopRenderingLineAfter"] = 103] = "stopRenderingLineAfter";
    EditorOption2[EditorOption2["suggest"] = 104] = "suggest";
    EditorOption2[EditorOption2["suggestFontSize"] = 105] = "suggestFontSize";
    EditorOption2[EditorOption2["suggestLineHeight"] = 106] = "suggestLineHeight";
    EditorOption2[EditorOption2["suggestOnTriggerCharacters"] = 107] = "suggestOnTriggerCharacters";
    EditorOption2[EditorOption2["suggestSelection"] = 108] = "suggestSelection";
    EditorOption2[EditorOption2["tabCompletion"] = 109] = "tabCompletion";
    EditorOption2[EditorOption2["tabIndex"] = 110] = "tabIndex";
    EditorOption2[EditorOption2["unusualLineTerminators"] = 111] = "unusualLineTerminators";
    EditorOption2[EditorOption2["useShadowDOM"] = 112] = "useShadowDOM";
    EditorOption2[EditorOption2["useTabStops"] = 113] = "useTabStops";
    EditorOption2[EditorOption2["wordSeparators"] = 114] = "wordSeparators";
    EditorOption2[EditorOption2["wordWrap"] = 115] = "wordWrap";
    EditorOption2[EditorOption2["wordWrapBreakAfterCharacters"] = 116] = "wordWrapBreakAfterCharacters";
    EditorOption2[EditorOption2["wordWrapBreakBeforeCharacters"] = 117] = "wordWrapBreakBeforeCharacters";
    EditorOption2[EditorOption2["wordWrapColumn"] = 118] = "wordWrapColumn";
    EditorOption2[EditorOption2["wordWrapOverride1"] = 119] = "wordWrapOverride1";
    EditorOption2[EditorOption2["wordWrapOverride2"] = 120] = "wordWrapOverride2";
    EditorOption2[EditorOption2["wrappingIndent"] = 121] = "wrappingIndent";
    EditorOption2[EditorOption2["wrappingStrategy"] = 122] = "wrappingStrategy";
    EditorOption2[EditorOption2["showDeprecated"] = 123] = "showDeprecated";
    EditorOption2[EditorOption2["inlayHints"] = 124] = "inlayHints";
    EditorOption2[EditorOption2["editorClassName"] = 125] = "editorClassName";
    EditorOption2[EditorOption2["pixelRatio"] = 126] = "pixelRatio";
    EditorOption2[EditorOption2["tabFocusMode"] = 127] = "tabFocusMode";
    EditorOption2[EditorOption2["layoutInfo"] = 128] = "layoutInfo";
    EditorOption2[EditorOption2["wrappingInfo"] = 129] = "wrappingInfo";
  })(EditorOption || (EditorOption = {}));
  var EndOfLinePreference;
  (function(EndOfLinePreference2) {
    EndOfLinePreference2[EndOfLinePreference2["TextDefined"] = 0] = "TextDefined";
    EndOfLinePreference2[EndOfLinePreference2["LF"] = 1] = "LF";
    EndOfLinePreference2[EndOfLinePreference2["CRLF"] = 2] = "CRLF";
  })(EndOfLinePreference || (EndOfLinePreference = {}));
  var EndOfLineSequence;
  (function(EndOfLineSequence2) {
    EndOfLineSequence2[EndOfLineSequence2["LF"] = 0] = "LF";
    EndOfLineSequence2[EndOfLineSequence2["CRLF"] = 1] = "CRLF";
  })(EndOfLineSequence || (EndOfLineSequence = {}));
  var IndentAction;
  (function(IndentAction2) {
    IndentAction2[IndentAction2["None"] = 0] = "None";
    IndentAction2[IndentAction2["Indent"] = 1] = "Indent";
    IndentAction2[IndentAction2["IndentOutdent"] = 2] = "IndentOutdent";
    IndentAction2[IndentAction2["Outdent"] = 3] = "Outdent";
  })(IndentAction || (IndentAction = {}));
  var InlayHintKind;
  (function(InlayHintKind2) {
    InlayHintKind2[InlayHintKind2["Other"] = 0] = "Other";
    InlayHintKind2[InlayHintKind2["Type"] = 1] = "Type";
    InlayHintKind2[InlayHintKind2["Parameter"] = 2] = "Parameter";
  })(InlayHintKind || (InlayHintKind = {}));
  var InlineCompletionTriggerKind;
  (function(InlineCompletionTriggerKind2) {
    InlineCompletionTriggerKind2[InlineCompletionTriggerKind2["Automatic"] = 0] = "Automatic";
    InlineCompletionTriggerKind2[InlineCompletionTriggerKind2["Explicit"] = 1] = "Explicit";
  })(InlineCompletionTriggerKind || (InlineCompletionTriggerKind = {}));
  var KeyCode;
  (function(KeyCode2) {
    KeyCode2[KeyCode2["DependsOnKbLayout"] = -1] = "DependsOnKbLayout";
    KeyCode2[KeyCode2["Unknown"] = 0] = "Unknown";
    KeyCode2[KeyCode2["Backspace"] = 1] = "Backspace";
    KeyCode2[KeyCode2["Tab"] = 2] = "Tab";
    KeyCode2[KeyCode2["Enter"] = 3] = "Enter";
    KeyCode2[KeyCode2["Shift"] = 4] = "Shift";
    KeyCode2[KeyCode2["Ctrl"] = 5] = "Ctrl";
    KeyCode2[KeyCode2["Alt"] = 6] = "Alt";
    KeyCode2[KeyCode2["PauseBreak"] = 7] = "PauseBreak";
    KeyCode2[KeyCode2["CapsLock"] = 8] = "CapsLock";
    KeyCode2[KeyCode2["Escape"] = 9] = "Escape";
    KeyCode2[KeyCode2["Space"] = 10] = "Space";
    KeyCode2[KeyCode2["PageUp"] = 11] = "PageUp";
    KeyCode2[KeyCode2["PageDown"] = 12] = "PageDown";
    KeyCode2[KeyCode2["End"] = 13] = "End";
    KeyCode2[KeyCode2["Home"] = 14] = "Home";
    KeyCode2[KeyCode2["LeftArrow"] = 15] = "LeftArrow";
    KeyCode2[KeyCode2["UpArrow"] = 16] = "UpArrow";
    KeyCode2[KeyCode2["RightArrow"] = 17] = "RightArrow";
    KeyCode2[KeyCode2["DownArrow"] = 18] = "DownArrow";
    KeyCode2[KeyCode2["Insert"] = 19] = "Insert";
    KeyCode2[KeyCode2["Delete"] = 20] = "Delete";
    KeyCode2[KeyCode2["KEY_0"] = 21] = "KEY_0";
    KeyCode2[KeyCode2["KEY_1"] = 22] = "KEY_1";
    KeyCode2[KeyCode2["KEY_2"] = 23] = "KEY_2";
    KeyCode2[KeyCode2["KEY_3"] = 24] = "KEY_3";
    KeyCode2[KeyCode2["KEY_4"] = 25] = "KEY_4";
    KeyCode2[KeyCode2["KEY_5"] = 26] = "KEY_5";
    KeyCode2[KeyCode2["KEY_6"] = 27] = "KEY_6";
    KeyCode2[KeyCode2["KEY_7"] = 28] = "KEY_7";
    KeyCode2[KeyCode2["KEY_8"] = 29] = "KEY_8";
    KeyCode2[KeyCode2["KEY_9"] = 30] = "KEY_9";
    KeyCode2[KeyCode2["KEY_A"] = 31] = "KEY_A";
    KeyCode2[KeyCode2["KEY_B"] = 32] = "KEY_B";
    KeyCode2[KeyCode2["KEY_C"] = 33] = "KEY_C";
    KeyCode2[KeyCode2["KEY_D"] = 34] = "KEY_D";
    KeyCode2[KeyCode2["KEY_E"] = 35] = "KEY_E";
    KeyCode2[KeyCode2["KEY_F"] = 36] = "KEY_F";
    KeyCode2[KeyCode2["KEY_G"] = 37] = "KEY_G";
    KeyCode2[KeyCode2["KEY_H"] = 38] = "KEY_H";
    KeyCode2[KeyCode2["KEY_I"] = 39] = "KEY_I";
    KeyCode2[KeyCode2["KEY_J"] = 40] = "KEY_J";
    KeyCode2[KeyCode2["KEY_K"] = 41] = "KEY_K";
    KeyCode2[KeyCode2["KEY_L"] = 42] = "KEY_L";
    KeyCode2[KeyCode2["KEY_M"] = 43] = "KEY_M";
    KeyCode2[KeyCode2["KEY_N"] = 44] = "KEY_N";
    KeyCode2[KeyCode2["KEY_O"] = 45] = "KEY_O";
    KeyCode2[KeyCode2["KEY_P"] = 46] = "KEY_P";
    KeyCode2[KeyCode2["KEY_Q"] = 47] = "KEY_Q";
    KeyCode2[KeyCode2["KEY_R"] = 48] = "KEY_R";
    KeyCode2[KeyCode2["KEY_S"] = 49] = "KEY_S";
    KeyCode2[KeyCode2["KEY_T"] = 50] = "KEY_T";
    KeyCode2[KeyCode2["KEY_U"] = 51] = "KEY_U";
    KeyCode2[KeyCode2["KEY_V"] = 52] = "KEY_V";
    KeyCode2[KeyCode2["KEY_W"] = 53] = "KEY_W";
    KeyCode2[KeyCode2["KEY_X"] = 54] = "KEY_X";
    KeyCode2[KeyCode2["KEY_Y"] = 55] = "KEY_Y";
    KeyCode2[KeyCode2["KEY_Z"] = 56] = "KEY_Z";
    KeyCode2[KeyCode2["Meta"] = 57] = "Meta";
    KeyCode2[KeyCode2["ContextMenu"] = 58] = "ContextMenu";
    KeyCode2[KeyCode2["F1"] = 59] = "F1";
    KeyCode2[KeyCode2["F2"] = 60] = "F2";
    KeyCode2[KeyCode2["F3"] = 61] = "F3";
    KeyCode2[KeyCode2["F4"] = 62] = "F4";
    KeyCode2[KeyCode2["F5"] = 63] = "F5";
    KeyCode2[KeyCode2["F6"] = 64] = "F6";
    KeyCode2[KeyCode2["F7"] = 65] = "F7";
    KeyCode2[KeyCode2["F8"] = 66] = "F8";
    KeyCode2[KeyCode2["F9"] = 67] = "F9";
    KeyCode2[KeyCode2["F10"] = 68] = "F10";
    KeyCode2[KeyCode2["F11"] = 69] = "F11";
    KeyCode2[KeyCode2["F12"] = 70] = "F12";
    KeyCode2[KeyCode2["F13"] = 71] = "F13";
    KeyCode2[KeyCode2["F14"] = 72] = "F14";
    KeyCode2[KeyCode2["F15"] = 73] = "F15";
    KeyCode2[KeyCode2["F16"] = 74] = "F16";
    KeyCode2[KeyCode2["F17"] = 75] = "F17";
    KeyCode2[KeyCode2["F18"] = 76] = "F18";
    KeyCode2[KeyCode2["F19"] = 77] = "F19";
    KeyCode2[KeyCode2["NumLock"] = 78] = "NumLock";
    KeyCode2[KeyCode2["ScrollLock"] = 79] = "ScrollLock";
    KeyCode2[KeyCode2["US_SEMICOLON"] = 80] = "US_SEMICOLON";
    KeyCode2[KeyCode2["US_EQUAL"] = 81] = "US_EQUAL";
    KeyCode2[KeyCode2["US_COMMA"] = 82] = "US_COMMA";
    KeyCode2[KeyCode2["US_MINUS"] = 83] = "US_MINUS";
    KeyCode2[KeyCode2["US_DOT"] = 84] = "US_DOT";
    KeyCode2[KeyCode2["US_SLASH"] = 85] = "US_SLASH";
    KeyCode2[KeyCode2["US_BACKTICK"] = 86] = "US_BACKTICK";
    KeyCode2[KeyCode2["US_OPEN_SQUARE_BRACKET"] = 87] = "US_OPEN_SQUARE_BRACKET";
    KeyCode2[KeyCode2["US_BACKSLASH"] = 88] = "US_BACKSLASH";
    KeyCode2[KeyCode2["US_CLOSE_SQUARE_BRACKET"] = 89] = "US_CLOSE_SQUARE_BRACKET";
    KeyCode2[KeyCode2["US_QUOTE"] = 90] = "US_QUOTE";
    KeyCode2[KeyCode2["OEM_8"] = 91] = "OEM_8";
    KeyCode2[KeyCode2["OEM_102"] = 92] = "OEM_102";
    KeyCode2[KeyCode2["NUMPAD_0"] = 93] = "NUMPAD_0";
    KeyCode2[KeyCode2["NUMPAD_1"] = 94] = "NUMPAD_1";
    KeyCode2[KeyCode2["NUMPAD_2"] = 95] = "NUMPAD_2";
    KeyCode2[KeyCode2["NUMPAD_3"] = 96] = "NUMPAD_3";
    KeyCode2[KeyCode2["NUMPAD_4"] = 97] = "NUMPAD_4";
    KeyCode2[KeyCode2["NUMPAD_5"] = 98] = "NUMPAD_5";
    KeyCode2[KeyCode2["NUMPAD_6"] = 99] = "NUMPAD_6";
    KeyCode2[KeyCode2["NUMPAD_7"] = 100] = "NUMPAD_7";
    KeyCode2[KeyCode2["NUMPAD_8"] = 101] = "NUMPAD_8";
    KeyCode2[KeyCode2["NUMPAD_9"] = 102] = "NUMPAD_9";
    KeyCode2[KeyCode2["NUMPAD_MULTIPLY"] = 103] = "NUMPAD_MULTIPLY";
    KeyCode2[KeyCode2["NUMPAD_ADD"] = 104] = "NUMPAD_ADD";
    KeyCode2[KeyCode2["NUMPAD_SEPARATOR"] = 105] = "NUMPAD_SEPARATOR";
    KeyCode2[KeyCode2["NUMPAD_SUBTRACT"] = 106] = "NUMPAD_SUBTRACT";
    KeyCode2[KeyCode2["NUMPAD_DECIMAL"] = 107] = "NUMPAD_DECIMAL";
    KeyCode2[KeyCode2["NUMPAD_DIVIDE"] = 108] = "NUMPAD_DIVIDE";
    KeyCode2[KeyCode2["KEY_IN_COMPOSITION"] = 109] = "KEY_IN_COMPOSITION";
    KeyCode2[KeyCode2["ABNT_C1"] = 110] = "ABNT_C1";
    KeyCode2[KeyCode2["ABNT_C2"] = 111] = "ABNT_C2";
    KeyCode2[KeyCode2["MAX_VALUE"] = 112] = "MAX_VALUE";
  })(KeyCode || (KeyCode = {}));
  var MarkerSeverity;
  (function(MarkerSeverity2) {
    MarkerSeverity2[MarkerSeverity2["Hint"] = 1] = "Hint";
    MarkerSeverity2[MarkerSeverity2["Info"] = 2] = "Info";
    MarkerSeverity2[MarkerSeverity2["Warning"] = 4] = "Warning";
    MarkerSeverity2[MarkerSeverity2["Error"] = 8] = "Error";
  })(MarkerSeverity || (MarkerSeverity = {}));
  var MarkerTag;
  (function(MarkerTag2) {
    MarkerTag2[MarkerTag2["Unnecessary"] = 1] = "Unnecessary";
    MarkerTag2[MarkerTag2["Deprecated"] = 2] = "Deprecated";
  })(MarkerTag || (MarkerTag = {}));
  var MinimapPosition;
  (function(MinimapPosition2) {
    MinimapPosition2[MinimapPosition2["Inline"] = 1] = "Inline";
    MinimapPosition2[MinimapPosition2["Gutter"] = 2] = "Gutter";
  })(MinimapPosition || (MinimapPosition = {}));
  var MouseTargetType;
  (function(MouseTargetType2) {
    MouseTargetType2[MouseTargetType2["UNKNOWN"] = 0] = "UNKNOWN";
    MouseTargetType2[MouseTargetType2["TEXTAREA"] = 1] = "TEXTAREA";
    MouseTargetType2[MouseTargetType2["GUTTER_GLYPH_MARGIN"] = 2] = "GUTTER_GLYPH_MARGIN";
    MouseTargetType2[MouseTargetType2["GUTTER_LINE_NUMBERS"] = 3] = "GUTTER_LINE_NUMBERS";
    MouseTargetType2[MouseTargetType2["GUTTER_LINE_DECORATIONS"] = 4] = "GUTTER_LINE_DECORATIONS";
    MouseTargetType2[MouseTargetType2["GUTTER_VIEW_ZONE"] = 5] = "GUTTER_VIEW_ZONE";
    MouseTargetType2[MouseTargetType2["CONTENT_TEXT"] = 6] = "CONTENT_TEXT";
    MouseTargetType2[MouseTargetType2["CONTENT_EMPTY"] = 7] = "CONTENT_EMPTY";
    MouseTargetType2[MouseTargetType2["CONTENT_VIEW_ZONE"] = 8] = "CONTENT_VIEW_ZONE";
    MouseTargetType2[MouseTargetType2["CONTENT_WIDGET"] = 9] = "CONTENT_WIDGET";
    MouseTargetType2[MouseTargetType2["OVERVIEW_RULER"] = 10] = "OVERVIEW_RULER";
    MouseTargetType2[MouseTargetType2["SCROLLBAR"] = 11] = "SCROLLBAR";
    MouseTargetType2[MouseTargetType2["OVERLAY_WIDGET"] = 12] = "OVERLAY_WIDGET";
    MouseTargetType2[MouseTargetType2["OUTSIDE_EDITOR"] = 13] = "OUTSIDE_EDITOR";
  })(MouseTargetType || (MouseTargetType = {}));
  var OverlayWidgetPositionPreference;
  (function(OverlayWidgetPositionPreference2) {
    OverlayWidgetPositionPreference2[OverlayWidgetPositionPreference2["TOP_RIGHT_CORNER"] = 0] = "TOP_RIGHT_CORNER";
    OverlayWidgetPositionPreference2[OverlayWidgetPositionPreference2["BOTTOM_RIGHT_CORNER"] = 1] = "BOTTOM_RIGHT_CORNER";
    OverlayWidgetPositionPreference2[OverlayWidgetPositionPreference2["TOP_CENTER"] = 2] = "TOP_CENTER";
  })(OverlayWidgetPositionPreference || (OverlayWidgetPositionPreference = {}));
  var OverviewRulerLane;
  (function(OverviewRulerLane2) {
    OverviewRulerLane2[OverviewRulerLane2["Left"] = 1] = "Left";
    OverviewRulerLane2[OverviewRulerLane2["Center"] = 2] = "Center";
    OverviewRulerLane2[OverviewRulerLane2["Right"] = 4] = "Right";
    OverviewRulerLane2[OverviewRulerLane2["Full"] = 7] = "Full";
  })(OverviewRulerLane || (OverviewRulerLane = {}));
  var RenderLineNumbersType;
  (function(RenderLineNumbersType2) {
    RenderLineNumbersType2[RenderLineNumbersType2["Off"] = 0] = "Off";
    RenderLineNumbersType2[RenderLineNumbersType2["On"] = 1] = "On";
    RenderLineNumbersType2[RenderLineNumbersType2["Relative"] = 2] = "Relative";
    RenderLineNumbersType2[RenderLineNumbersType2["Interval"] = 3] = "Interval";
    RenderLineNumbersType2[RenderLineNumbersType2["Custom"] = 4] = "Custom";
  })(RenderLineNumbersType || (RenderLineNumbersType = {}));
  var RenderMinimap;
  (function(RenderMinimap2) {
    RenderMinimap2[RenderMinimap2["None"] = 0] = "None";
    RenderMinimap2[RenderMinimap2["Text"] = 1] = "Text";
    RenderMinimap2[RenderMinimap2["Blocks"] = 2] = "Blocks";
  })(RenderMinimap || (RenderMinimap = {}));
  var ScrollType;
  (function(ScrollType2) {
    ScrollType2[ScrollType2["Smooth"] = 0] = "Smooth";
    ScrollType2[ScrollType2["Immediate"] = 1] = "Immediate";
  })(ScrollType || (ScrollType = {}));
  var ScrollbarVisibility;
  (function(ScrollbarVisibility2) {
    ScrollbarVisibility2[ScrollbarVisibility2["Auto"] = 1] = "Auto";
    ScrollbarVisibility2[ScrollbarVisibility2["Hidden"] = 2] = "Hidden";
    ScrollbarVisibility2[ScrollbarVisibility2["Visible"] = 3] = "Visible";
  })(ScrollbarVisibility || (ScrollbarVisibility = {}));
  var SelectionDirection;
  (function(SelectionDirection2) {
    SelectionDirection2[SelectionDirection2["LTR"] = 0] = "LTR";
    SelectionDirection2[SelectionDirection2["RTL"] = 1] = "RTL";
  })(SelectionDirection || (SelectionDirection = {}));
  var SignatureHelpTriggerKind;
  (function(SignatureHelpTriggerKind2) {
    SignatureHelpTriggerKind2[SignatureHelpTriggerKind2["Invoke"] = 1] = "Invoke";
    SignatureHelpTriggerKind2[SignatureHelpTriggerKind2["TriggerCharacter"] = 2] = "TriggerCharacter";
    SignatureHelpTriggerKind2[SignatureHelpTriggerKind2["ContentChange"] = 3] = "ContentChange";
  })(SignatureHelpTriggerKind || (SignatureHelpTriggerKind = {}));
  var SymbolKind;
  (function(SymbolKind3) {
    SymbolKind3[SymbolKind3["File"] = 0] = "File";
    SymbolKind3[SymbolKind3["Module"] = 1] = "Module";
    SymbolKind3[SymbolKind3["Namespace"] = 2] = "Namespace";
    SymbolKind3[SymbolKind3["Package"] = 3] = "Package";
    SymbolKind3[SymbolKind3["Class"] = 4] = "Class";
    SymbolKind3[SymbolKind3["Method"] = 5] = "Method";
    SymbolKind3[SymbolKind3["Property"] = 6] = "Property";
    SymbolKind3[SymbolKind3["Field"] = 7] = "Field";
    SymbolKind3[SymbolKind3["Constructor"] = 8] = "Constructor";
    SymbolKind3[SymbolKind3["Enum"] = 9] = "Enum";
    SymbolKind3[SymbolKind3["Interface"] = 10] = "Interface";
    SymbolKind3[SymbolKind3["Function"] = 11] = "Function";
    SymbolKind3[SymbolKind3["Variable"] = 12] = "Variable";
    SymbolKind3[SymbolKind3["Constant"] = 13] = "Constant";
    SymbolKind3[SymbolKind3["String"] = 14] = "String";
    SymbolKind3[SymbolKind3["Number"] = 15] = "Number";
    SymbolKind3[SymbolKind3["Boolean"] = 16] = "Boolean";
    SymbolKind3[SymbolKind3["Array"] = 17] = "Array";
    SymbolKind3[SymbolKind3["Object"] = 18] = "Object";
    SymbolKind3[SymbolKind3["Key"] = 19] = "Key";
    SymbolKind3[SymbolKind3["Null"] = 20] = "Null";
    SymbolKind3[SymbolKind3["EnumMember"] = 21] = "EnumMember";
    SymbolKind3[SymbolKind3["Struct"] = 22] = "Struct";
    SymbolKind3[SymbolKind3["Event"] = 23] = "Event";
    SymbolKind3[SymbolKind3["Operator"] = 24] = "Operator";
    SymbolKind3[SymbolKind3["TypeParameter"] = 25] = "TypeParameter";
  })(SymbolKind || (SymbolKind = {}));
  var SymbolTag;
  (function(SymbolTag3) {
    SymbolTag3[SymbolTag3["Deprecated"] = 1] = "Deprecated";
  })(SymbolTag || (SymbolTag = {}));
  var TextEditorCursorBlinkingStyle;
  (function(TextEditorCursorBlinkingStyle2) {
    TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2["Hidden"] = 0] = "Hidden";
    TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2["Blink"] = 1] = "Blink";
    TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2["Smooth"] = 2] = "Smooth";
    TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2["Phase"] = 3] = "Phase";
    TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2["Expand"] = 4] = "Expand";
    TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2["Solid"] = 5] = "Solid";
  })(TextEditorCursorBlinkingStyle || (TextEditorCursorBlinkingStyle = {}));
  var TextEditorCursorStyle;
  (function(TextEditorCursorStyle2) {
    TextEditorCursorStyle2[TextEditorCursorStyle2["Line"] = 1] = "Line";
    TextEditorCursorStyle2[TextEditorCursorStyle2["Block"] = 2] = "Block";
    TextEditorCursorStyle2[TextEditorCursorStyle2["Underline"] = 3] = "Underline";
    TextEditorCursorStyle2[TextEditorCursorStyle2["LineThin"] = 4] = "LineThin";
    TextEditorCursorStyle2[TextEditorCursorStyle2["BlockOutline"] = 5] = "BlockOutline";
    TextEditorCursorStyle2[TextEditorCursorStyle2["UnderlineThin"] = 6] = "UnderlineThin";
  })(TextEditorCursorStyle || (TextEditorCursorStyle = {}));
  var TrackedRangeStickiness;
  (function(TrackedRangeStickiness2) {
    TrackedRangeStickiness2[TrackedRangeStickiness2["AlwaysGrowsWhenTypingAtEdges"] = 0] = "AlwaysGrowsWhenTypingAtEdges";
    TrackedRangeStickiness2[TrackedRangeStickiness2["NeverGrowsWhenTypingAtEdges"] = 1] = "NeverGrowsWhenTypingAtEdges";
    TrackedRangeStickiness2[TrackedRangeStickiness2["GrowsOnlyWhenTypingBefore"] = 2] = "GrowsOnlyWhenTypingBefore";
    TrackedRangeStickiness2[TrackedRangeStickiness2["GrowsOnlyWhenTypingAfter"] = 3] = "GrowsOnlyWhenTypingAfter";
  })(TrackedRangeStickiness || (TrackedRangeStickiness = {}));
  var WrappingIndent;
  (function(WrappingIndent2) {
    WrappingIndent2[WrappingIndent2["None"] = 0] = "None";
    WrappingIndent2[WrappingIndent2["Same"] = 1] = "Same";
    WrappingIndent2[WrappingIndent2["Indent"] = 2] = "Indent";
    WrappingIndent2[WrappingIndent2["DeepIndent"] = 3] = "DeepIndent";
  })(WrappingIndent || (WrappingIndent = {}));

  // node_modules/monaco-editor/esm/vs/editor/common/standalone/standaloneBase.js
  var KeyMod = class {
    static chord(firstPart, secondPart) {
      return KeyChord(firstPart, secondPart);
    }
  };
  KeyMod.CtrlCmd = 2048;
  KeyMod.Shift = 1024;
  KeyMod.Alt = 512;
  KeyMod.WinCtrl = 256;
  function createMonacoBaseAPI() {
    return {
      editor: void 0,
      languages: void 0,
      CancellationTokenSource,
      Emitter,
      KeyCode,
      KeyMod,
      Position,
      Range,
      Selection,
      SelectionDirection,
      MarkerSeverity,
      MarkerTag,
      Uri: URI,
      Token
    };
  }

  // node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js
  var __awaiter = function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve2) {
        resolve2(value);
      });
    }
    return new (P || (P = Promise))(function(resolve2, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve2(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  var MirrorModel = class extends MirrorTextModel {
    get uri() {
      return this._uri;
    }
    get eol() {
      return this._eol;
    }
    getValue() {
      return this.getText();
    }
    getLinesContent() {
      return this._lines.slice(0);
    }
    getLineCount() {
      return this._lines.length;
    }
    getLineContent(lineNumber) {
      return this._lines[lineNumber - 1];
    }
    getWordAtPosition(position, wordDefinition) {
      let wordAtText = getWordAtText(position.column, ensureValidWordDefinition(wordDefinition), this._lines[position.lineNumber - 1], 0);
      if (wordAtText) {
        return new Range(position.lineNumber, wordAtText.startColumn, position.lineNumber, wordAtText.endColumn);
      }
      return null;
    }
    words(wordDefinition) {
      const lines = this._lines;
      const wordenize = this._wordenize.bind(this);
      let lineNumber = 0;
      let lineText = "";
      let wordRangesIdx = 0;
      let wordRanges = [];
      return {
        *[Symbol.iterator]() {
          while (true) {
            if (wordRangesIdx < wordRanges.length) {
              const value = lineText.substring(wordRanges[wordRangesIdx].start, wordRanges[wordRangesIdx].end);
              wordRangesIdx += 1;
              yield value;
            } else {
              if (lineNumber < lines.length) {
                lineText = lines[lineNumber];
                wordRanges = wordenize(lineText, wordDefinition);
                wordRangesIdx = 0;
                lineNumber += 1;
              } else {
                break;
              }
            }
          }
        }
      };
    }
    getLineWords(lineNumber, wordDefinition) {
      let content = this._lines[lineNumber - 1];
      let ranges = this._wordenize(content, wordDefinition);
      let words = [];
      for (const range of ranges) {
        words.push({
          word: content.substring(range.start, range.end),
          startColumn: range.start + 1,
          endColumn: range.end + 1
        });
      }
      return words;
    }
    _wordenize(content, wordDefinition) {
      const result = [];
      let match;
      wordDefinition.lastIndex = 0;
      while (match = wordDefinition.exec(content)) {
        if (match[0].length === 0) {
          break;
        }
        result.push({start: match.index, end: match.index + match[0].length});
      }
      return result;
    }
    getValueInRange(range) {
      range = this._validateRange(range);
      if (range.startLineNumber === range.endLineNumber) {
        return this._lines[range.startLineNumber - 1].substring(range.startColumn - 1, range.endColumn - 1);
      }
      let lineEnding = this._eol;
      let startLineIndex = range.startLineNumber - 1;
      let endLineIndex = range.endLineNumber - 1;
      let resultLines = [];
      resultLines.push(this._lines[startLineIndex].substring(range.startColumn - 1));
      for (let i = startLineIndex + 1; i < endLineIndex; i++) {
        resultLines.push(this._lines[i]);
      }
      resultLines.push(this._lines[endLineIndex].substring(0, range.endColumn - 1));
      return resultLines.join(lineEnding);
    }
    offsetAt(position) {
      position = this._validatePosition(position);
      this._ensureLineStarts();
      return this._lineStarts.getAccumulatedValue(position.lineNumber - 2) + (position.column - 1);
    }
    positionAt(offset) {
      offset = Math.floor(offset);
      offset = Math.max(0, offset);
      this._ensureLineStarts();
      let out = this._lineStarts.getIndexOf(offset);
      let lineLength = this._lines[out.index].length;
      return {
        lineNumber: 1 + out.index,
        column: 1 + Math.min(out.remainder, lineLength)
      };
    }
    _validateRange(range) {
      const start = this._validatePosition({lineNumber: range.startLineNumber, column: range.startColumn});
      const end = this._validatePosition({lineNumber: range.endLineNumber, column: range.endColumn});
      if (start.lineNumber !== range.startLineNumber || start.column !== range.startColumn || end.lineNumber !== range.endLineNumber || end.column !== range.endColumn) {
        return {
          startLineNumber: start.lineNumber,
          startColumn: start.column,
          endLineNumber: end.lineNumber,
          endColumn: end.column
        };
      }
      return range;
    }
    _validatePosition(position) {
      if (!Position.isIPosition(position)) {
        throw new Error("bad position");
      }
      let {lineNumber, column} = position;
      let hasChanged = false;
      if (lineNumber < 1) {
        lineNumber = 1;
        column = 1;
        hasChanged = true;
      } else if (lineNumber > this._lines.length) {
        lineNumber = this._lines.length;
        column = this._lines[lineNumber - 1].length + 1;
        hasChanged = true;
      } else {
        let maxCharacter = this._lines[lineNumber - 1].length + 1;
        if (column < 1) {
          column = 1;
          hasChanged = true;
        } else if (column > maxCharacter) {
          column = maxCharacter;
          hasChanged = true;
        }
      }
      if (!hasChanged) {
        return position;
      } else {
        return {lineNumber, column};
      }
    }
  };
  var EditorSimpleWorker = class {
    constructor(host, foreignModuleFactory) {
      this._host = host;
      this._models = Object.create(null);
      this._foreignModuleFactory = foreignModuleFactory;
      this._foreignModule = null;
    }
    dispose() {
      this._models = Object.create(null);
    }
    _getModel(uri) {
      return this._models[uri];
    }
    _getModels() {
      let all = [];
      Object.keys(this._models).forEach((key) => all.push(this._models[key]));
      return all;
    }
    acceptNewModel(data) {
      this._models[data.url] = new MirrorModel(URI.parse(data.url), data.lines, data.EOL, data.versionId);
    }
    acceptModelChanged(strURL, e) {
      if (!this._models[strURL]) {
        return;
      }
      let model = this._models[strURL];
      model.onEvents(e);
    }
    acceptRemovedModel(strURL) {
      if (!this._models[strURL]) {
        return;
      }
      delete this._models[strURL];
    }
    computeDiff(originalUrl, modifiedUrl, ignoreTrimWhitespace, maxComputationTime) {
      return __awaiter(this, void 0, void 0, function* () {
        const original = this._getModel(originalUrl);
        const modified = this._getModel(modifiedUrl);
        if (!original || !modified) {
          return null;
        }
        const originalLines = original.getLinesContent();
        const modifiedLines = modified.getLinesContent();
        const diffComputer = new DiffComputer(originalLines, modifiedLines, {
          shouldComputeCharChanges: true,
          shouldPostProcessCharChanges: true,
          shouldIgnoreTrimWhitespace: ignoreTrimWhitespace,
          shouldMakePrettyDiff: true,
          maxComputationTime
        });
        const diffResult = diffComputer.computeDiff();
        const identical = diffResult.changes.length > 0 ? false : this._modelsAreIdentical(original, modified);
        return {
          quitEarly: diffResult.quitEarly,
          identical,
          changes: diffResult.changes
        };
      });
    }
    _modelsAreIdentical(original, modified) {
      const originalLineCount = original.getLineCount();
      const modifiedLineCount = modified.getLineCount();
      if (originalLineCount !== modifiedLineCount) {
        return false;
      }
      for (let line = 1; line <= originalLineCount; line++) {
        const originalLine = original.getLineContent(line);
        const modifiedLine = modified.getLineContent(line);
        if (originalLine !== modifiedLine) {
          return false;
        }
      }
      return true;
    }
    computeMoreMinimalEdits(modelUrl, edits) {
      return __awaiter(this, void 0, void 0, function* () {
        const model = this._getModel(modelUrl);
        if (!model) {
          return edits;
        }
        const result = [];
        let lastEol = void 0;
        edits = edits.slice(0).sort((a2, b) => {
          if (a2.range && b.range) {
            return Range.compareRangesUsingStarts(a2.range, b.range);
          }
          let aRng = a2.range ? 0 : 1;
          let bRng = b.range ? 0 : 1;
          return aRng - bRng;
        });
        for (let {range, text, eol} of edits) {
          if (typeof eol === "number") {
            lastEol = eol;
          }
          if (Range.isEmpty(range) && !text) {
            continue;
          }
          const original = model.getValueInRange(range);
          text = text.replace(/\r\n|\n|\r/g, model.eol);
          if (original === text) {
            continue;
          }
          if (Math.max(text.length, original.length) > EditorSimpleWorker._diffLimit) {
            result.push({range, text});
            continue;
          }
          const changes = stringDiff(original, text, false);
          const editOffset = model.offsetAt(Range.lift(range).getStartPosition());
          for (const change of changes) {
            const start = model.positionAt(editOffset + change.originalStart);
            const end = model.positionAt(editOffset + change.originalStart + change.originalLength);
            const newEdit = {
              text: text.substr(change.modifiedStart, change.modifiedLength),
              range: {startLineNumber: start.lineNumber, startColumn: start.column, endLineNumber: end.lineNumber, endColumn: end.column}
            };
            if (model.getValueInRange(newEdit.range) !== newEdit.text) {
              result.push(newEdit);
            }
          }
        }
        if (typeof lastEol === "number") {
          result.push({eol: lastEol, text: "", range: {startLineNumber: 0, startColumn: 0, endLineNumber: 0, endColumn: 0}});
        }
        return result;
      });
    }
    computeLinks(modelUrl) {
      return __awaiter(this, void 0, void 0, function* () {
        let model = this._getModel(modelUrl);
        if (!model) {
          return null;
        }
        return computeLinks(model);
      });
    }
    textualSuggest(modelUrls, leadingWord, wordDef, wordDefFlags) {
      return __awaiter(this, void 0, void 0, function* () {
        const sw = new StopWatch(true);
        const wordDefRegExp = new RegExp(wordDef, wordDefFlags);
        const seen = new Set();
        outer:
          for (let url of modelUrls) {
            const model = this._getModel(url);
            if (!model) {
              continue;
            }
            for (let word of model.words(wordDefRegExp)) {
              if (word === leadingWord || !isNaN(Number(word))) {
                continue;
              }
              seen.add(word);
              if (seen.size > EditorSimpleWorker._suggestionsLimit) {
                break outer;
              }
            }
          }
        return {words: Array.from(seen), duration: sw.elapsed()};
      });
    }
    computeWordRanges(modelUrl, range, wordDef, wordDefFlags) {
      return __awaiter(this, void 0, void 0, function* () {
        let model = this._getModel(modelUrl);
        if (!model) {
          return Object.create(null);
        }
        const wordDefRegExp = new RegExp(wordDef, wordDefFlags);
        const result = Object.create(null);
        for (let line = range.startLineNumber; line < range.endLineNumber; line++) {
          let words = model.getLineWords(line, wordDefRegExp);
          for (const word of words) {
            if (!isNaN(Number(word.word))) {
              continue;
            }
            let array = result[word.word];
            if (!array) {
              array = [];
              result[word.word] = array;
            }
            array.push({
              startLineNumber: line,
              startColumn: word.startColumn,
              endLineNumber: line,
              endColumn: word.endColumn
            });
          }
        }
        return result;
      });
    }
    navigateValueSet(modelUrl, range, up, wordDef, wordDefFlags) {
      return __awaiter(this, void 0, void 0, function* () {
        let model = this._getModel(modelUrl);
        if (!model) {
          return null;
        }
        let wordDefRegExp = new RegExp(wordDef, wordDefFlags);
        if (range.startColumn === range.endColumn) {
          range = {
            startLineNumber: range.startLineNumber,
            startColumn: range.startColumn,
            endLineNumber: range.endLineNumber,
            endColumn: range.endColumn + 1
          };
        }
        let selectionText = model.getValueInRange(range);
        let wordRange = model.getWordAtPosition({lineNumber: range.startLineNumber, column: range.startColumn}, wordDefRegExp);
        if (!wordRange) {
          return null;
        }
        let word = model.getValueInRange(wordRange);
        let result = BasicInplaceReplace.INSTANCE.navigateValueSet(range, selectionText, wordRange, word, up);
        return result;
      });
    }
    loadForeignModule(moduleId, createData, foreignHostMethods) {
      const proxyMethodRequest = (method, args) => {
        return this._host.fhr(method, args);
      };
      const foreignHost = createProxyObject(foreignHostMethods, proxyMethodRequest);
      let ctx = {
        host: foreignHost,
        getMirrorModels: () => {
          return this._getModels();
        }
      };
      if (this._foreignModuleFactory) {
        this._foreignModule = this._foreignModuleFactory(ctx, createData);
        return Promise.resolve(getAllMethodNames(this._foreignModule));
      }
      return Promise.reject(new Error(`Unexpected usage`));
    }
    fmr(method, args) {
      if (!this._foreignModule || typeof this._foreignModule[method] !== "function") {
        return Promise.reject(new Error("Missing requestHandler or method: " + method));
      }
      try {
        return Promise.resolve(this._foreignModule[method].apply(this._foreignModule, args));
      } catch (e) {
        return Promise.reject(e);
      }
    }
  };
  EditorSimpleWorker._diffLimit = 1e5;
  EditorSimpleWorker._suggestionsLimit = 1e4;
  if (typeof importScripts === "function") {
    globals.monaco = createMonacoBaseAPI();
  }

  // node_modules/monaco-editor/esm/vs/editor/editor.worker.js
  var initialized = false;
  function initialize(foreignModule) {
    if (initialized) {
      return;
    }
    initialized = true;
    const simpleWorker = new SimpleWorkerServer((msg) => {
      self.postMessage(msg);
    }, (host) => new EditorSimpleWorker(host, foreignModule));
    self.onmessage = (e) => {
      simpleWorker.onmessage(e.data);
    };
  }
  self.onmessage = (e) => {
    if (!initialized) {
      initialize(null);
    }
  };

  // node_modules/monaco-editor/esm/vs/language/json/_deps/jsonc-parser/impl/scanner.js
  "use strict";
  function createScanner(text, ignoreTrivia) {
    if (ignoreTrivia === void 0) {
      ignoreTrivia = false;
    }
    var len = text.length;
    var pos = 0, value = "", tokenOffset = 0, token = 16, lineNumber = 0, lineStartOffset = 0, tokenLineStartOffset = 0, prevTokenLineStartOffset = 0, scanError = 0;
    function scanHexDigits(count, exact) {
      var digits = 0;
      var value2 = 0;
      while (digits < count || !exact) {
        var ch = text.charCodeAt(pos);
        if (ch >= 48 && ch <= 57) {
          value2 = value2 * 16 + ch - 48;
        } else if (ch >= 65 && ch <= 70) {
          value2 = value2 * 16 + ch - 65 + 10;
        } else if (ch >= 97 && ch <= 102) {
          value2 = value2 * 16 + ch - 97 + 10;
        } else {
          break;
        }
        pos++;
        digits++;
      }
      if (digits < count) {
        value2 = -1;
      }
      return value2;
    }
    function setPosition(newPosition) {
      pos = newPosition;
      value = "";
      tokenOffset = 0;
      token = 16;
      scanError = 0;
    }
    function scanNumber() {
      var start = pos;
      if (text.charCodeAt(pos) === 48) {
        pos++;
      } else {
        pos++;
        while (pos < text.length && isDigit(text.charCodeAt(pos))) {
          pos++;
        }
      }
      if (pos < text.length && text.charCodeAt(pos) === 46) {
        pos++;
        if (pos < text.length && isDigit(text.charCodeAt(pos))) {
          pos++;
          while (pos < text.length && isDigit(text.charCodeAt(pos))) {
            pos++;
          }
        } else {
          scanError = 3;
          return text.substring(start, pos);
        }
      }
      var end = pos;
      if (pos < text.length && (text.charCodeAt(pos) === 69 || text.charCodeAt(pos) === 101)) {
        pos++;
        if (pos < text.length && text.charCodeAt(pos) === 43 || text.charCodeAt(pos) === 45) {
          pos++;
        }
        if (pos < text.length && isDigit(text.charCodeAt(pos))) {
          pos++;
          while (pos < text.length && isDigit(text.charCodeAt(pos))) {
            pos++;
          }
          end = pos;
        } else {
          scanError = 3;
        }
      }
      return text.substring(start, end);
    }
    function scanString() {
      var result = "", start = pos;
      while (true) {
        if (pos >= len) {
          result += text.substring(start, pos);
          scanError = 2;
          break;
        }
        var ch = text.charCodeAt(pos);
        if (ch === 34) {
          result += text.substring(start, pos);
          pos++;
          break;
        }
        if (ch === 92) {
          result += text.substring(start, pos);
          pos++;
          if (pos >= len) {
            scanError = 2;
            break;
          }
          var ch2 = text.charCodeAt(pos++);
          switch (ch2) {
            case 34:
              result += '"';
              break;
            case 92:
              result += "\\";
              break;
            case 47:
              result += "/";
              break;
            case 98:
              result += "\b";
              break;
            case 102:
              result += "\f";
              break;
            case 110:
              result += "\n";
              break;
            case 114:
              result += "\r";
              break;
            case 116:
              result += "	";
              break;
            case 117:
              var ch3 = scanHexDigits(4, true);
              if (ch3 >= 0) {
                result += String.fromCharCode(ch3);
              } else {
                scanError = 4;
              }
              break;
            default:
              scanError = 5;
          }
          start = pos;
          continue;
        }
        if (ch >= 0 && ch <= 31) {
          if (isLineBreak(ch)) {
            result += text.substring(start, pos);
            scanError = 2;
            break;
          } else {
            scanError = 6;
          }
        }
        pos++;
      }
      return result;
    }
    function scanNext() {
      value = "";
      scanError = 0;
      tokenOffset = pos;
      lineStartOffset = lineNumber;
      prevTokenLineStartOffset = tokenLineStartOffset;
      if (pos >= len) {
        tokenOffset = len;
        return token = 17;
      }
      var code = text.charCodeAt(pos);
      if (isWhiteSpace(code)) {
        do {
          pos++;
          value += String.fromCharCode(code);
          code = text.charCodeAt(pos);
        } while (isWhiteSpace(code));
        return token = 15;
      }
      if (isLineBreak(code)) {
        pos++;
        value += String.fromCharCode(code);
        if (code === 13 && text.charCodeAt(pos) === 10) {
          pos++;
          value += "\n";
        }
        lineNumber++;
        tokenLineStartOffset = pos;
        return token = 14;
      }
      switch (code) {
        case 123:
          pos++;
          return token = 1;
        case 125:
          pos++;
          return token = 2;
        case 91:
          pos++;
          return token = 3;
        case 93:
          pos++;
          return token = 4;
        case 58:
          pos++;
          return token = 6;
        case 44:
          pos++;
          return token = 5;
        case 34:
          pos++;
          value = scanString();
          return token = 10;
        case 47:
          var start = pos - 1;
          if (text.charCodeAt(pos + 1) === 47) {
            pos += 2;
            while (pos < len) {
              if (isLineBreak(text.charCodeAt(pos))) {
                break;
              }
              pos++;
            }
            value = text.substring(start, pos);
            return token = 12;
          }
          if (text.charCodeAt(pos + 1) === 42) {
            pos += 2;
            var safeLength = len - 1;
            var commentClosed = false;
            while (pos < safeLength) {
              var ch = text.charCodeAt(pos);
              if (ch === 42 && text.charCodeAt(pos + 1) === 47) {
                pos += 2;
                commentClosed = true;
                break;
              }
              pos++;
              if (isLineBreak(ch)) {
                if (ch === 13 && text.charCodeAt(pos) === 10) {
                  pos++;
                }
                lineNumber++;
                tokenLineStartOffset = pos;
              }
            }
            if (!commentClosed) {
              pos++;
              scanError = 1;
            }
            value = text.substring(start, pos);
            return token = 13;
          }
          value += String.fromCharCode(code);
          pos++;
          return token = 16;
        case 45:
          value += String.fromCharCode(code);
          pos++;
          if (pos === len || !isDigit(text.charCodeAt(pos))) {
            return token = 16;
          }
        case 48:
        case 49:
        case 50:
        case 51:
        case 52:
        case 53:
        case 54:
        case 55:
        case 56:
        case 57:
          value += scanNumber();
          return token = 11;
        default:
          while (pos < len && isUnknownContentCharacter(code)) {
            pos++;
            code = text.charCodeAt(pos);
          }
          if (tokenOffset !== pos) {
            value = text.substring(tokenOffset, pos);
            switch (value) {
              case "true":
                return token = 8;
              case "false":
                return token = 9;
              case "null":
                return token = 7;
            }
            return token = 16;
          }
          value += String.fromCharCode(code);
          pos++;
          return token = 16;
      }
    }
    function isUnknownContentCharacter(code) {
      if (isWhiteSpace(code) || isLineBreak(code)) {
        return false;
      }
      switch (code) {
        case 125:
        case 93:
        case 123:
        case 91:
        case 34:
        case 58:
        case 44:
        case 47:
          return false;
      }
      return true;
    }
    function scanNextNonTrivia() {
      var result;
      do {
        result = scanNext();
      } while (result >= 12 && result <= 15);
      return result;
    }
    return {
      setPosition,
      getPosition: function() {
        return pos;
      },
      scan: ignoreTrivia ? scanNextNonTrivia : scanNext,
      getToken: function() {
        return token;
      },
      getTokenValue: function() {
        return value;
      },
      getTokenOffset: function() {
        return tokenOffset;
      },
      getTokenLength: function() {
        return pos - tokenOffset;
      },
      getTokenStartLine: function() {
        return lineStartOffset;
      },
      getTokenStartCharacter: function() {
        return tokenOffset - prevTokenLineStartOffset;
      },
      getTokenError: function() {
        return scanError;
      }
    };
  }
  function isWhiteSpace(ch) {
    return ch === 32 || ch === 9 || ch === 11 || ch === 12 || ch === 160 || ch === 5760 || ch >= 8192 && ch <= 8203 || ch === 8239 || ch === 8287 || ch === 12288 || ch === 65279;
  }
  function isLineBreak(ch) {
    return ch === 10 || ch === 13 || ch === 8232 || ch === 8233;
  }
  function isDigit(ch) {
    return ch >= 48 && ch <= 57;
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/jsonc-parser/impl/format.js
  "use strict";
  function format(documentText, range, options) {
    var initialIndentLevel;
    var formatText;
    var formatTextStart;
    var rangeStart;
    var rangeEnd;
    if (range) {
      rangeStart = range.offset;
      rangeEnd = rangeStart + range.length;
      formatTextStart = rangeStart;
      while (formatTextStart > 0 && !isEOL(documentText, formatTextStart - 1)) {
        formatTextStart--;
      }
      var endOffset = rangeEnd;
      while (endOffset < documentText.length && !isEOL(documentText, endOffset)) {
        endOffset++;
      }
      formatText = documentText.substring(formatTextStart, endOffset);
      initialIndentLevel = computeIndentLevel(formatText, options);
    } else {
      formatText = documentText;
      initialIndentLevel = 0;
      formatTextStart = 0;
      rangeStart = 0;
      rangeEnd = documentText.length;
    }
    var eol = getEOL(options, documentText);
    var lineBreak = false;
    var indentLevel = 0;
    var indentValue;
    if (options.insertSpaces) {
      indentValue = repeat(" ", options.tabSize || 4);
    } else {
      indentValue = "	";
    }
    var scanner2 = createScanner(formatText, false);
    var hasError = false;
    function newLineAndIndent() {
      return eol + repeat(indentValue, initialIndentLevel + indentLevel);
    }
    function scanNext() {
      var token = scanner2.scan();
      lineBreak = false;
      while (token === 15 || token === 14) {
        lineBreak = lineBreak || token === 14;
        token = scanner2.scan();
      }
      hasError = token === 16 || scanner2.getTokenError() !== 0;
      return token;
    }
    var editOperations = [];
    function addEdit(text, startOffset, endOffset2) {
      if (!hasError && (!range || startOffset < rangeEnd && endOffset2 > rangeStart) && documentText.substring(startOffset, endOffset2) !== text) {
        editOperations.push({offset: startOffset, length: endOffset2 - startOffset, content: text});
      }
    }
    var firstToken = scanNext();
    if (firstToken !== 17) {
      var firstTokenStart = scanner2.getTokenOffset() + formatTextStart;
      var initialIndent = repeat(indentValue, initialIndentLevel);
      addEdit(initialIndent, formatTextStart, firstTokenStart);
    }
    while (firstToken !== 17) {
      var firstTokenEnd = scanner2.getTokenOffset() + scanner2.getTokenLength() + formatTextStart;
      var secondToken = scanNext();
      var replaceContent = "";
      var needsLineBreak = false;
      while (!lineBreak && (secondToken === 12 || secondToken === 13)) {
        var commentTokenStart = scanner2.getTokenOffset() + formatTextStart;
        addEdit(" ", firstTokenEnd, commentTokenStart);
        firstTokenEnd = scanner2.getTokenOffset() + scanner2.getTokenLength() + formatTextStart;
        needsLineBreak = secondToken === 12;
        replaceContent = needsLineBreak ? newLineAndIndent() : "";
        secondToken = scanNext();
      }
      if (secondToken === 2) {
        if (firstToken !== 1) {
          indentLevel--;
          replaceContent = newLineAndIndent();
        }
      } else if (secondToken === 4) {
        if (firstToken !== 3) {
          indentLevel--;
          replaceContent = newLineAndIndent();
        }
      } else {
        switch (firstToken) {
          case 3:
          case 1:
            indentLevel++;
            replaceContent = newLineAndIndent();
            break;
          case 5:
          case 12:
            replaceContent = newLineAndIndent();
            break;
          case 13:
            if (lineBreak) {
              replaceContent = newLineAndIndent();
            } else if (!needsLineBreak) {
              replaceContent = " ";
            }
            break;
          case 6:
            if (!needsLineBreak) {
              replaceContent = " ";
            }
            break;
          case 10:
            if (secondToken === 6) {
              if (!needsLineBreak) {
                replaceContent = "";
              }
              break;
            }
          case 7:
          case 8:
          case 9:
          case 11:
          case 2:
          case 4:
            if (secondToken === 12 || secondToken === 13) {
              if (!needsLineBreak) {
                replaceContent = " ";
              }
            } else if (secondToken !== 5 && secondToken !== 17) {
              hasError = true;
            }
            break;
          case 16:
            hasError = true;
            break;
        }
        if (lineBreak && (secondToken === 12 || secondToken === 13)) {
          replaceContent = newLineAndIndent();
        }
      }
      if (secondToken === 17) {
        replaceContent = options.insertFinalNewline ? eol : "";
      }
      var secondTokenStart = scanner2.getTokenOffset() + formatTextStart;
      addEdit(replaceContent, firstTokenEnd, secondTokenStart);
      firstToken = secondToken;
    }
    return editOperations;
  }
  function repeat(s, count) {
    var result = "";
    for (var i = 0; i < count; i++) {
      result += s;
    }
    return result;
  }
  function computeIndentLevel(content, options) {
    var i = 0;
    var nChars = 0;
    var tabSize = options.tabSize || 4;
    while (i < content.length) {
      var ch = content.charAt(i);
      if (ch === " ") {
        nChars++;
      } else if (ch === "	") {
        nChars += tabSize;
      } else {
        break;
      }
      i++;
    }
    return Math.floor(nChars / tabSize);
  }
  function getEOL(options, text) {
    for (var i = 0; i < text.length; i++) {
      var ch = text.charAt(i);
      if (ch === "\r") {
        if (i + 1 < text.length && text.charAt(i + 1) === "\n") {
          return "\r\n";
        }
        return "\r";
      } else if (ch === "\n") {
        return "\n";
      }
    }
    return options && options.eol || "\n";
  }
  function isEOL(text, offset) {
    return "\r\n".indexOf(text.charAt(offset)) !== -1;
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/jsonc-parser/impl/parser.js
  "use strict";
  var ParseOptions;
  (function(ParseOptions2) {
    ParseOptions2.DEFAULT = {
      allowTrailingComma: false
    };
  })(ParseOptions || (ParseOptions = {}));
  function parse(text, errors, options) {
    if (errors === void 0) {
      errors = [];
    }
    if (options === void 0) {
      options = ParseOptions.DEFAULT;
    }
    var currentProperty = null;
    var currentParent = [];
    var previousParents = [];
    function onValue(value) {
      if (Array.isArray(currentParent)) {
        currentParent.push(value);
      } else if (currentProperty !== null) {
        currentParent[currentProperty] = value;
      }
    }
    var visitor = {
      onObjectBegin: function() {
        var object = {};
        onValue(object);
        previousParents.push(currentParent);
        currentParent = object;
        currentProperty = null;
      },
      onObjectProperty: function(name) {
        currentProperty = name;
      },
      onObjectEnd: function() {
        currentParent = previousParents.pop();
      },
      onArrayBegin: function() {
        var array = [];
        onValue(array);
        previousParents.push(currentParent);
        currentParent = array;
        currentProperty = null;
      },
      onArrayEnd: function() {
        currentParent = previousParents.pop();
      },
      onLiteralValue: onValue,
      onError: function(error, offset, length) {
        errors.push({error, offset, length});
      }
    };
    visit(text, visitor, options);
    return currentParent[0];
  }
  function getNodePath(node) {
    if (!node.parent || !node.parent.children) {
      return [];
    }
    var path = getNodePath(node.parent);
    if (node.parent.type === "property") {
      var key = node.parent.children[0].value;
      path.push(key);
    } else if (node.parent.type === "array") {
      var index = node.parent.children.indexOf(node);
      if (index !== -1) {
        path.push(index);
      }
    }
    return path;
  }
  function getNodeValue(node) {
    switch (node.type) {
      case "array":
        return node.children.map(getNodeValue);
      case "object":
        var obj = Object.create(null);
        for (var _i = 0, _a2 = node.children; _i < _a2.length; _i++) {
          var prop = _a2[_i];
          var valueNode = prop.children[1];
          if (valueNode) {
            obj[prop.children[0].value] = getNodeValue(valueNode);
          }
        }
        return obj;
      case "null":
      case "string":
      case "number":
      case "boolean":
        return node.value;
      default:
        return void 0;
    }
  }
  function contains(node, offset, includeRightBound) {
    if (includeRightBound === void 0) {
      includeRightBound = false;
    }
    return offset >= node.offset && offset < node.offset + node.length || includeRightBound && offset === node.offset + node.length;
  }
  function findNodeAtOffset(node, offset, includeRightBound) {
    if (includeRightBound === void 0) {
      includeRightBound = false;
    }
    if (contains(node, offset, includeRightBound)) {
      var children = node.children;
      if (Array.isArray(children)) {
        for (var i = 0; i < children.length && children[i].offset <= offset; i++) {
          var item = findNodeAtOffset(children[i], offset, includeRightBound);
          if (item) {
            return item;
          }
        }
      }
      return node;
    }
    return void 0;
  }
  function visit(text, visitor, options) {
    if (options === void 0) {
      options = ParseOptions.DEFAULT;
    }
    var _scanner = createScanner(text, false);
    function toNoArgVisit(visitFunction) {
      return visitFunction ? function() {
        return visitFunction(_scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter());
      } : function() {
        return true;
      };
    }
    function toOneArgVisit(visitFunction) {
      return visitFunction ? function(arg) {
        return visitFunction(arg, _scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter());
      } : function() {
        return true;
      };
    }
    var onObjectBegin = toNoArgVisit(visitor.onObjectBegin), onObjectProperty = toOneArgVisit(visitor.onObjectProperty), onObjectEnd = toNoArgVisit(visitor.onObjectEnd), onArrayBegin = toNoArgVisit(visitor.onArrayBegin), onArrayEnd = toNoArgVisit(visitor.onArrayEnd), onLiteralValue = toOneArgVisit(visitor.onLiteralValue), onSeparator = toOneArgVisit(visitor.onSeparator), onComment = toNoArgVisit(visitor.onComment), onError = toOneArgVisit(visitor.onError);
    var disallowComments = options && options.disallowComments;
    var allowTrailingComma = options && options.allowTrailingComma;
    function scanNext() {
      while (true) {
        var token = _scanner.scan();
        switch (_scanner.getTokenError()) {
          case 4:
            handleError(14);
            break;
          case 5:
            handleError(15);
            break;
          case 3:
            handleError(13);
            break;
          case 1:
            if (!disallowComments) {
              handleError(11);
            }
            break;
          case 2:
            handleError(12);
            break;
          case 6:
            handleError(16);
            break;
        }
        switch (token) {
          case 12:
          case 13:
            if (disallowComments) {
              handleError(10);
            } else {
              onComment();
            }
            break;
          case 16:
            handleError(1);
            break;
          case 15:
          case 14:
            break;
          default:
            return token;
        }
      }
    }
    function handleError(error, skipUntilAfter, skipUntil) {
      if (skipUntilAfter === void 0) {
        skipUntilAfter = [];
      }
      if (skipUntil === void 0) {
        skipUntil = [];
      }
      onError(error);
      if (skipUntilAfter.length + skipUntil.length > 0) {
        var token = _scanner.getToken();
        while (token !== 17) {
          if (skipUntilAfter.indexOf(token) !== -1) {
            scanNext();
            break;
          } else if (skipUntil.indexOf(token) !== -1) {
            break;
          }
          token = scanNext();
        }
      }
    }
    function parseString(isValue) {
      var value = _scanner.getTokenValue();
      if (isValue) {
        onLiteralValue(value);
      } else {
        onObjectProperty(value);
      }
      scanNext();
      return true;
    }
    function parseLiteral() {
      switch (_scanner.getToken()) {
        case 11:
          var tokenValue = _scanner.getTokenValue();
          var value = Number(tokenValue);
          if (isNaN(value)) {
            handleError(2);
            value = 0;
          }
          onLiteralValue(value);
          break;
        case 7:
          onLiteralValue(null);
          break;
        case 8:
          onLiteralValue(true);
          break;
        case 9:
          onLiteralValue(false);
          break;
        default:
          return false;
      }
      scanNext();
      return true;
    }
    function parseProperty() {
      if (_scanner.getToken() !== 10) {
        handleError(3, [], [2, 5]);
        return false;
      }
      parseString(false);
      if (_scanner.getToken() === 6) {
        onSeparator(":");
        scanNext();
        if (!parseValue()) {
          handleError(4, [], [2, 5]);
        }
      } else {
        handleError(5, [], [2, 5]);
      }
      return true;
    }
    function parseObject() {
      onObjectBegin();
      scanNext();
      var needsComma = false;
      while (_scanner.getToken() !== 2 && _scanner.getToken() !== 17) {
        if (_scanner.getToken() === 5) {
          if (!needsComma) {
            handleError(4, [], []);
          }
          onSeparator(",");
          scanNext();
          if (_scanner.getToken() === 2 && allowTrailingComma) {
            break;
          }
        } else if (needsComma) {
          handleError(6, [], []);
        }
        if (!parseProperty()) {
          handleError(4, [], [2, 5]);
        }
        needsComma = true;
      }
      onObjectEnd();
      if (_scanner.getToken() !== 2) {
        handleError(7, [2], []);
      } else {
        scanNext();
      }
      return true;
    }
    function parseArray() {
      onArrayBegin();
      scanNext();
      var needsComma = false;
      while (_scanner.getToken() !== 4 && _scanner.getToken() !== 17) {
        if (_scanner.getToken() === 5) {
          if (!needsComma) {
            handleError(4, [], []);
          }
          onSeparator(",");
          scanNext();
          if (_scanner.getToken() === 4 && allowTrailingComma) {
            break;
          }
        } else if (needsComma) {
          handleError(6, [], []);
        }
        if (!parseValue()) {
          handleError(4, [], [4, 5]);
        }
        needsComma = true;
      }
      onArrayEnd();
      if (_scanner.getToken() !== 4) {
        handleError(8, [4], []);
      } else {
        scanNext();
      }
      return true;
    }
    function parseValue() {
      switch (_scanner.getToken()) {
        case 3:
          return parseArray();
        case 1:
          return parseObject();
        case 10:
          return parseString(true);
        default:
          return parseLiteral();
      }
    }
    scanNext();
    if (_scanner.getToken() === 17) {
      if (options.allowEmptyContent) {
        return true;
      }
      handleError(4, [], []);
      return false;
    }
    if (!parseValue()) {
      handleError(4, [], []);
      return false;
    }
    if (_scanner.getToken() !== 17) {
      handleError(9, [], []);
    }
    return true;
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/jsonc-parser/impl/edit.js
  "use strict";

  // node_modules/monaco-editor/esm/vs/language/json/_deps/jsonc-parser/main.js
  "use strict";
  var createScanner2 = createScanner;
  var parse2 = parse;
  var findNodeAtOffset2 = findNodeAtOffset;
  var getNodePath2 = getNodePath;
  var getNodeValue2 = getNodeValue;
  function format2(documentText, range, options) {
    return format(documentText, range, options);
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/utils/objects.js
  function equals(one, other) {
    if (one === other) {
      return true;
    }
    if (one === null || one === void 0 || other === null || other === void 0) {
      return false;
    }
    if (typeof one !== typeof other) {
      return false;
    }
    if (typeof one !== "object") {
      return false;
    }
    if (Array.isArray(one) !== Array.isArray(other)) {
      return false;
    }
    var i, key;
    if (Array.isArray(one)) {
      if (one.length !== other.length) {
        return false;
      }
      for (i = 0; i < one.length; i++) {
        if (!equals(one[i], other[i])) {
          return false;
        }
      }
    } else {
      var oneKeys = [];
      for (key in one) {
        oneKeys.push(key);
      }
      oneKeys.sort();
      var otherKeys = [];
      for (key in other) {
        otherKeys.push(key);
      }
      otherKeys.sort();
      if (!equals(oneKeys, otherKeys)) {
        return false;
      }
      for (i = 0; i < oneKeys.length; i++) {
        if (!equals(one[oneKeys[i]], other[oneKeys[i]])) {
          return false;
        }
      }
    }
    return true;
  }
  function isNumber(val) {
    return typeof val === "number";
  }
  function isDefined(val) {
    return typeof val !== "undefined";
  }
  function isBoolean(val) {
    return typeof val === "boolean";
  }
  function isString(val) {
    return typeof val === "string";
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-languageserver-types/main.js
  "use strict";
  var integer;
  (function(integer2) {
    integer2.MIN_VALUE = -2147483648;
    integer2.MAX_VALUE = 2147483647;
  })(integer || (integer = {}));
  var uinteger;
  (function(uinteger2) {
    uinteger2.MIN_VALUE = 0;
    uinteger2.MAX_VALUE = 2147483647;
  })(uinteger || (uinteger = {}));
  var Position2;
  (function(Position3) {
    function create(line, character) {
      if (line === Number.MAX_VALUE) {
        line = uinteger.MAX_VALUE;
      }
      if (character === Number.MAX_VALUE) {
        character = uinteger.MAX_VALUE;
      }
      return {line, character};
    }
    Position3.create = create;
    function is(value) {
      var candidate = value;
      return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);
    }
    Position3.is = is;
  })(Position2 || (Position2 = {}));
  var Range2;
  (function(Range3) {
    function create(one, two, three, four) {
      if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {
        return {start: Position2.create(one, two), end: Position2.create(three, four)};
      } else if (Position2.is(one) && Position2.is(two)) {
        return {start: one, end: two};
      } else {
        throw new Error("Range#create called with invalid arguments[" + one + ", " + two + ", " + three + ", " + four + "]");
      }
    }
    Range3.create = create;
    function is(value) {
      var candidate = value;
      return Is.objectLiteral(candidate) && Position2.is(candidate.start) && Position2.is(candidate.end);
    }
    Range3.is = is;
  })(Range2 || (Range2 = {}));
  var Location;
  (function(Location2) {
    function create(uri, range) {
      return {uri, range};
    }
    Location2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Range2.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));
    }
    Location2.is = is;
  })(Location || (Location = {}));
  var LocationLink;
  (function(LocationLink2) {
    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {
      return {targetUri, targetRange, targetSelectionRange, originSelectionRange};
    }
    LocationLink2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Range2.is(candidate.targetRange) && Is.string(candidate.targetUri) && (Range2.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange)) && (Range2.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));
    }
    LocationLink2.is = is;
  })(LocationLink || (LocationLink = {}));
  var Color;
  (function(Color2) {
    function create(red, green, blue, alpha) {
      return {
        red,
        green,
        blue,
        alpha
      };
    }
    Color2.create = create;
    function is(value) {
      var candidate = value;
      return Is.numberRange(candidate.red, 0, 1) && Is.numberRange(candidate.green, 0, 1) && Is.numberRange(candidate.blue, 0, 1) && Is.numberRange(candidate.alpha, 0, 1);
    }
    Color2.is = is;
  })(Color || (Color = {}));
  var ColorInformation;
  (function(ColorInformation2) {
    function create(range, color) {
      return {
        range,
        color
      };
    }
    ColorInformation2.create = create;
    function is(value) {
      var candidate = value;
      return Range2.is(candidate.range) && Color.is(candidate.color);
    }
    ColorInformation2.is = is;
  })(ColorInformation || (ColorInformation = {}));
  var ColorPresentation;
  (function(ColorPresentation2) {
    function create(label, textEdit, additionalTextEdits) {
      return {
        label,
        textEdit,
        additionalTextEdits
      };
    }
    ColorPresentation2.create = create;
    function is(value) {
      var candidate = value;
      return Is.string(candidate.label) && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate)) && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));
    }
    ColorPresentation2.is = is;
  })(ColorPresentation || (ColorPresentation = {}));
  var FoldingRangeKind;
  (function(FoldingRangeKind2) {
    FoldingRangeKind2["Comment"] = "comment";
    FoldingRangeKind2["Imports"] = "imports";
    FoldingRangeKind2["Region"] = "region";
  })(FoldingRangeKind || (FoldingRangeKind = {}));
  var FoldingRange;
  (function(FoldingRange2) {
    function create(startLine, endLine, startCharacter, endCharacter, kind) {
      var result = {
        startLine,
        endLine
      };
      if (Is.defined(startCharacter)) {
        result.startCharacter = startCharacter;
      }
      if (Is.defined(endCharacter)) {
        result.endCharacter = endCharacter;
      }
      if (Is.defined(kind)) {
        result.kind = kind;
      }
      return result;
    }
    FoldingRange2.create = create;
    function is(value) {
      var candidate = value;
      return Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine) && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter)) && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter)) && (Is.undefined(candidate.kind) || Is.string(candidate.kind));
    }
    FoldingRange2.is = is;
  })(FoldingRange || (FoldingRange = {}));
  var DiagnosticRelatedInformation;
  (function(DiagnosticRelatedInformation2) {
    function create(location, message) {
      return {
        location,
        message
      };
    }
    DiagnosticRelatedInformation2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);
    }
    DiagnosticRelatedInformation2.is = is;
  })(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));
  var DiagnosticSeverity;
  (function(DiagnosticSeverity2) {
    DiagnosticSeverity2.Error = 1;
    DiagnosticSeverity2.Warning = 2;
    DiagnosticSeverity2.Information = 3;
    DiagnosticSeverity2.Hint = 4;
  })(DiagnosticSeverity || (DiagnosticSeverity = {}));
  var DiagnosticTag;
  (function(DiagnosticTag2) {
    DiagnosticTag2.Unnecessary = 1;
    DiagnosticTag2.Deprecated = 2;
  })(DiagnosticTag || (DiagnosticTag = {}));
  var CodeDescription;
  (function(CodeDescription2) {
    function is(value) {
      var candidate = value;
      return candidate !== void 0 && candidate !== null && Is.string(candidate.href);
    }
    CodeDescription2.is = is;
  })(CodeDescription || (CodeDescription = {}));
  var Diagnostic;
  (function(Diagnostic2) {
    function create(range, message, severity, code, source, relatedInformation) {
      var result = {range, message};
      if (Is.defined(severity)) {
        result.severity = severity;
      }
      if (Is.defined(code)) {
        result.code = code;
      }
      if (Is.defined(source)) {
        result.source = source;
      }
      if (Is.defined(relatedInformation)) {
        result.relatedInformation = relatedInformation;
      }
      return result;
    }
    Diagnostic2.create = create;
    function is(value) {
      var _a2;
      var candidate = value;
      return Is.defined(candidate) && Range2.is(candidate.range) && Is.string(candidate.message) && (Is.number(candidate.severity) || Is.undefined(candidate.severity)) && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code)) && (Is.undefined(candidate.codeDescription) || Is.string((_a2 = candidate.codeDescription) === null || _a2 === void 0 ? void 0 : _a2.href)) && (Is.string(candidate.source) || Is.undefined(candidate.source)) && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));
    }
    Diagnostic2.is = is;
  })(Diagnostic || (Diagnostic = {}));
  var Command;
  (function(Command2) {
    function create(title, command) {
      var args = [];
      for (var _i = 2; _i < arguments.length; _i++) {
        args[_i - 2] = arguments[_i];
      }
      var result = {title, command};
      if (Is.defined(args) && args.length > 0) {
        result.arguments = args;
      }
      return result;
    }
    Command2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);
    }
    Command2.is = is;
  })(Command || (Command = {}));
  var TextEdit;
  (function(TextEdit2) {
    function replace(range, newText) {
      return {range, newText};
    }
    TextEdit2.replace = replace;
    function insert(position, newText) {
      return {range: {start: position, end: position}, newText};
    }
    TextEdit2.insert = insert;
    function del(range) {
      return {range, newText: ""};
    }
    TextEdit2.del = del;
    function is(value) {
      var candidate = value;
      return Is.objectLiteral(candidate) && Is.string(candidate.newText) && Range2.is(candidate.range);
    }
    TextEdit2.is = is;
  })(TextEdit || (TextEdit = {}));
  var ChangeAnnotation;
  (function(ChangeAnnotation2) {
    function create(label, needsConfirmation, description) {
      var result = {label};
      if (needsConfirmation !== void 0) {
        result.needsConfirmation = needsConfirmation;
      }
      if (description !== void 0) {
        result.description = description;
      }
      return result;
    }
    ChangeAnnotation2.create = create;
    function is(value) {
      var candidate = value;
      return candidate !== void 0 && Is.objectLiteral(candidate) && Is.string(candidate.label) && (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === void 0) && (Is.string(candidate.description) || candidate.description === void 0);
    }
    ChangeAnnotation2.is = is;
  })(ChangeAnnotation || (ChangeAnnotation = {}));
  var ChangeAnnotationIdentifier;
  (function(ChangeAnnotationIdentifier2) {
    function is(value) {
      var candidate = value;
      return typeof candidate === "string";
    }
    ChangeAnnotationIdentifier2.is = is;
  })(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));
  var AnnotatedTextEdit;
  (function(AnnotatedTextEdit2) {
    function replace(range, newText, annotation) {
      return {range, newText, annotationId: annotation};
    }
    AnnotatedTextEdit2.replace = replace;
    function insert(position, newText, annotation) {
      return {range: {start: position, end: position}, newText, annotationId: annotation};
    }
    AnnotatedTextEdit2.insert = insert;
    function del(range, annotation) {
      return {range, newText: "", annotationId: annotation};
    }
    AnnotatedTextEdit2.del = del;
    function is(value) {
      var candidate = value;
      return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));
    }
    AnnotatedTextEdit2.is = is;
  })(AnnotatedTextEdit || (AnnotatedTextEdit = {}));
  var TextDocumentEdit;
  (function(TextDocumentEdit2) {
    function create(textDocument, edits) {
      return {textDocument, edits};
    }
    TextDocumentEdit2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument) && Array.isArray(candidate.edits);
    }
    TextDocumentEdit2.is = is;
  })(TextDocumentEdit || (TextDocumentEdit = {}));
  var CreateFile;
  (function(CreateFile2) {
    function create(uri, options, annotation) {
      var result = {
        kind: "create",
        uri
      };
      if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {
        result.options = options;
      }
      if (annotation !== void 0) {
        result.annotationId = annotation;
      }
      return result;
    }
    CreateFile2.create = create;
    function is(value) {
      var candidate = value;
      return candidate && candidate.kind === "create" && Is.string(candidate.uri) && (candidate.options === void 0 || (candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))) && (candidate.annotationId === void 0 || ChangeAnnotationIdentifier.is(candidate.annotationId));
    }
    CreateFile2.is = is;
  })(CreateFile || (CreateFile = {}));
  var RenameFile;
  (function(RenameFile2) {
    function create(oldUri, newUri, options, annotation) {
      var result = {
        kind: "rename",
        oldUri,
        newUri
      };
      if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {
        result.options = options;
      }
      if (annotation !== void 0) {
        result.annotationId = annotation;
      }
      return result;
    }
    RenameFile2.create = create;
    function is(value) {
      var candidate = value;
      return candidate && candidate.kind === "rename" && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === void 0 || (candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))) && (candidate.annotationId === void 0 || ChangeAnnotationIdentifier.is(candidate.annotationId));
    }
    RenameFile2.is = is;
  })(RenameFile || (RenameFile = {}));
  var DeleteFile;
  (function(DeleteFile2) {
    function create(uri, options, annotation) {
      var result = {
        kind: "delete",
        uri
      };
      if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {
        result.options = options;
      }
      if (annotation !== void 0) {
        result.annotationId = annotation;
      }
      return result;
    }
    DeleteFile2.create = create;
    function is(value) {
      var candidate = value;
      return candidate && candidate.kind === "delete" && Is.string(candidate.uri) && (candidate.options === void 0 || (candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))) && (candidate.annotationId === void 0 || ChangeAnnotationIdentifier.is(candidate.annotationId));
    }
    DeleteFile2.is = is;
  })(DeleteFile || (DeleteFile = {}));
  var WorkspaceEdit;
  (function(WorkspaceEdit2) {
    function is(value) {
      var candidate = value;
      return candidate && (candidate.changes !== void 0 || candidate.documentChanges !== void 0) && (candidate.documentChanges === void 0 || candidate.documentChanges.every(function(change) {
        if (Is.string(change.kind)) {
          return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);
        } else {
          return TextDocumentEdit.is(change);
        }
      }));
    }
    WorkspaceEdit2.is = is;
  })(WorkspaceEdit || (WorkspaceEdit = {}));
  var TextEditChangeImpl = function() {
    function TextEditChangeImpl2(edits, changeAnnotations) {
      this.edits = edits;
      this.changeAnnotations = changeAnnotations;
    }
    TextEditChangeImpl2.prototype.insert = function(position, newText, annotation) {
      var edit2;
      var id;
      if (annotation === void 0) {
        edit2 = TextEdit.insert(position, newText);
      } else if (ChangeAnnotationIdentifier.is(annotation)) {
        id = annotation;
        edit2 = AnnotatedTextEdit.insert(position, newText, annotation);
      } else {
        this.assertChangeAnnotations(this.changeAnnotations);
        id = this.changeAnnotations.manage(annotation);
        edit2 = AnnotatedTextEdit.insert(position, newText, id);
      }
      this.edits.push(edit2);
      if (id !== void 0) {
        return id;
      }
    };
    TextEditChangeImpl2.prototype.replace = function(range, newText, annotation) {
      var edit2;
      var id;
      if (annotation === void 0) {
        edit2 = TextEdit.replace(range, newText);
      } else if (ChangeAnnotationIdentifier.is(annotation)) {
        id = annotation;
        edit2 = AnnotatedTextEdit.replace(range, newText, annotation);
      } else {
        this.assertChangeAnnotations(this.changeAnnotations);
        id = this.changeAnnotations.manage(annotation);
        edit2 = AnnotatedTextEdit.replace(range, newText, id);
      }
      this.edits.push(edit2);
      if (id !== void 0) {
        return id;
      }
    };
    TextEditChangeImpl2.prototype.delete = function(range, annotation) {
      var edit2;
      var id;
      if (annotation === void 0) {
        edit2 = TextEdit.del(range);
      } else if (ChangeAnnotationIdentifier.is(annotation)) {
        id = annotation;
        edit2 = AnnotatedTextEdit.del(range, annotation);
      } else {
        this.assertChangeAnnotations(this.changeAnnotations);
        id = this.changeAnnotations.manage(annotation);
        edit2 = AnnotatedTextEdit.del(range, id);
      }
      this.edits.push(edit2);
      if (id !== void 0) {
        return id;
      }
    };
    TextEditChangeImpl2.prototype.add = function(edit2) {
      this.edits.push(edit2);
    };
    TextEditChangeImpl2.prototype.all = function() {
      return this.edits;
    };
    TextEditChangeImpl2.prototype.clear = function() {
      this.edits.splice(0, this.edits.length);
    };
    TextEditChangeImpl2.prototype.assertChangeAnnotations = function(value) {
      if (value === void 0) {
        throw new Error("Text edit change is not configured to manage change annotations.");
      }
    };
    return TextEditChangeImpl2;
  }();
  var ChangeAnnotations = function() {
    function ChangeAnnotations2(annotations) {
      this._annotations = annotations === void 0 ? Object.create(null) : annotations;
      this._counter = 0;
      this._size = 0;
    }
    ChangeAnnotations2.prototype.all = function() {
      return this._annotations;
    };
    Object.defineProperty(ChangeAnnotations2.prototype, "size", {
      get: function() {
        return this._size;
      },
      enumerable: false,
      configurable: true
    });
    ChangeAnnotations2.prototype.manage = function(idOrAnnotation, annotation) {
      var id;
      if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {
        id = idOrAnnotation;
      } else {
        id = this.nextId();
        annotation = idOrAnnotation;
      }
      if (this._annotations[id] !== void 0) {
        throw new Error("Id " + id + " is already in use.");
      }
      if (annotation === void 0) {
        throw new Error("No annotation provided for id " + id);
      }
      this._annotations[id] = annotation;
      this._size++;
      return id;
    };
    ChangeAnnotations2.prototype.nextId = function() {
      this._counter++;
      return this._counter.toString();
    };
    return ChangeAnnotations2;
  }();
  var WorkspaceChange = function() {
    function WorkspaceChange2(workspaceEdit) {
      var _this = this;
      this._textEditChanges = Object.create(null);
      if (workspaceEdit !== void 0) {
        this._workspaceEdit = workspaceEdit;
        if (workspaceEdit.documentChanges) {
          this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);
          workspaceEdit.changeAnnotations = this._changeAnnotations.all();
          workspaceEdit.documentChanges.forEach(function(change) {
            if (TextDocumentEdit.is(change)) {
              var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);
              _this._textEditChanges[change.textDocument.uri] = textEditChange;
            }
          });
        } else if (workspaceEdit.changes) {
          Object.keys(workspaceEdit.changes).forEach(function(key) {
            var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);
            _this._textEditChanges[key] = textEditChange;
          });
        }
      } else {
        this._workspaceEdit = {};
      }
    }
    Object.defineProperty(WorkspaceChange2.prototype, "edit", {
      get: function() {
        this.initDocumentChanges();
        if (this._changeAnnotations !== void 0) {
          if (this._changeAnnotations.size === 0) {
            this._workspaceEdit.changeAnnotations = void 0;
          } else {
            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();
          }
        }
        return this._workspaceEdit;
      },
      enumerable: false,
      configurable: true
    });
    WorkspaceChange2.prototype.getTextEditChange = function(key) {
      if (OptionalVersionedTextDocumentIdentifier.is(key)) {
        this.initDocumentChanges();
        if (this._workspaceEdit.documentChanges === void 0) {
          throw new Error("Workspace edit is not configured for document changes.");
        }
        var textDocument = {uri: key.uri, version: key.version};
        var result = this._textEditChanges[textDocument.uri];
        if (!result) {
          var edits = [];
          var textDocumentEdit = {
            textDocument,
            edits
          };
          this._workspaceEdit.documentChanges.push(textDocumentEdit);
          result = new TextEditChangeImpl(edits, this._changeAnnotations);
          this._textEditChanges[textDocument.uri] = result;
        }
        return result;
      } else {
        this.initChanges();
        if (this._workspaceEdit.changes === void 0) {
          throw new Error("Workspace edit is not configured for normal text edit changes.");
        }
        var result = this._textEditChanges[key];
        if (!result) {
          var edits = [];
          this._workspaceEdit.changes[key] = edits;
          result = new TextEditChangeImpl(edits);
          this._textEditChanges[key] = result;
        }
        return result;
      }
    };
    WorkspaceChange2.prototype.initDocumentChanges = function() {
      if (this._workspaceEdit.documentChanges === void 0 && this._workspaceEdit.changes === void 0) {
        this._changeAnnotations = new ChangeAnnotations();
        this._workspaceEdit.documentChanges = [];
        this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();
      }
    };
    WorkspaceChange2.prototype.initChanges = function() {
      if (this._workspaceEdit.documentChanges === void 0 && this._workspaceEdit.changes === void 0) {
        this._workspaceEdit.changes = Object.create(null);
      }
    };
    WorkspaceChange2.prototype.createFile = function(uri, optionsOrAnnotation, options) {
      this.initDocumentChanges();
      if (this._workspaceEdit.documentChanges === void 0) {
        throw new Error("Workspace edit is not configured for document changes.");
      }
      var annotation;
      if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {
        annotation = optionsOrAnnotation;
      } else {
        options = optionsOrAnnotation;
      }
      var operation;
      var id;
      if (annotation === void 0) {
        operation = CreateFile.create(uri, options);
      } else {
        id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);
        operation = CreateFile.create(uri, options, id);
      }
      this._workspaceEdit.documentChanges.push(operation);
      if (id !== void 0) {
        return id;
      }
    };
    WorkspaceChange2.prototype.renameFile = function(oldUri, newUri, optionsOrAnnotation, options) {
      this.initDocumentChanges();
      if (this._workspaceEdit.documentChanges === void 0) {
        throw new Error("Workspace edit is not configured for document changes.");
      }
      var annotation;
      if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {
        annotation = optionsOrAnnotation;
      } else {
        options = optionsOrAnnotation;
      }
      var operation;
      var id;
      if (annotation === void 0) {
        operation = RenameFile.create(oldUri, newUri, options);
      } else {
        id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);
        operation = RenameFile.create(oldUri, newUri, options, id);
      }
      this._workspaceEdit.documentChanges.push(operation);
      if (id !== void 0) {
        return id;
      }
    };
    WorkspaceChange2.prototype.deleteFile = function(uri, optionsOrAnnotation, options) {
      this.initDocumentChanges();
      if (this._workspaceEdit.documentChanges === void 0) {
        throw new Error("Workspace edit is not configured for document changes.");
      }
      var annotation;
      if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {
        annotation = optionsOrAnnotation;
      } else {
        options = optionsOrAnnotation;
      }
      var operation;
      var id;
      if (annotation === void 0) {
        operation = DeleteFile.create(uri, options);
      } else {
        id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);
        operation = DeleteFile.create(uri, options, id);
      }
      this._workspaceEdit.documentChanges.push(operation);
      if (id !== void 0) {
        return id;
      }
    };
    return WorkspaceChange2;
  }();
  var TextDocumentIdentifier;
  (function(TextDocumentIdentifier2) {
    function create(uri) {
      return {uri};
    }
    TextDocumentIdentifier2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.string(candidate.uri);
    }
    TextDocumentIdentifier2.is = is;
  })(TextDocumentIdentifier || (TextDocumentIdentifier = {}));
  var VersionedTextDocumentIdentifier;
  (function(VersionedTextDocumentIdentifier2) {
    function create(uri, version) {
      return {uri, version};
    }
    VersionedTextDocumentIdentifier2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);
    }
    VersionedTextDocumentIdentifier2.is = is;
  })(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));
  var OptionalVersionedTextDocumentIdentifier;
  (function(OptionalVersionedTextDocumentIdentifier2) {
    function create(uri, version) {
      return {uri, version};
    }
    OptionalVersionedTextDocumentIdentifier2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));
    }
    OptionalVersionedTextDocumentIdentifier2.is = is;
  })(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));
  var TextDocumentItem;
  (function(TextDocumentItem2) {
    function create(uri, languageId, version, text) {
      return {uri, languageId, version, text};
    }
    TextDocumentItem2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);
    }
    TextDocumentItem2.is = is;
  })(TextDocumentItem || (TextDocumentItem = {}));
  var MarkupKind;
  (function(MarkupKind2) {
    MarkupKind2.PlainText = "plaintext";
    MarkupKind2.Markdown = "markdown";
  })(MarkupKind || (MarkupKind = {}));
  (function(MarkupKind2) {
    function is(value) {
      var candidate = value;
      return candidate === MarkupKind2.PlainText || candidate === MarkupKind2.Markdown;
    }
    MarkupKind2.is = is;
  })(MarkupKind || (MarkupKind = {}));
  var MarkupContent;
  (function(MarkupContent2) {
    function is(value) {
      var candidate = value;
      return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);
    }
    MarkupContent2.is = is;
  })(MarkupContent || (MarkupContent = {}));
  var CompletionItemKind2;
  (function(CompletionItemKind3) {
    CompletionItemKind3.Text = 1;
    CompletionItemKind3.Method = 2;
    CompletionItemKind3.Function = 3;
    CompletionItemKind3.Constructor = 4;
    CompletionItemKind3.Field = 5;
    CompletionItemKind3.Variable = 6;
    CompletionItemKind3.Class = 7;
    CompletionItemKind3.Interface = 8;
    CompletionItemKind3.Module = 9;
    CompletionItemKind3.Property = 10;
    CompletionItemKind3.Unit = 11;
    CompletionItemKind3.Value = 12;
    CompletionItemKind3.Enum = 13;
    CompletionItemKind3.Keyword = 14;
    CompletionItemKind3.Snippet = 15;
    CompletionItemKind3.Color = 16;
    CompletionItemKind3.File = 17;
    CompletionItemKind3.Reference = 18;
    CompletionItemKind3.Folder = 19;
    CompletionItemKind3.EnumMember = 20;
    CompletionItemKind3.Constant = 21;
    CompletionItemKind3.Struct = 22;
    CompletionItemKind3.Event = 23;
    CompletionItemKind3.Operator = 24;
    CompletionItemKind3.TypeParameter = 25;
  })(CompletionItemKind2 || (CompletionItemKind2 = {}));
  var InsertTextFormat;
  (function(InsertTextFormat2) {
    InsertTextFormat2.PlainText = 1;
    InsertTextFormat2.Snippet = 2;
  })(InsertTextFormat || (InsertTextFormat = {}));
  var CompletionItemTag2;
  (function(CompletionItemTag3) {
    CompletionItemTag3.Deprecated = 1;
  })(CompletionItemTag2 || (CompletionItemTag2 = {}));
  var InsertReplaceEdit;
  (function(InsertReplaceEdit2) {
    function create(newText, insert, replace) {
      return {newText, insert, replace};
    }
    InsertReplaceEdit2.create = create;
    function is(value) {
      var candidate = value;
      return candidate && Is.string(candidate.newText) && Range2.is(candidate.insert) && Range2.is(candidate.replace);
    }
    InsertReplaceEdit2.is = is;
  })(InsertReplaceEdit || (InsertReplaceEdit = {}));
  var InsertTextMode;
  (function(InsertTextMode2) {
    InsertTextMode2.asIs = 1;
    InsertTextMode2.adjustIndentation = 2;
  })(InsertTextMode || (InsertTextMode = {}));
  var CompletionItem;
  (function(CompletionItem2) {
    function create(label) {
      return {label};
    }
    CompletionItem2.create = create;
  })(CompletionItem || (CompletionItem = {}));
  var CompletionList;
  (function(CompletionList2) {
    function create(items, isIncomplete) {
      return {items: items ? items : [], isIncomplete: !!isIncomplete};
    }
    CompletionList2.create = create;
  })(CompletionList || (CompletionList = {}));
  var MarkedString;
  (function(MarkedString2) {
    function fromPlainText(plainText) {
      return plainText.replace(/[\\`*_{}[\]()#+\-.!]/g, "\\$&");
    }
    MarkedString2.fromPlainText = fromPlainText;
    function is(value) {
      var candidate = value;
      return Is.string(candidate) || Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value);
    }
    MarkedString2.is = is;
  })(MarkedString || (MarkedString = {}));
  var Hover;
  (function(Hover2) {
    function is(value) {
      var candidate = value;
      return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) || MarkedString.is(candidate.contents) || Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range2.is(value.range));
    }
    Hover2.is = is;
  })(Hover || (Hover = {}));
  var ParameterInformation;
  (function(ParameterInformation2) {
    function create(label, documentation) {
      return documentation ? {label, documentation} : {label};
    }
    ParameterInformation2.create = create;
  })(ParameterInformation || (ParameterInformation = {}));
  var SignatureInformation;
  (function(SignatureInformation2) {
    function create(label, documentation) {
      var parameters = [];
      for (var _i = 2; _i < arguments.length; _i++) {
        parameters[_i - 2] = arguments[_i];
      }
      var result = {label};
      if (Is.defined(documentation)) {
        result.documentation = documentation;
      }
      if (Is.defined(parameters)) {
        result.parameters = parameters;
      } else {
        result.parameters = [];
      }
      return result;
    }
    SignatureInformation2.create = create;
  })(SignatureInformation || (SignatureInformation = {}));
  var DocumentHighlightKind2;
  (function(DocumentHighlightKind3) {
    DocumentHighlightKind3.Text = 1;
    DocumentHighlightKind3.Read = 2;
    DocumentHighlightKind3.Write = 3;
  })(DocumentHighlightKind2 || (DocumentHighlightKind2 = {}));
  var DocumentHighlight;
  (function(DocumentHighlight2) {
    function create(range, kind) {
      var result = {range};
      if (Is.number(kind)) {
        result.kind = kind;
      }
      return result;
    }
    DocumentHighlight2.create = create;
  })(DocumentHighlight || (DocumentHighlight = {}));
  var SymbolKind2;
  (function(SymbolKind3) {
    SymbolKind3.File = 1;
    SymbolKind3.Module = 2;
    SymbolKind3.Namespace = 3;
    SymbolKind3.Package = 4;
    SymbolKind3.Class = 5;
    SymbolKind3.Method = 6;
    SymbolKind3.Property = 7;
    SymbolKind3.Field = 8;
    SymbolKind3.Constructor = 9;
    SymbolKind3.Enum = 10;
    SymbolKind3.Interface = 11;
    SymbolKind3.Function = 12;
    SymbolKind3.Variable = 13;
    SymbolKind3.Constant = 14;
    SymbolKind3.String = 15;
    SymbolKind3.Number = 16;
    SymbolKind3.Boolean = 17;
    SymbolKind3.Array = 18;
    SymbolKind3.Object = 19;
    SymbolKind3.Key = 20;
    SymbolKind3.Null = 21;
    SymbolKind3.EnumMember = 22;
    SymbolKind3.Struct = 23;
    SymbolKind3.Event = 24;
    SymbolKind3.Operator = 25;
    SymbolKind3.TypeParameter = 26;
  })(SymbolKind2 || (SymbolKind2 = {}));
  var SymbolTag2;
  (function(SymbolTag3) {
    SymbolTag3.Deprecated = 1;
  })(SymbolTag2 || (SymbolTag2 = {}));
  var SymbolInformation;
  (function(SymbolInformation2) {
    function create(name, kind, range, uri, containerName) {
      var result = {
        name,
        kind,
        location: {uri, range}
      };
      if (containerName) {
        result.containerName = containerName;
      }
      return result;
    }
    SymbolInformation2.create = create;
  })(SymbolInformation || (SymbolInformation = {}));
  var DocumentSymbol;
  (function(DocumentSymbol2) {
    function create(name, detail, kind, range, selectionRange, children) {
      var result = {
        name,
        detail,
        kind,
        range,
        selectionRange
      };
      if (children !== void 0) {
        result.children = children;
      }
      return result;
    }
    DocumentSymbol2.create = create;
    function is(value) {
      var candidate = value;
      return candidate && Is.string(candidate.name) && Is.number(candidate.kind) && Range2.is(candidate.range) && Range2.is(candidate.selectionRange) && (candidate.detail === void 0 || Is.string(candidate.detail)) && (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) && (candidate.children === void 0 || Array.isArray(candidate.children)) && (candidate.tags === void 0 || Array.isArray(candidate.tags));
    }
    DocumentSymbol2.is = is;
  })(DocumentSymbol || (DocumentSymbol = {}));
  var CodeActionKind;
  (function(CodeActionKind2) {
    CodeActionKind2.Empty = "";
    CodeActionKind2.QuickFix = "quickfix";
    CodeActionKind2.Refactor = "refactor";
    CodeActionKind2.RefactorExtract = "refactor.extract";
    CodeActionKind2.RefactorInline = "refactor.inline";
    CodeActionKind2.RefactorRewrite = "refactor.rewrite";
    CodeActionKind2.Source = "source";
    CodeActionKind2.SourceOrganizeImports = "source.organizeImports";
    CodeActionKind2.SourceFixAll = "source.fixAll";
  })(CodeActionKind || (CodeActionKind = {}));
  var CodeActionContext;
  (function(CodeActionContext2) {
    function create(diagnostics, only) {
      var result = {diagnostics};
      if (only !== void 0 && only !== null) {
        result.only = only;
      }
      return result;
    }
    CodeActionContext2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));
    }
    CodeActionContext2.is = is;
  })(CodeActionContext || (CodeActionContext = {}));
  var CodeAction;
  (function(CodeAction2) {
    function create(title, kindOrCommandOrEdit, kind) {
      var result = {title};
      var checkKind = true;
      if (typeof kindOrCommandOrEdit === "string") {
        checkKind = false;
        result.kind = kindOrCommandOrEdit;
      } else if (Command.is(kindOrCommandOrEdit)) {
        result.command = kindOrCommandOrEdit;
      } else {
        result.edit = kindOrCommandOrEdit;
      }
      if (checkKind && kind !== void 0) {
        result.kind = kind;
      }
      return result;
    }
    CodeAction2.create = create;
    function is(value) {
      var candidate = value;
      return candidate && Is.string(candidate.title) && (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) && (candidate.kind === void 0 || Is.string(candidate.kind)) && (candidate.edit !== void 0 || candidate.command !== void 0) && (candidate.command === void 0 || Command.is(candidate.command)) && (candidate.isPreferred === void 0 || Is.boolean(candidate.isPreferred)) && (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));
    }
    CodeAction2.is = is;
  })(CodeAction || (CodeAction = {}));
  var CodeLens;
  (function(CodeLens2) {
    function create(range, data) {
      var result = {range};
      if (Is.defined(data)) {
        result.data = data;
      }
      return result;
    }
    CodeLens2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Range2.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));
    }
    CodeLens2.is = is;
  })(CodeLens || (CodeLens = {}));
  var FormattingOptions;
  (function(FormattingOptions2) {
    function create(tabSize, insertSpaces) {
      return {tabSize, insertSpaces};
    }
    FormattingOptions2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);
    }
    FormattingOptions2.is = is;
  })(FormattingOptions || (FormattingOptions = {}));
  var DocumentLink;
  (function(DocumentLink2) {
    function create(range, target, data) {
      return {range, target, data};
    }
    DocumentLink2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Range2.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));
    }
    DocumentLink2.is = is;
  })(DocumentLink || (DocumentLink = {}));
  var SelectionRange;
  (function(SelectionRange2) {
    function create(range, parent) {
      return {range, parent};
    }
    SelectionRange2.create = create;
    function is(value) {
      var candidate = value;
      return candidate !== void 0 && Range2.is(candidate.range) && (candidate.parent === void 0 || SelectionRange2.is(candidate.parent));
    }
    SelectionRange2.is = is;
  })(SelectionRange || (SelectionRange = {}));
  var TextDocument;
  (function(TextDocument3) {
    function create(uri, languageId, version, content) {
      return new FullTextDocument(uri, languageId, version, content);
    }
    TextDocument3.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount) && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;
    }
    TextDocument3.is = is;
    function applyEdits(document, edits) {
      var text = document.getText();
      var sortedEdits = mergeSort2(edits, function(a2, b) {
        var diff = a2.range.start.line - b.range.start.line;
        if (diff === 0) {
          return a2.range.start.character - b.range.start.character;
        }
        return diff;
      });
      var lastModifiedOffset = text.length;
      for (var i = sortedEdits.length - 1; i >= 0; i--) {
        var e = sortedEdits[i];
        var startOffset = document.offsetAt(e.range.start);
        var endOffset = document.offsetAt(e.range.end);
        if (endOffset <= lastModifiedOffset) {
          text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);
        } else {
          throw new Error("Overlapping edit");
        }
        lastModifiedOffset = startOffset;
      }
      return text;
    }
    TextDocument3.applyEdits = applyEdits;
    function mergeSort2(data, compare) {
      if (data.length <= 1) {
        return data;
      }
      var p = data.length / 2 | 0;
      var left = data.slice(0, p);
      var right = data.slice(p);
      mergeSort2(left, compare);
      mergeSort2(right, compare);
      var leftIdx = 0;
      var rightIdx = 0;
      var i = 0;
      while (leftIdx < left.length && rightIdx < right.length) {
        var ret = compare(left[leftIdx], right[rightIdx]);
        if (ret <= 0) {
          data[i++] = left[leftIdx++];
        } else {
          data[i++] = right[rightIdx++];
        }
      }
      while (leftIdx < left.length) {
        data[i++] = left[leftIdx++];
      }
      while (rightIdx < right.length) {
        data[i++] = right[rightIdx++];
      }
      return data;
    }
  })(TextDocument || (TextDocument = {}));
  var FullTextDocument = function() {
    function FullTextDocument3(uri, languageId, version, content) {
      this._uri = uri;
      this._languageId = languageId;
      this._version = version;
      this._content = content;
      this._lineOffsets = void 0;
    }
    Object.defineProperty(FullTextDocument3.prototype, "uri", {
      get: function() {
        return this._uri;
      },
      enumerable: false,
      configurable: true
    });
    Object.defineProperty(FullTextDocument3.prototype, "languageId", {
      get: function() {
        return this._languageId;
      },
      enumerable: false,
      configurable: true
    });
    Object.defineProperty(FullTextDocument3.prototype, "version", {
      get: function() {
        return this._version;
      },
      enumerable: false,
      configurable: true
    });
    FullTextDocument3.prototype.getText = function(range) {
      if (range) {
        var start = this.offsetAt(range.start);
        var end = this.offsetAt(range.end);
        return this._content.substring(start, end);
      }
      return this._content;
    };
    FullTextDocument3.prototype.update = function(event, version) {
      this._content = event.text;
      this._version = version;
      this._lineOffsets = void 0;
    };
    FullTextDocument3.prototype.getLineOffsets = function() {
      if (this._lineOffsets === void 0) {
        var lineOffsets = [];
        var text = this._content;
        var isLineStart = true;
        for (var i = 0; i < text.length; i++) {
          if (isLineStart) {
            lineOffsets.push(i);
            isLineStart = false;
          }
          var ch = text.charAt(i);
          isLineStart = ch === "\r" || ch === "\n";
          if (ch === "\r" && i + 1 < text.length && text.charAt(i + 1) === "\n") {
            i++;
          }
        }
        if (isLineStart && text.length > 0) {
          lineOffsets.push(text.length);
        }
        this._lineOffsets = lineOffsets;
      }
      return this._lineOffsets;
    };
    FullTextDocument3.prototype.positionAt = function(offset) {
      offset = Math.max(Math.min(offset, this._content.length), 0);
      var lineOffsets = this.getLineOffsets();
      var low = 0, high = lineOffsets.length;
      if (high === 0) {
        return Position2.create(0, offset);
      }
      while (low < high) {
        var mid = Math.floor((low + high) / 2);
        if (lineOffsets[mid] > offset) {
          high = mid;
        } else {
          low = mid + 1;
        }
      }
      var line = low - 1;
      return Position2.create(line, offset - lineOffsets[line]);
    };
    FullTextDocument3.prototype.offsetAt = function(position) {
      var lineOffsets = this.getLineOffsets();
      if (position.line >= lineOffsets.length) {
        return this._content.length;
      } else if (position.line < 0) {
        return 0;
      }
      var lineOffset = lineOffsets[position.line];
      var nextLineOffset = position.line + 1 < lineOffsets.length ? lineOffsets[position.line + 1] : this._content.length;
      return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);
    };
    Object.defineProperty(FullTextDocument3.prototype, "lineCount", {
      get: function() {
        return this.getLineOffsets().length;
      },
      enumerable: false,
      configurable: true
    });
    return FullTextDocument3;
  }();
  var Is;
  (function(Is2) {
    var toString = Object.prototype.toString;
    function defined(value) {
      return typeof value !== "undefined";
    }
    Is2.defined = defined;
    function undefined2(value) {
      return typeof value === "undefined";
    }
    Is2.undefined = undefined2;
    function boolean(value) {
      return value === true || value === false;
    }
    Is2.boolean = boolean;
    function string(value) {
      return toString.call(value) === "[object String]";
    }
    Is2.string = string;
    function number(value) {
      return toString.call(value) === "[object Number]";
    }
    Is2.number = number;
    function numberRange(value, min, max) {
      return toString.call(value) === "[object Number]" && min <= value && value <= max;
    }
    Is2.numberRange = numberRange;
    function integer2(value) {
      return toString.call(value) === "[object Number]" && -2147483648 <= value && value <= 2147483647;
    }
    Is2.integer = integer2;
    function uinteger2(value) {
      return toString.call(value) === "[object Number]" && 0 <= value && value <= 2147483647;
    }
    Is2.uinteger = uinteger2;
    function func(value) {
      return toString.call(value) === "[object Function]";
    }
    Is2.func = func;
    function objectLiteral(value) {
      return value !== null && typeof value === "object";
    }
    Is2.objectLiteral = objectLiteral;
    function typedArray(value, check) {
      return Array.isArray(value) && value.every(check);
    }
    Is2.typedArray = typedArray;
  })(Is || (Is = {}));

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-languageserver-textdocument/lib/esm/main.js
  "use strict";
  var FullTextDocument2 = function() {
    function FullTextDocument3(uri, languageId, version, content) {
      this._uri = uri;
      this._languageId = languageId;
      this._version = version;
      this._content = content;
      this._lineOffsets = void 0;
    }
    Object.defineProperty(FullTextDocument3.prototype, "uri", {
      get: function() {
        return this._uri;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(FullTextDocument3.prototype, "languageId", {
      get: function() {
        return this._languageId;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(FullTextDocument3.prototype, "version", {
      get: function() {
        return this._version;
      },
      enumerable: true,
      configurable: true
    });
    FullTextDocument3.prototype.getText = function(range) {
      if (range) {
        var start = this.offsetAt(range.start);
        var end = this.offsetAt(range.end);
        return this._content.substring(start, end);
      }
      return this._content;
    };
    FullTextDocument3.prototype.update = function(changes, version) {
      for (var _i = 0, changes_1 = changes; _i < changes_1.length; _i++) {
        var change = changes_1[_i];
        if (FullTextDocument3.isIncremental(change)) {
          var range = getWellformedRange(change.range);
          var startOffset = this.offsetAt(range.start);
          var endOffset = this.offsetAt(range.end);
          this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);
          var startLine = Math.max(range.start.line, 0);
          var endLine = Math.max(range.end.line, 0);
          var lineOffsets = this._lineOffsets;
          var addedLineOffsets = computeLineOffsets(change.text, false, startOffset);
          if (endLine - startLine === addedLineOffsets.length) {
            for (var i = 0, len = addedLineOffsets.length; i < len; i++) {
              lineOffsets[i + startLine + 1] = addedLineOffsets[i];
            }
          } else {
            if (addedLineOffsets.length < 1e4) {
              lineOffsets.splice.apply(lineOffsets, [startLine + 1, endLine - startLine].concat(addedLineOffsets));
            } else {
              this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));
            }
          }
          var diff = change.text.length - (endOffset - startOffset);
          if (diff !== 0) {
            for (var i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {
              lineOffsets[i] = lineOffsets[i] + diff;
            }
          }
        } else if (FullTextDocument3.isFull(change)) {
          this._content = change.text;
          this._lineOffsets = void 0;
        } else {
          throw new Error("Unknown change event received");
        }
      }
      this._version = version;
    };
    FullTextDocument3.prototype.getLineOffsets = function() {
      if (this._lineOffsets === void 0) {
        this._lineOffsets = computeLineOffsets(this._content, true);
      }
      return this._lineOffsets;
    };
    FullTextDocument3.prototype.positionAt = function(offset) {
      offset = Math.max(Math.min(offset, this._content.length), 0);
      var lineOffsets = this.getLineOffsets();
      var low = 0, high = lineOffsets.length;
      if (high === 0) {
        return {line: 0, character: offset};
      }
      while (low < high) {
        var mid = Math.floor((low + high) / 2);
        if (lineOffsets[mid] > offset) {
          high = mid;
        } else {
          low = mid + 1;
        }
      }
      var line = low - 1;
      return {line, character: offset - lineOffsets[line]};
    };
    FullTextDocument3.prototype.offsetAt = function(position) {
      var lineOffsets = this.getLineOffsets();
      if (position.line >= lineOffsets.length) {
        return this._content.length;
      } else if (position.line < 0) {
        return 0;
      }
      var lineOffset = lineOffsets[position.line];
      var nextLineOffset = position.line + 1 < lineOffsets.length ? lineOffsets[position.line + 1] : this._content.length;
      return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);
    };
    Object.defineProperty(FullTextDocument3.prototype, "lineCount", {
      get: function() {
        return this.getLineOffsets().length;
      },
      enumerable: true,
      configurable: true
    });
    FullTextDocument3.isIncremental = function(event) {
      var candidate = event;
      return candidate !== void 0 && candidate !== null && typeof candidate.text === "string" && candidate.range !== void 0 && (candidate.rangeLength === void 0 || typeof candidate.rangeLength === "number");
    };
    FullTextDocument3.isFull = function(event) {
      var candidate = event;
      return candidate !== void 0 && candidate !== null && typeof candidate.text === "string" && candidate.range === void 0 && candidate.rangeLength === void 0;
    };
    return FullTextDocument3;
  }();
  var TextDocument2;
  (function(TextDocument3) {
    function create(uri, languageId, version, content) {
      return new FullTextDocument2(uri, languageId, version, content);
    }
    TextDocument3.create = create;
    function update(document, changes, version) {
      if (document instanceof FullTextDocument2) {
        document.update(changes, version);
        return document;
      } else {
        throw new Error("TextDocument.update: document must be created by TextDocument.create");
      }
    }
    TextDocument3.update = update;
    function applyEdits(document, edits) {
      var text = document.getText();
      var sortedEdits = mergeSort(edits.map(getWellformedEdit), function(a2, b) {
        var diff = a2.range.start.line - b.range.start.line;
        if (diff === 0) {
          return a2.range.start.character - b.range.start.character;
        }
        return diff;
      });
      var lastModifiedOffset = 0;
      var spans = [];
      for (var _i = 0, sortedEdits_1 = sortedEdits; _i < sortedEdits_1.length; _i++) {
        var e = sortedEdits_1[_i];
        var startOffset = document.offsetAt(e.range.start);
        if (startOffset < lastModifiedOffset) {
          throw new Error("Overlapping edit");
        } else if (startOffset > lastModifiedOffset) {
          spans.push(text.substring(lastModifiedOffset, startOffset));
        }
        if (e.newText.length) {
          spans.push(e.newText);
        }
        lastModifiedOffset = document.offsetAt(e.range.end);
      }
      spans.push(text.substr(lastModifiedOffset));
      return spans.join("");
    }
    TextDocument3.applyEdits = applyEdits;
  })(TextDocument2 || (TextDocument2 = {}));
  function mergeSort(data, compare) {
    if (data.length <= 1) {
      return data;
    }
    var p = data.length / 2 | 0;
    var left = data.slice(0, p);
    var right = data.slice(p);
    mergeSort(left, compare);
    mergeSort(right, compare);
    var leftIdx = 0;
    var rightIdx = 0;
    var i = 0;
    while (leftIdx < left.length && rightIdx < right.length) {
      var ret = compare(left[leftIdx], right[rightIdx]);
      if (ret <= 0) {
        data[i++] = left[leftIdx++];
      } else {
        data[i++] = right[rightIdx++];
      }
    }
    while (leftIdx < left.length) {
      data[i++] = left[leftIdx++];
    }
    while (rightIdx < right.length) {
      data[i++] = right[rightIdx++];
    }
    return data;
  }
  function computeLineOffsets(text, isAtLineStart, textOffset) {
    if (textOffset === void 0) {
      textOffset = 0;
    }
    var result = isAtLineStart ? [textOffset] : [];
    for (var i = 0; i < text.length; i++) {
      var ch = text.charCodeAt(i);
      if (ch === 13 || ch === 10) {
        if (ch === 13 && i + 1 < text.length && text.charCodeAt(i + 1) === 10) {
          i++;
        }
        result.push(textOffset + i + 1);
      }
    }
    return result;
  }
  function getWellformedRange(range) {
    var start = range.start;
    var end = range.end;
    if (start.line > end.line || start.line === end.line && start.character > end.character) {
      return {start: end, end: start};
    }
    return range;
  }
  function getWellformedEdit(textEdit) {
    var range = getWellformedRange(textEdit.range);
    if (range !== textEdit.range) {
      return {newText: textEdit.newText, range};
    }
    return textEdit;
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/jsonLanguageTypes.js
  var ErrorCode;
  (function(ErrorCode2) {
    ErrorCode2[ErrorCode2["Undefined"] = 0] = "Undefined";
    ErrorCode2[ErrorCode2["EnumValueMismatch"] = 1] = "EnumValueMismatch";
    ErrorCode2[ErrorCode2["Deprecated"] = 2] = "Deprecated";
    ErrorCode2[ErrorCode2["UnexpectedEndOfComment"] = 257] = "UnexpectedEndOfComment";
    ErrorCode2[ErrorCode2["UnexpectedEndOfString"] = 258] = "UnexpectedEndOfString";
    ErrorCode2[ErrorCode2["UnexpectedEndOfNumber"] = 259] = "UnexpectedEndOfNumber";
    ErrorCode2[ErrorCode2["InvalidUnicode"] = 260] = "InvalidUnicode";
    ErrorCode2[ErrorCode2["InvalidEscapeCharacter"] = 261] = "InvalidEscapeCharacter";
    ErrorCode2[ErrorCode2["InvalidCharacter"] = 262] = "InvalidCharacter";
    ErrorCode2[ErrorCode2["PropertyExpected"] = 513] = "PropertyExpected";
    ErrorCode2[ErrorCode2["CommaExpected"] = 514] = "CommaExpected";
    ErrorCode2[ErrorCode2["ColonExpected"] = 515] = "ColonExpected";
    ErrorCode2[ErrorCode2["ValueExpected"] = 516] = "ValueExpected";
    ErrorCode2[ErrorCode2["CommaOrCloseBacketExpected"] = 517] = "CommaOrCloseBacketExpected";
    ErrorCode2[ErrorCode2["CommaOrCloseBraceExpected"] = 518] = "CommaOrCloseBraceExpected";
    ErrorCode2[ErrorCode2["TrailingComma"] = 519] = "TrailingComma";
    ErrorCode2[ErrorCode2["DuplicateKey"] = 520] = "DuplicateKey";
    ErrorCode2[ErrorCode2["CommentNotPermitted"] = 521] = "CommentNotPermitted";
    ErrorCode2[ErrorCode2["SchemaResolveError"] = 768] = "SchemaResolveError";
  })(ErrorCode || (ErrorCode = {}));
  var ClientCapabilities;
  (function(ClientCapabilities2) {
    ClientCapabilities2.LATEST = {
      textDocument: {
        completion: {
          completionItem: {
            documentationFormat: [MarkupKind.Markdown, MarkupKind.PlainText],
            commitCharactersSupport: true
          }
        }
      }
    };
  })(ClientCapabilities || (ClientCapabilities = {}));

  // node_modules/monaco-editor/esm/vs/language/json/fillers/vscode-nls.js
  function format3(message, args) {
    var result;
    if (args.length === 0) {
      result = message;
    } else {
      result = message.replace(/\{(\d+)\}/g, function(match, rest) {
        var index = rest[0];
        return typeof args[index] !== "undefined" ? args[index] : match;
      });
    }
    return result;
  }
  function localize(key, message) {
    var args = [];
    for (var _i = 2; _i < arguments.length; _i++) {
      args[_i - 2] = arguments[_i];
    }
    return format3(message, args);
  }
  function loadMessageBundle(file) {
    return localize;
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/parser/jsonParser.js
  var __extends = function() {
    var extendStatics = function(d, b) {
      extendStatics = Object.setPrototypeOf || {__proto__: []} instanceof Array && function(d2, b2) {
        d2.__proto__ = b2;
      } || function(d2, b2) {
        for (var p in b2)
          if (Object.prototype.hasOwnProperty.call(b2, p))
            d2[p] = b2[p];
      };
      return extendStatics(d, b);
    };
    return function(d, b) {
      extendStatics(d, b);
      function __() {
        this.constructor = d;
      }
      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
  }();
  var localize2 = loadMessageBundle();
  var formats = {
    "color-hex": {errorMessage: localize2("colorHexFormatWarning", "Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."), pattern: /^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},
    "date-time": {errorMessage: localize2("dateTimeFormatWarning", "String is not a RFC3339 date-time."), pattern: /^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},
    date: {errorMessage: localize2("dateFormatWarning", "String is not a RFC3339 date."), pattern: /^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},
    time: {errorMessage: localize2("timeFormatWarning", "String is not a RFC3339 time."), pattern: /^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},
    email: {errorMessage: localize2("emailFormatWarning", "String is not an e-mail address."), pattern: /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}
  };
  var ASTNodeImpl = function() {
    function ASTNodeImpl2(parent, offset, length) {
      if (length === void 0) {
        length = 0;
      }
      this.offset = offset;
      this.length = length;
      this.parent = parent;
    }
    Object.defineProperty(ASTNodeImpl2.prototype, "children", {
      get: function() {
        return [];
      },
      enumerable: false,
      configurable: true
    });
    ASTNodeImpl2.prototype.toString = function() {
      return "type: " + this.type + " (" + this.offset + "/" + this.length + ")" + (this.parent ? " parent: {" + this.parent.toString() + "}" : "");
    };
    return ASTNodeImpl2;
  }();
  var NullASTNodeImpl = function(_super) {
    __extends(NullASTNodeImpl2, _super);
    function NullASTNodeImpl2(parent, offset) {
      var _this = _super.call(this, parent, offset) || this;
      _this.type = "null";
      _this.value = null;
      return _this;
    }
    return NullASTNodeImpl2;
  }(ASTNodeImpl);
  var BooleanASTNodeImpl = function(_super) {
    __extends(BooleanASTNodeImpl2, _super);
    function BooleanASTNodeImpl2(parent, boolValue, offset) {
      var _this = _super.call(this, parent, offset) || this;
      _this.type = "boolean";
      _this.value = boolValue;
      return _this;
    }
    return BooleanASTNodeImpl2;
  }(ASTNodeImpl);
  var ArrayASTNodeImpl = function(_super) {
    __extends(ArrayASTNodeImpl2, _super);
    function ArrayASTNodeImpl2(parent, offset) {
      var _this = _super.call(this, parent, offset) || this;
      _this.type = "array";
      _this.items = [];
      return _this;
    }
    Object.defineProperty(ArrayASTNodeImpl2.prototype, "children", {
      get: function() {
        return this.items;
      },
      enumerable: false,
      configurable: true
    });
    return ArrayASTNodeImpl2;
  }(ASTNodeImpl);
  var NumberASTNodeImpl = function(_super) {
    __extends(NumberASTNodeImpl2, _super);
    function NumberASTNodeImpl2(parent, offset) {
      var _this = _super.call(this, parent, offset) || this;
      _this.type = "number";
      _this.isInteger = true;
      _this.value = Number.NaN;
      return _this;
    }
    return NumberASTNodeImpl2;
  }(ASTNodeImpl);
  var StringASTNodeImpl = function(_super) {
    __extends(StringASTNodeImpl2, _super);
    function StringASTNodeImpl2(parent, offset, length) {
      var _this = _super.call(this, parent, offset, length) || this;
      _this.type = "string";
      _this.value = "";
      return _this;
    }
    return StringASTNodeImpl2;
  }(ASTNodeImpl);
  var PropertyASTNodeImpl = function(_super) {
    __extends(PropertyASTNodeImpl2, _super);
    function PropertyASTNodeImpl2(parent, offset, keyNode) {
      var _this = _super.call(this, parent, offset) || this;
      _this.type = "property";
      _this.colonOffset = -1;
      _this.keyNode = keyNode;
      return _this;
    }
    Object.defineProperty(PropertyASTNodeImpl2.prototype, "children", {
      get: function() {
        return this.valueNode ? [this.keyNode, this.valueNode] : [this.keyNode];
      },
      enumerable: false,
      configurable: true
    });
    return PropertyASTNodeImpl2;
  }(ASTNodeImpl);
  var ObjectASTNodeImpl = function(_super) {
    __extends(ObjectASTNodeImpl2, _super);
    function ObjectASTNodeImpl2(parent, offset) {
      var _this = _super.call(this, parent, offset) || this;
      _this.type = "object";
      _this.properties = [];
      return _this;
    }
    Object.defineProperty(ObjectASTNodeImpl2.prototype, "children", {
      get: function() {
        return this.properties;
      },
      enumerable: false,
      configurable: true
    });
    return ObjectASTNodeImpl2;
  }(ASTNodeImpl);
  function asSchema(schema) {
    if (isBoolean(schema)) {
      return schema ? {} : {not: {}};
    }
    return schema;
  }
  var EnumMatch;
  (function(EnumMatch2) {
    EnumMatch2[EnumMatch2["Key"] = 0] = "Key";
    EnumMatch2[EnumMatch2["Enum"] = 1] = "Enum";
  })(EnumMatch || (EnumMatch = {}));
  var SchemaCollector = function() {
    function SchemaCollector2(focusOffset, exclude) {
      if (focusOffset === void 0) {
        focusOffset = -1;
      }
      this.focusOffset = focusOffset;
      this.exclude = exclude;
      this.schemas = [];
    }
    SchemaCollector2.prototype.add = function(schema) {
      this.schemas.push(schema);
    };
    SchemaCollector2.prototype.merge = function(other) {
      Array.prototype.push.apply(this.schemas, other.schemas);
    };
    SchemaCollector2.prototype.include = function(node) {
      return (this.focusOffset === -1 || contains2(node, this.focusOffset)) && node !== this.exclude;
    };
    SchemaCollector2.prototype.newSub = function() {
      return new SchemaCollector2(-1, this.exclude);
    };
    return SchemaCollector2;
  }();
  var NoOpSchemaCollector = function() {
    function NoOpSchemaCollector2() {
    }
    Object.defineProperty(NoOpSchemaCollector2.prototype, "schemas", {
      get: function() {
        return [];
      },
      enumerable: false,
      configurable: true
    });
    NoOpSchemaCollector2.prototype.add = function(schema) {
    };
    NoOpSchemaCollector2.prototype.merge = function(other) {
    };
    NoOpSchemaCollector2.prototype.include = function(node) {
      return true;
    };
    NoOpSchemaCollector2.prototype.newSub = function() {
      return this;
    };
    NoOpSchemaCollector2.instance = new NoOpSchemaCollector2();
    return NoOpSchemaCollector2;
  }();
  var ValidationResult = function() {
    function ValidationResult2() {
      this.problems = [];
      this.propertiesMatches = 0;
      this.propertiesValueMatches = 0;
      this.primaryValueMatches = 0;
      this.enumValueMatch = false;
      this.enumValues = void 0;
    }
    ValidationResult2.prototype.hasProblems = function() {
      return !!this.problems.length;
    };
    ValidationResult2.prototype.mergeAll = function(validationResults) {
      for (var _i = 0, validationResults_1 = validationResults; _i < validationResults_1.length; _i++) {
        var validationResult = validationResults_1[_i];
        this.merge(validationResult);
      }
    };
    ValidationResult2.prototype.merge = function(validationResult) {
      this.problems = this.problems.concat(validationResult.problems);
    };
    ValidationResult2.prototype.mergeEnumValues = function(validationResult) {
      if (!this.enumValueMatch && !validationResult.enumValueMatch && this.enumValues && validationResult.enumValues) {
        this.enumValues = this.enumValues.concat(validationResult.enumValues);
        for (var _i = 0, _a2 = this.problems; _i < _a2.length; _i++) {
          var error = _a2[_i];
          if (error.code === ErrorCode.EnumValueMismatch) {
            error.message = localize2("enumWarning", "Value is not accepted. Valid values: {0}.", this.enumValues.map(function(v) {
              return JSON.stringify(v);
            }).join(", "));
          }
        }
      }
    };
    ValidationResult2.prototype.mergePropertyMatch = function(propertyValidationResult) {
      this.merge(propertyValidationResult);
      this.propertiesMatches++;
      if (propertyValidationResult.enumValueMatch || !propertyValidationResult.hasProblems() && propertyValidationResult.propertiesMatches) {
        this.propertiesValueMatches++;
      }
      if (propertyValidationResult.enumValueMatch && propertyValidationResult.enumValues && propertyValidationResult.enumValues.length === 1) {
        this.primaryValueMatches++;
      }
    };
    ValidationResult2.prototype.compare = function(other) {
      var hasProblems = this.hasProblems();
      if (hasProblems !== other.hasProblems()) {
        return hasProblems ? -1 : 1;
      }
      if (this.enumValueMatch !== other.enumValueMatch) {
        return other.enumValueMatch ? -1 : 1;
      }
      if (this.primaryValueMatches !== other.primaryValueMatches) {
        return this.primaryValueMatches - other.primaryValueMatches;
      }
      if (this.propertiesValueMatches !== other.propertiesValueMatches) {
        return this.propertiesValueMatches - other.propertiesValueMatches;
      }
      return this.propertiesMatches - other.propertiesMatches;
    };
    return ValidationResult2;
  }();
  function newJSONDocument(root, diagnostics) {
    if (diagnostics === void 0) {
      diagnostics = [];
    }
    return new JSONDocument(root, diagnostics, []);
  }
  function getNodeValue3(node) {
    return getNodeValue2(node);
  }
  function getNodePath3(node) {
    return getNodePath2(node);
  }
  function contains2(node, offset, includeRightBound) {
    if (includeRightBound === void 0) {
      includeRightBound = false;
    }
    return offset >= node.offset && offset < node.offset + node.length || includeRightBound && offset === node.offset + node.length;
  }
  var JSONDocument = function() {
    function JSONDocument2(root, syntaxErrors, comments) {
      if (syntaxErrors === void 0) {
        syntaxErrors = [];
      }
      if (comments === void 0) {
        comments = [];
      }
      this.root = root;
      this.syntaxErrors = syntaxErrors;
      this.comments = comments;
    }
    JSONDocument2.prototype.getNodeFromOffset = function(offset, includeRightBound) {
      if (includeRightBound === void 0) {
        includeRightBound = false;
      }
      if (this.root) {
        return findNodeAtOffset2(this.root, offset, includeRightBound);
      }
      return void 0;
    };
    JSONDocument2.prototype.visit = function(visitor) {
      if (this.root) {
        var doVisit_1 = function(node) {
          var ctn = visitor(node);
          var children = node.children;
          if (Array.isArray(children)) {
            for (var i = 0; i < children.length && ctn; i++) {
              ctn = doVisit_1(children[i]);
            }
          }
          return ctn;
        };
        doVisit_1(this.root);
      }
    };
    JSONDocument2.prototype.validate = function(textDocument, schema, severity) {
      if (severity === void 0) {
        severity = DiagnosticSeverity.Warning;
      }
      if (this.root && schema) {
        var validationResult = new ValidationResult();
        validate(this.root, schema, validationResult, NoOpSchemaCollector.instance);
        return validationResult.problems.map(function(p) {
          var _a2;
          var range = Range2.create(textDocument.positionAt(p.location.offset), textDocument.positionAt(p.location.offset + p.location.length));
          return Diagnostic.create(range, p.message, (_a2 = p.severity) !== null && _a2 !== void 0 ? _a2 : severity, p.code);
        });
      }
      return void 0;
    };
    JSONDocument2.prototype.getMatchingSchemas = function(schema, focusOffset, exclude) {
      if (focusOffset === void 0) {
        focusOffset = -1;
      }
      var matchingSchemas = new SchemaCollector(focusOffset, exclude);
      if (this.root && schema) {
        validate(this.root, schema, new ValidationResult(), matchingSchemas);
      }
      return matchingSchemas.schemas;
    };
    return JSONDocument2;
  }();
  function validate(n, schema, validationResult, matchingSchemas) {
    if (!n || !matchingSchemas.include(n)) {
      return;
    }
    var node = n;
    switch (node.type) {
      case "object":
        _validateObjectNode(node, schema, validationResult, matchingSchemas);
        break;
      case "array":
        _validateArrayNode(node, schema, validationResult, matchingSchemas);
        break;
      case "string":
        _validateStringNode(node, schema, validationResult, matchingSchemas);
        break;
      case "number":
        _validateNumberNode(node, schema, validationResult, matchingSchemas);
        break;
      case "property":
        return validate(node.valueNode, schema, validationResult, matchingSchemas);
    }
    _validateNode();
    matchingSchemas.add({node, schema});
    function _validateNode() {
      function matchesType(type) {
        return node.type === type || type === "integer" && node.type === "number" && node.isInteger;
      }
      if (Array.isArray(schema.type)) {
        if (!schema.type.some(matchesType)) {
          validationResult.problems.push({
            location: {offset: node.offset, length: node.length},
            message: schema.errorMessage || localize2("typeArrayMismatchWarning", "Incorrect type. Expected one of {0}.", schema.type.join(", "))
          });
        }
      } else if (schema.type) {
        if (!matchesType(schema.type)) {
          validationResult.problems.push({
            location: {offset: node.offset, length: node.length},
            message: schema.errorMessage || localize2("typeMismatchWarning", 'Incorrect type. Expected "{0}".', schema.type)
          });
        }
      }
      if (Array.isArray(schema.allOf)) {
        for (var _i = 0, _a2 = schema.allOf; _i < _a2.length; _i++) {
          var subSchemaRef = _a2[_i];
          validate(node, asSchema(subSchemaRef), validationResult, matchingSchemas);
        }
      }
      var notSchema = asSchema(schema.not);
      if (notSchema) {
        var subValidationResult = new ValidationResult();
        var subMatchingSchemas = matchingSchemas.newSub();
        validate(node, notSchema, subValidationResult, subMatchingSchemas);
        if (!subValidationResult.hasProblems()) {
          validationResult.problems.push({
            location: {offset: node.offset, length: node.length},
            message: localize2("notSchemaWarning", "Matches a schema that is not allowed.")
          });
        }
        for (var _b = 0, _c = subMatchingSchemas.schemas; _b < _c.length; _b++) {
          var ms = _c[_b];
          ms.inverted = !ms.inverted;
          matchingSchemas.add(ms);
        }
      }
      var testAlternatives = function(alternatives, maxOneMatch) {
        var matches = [];
        var bestMatch = void 0;
        for (var _i2 = 0, alternatives_1 = alternatives; _i2 < alternatives_1.length; _i2++) {
          var subSchemaRef2 = alternatives_1[_i2];
          var subSchema = asSchema(subSchemaRef2);
          var subValidationResult2 = new ValidationResult();
          var subMatchingSchemas2 = matchingSchemas.newSub();
          validate(node, subSchema, subValidationResult2, subMatchingSchemas2);
          if (!subValidationResult2.hasProblems()) {
            matches.push(subSchema);
          }
          if (!bestMatch) {
            bestMatch = {schema: subSchema, validationResult: subValidationResult2, matchingSchemas: subMatchingSchemas2};
          } else {
            if (!maxOneMatch && !subValidationResult2.hasProblems() && !bestMatch.validationResult.hasProblems()) {
              bestMatch.matchingSchemas.merge(subMatchingSchemas2);
              bestMatch.validationResult.propertiesMatches += subValidationResult2.propertiesMatches;
              bestMatch.validationResult.propertiesValueMatches += subValidationResult2.propertiesValueMatches;
            } else {
              var compareResult = subValidationResult2.compare(bestMatch.validationResult);
              if (compareResult > 0) {
                bestMatch = {schema: subSchema, validationResult: subValidationResult2, matchingSchemas: subMatchingSchemas2};
              } else if (compareResult === 0) {
                bestMatch.matchingSchemas.merge(subMatchingSchemas2);
                bestMatch.validationResult.mergeEnumValues(subValidationResult2);
              }
            }
          }
        }
        if (matches.length > 1 && maxOneMatch) {
          validationResult.problems.push({
            location: {offset: node.offset, length: 1},
            message: localize2("oneOfWarning", "Matches multiple schemas when only one must validate.")
          });
        }
        if (bestMatch) {
          validationResult.merge(bestMatch.validationResult);
          validationResult.propertiesMatches += bestMatch.validationResult.propertiesMatches;
          validationResult.propertiesValueMatches += bestMatch.validationResult.propertiesValueMatches;
          matchingSchemas.merge(bestMatch.matchingSchemas);
        }
        return matches.length;
      };
      if (Array.isArray(schema.anyOf)) {
        testAlternatives(schema.anyOf, false);
      }
      if (Array.isArray(schema.oneOf)) {
        testAlternatives(schema.oneOf, true);
      }
      var testBranch = function(schema2) {
        var subValidationResult2 = new ValidationResult();
        var subMatchingSchemas2 = matchingSchemas.newSub();
        validate(node, asSchema(schema2), subValidationResult2, subMatchingSchemas2);
        validationResult.merge(subValidationResult2);
        validationResult.propertiesMatches += subValidationResult2.propertiesMatches;
        validationResult.propertiesValueMatches += subValidationResult2.propertiesValueMatches;
        matchingSchemas.merge(subMatchingSchemas2);
      };
      var testCondition = function(ifSchema2, thenSchema, elseSchema) {
        var subSchema = asSchema(ifSchema2);
        var subValidationResult2 = new ValidationResult();
        var subMatchingSchemas2 = matchingSchemas.newSub();
        validate(node, subSchema, subValidationResult2, subMatchingSchemas2);
        matchingSchemas.merge(subMatchingSchemas2);
        if (!subValidationResult2.hasProblems()) {
          if (thenSchema) {
            testBranch(thenSchema);
          }
        } else if (elseSchema) {
          testBranch(elseSchema);
        }
      };
      var ifSchema = asSchema(schema.if);
      if (ifSchema) {
        testCondition(ifSchema, asSchema(schema.then), asSchema(schema.else));
      }
      if (Array.isArray(schema.enum)) {
        var val = getNodeValue3(node);
        var enumValueMatch = false;
        for (var _d = 0, _e = schema.enum; _d < _e.length; _d++) {
          var e = _e[_d];
          if (equals(val, e)) {
            enumValueMatch = true;
            break;
          }
        }
        validationResult.enumValues = schema.enum;
        validationResult.enumValueMatch = enumValueMatch;
        if (!enumValueMatch) {
          validationResult.problems.push({
            location: {offset: node.offset, length: node.length},
            code: ErrorCode.EnumValueMismatch,
            message: schema.errorMessage || localize2("enumWarning", "Value is not accepted. Valid values: {0}.", schema.enum.map(function(v) {
              return JSON.stringify(v);
            }).join(", "))
          });
        }
      }
      if (isDefined(schema.const)) {
        var val = getNodeValue3(node);
        if (!equals(val, schema.const)) {
          validationResult.problems.push({
            location: {offset: node.offset, length: node.length},
            code: ErrorCode.EnumValueMismatch,
            message: schema.errorMessage || localize2("constWarning", "Value must be {0}.", JSON.stringify(schema.const))
          });
          validationResult.enumValueMatch = false;
        } else {
          validationResult.enumValueMatch = true;
        }
        validationResult.enumValues = [schema.const];
      }
      if (schema.deprecationMessage && node.parent) {
        validationResult.problems.push({
          location: {offset: node.parent.offset, length: node.parent.length},
          severity: DiagnosticSeverity.Warning,
          message: schema.deprecationMessage,
          code: ErrorCode.Deprecated
        });
      }
    }
    function _validateNumberNode(node2, schema2, validationResult2, matchingSchemas2) {
      var val = node2.value;
      function normalizeFloats(float) {
        var _a2;
        var parts = /^(-?\d+)(?:\.(\d+))?(?:e([-+]\d+))?$/.exec(float.toString());
        return parts && {
          value: Number(parts[1] + (parts[2] || "")),
          multiplier: (((_a2 = parts[2]) === null || _a2 === void 0 ? void 0 : _a2.length) || 0) - (parseInt(parts[3]) || 0)
        };
      }
      ;
      if (isNumber(schema2.multipleOf)) {
        var remainder = -1;
        if (Number.isInteger(schema2.multipleOf)) {
          remainder = val % schema2.multipleOf;
        } else {
          var normMultipleOf = normalizeFloats(schema2.multipleOf);
          var normValue = normalizeFloats(val);
          if (normMultipleOf && normValue) {
            var multiplier = Math.pow(10, Math.abs(normValue.multiplier - normMultipleOf.multiplier));
            if (normValue.multiplier < normMultipleOf.multiplier) {
              normValue.value *= multiplier;
            } else {
              normMultipleOf.value *= multiplier;
            }
            remainder = normValue.value % normMultipleOf.value;
          }
        }
        if (remainder !== 0) {
          validationResult2.problems.push({
            location: {offset: node2.offset, length: node2.length},
            message: localize2("multipleOfWarning", "Value is not divisible by {0}.", schema2.multipleOf)
          });
        }
      }
      function getExclusiveLimit(limit, exclusive) {
        if (isNumber(exclusive)) {
          return exclusive;
        }
        if (isBoolean(exclusive) && exclusive) {
          return limit;
        }
        return void 0;
      }
      function getLimit(limit, exclusive) {
        if (!isBoolean(exclusive) || !exclusive) {
          return limit;
        }
        return void 0;
      }
      var exclusiveMinimum = getExclusiveLimit(schema2.minimum, schema2.exclusiveMinimum);
      if (isNumber(exclusiveMinimum) && val <= exclusiveMinimum) {
        validationResult2.problems.push({
          location: {offset: node2.offset, length: node2.length},
          message: localize2("exclusiveMinimumWarning", "Value is below the exclusive minimum of {0}.", exclusiveMinimum)
        });
      }
      var exclusiveMaximum = getExclusiveLimit(schema2.maximum, schema2.exclusiveMaximum);
      if (isNumber(exclusiveMaximum) && val >= exclusiveMaximum) {
        validationResult2.problems.push({
          location: {offset: node2.offset, length: node2.length},
          message: localize2("exclusiveMaximumWarning", "Value is above the exclusive maximum of {0}.", exclusiveMaximum)
        });
      }
      var minimum = getLimit(schema2.minimum, schema2.exclusiveMinimum);
      if (isNumber(minimum) && val < minimum) {
        validationResult2.problems.push({
          location: {offset: node2.offset, length: node2.length},
          message: localize2("minimumWarning", "Value is below the minimum of {0}.", minimum)
        });
      }
      var maximum = getLimit(schema2.maximum, schema2.exclusiveMaximum);
      if (isNumber(maximum) && val > maximum) {
        validationResult2.problems.push({
          location: {offset: node2.offset, length: node2.length},
          message: localize2("maximumWarning", "Value is above the maximum of {0}.", maximum)
        });
      }
    }
    function _validateStringNode(node2, schema2, validationResult2, matchingSchemas2) {
      if (isNumber(schema2.minLength) && node2.value.length < schema2.minLength) {
        validationResult2.problems.push({
          location: {offset: node2.offset, length: node2.length},
          message: localize2("minLengthWarning", "String is shorter than the minimum length of {0}.", schema2.minLength)
        });
      }
      if (isNumber(schema2.maxLength) && node2.value.length > schema2.maxLength) {
        validationResult2.problems.push({
          location: {offset: node2.offset, length: node2.length},
          message: localize2("maxLengthWarning", "String is longer than the maximum length of {0}.", schema2.maxLength)
        });
      }
      if (isString(schema2.pattern)) {
        var regex = new RegExp(schema2.pattern);
        if (!regex.test(node2.value)) {
          validationResult2.problems.push({
            location: {offset: node2.offset, length: node2.length},
            message: schema2.patternErrorMessage || schema2.errorMessage || localize2("patternWarning", 'String does not match the pattern of "{0}".', schema2.pattern)
          });
        }
      }
      if (schema2.format) {
        switch (schema2.format) {
          case "uri":
          case "uri-reference":
            {
              var errorMessage = void 0;
              if (!node2.value) {
                errorMessage = localize2("uriEmpty", "URI expected.");
              } else {
                var match = /^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(node2.value);
                if (!match) {
                  errorMessage = localize2("uriMissing", "URI is expected.");
                } else if (!match[2] && schema2.format === "uri") {
                  errorMessage = localize2("uriSchemeMissing", "URI with a scheme is expected.");
                }
              }
              if (errorMessage) {
                validationResult2.problems.push({
                  location: {offset: node2.offset, length: node2.length},
                  message: schema2.patternErrorMessage || schema2.errorMessage || localize2("uriFormatWarning", "String is not a URI: {0}", errorMessage)
                });
              }
            }
            break;
          case "color-hex":
          case "date-time":
          case "date":
          case "time":
          case "email":
            var format4 = formats[schema2.format];
            if (!node2.value || !format4.pattern.exec(node2.value)) {
              validationResult2.problems.push({
                location: {offset: node2.offset, length: node2.length},
                message: schema2.patternErrorMessage || schema2.errorMessage || format4.errorMessage
              });
            }
          default:
        }
      }
    }
    function _validateArrayNode(node2, schema2, validationResult2, matchingSchemas2) {
      if (Array.isArray(schema2.items)) {
        var subSchemas = schema2.items;
        for (var index = 0; index < subSchemas.length; index++) {
          var subSchemaRef = subSchemas[index];
          var subSchema = asSchema(subSchemaRef);
          var itemValidationResult = new ValidationResult();
          var item = node2.items[index];
          if (item) {
            validate(item, subSchema, itemValidationResult, matchingSchemas2);
            validationResult2.mergePropertyMatch(itemValidationResult);
          } else if (node2.items.length >= subSchemas.length) {
            validationResult2.propertiesValueMatches++;
          }
        }
        if (node2.items.length > subSchemas.length) {
          if (typeof schema2.additionalItems === "object") {
            for (var i = subSchemas.length; i < node2.items.length; i++) {
              var itemValidationResult = new ValidationResult();
              validate(node2.items[i], schema2.additionalItems, itemValidationResult, matchingSchemas2);
              validationResult2.mergePropertyMatch(itemValidationResult);
            }
          } else if (schema2.additionalItems === false) {
            validationResult2.problems.push({
              location: {offset: node2.offset, length: node2.length},
              message: localize2("additionalItemsWarning", "Array has too many items according to schema. Expected {0} or fewer.", subSchemas.length)
            });
          }
        }
      } else {
        var itemSchema = asSchema(schema2.items);
        if (itemSchema) {
          for (var _i = 0, _a2 = node2.items; _i < _a2.length; _i++) {
            var item = _a2[_i];
            var itemValidationResult = new ValidationResult();
            validate(item, itemSchema, itemValidationResult, matchingSchemas2);
            validationResult2.mergePropertyMatch(itemValidationResult);
          }
        }
      }
      var containsSchema = asSchema(schema2.contains);
      if (containsSchema) {
        var doesContain = node2.items.some(function(item2) {
          var itemValidationResult2 = new ValidationResult();
          validate(item2, containsSchema, itemValidationResult2, NoOpSchemaCollector.instance);
          return !itemValidationResult2.hasProblems();
        });
        if (!doesContain) {
          validationResult2.problems.push({
            location: {offset: node2.offset, length: node2.length},
            message: schema2.errorMessage || localize2("requiredItemMissingWarning", "Array does not contain required item.")
          });
        }
      }
      if (isNumber(schema2.minItems) && node2.items.length < schema2.minItems) {
        validationResult2.problems.push({
          location: {offset: node2.offset, length: node2.length},
          message: localize2("minItemsWarning", "Array has too few items. Expected {0} or more.", schema2.minItems)
        });
      }
      if (isNumber(schema2.maxItems) && node2.items.length > schema2.maxItems) {
        validationResult2.problems.push({
          location: {offset: node2.offset, length: node2.length},
          message: localize2("maxItemsWarning", "Array has too many items. Expected {0} or fewer.", schema2.maxItems)
        });
      }
      if (schema2.uniqueItems === true) {
        var values_1 = getNodeValue3(node2);
        var duplicates = values_1.some(function(value, index2) {
          return index2 !== values_1.lastIndexOf(value);
        });
        if (duplicates) {
          validationResult2.problems.push({
            location: {offset: node2.offset, length: node2.length},
            message: localize2("uniqueItemsWarning", "Array has duplicate items.")
          });
        }
      }
    }
    function _validateObjectNode(node2, schema2, validationResult2, matchingSchemas2) {
      var seenKeys = Object.create(null);
      var unprocessedProperties = [];
      for (var _i = 0, _a2 = node2.properties; _i < _a2.length; _i++) {
        var propertyNode = _a2[_i];
        var key = propertyNode.keyNode.value;
        seenKeys[key] = propertyNode.valueNode;
        unprocessedProperties.push(key);
      }
      if (Array.isArray(schema2.required)) {
        for (var _b = 0, _c = schema2.required; _b < _c.length; _b++) {
          var propertyName = _c[_b];
          if (!seenKeys[propertyName]) {
            var keyNode = node2.parent && node2.parent.type === "property" && node2.parent.keyNode;
            var location = keyNode ? {offset: keyNode.offset, length: keyNode.length} : {offset: node2.offset, length: 1};
            validationResult2.problems.push({
              location,
              message: localize2("MissingRequiredPropWarning", 'Missing property "{0}".', propertyName)
            });
          }
        }
      }
      var propertyProcessed = function(prop2) {
        var index = unprocessedProperties.indexOf(prop2);
        while (index >= 0) {
          unprocessedProperties.splice(index, 1);
          index = unprocessedProperties.indexOf(prop2);
        }
      };
      if (schema2.properties) {
        for (var _d = 0, _e = Object.keys(schema2.properties); _d < _e.length; _d++) {
          var propertyName = _e[_d];
          propertyProcessed(propertyName);
          var propertySchema = schema2.properties[propertyName];
          var child = seenKeys[propertyName];
          if (child) {
            if (isBoolean(propertySchema)) {
              if (!propertySchema) {
                var propertyNode = child.parent;
                validationResult2.problems.push({
                  location: {offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length},
                  message: schema2.errorMessage || localize2("DisallowedExtraPropWarning", "Property {0} is not allowed.", propertyName)
                });
              } else {
                validationResult2.propertiesMatches++;
                validationResult2.propertiesValueMatches++;
              }
            } else {
              var propertyValidationResult = new ValidationResult();
              validate(child, propertySchema, propertyValidationResult, matchingSchemas2);
              validationResult2.mergePropertyMatch(propertyValidationResult);
            }
          }
        }
      }
      if (schema2.patternProperties) {
        for (var _f = 0, _g = Object.keys(schema2.patternProperties); _f < _g.length; _f++) {
          var propertyPattern = _g[_f];
          var regex = new RegExp(propertyPattern);
          for (var _h = 0, _j = unprocessedProperties.slice(0); _h < _j.length; _h++) {
            var propertyName = _j[_h];
            if (regex.test(propertyName)) {
              propertyProcessed(propertyName);
              var child = seenKeys[propertyName];
              if (child) {
                var propertySchema = schema2.patternProperties[propertyPattern];
                if (isBoolean(propertySchema)) {
                  if (!propertySchema) {
                    var propertyNode = child.parent;
                    validationResult2.problems.push({
                      location: {offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length},
                      message: schema2.errorMessage || localize2("DisallowedExtraPropWarning", "Property {0} is not allowed.", propertyName)
                    });
                  } else {
                    validationResult2.propertiesMatches++;
                    validationResult2.propertiesValueMatches++;
                  }
                } else {
                  var propertyValidationResult = new ValidationResult();
                  validate(child, propertySchema, propertyValidationResult, matchingSchemas2);
                  validationResult2.mergePropertyMatch(propertyValidationResult);
                }
              }
            }
          }
        }
      }
      if (typeof schema2.additionalProperties === "object") {
        for (var _k = 0, unprocessedProperties_1 = unprocessedProperties; _k < unprocessedProperties_1.length; _k++) {
          var propertyName = unprocessedProperties_1[_k];
          var child = seenKeys[propertyName];
          if (child) {
            var propertyValidationResult = new ValidationResult();
            validate(child, schema2.additionalProperties, propertyValidationResult, matchingSchemas2);
            validationResult2.mergePropertyMatch(propertyValidationResult);
          }
        }
      } else if (schema2.additionalProperties === false) {
        if (unprocessedProperties.length > 0) {
          for (var _l = 0, unprocessedProperties_2 = unprocessedProperties; _l < unprocessedProperties_2.length; _l++) {
            var propertyName = unprocessedProperties_2[_l];
            var child = seenKeys[propertyName];
            if (child) {
              var propertyNode = child.parent;
              validationResult2.problems.push({
                location: {offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length},
                message: schema2.errorMessage || localize2("DisallowedExtraPropWarning", "Property {0} is not allowed.", propertyName)
              });
            }
          }
        }
      }
      if (isNumber(schema2.maxProperties)) {
        if (node2.properties.length > schema2.maxProperties) {
          validationResult2.problems.push({
            location: {offset: node2.offset, length: node2.length},
            message: localize2("MaxPropWarning", "Object has more properties than limit of {0}.", schema2.maxProperties)
          });
        }
      }
      if (isNumber(schema2.minProperties)) {
        if (node2.properties.length < schema2.minProperties) {
          validationResult2.problems.push({
            location: {offset: node2.offset, length: node2.length},
            message: localize2("MinPropWarning", "Object has fewer properties than the required number of {0}", schema2.minProperties)
          });
        }
      }
      if (schema2.dependencies) {
        for (var _m = 0, _o = Object.keys(schema2.dependencies); _m < _o.length; _m++) {
          var key = _o[_m];
          var prop = seenKeys[key];
          if (prop) {
            var propertyDep = schema2.dependencies[key];
            if (Array.isArray(propertyDep)) {
              for (var _p = 0, propertyDep_1 = propertyDep; _p < propertyDep_1.length; _p++) {
                var requiredProp = propertyDep_1[_p];
                if (!seenKeys[requiredProp]) {
                  validationResult2.problems.push({
                    location: {offset: node2.offset, length: node2.length},
                    message: localize2("RequiredDependentPropWarning", "Object is missing property {0} required by property {1}.", requiredProp, key)
                  });
                } else {
                  validationResult2.propertiesValueMatches++;
                }
              }
            } else {
              var propertySchema = asSchema(propertyDep);
              if (propertySchema) {
                var propertyValidationResult = new ValidationResult();
                validate(node2, propertySchema, propertyValidationResult, matchingSchemas2);
                validationResult2.mergePropertyMatch(propertyValidationResult);
              }
            }
          }
        }
      }
      var propertyNames = asSchema(schema2.propertyNames);
      if (propertyNames) {
        for (var _q = 0, _r = node2.properties; _q < _r.length; _q++) {
          var f2 = _r[_q];
          var key = f2.keyNode;
          if (key) {
            validate(key, propertyNames, validationResult2, NoOpSchemaCollector.instance);
          }
        }
      }
    }
  }
  function parse3(textDocument, config) {
    var problems = [];
    var lastProblemOffset = -1;
    var text = textDocument.getText();
    var scanner2 = createScanner2(text, false);
    var commentRanges = config && config.collectComments ? [] : void 0;
    function _scanNext() {
      while (true) {
        var token_1 = scanner2.scan();
        _checkScanError();
        switch (token_1) {
          case 12:
          case 13:
            if (Array.isArray(commentRanges)) {
              commentRanges.push(Range2.create(textDocument.positionAt(scanner2.getTokenOffset()), textDocument.positionAt(scanner2.getTokenOffset() + scanner2.getTokenLength())));
            }
            break;
          case 15:
          case 14:
            break;
          default:
            return token_1;
        }
      }
    }
    function _accept(token2) {
      if (scanner2.getToken() === token2) {
        _scanNext();
        return true;
      }
      return false;
    }
    function _errorAtRange(message, code, startOffset, endOffset, severity) {
      if (severity === void 0) {
        severity = DiagnosticSeverity.Error;
      }
      if (problems.length === 0 || startOffset !== lastProblemOffset) {
        var range = Range2.create(textDocument.positionAt(startOffset), textDocument.positionAt(endOffset));
        problems.push(Diagnostic.create(range, message, severity, code, textDocument.languageId));
        lastProblemOffset = startOffset;
      }
    }
    function _error(message, code, node, skipUntilAfter, skipUntil) {
      if (node === void 0) {
        node = void 0;
      }
      if (skipUntilAfter === void 0) {
        skipUntilAfter = [];
      }
      if (skipUntil === void 0) {
        skipUntil = [];
      }
      var start = scanner2.getTokenOffset();
      var end = scanner2.getTokenOffset() + scanner2.getTokenLength();
      if (start === end && start > 0) {
        start--;
        while (start > 0 && /\s/.test(text.charAt(start))) {
          start--;
        }
        end = start + 1;
      }
      _errorAtRange(message, code, start, end);
      if (node) {
        _finalize(node, false);
      }
      if (skipUntilAfter.length + skipUntil.length > 0) {
        var token_2 = scanner2.getToken();
        while (token_2 !== 17) {
          if (skipUntilAfter.indexOf(token_2) !== -1) {
            _scanNext();
            break;
          } else if (skipUntil.indexOf(token_2) !== -1) {
            break;
          }
          token_2 = _scanNext();
        }
      }
      return node;
    }
    function _checkScanError() {
      switch (scanner2.getTokenError()) {
        case 4:
          _error(localize2("InvalidUnicode", "Invalid unicode sequence in string."), ErrorCode.InvalidUnicode);
          return true;
        case 5:
          _error(localize2("InvalidEscapeCharacter", "Invalid escape character in string."), ErrorCode.InvalidEscapeCharacter);
          return true;
        case 3:
          _error(localize2("UnexpectedEndOfNumber", "Unexpected end of number."), ErrorCode.UnexpectedEndOfNumber);
          return true;
        case 1:
          _error(localize2("UnexpectedEndOfComment", "Unexpected end of comment."), ErrorCode.UnexpectedEndOfComment);
          return true;
        case 2:
          _error(localize2("UnexpectedEndOfString", "Unexpected end of string."), ErrorCode.UnexpectedEndOfString);
          return true;
        case 6:
          _error(localize2("InvalidCharacter", "Invalid characters in string. Control characters must be escaped."), ErrorCode.InvalidCharacter);
          return true;
      }
      return false;
    }
    function _finalize(node, scanNext) {
      node.length = scanner2.getTokenOffset() + scanner2.getTokenLength() - node.offset;
      if (scanNext) {
        _scanNext();
      }
      return node;
    }
    function _parseArray(parent) {
      if (scanner2.getToken() !== 3) {
        return void 0;
      }
      var node = new ArrayASTNodeImpl(parent, scanner2.getTokenOffset());
      _scanNext();
      var count = 0;
      var needsComma = false;
      while (scanner2.getToken() !== 4 && scanner2.getToken() !== 17) {
        if (scanner2.getToken() === 5) {
          if (!needsComma) {
            _error(localize2("ValueExpected", "Value expected"), ErrorCode.ValueExpected);
          }
          var commaOffset = scanner2.getTokenOffset();
          _scanNext();
          if (scanner2.getToken() === 4) {
            if (needsComma) {
              _errorAtRange(localize2("TrailingComma", "Trailing comma"), ErrorCode.TrailingComma, commaOffset, commaOffset + 1);
            }
            continue;
          }
        } else if (needsComma) {
          _error(localize2("ExpectedComma", "Expected comma"), ErrorCode.CommaExpected);
        }
        var item = _parseValue(node);
        if (!item) {
          _error(localize2("PropertyExpected", "Value expected"), ErrorCode.ValueExpected, void 0, [], [4, 5]);
        } else {
          node.items.push(item);
        }
        needsComma = true;
      }
      if (scanner2.getToken() !== 4) {
        return _error(localize2("ExpectedCloseBracket", "Expected comma or closing bracket"), ErrorCode.CommaOrCloseBacketExpected, node);
      }
      return _finalize(node, true);
    }
    var keyPlaceholder = new StringASTNodeImpl(void 0, 0, 0);
    function _parseProperty(parent, keysSeen) {
      var node = new PropertyASTNodeImpl(parent, scanner2.getTokenOffset(), keyPlaceholder);
      var key = _parseString(node);
      if (!key) {
        if (scanner2.getToken() === 16) {
          _error(localize2("DoubleQuotesExpected", "Property keys must be doublequoted"), ErrorCode.Undefined);
          var keyNode = new StringASTNodeImpl(node, scanner2.getTokenOffset(), scanner2.getTokenLength());
          keyNode.value = scanner2.getTokenValue();
          key = keyNode;
          _scanNext();
        } else {
          return void 0;
        }
      }
      node.keyNode = key;
      var seen = keysSeen[key.value];
      if (seen) {
        _errorAtRange(localize2("DuplicateKeyWarning", "Duplicate object key"), ErrorCode.DuplicateKey, node.keyNode.offset, node.keyNode.offset + node.keyNode.length, DiagnosticSeverity.Warning);
        if (typeof seen === "object") {
          _errorAtRange(localize2("DuplicateKeyWarning", "Duplicate object key"), ErrorCode.DuplicateKey, seen.keyNode.offset, seen.keyNode.offset + seen.keyNode.length, DiagnosticSeverity.Warning);
        }
        keysSeen[key.value] = true;
      } else {
        keysSeen[key.value] = node;
      }
      if (scanner2.getToken() === 6) {
        node.colonOffset = scanner2.getTokenOffset();
        _scanNext();
      } else {
        _error(localize2("ColonExpected", "Colon expected"), ErrorCode.ColonExpected);
        if (scanner2.getToken() === 10 && textDocument.positionAt(key.offset + key.length).line < textDocument.positionAt(scanner2.getTokenOffset()).line) {
          node.length = key.length;
          return node;
        }
      }
      var value = _parseValue(node);
      if (!value) {
        return _error(localize2("ValueExpected", "Value expected"), ErrorCode.ValueExpected, node, [], [2, 5]);
      }
      node.valueNode = value;
      node.length = value.offset + value.length - node.offset;
      return node;
    }
    function _parseObject(parent) {
      if (scanner2.getToken() !== 1) {
        return void 0;
      }
      var node = new ObjectASTNodeImpl(parent, scanner2.getTokenOffset());
      var keysSeen = Object.create(null);
      _scanNext();
      var needsComma = false;
      while (scanner2.getToken() !== 2 && scanner2.getToken() !== 17) {
        if (scanner2.getToken() === 5) {
          if (!needsComma) {
            _error(localize2("PropertyExpected", "Property expected"), ErrorCode.PropertyExpected);
          }
          var commaOffset = scanner2.getTokenOffset();
          _scanNext();
          if (scanner2.getToken() === 2) {
            if (needsComma) {
              _errorAtRange(localize2("TrailingComma", "Trailing comma"), ErrorCode.TrailingComma, commaOffset, commaOffset + 1);
            }
            continue;
          }
        } else if (needsComma) {
          _error(localize2("ExpectedComma", "Expected comma"), ErrorCode.CommaExpected);
        }
        var property = _parseProperty(node, keysSeen);
        if (!property) {
          _error(localize2("PropertyExpected", "Property expected"), ErrorCode.PropertyExpected, void 0, [], [2, 5]);
        } else {
          node.properties.push(property);
        }
        needsComma = true;
      }
      if (scanner2.getToken() !== 2) {
        return _error(localize2("ExpectedCloseBrace", "Expected comma or closing brace"), ErrorCode.CommaOrCloseBraceExpected, node);
      }
      return _finalize(node, true);
    }
    function _parseString(parent) {
      if (scanner2.getToken() !== 10) {
        return void 0;
      }
      var node = new StringASTNodeImpl(parent, scanner2.getTokenOffset());
      node.value = scanner2.getTokenValue();
      return _finalize(node, true);
    }
    function _parseNumber(parent) {
      if (scanner2.getToken() !== 11) {
        return void 0;
      }
      var node = new NumberASTNodeImpl(parent, scanner2.getTokenOffset());
      if (scanner2.getTokenError() === 0) {
        var tokenValue = scanner2.getTokenValue();
        try {
          var numberValue = JSON.parse(tokenValue);
          if (!isNumber(numberValue)) {
            return _error(localize2("InvalidNumberFormat", "Invalid number format."), ErrorCode.Undefined, node);
          }
          node.value = numberValue;
        } catch (e) {
          return _error(localize2("InvalidNumberFormat", "Invalid number format."), ErrorCode.Undefined, node);
        }
        node.isInteger = tokenValue.indexOf(".") === -1;
      }
      return _finalize(node, true);
    }
    function _parseLiteral(parent) {
      var node;
      switch (scanner2.getToken()) {
        case 7:
          return _finalize(new NullASTNodeImpl(parent, scanner2.getTokenOffset()), true);
        case 8:
          return _finalize(new BooleanASTNodeImpl(parent, true, scanner2.getTokenOffset()), true);
        case 9:
          return _finalize(new BooleanASTNodeImpl(parent, false, scanner2.getTokenOffset()), true);
        default:
          return void 0;
      }
    }
    function _parseValue(parent) {
      return _parseArray(parent) || _parseObject(parent) || _parseString(parent) || _parseNumber(parent) || _parseLiteral(parent);
    }
    var _root = void 0;
    var token = _scanNext();
    if (token !== 17) {
      _root = _parseValue(_root);
      if (!_root) {
        _error(localize2("Invalid symbol", "Expected a JSON object, array or literal."), ErrorCode.Undefined);
      } else if (scanner2.getToken() !== 17) {
        _error(localize2("End of file expected", "End of file expected."), ErrorCode.Undefined);
      }
    }
    return new JSONDocument(_root, problems, commentRanges);
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/utils/json.js
  function stringifyObject(obj, indent, stringifyLiteral) {
    if (obj !== null && typeof obj === "object") {
      var newIndent = indent + "	";
      if (Array.isArray(obj)) {
        if (obj.length === 0) {
          return "[]";
        }
        var result = "[\n";
        for (var i = 0; i < obj.length; i++) {
          result += newIndent + stringifyObject(obj[i], newIndent, stringifyLiteral);
          if (i < obj.length - 1) {
            result += ",";
          }
          result += "\n";
        }
        result += indent + "]";
        return result;
      } else {
        var keys = Object.keys(obj);
        if (keys.length === 0) {
          return "{}";
        }
        var result = "{\n";
        for (var i = 0; i < keys.length; i++) {
          var key = keys[i];
          result += newIndent + JSON.stringify(key) + ": " + stringifyObject(obj[key], newIndent, stringifyLiteral);
          if (i < keys.length - 1) {
            result += ",";
          }
          result += "\n";
        }
        result += indent + "}";
        return result;
      }
    }
    return stringifyLiteral(obj);
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/utils/strings.js
  function startsWith(haystack, needle) {
    if (haystack.length < needle.length) {
      return false;
    }
    for (var i = 0; i < needle.length; i++) {
      if (haystack[i] !== needle[i]) {
        return false;
      }
    }
    return true;
  }
  function endsWith(haystack, needle) {
    var diff = haystack.length - needle.length;
    if (diff > 0) {
      return haystack.lastIndexOf(needle) === diff;
    } else if (diff === 0) {
      return haystack === needle;
    } else {
      return false;
    }
  }
  function convertSimple2RegExpPattern(pattern) {
    return pattern.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g, "\\$&").replace(/[\*]/g, ".*");
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonCompletion.js
  var localize3 = loadMessageBundle();
  var valueCommitCharacters = [",", "}", "]"];
  var propertyCommitCharacters = [":"];
  var JSONCompletion = function() {
    function JSONCompletion2(schemaService, contributions, promiseConstructor, clientCapabilities) {
      if (contributions === void 0) {
        contributions = [];
      }
      if (promiseConstructor === void 0) {
        promiseConstructor = Promise;
      }
      if (clientCapabilities === void 0) {
        clientCapabilities = {};
      }
      this.schemaService = schemaService;
      this.contributions = contributions;
      this.promiseConstructor = promiseConstructor;
      this.clientCapabilities = clientCapabilities;
    }
    JSONCompletion2.prototype.doResolve = function(item) {
      for (var i = this.contributions.length - 1; i >= 0; i--) {
        var resolveCompletion = this.contributions[i].resolveCompletion;
        if (resolveCompletion) {
          var resolver = resolveCompletion(item);
          if (resolver) {
            return resolver;
          }
        }
      }
      return this.promiseConstructor.resolve(item);
    };
    JSONCompletion2.prototype.doComplete = function(document, position, doc) {
      var _this = this;
      var result = {
        items: [],
        isIncomplete: false
      };
      var text = document.getText();
      var offset = document.offsetAt(position);
      var node = doc.getNodeFromOffset(offset, true);
      if (this.isInComment(document, node ? node.offset : 0, offset)) {
        return Promise.resolve(result);
      }
      if (node && offset === node.offset + node.length && offset > 0) {
        var ch = text[offset - 1];
        if (node.type === "object" && ch === "}" || node.type === "array" && ch === "]") {
          node = node.parent;
        }
      }
      var currentWord = this.getCurrentWord(document, offset);
      var overwriteRange;
      if (node && (node.type === "string" || node.type === "number" || node.type === "boolean" || node.type === "null")) {
        overwriteRange = Range2.create(document.positionAt(node.offset), document.positionAt(node.offset + node.length));
      } else {
        var overwriteStart = offset - currentWord.length;
        if (overwriteStart > 0 && text[overwriteStart - 1] === '"') {
          overwriteStart--;
        }
        overwriteRange = Range2.create(document.positionAt(overwriteStart), position);
      }
      var supportsCommitCharacters = false;
      var proposed = {};
      var collector = {
        add: function(suggestion) {
          var label = suggestion.label;
          var existing = proposed[label];
          if (!existing) {
            label = label.replace(/[\n]/g, "\u21B5");
            if (label.length > 60) {
              var shortendedLabel = label.substr(0, 57).trim() + "...";
              if (!proposed[shortendedLabel]) {
                label = shortendedLabel;
              }
            }
            if (overwriteRange && suggestion.insertText !== void 0) {
              suggestion.textEdit = TextEdit.replace(overwriteRange, suggestion.insertText);
            }
            if (supportsCommitCharacters) {
              suggestion.commitCharacters = suggestion.kind === CompletionItemKind2.Property ? propertyCommitCharacters : valueCommitCharacters;
            }
            suggestion.label = label;
            proposed[label] = suggestion;
            result.items.push(suggestion);
          } else {
            if (!existing.documentation) {
              existing.documentation = suggestion.documentation;
            }
            if (!existing.detail) {
              existing.detail = suggestion.detail;
            }
          }
        },
        setAsIncomplete: function() {
          result.isIncomplete = true;
        },
        error: function(message) {
          console.error(message);
        },
        log: function(message) {
          console.log(message);
        },
        getNumberOfProposals: function() {
          return result.items.length;
        }
      };
      return this.schemaService.getSchemaForResource(document.uri, doc).then(function(schema) {
        var collectionPromises = [];
        var addValue = true;
        var currentKey = "";
        var currentProperty = void 0;
        if (node) {
          if (node.type === "string") {
            var parent = node.parent;
            if (parent && parent.type === "property" && parent.keyNode === node) {
              addValue = !parent.valueNode;
              currentProperty = parent;
              currentKey = text.substr(node.offset + 1, node.length - 2);
              if (parent) {
                node = parent.parent;
              }
            }
          }
        }
        if (node && node.type === "object") {
          if (node.offset === offset) {
            return result;
          }
          var properties = node.properties;
          properties.forEach(function(p) {
            if (!currentProperty || currentProperty !== p) {
              proposed[p.keyNode.value] = CompletionItem.create("__");
            }
          });
          var separatorAfter_1 = "";
          if (addValue) {
            separatorAfter_1 = _this.evaluateSeparatorAfter(document, document.offsetAt(overwriteRange.end));
          }
          if (schema) {
            _this.getPropertyCompletions(schema, doc, node, addValue, separatorAfter_1, collector);
          } else {
            _this.getSchemaLessPropertyCompletions(doc, node, currentKey, collector);
          }
          var location_1 = getNodePath3(node);
          _this.contributions.forEach(function(contribution) {
            var collectPromise = contribution.collectPropertyCompletions(document.uri, location_1, currentWord, addValue, separatorAfter_1 === "", collector);
            if (collectPromise) {
              collectionPromises.push(collectPromise);
            }
          });
          if (!schema && currentWord.length > 0 && text.charAt(offset - currentWord.length - 1) !== '"') {
            collector.add({
              kind: CompletionItemKind2.Property,
              label: _this.getLabelForValue(currentWord),
              insertText: _this.getInsertTextForProperty(currentWord, void 0, false, separatorAfter_1),
              insertTextFormat: InsertTextFormat.Snippet,
              documentation: ""
            });
            collector.setAsIncomplete();
          }
        }
        var types3 = {};
        if (schema) {
          _this.getValueCompletions(schema, doc, node, offset, document, collector, types3);
        } else {
          _this.getSchemaLessValueCompletions(doc, node, offset, document, collector);
        }
        if (_this.contributions.length > 0) {
          _this.getContributedValueCompletions(doc, node, offset, document, collector, collectionPromises);
        }
        return _this.promiseConstructor.all(collectionPromises).then(function() {
          if (collector.getNumberOfProposals() === 0) {
            var offsetForSeparator = offset;
            if (node && (node.type === "string" || node.type === "number" || node.type === "boolean" || node.type === "null")) {
              offsetForSeparator = node.offset + node.length;
            }
            var separatorAfter = _this.evaluateSeparatorAfter(document, offsetForSeparator);
            _this.addFillerValueCompletions(types3, separatorAfter, collector);
          }
          return result;
        });
      });
    };
    JSONCompletion2.prototype.getPropertyCompletions = function(schema, doc, node, addValue, separatorAfter, collector) {
      var _this = this;
      var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset);
      matchingSchemas.forEach(function(s) {
        if (s.node === node && !s.inverted) {
          var schemaProperties_1 = s.schema.properties;
          if (schemaProperties_1) {
            Object.keys(schemaProperties_1).forEach(function(key) {
              var propertySchema = schemaProperties_1[key];
              if (typeof propertySchema === "object" && !propertySchema.deprecationMessage && !propertySchema.doNotSuggest) {
                var proposal = {
                  kind: CompletionItemKind2.Property,
                  label: key,
                  insertText: _this.getInsertTextForProperty(key, propertySchema, addValue, separatorAfter),
                  insertTextFormat: InsertTextFormat.Snippet,
                  filterText: _this.getFilterTextForValue(key),
                  documentation: _this.fromMarkup(propertySchema.markdownDescription) || propertySchema.description || ""
                };
                if (propertySchema.suggestSortText !== void 0) {
                  proposal.sortText = propertySchema.suggestSortText;
                }
                if (proposal.insertText && endsWith(proposal.insertText, "$1" + separatorAfter)) {
                  proposal.command = {
                    title: "Suggest",
                    command: "editor.action.triggerSuggest"
                  };
                }
                collector.add(proposal);
              }
            });
          }
          var schemaPropertyNames_1 = s.schema.propertyNames;
          if (typeof schemaPropertyNames_1 === "object" && !schemaPropertyNames_1.deprecationMessage && !schemaPropertyNames_1.doNotSuggest) {
            var propertyNameCompletionItem = function(name, enumDescription2) {
              if (enumDescription2 === void 0) {
                enumDescription2 = void 0;
              }
              var proposal = {
                kind: CompletionItemKind2.Property,
                label: name,
                insertText: _this.getInsertTextForProperty(name, void 0, addValue, separatorAfter),
                insertTextFormat: InsertTextFormat.Snippet,
                filterText: _this.getFilterTextForValue(name),
                documentation: enumDescription2 || _this.fromMarkup(schemaPropertyNames_1.markdownDescription) || schemaPropertyNames_1.description || ""
              };
              if (schemaPropertyNames_1.suggestSortText !== void 0) {
                proposal.sortText = schemaPropertyNames_1.suggestSortText;
              }
              if (proposal.insertText && endsWith(proposal.insertText, "$1" + separatorAfter)) {
                proposal.command = {
                  title: "Suggest",
                  command: "editor.action.triggerSuggest"
                };
              }
              collector.add(proposal);
            };
            if (schemaPropertyNames_1.enum) {
              for (var i = 0; i < schemaPropertyNames_1.enum.length; i++) {
                var enumDescription = void 0;
                if (schemaPropertyNames_1.markdownEnumDescriptions && i < schemaPropertyNames_1.markdownEnumDescriptions.length) {
                  enumDescription = _this.fromMarkup(schemaPropertyNames_1.markdownEnumDescriptions[i]);
                } else if (schemaPropertyNames_1.enumDescriptions && i < schemaPropertyNames_1.enumDescriptions.length) {
                  enumDescription = schemaPropertyNames_1.enumDescriptions[i];
                }
                propertyNameCompletionItem(schemaPropertyNames_1.enum[i], enumDescription);
              }
            }
            if (schemaPropertyNames_1.const) {
              propertyNameCompletionItem(schemaPropertyNames_1.const);
            }
          }
        }
      });
    };
    JSONCompletion2.prototype.getSchemaLessPropertyCompletions = function(doc, node, currentKey, collector) {
      var _this = this;
      var collectCompletionsForSimilarObject = function(obj) {
        obj.properties.forEach(function(p) {
          var key = p.keyNode.value;
          collector.add({
            kind: CompletionItemKind2.Property,
            label: key,
            insertText: _this.getInsertTextForValue(key, ""),
            insertTextFormat: InsertTextFormat.Snippet,
            filterText: _this.getFilterTextForValue(key),
            documentation: ""
          });
        });
      };
      if (node.parent) {
        if (node.parent.type === "property") {
          var parentKey_1 = node.parent.keyNode.value;
          doc.visit(function(n) {
            if (n.type === "property" && n !== node.parent && n.keyNode.value === parentKey_1 && n.valueNode && n.valueNode.type === "object") {
              collectCompletionsForSimilarObject(n.valueNode);
            }
            return true;
          });
        } else if (node.parent.type === "array") {
          node.parent.items.forEach(function(n) {
            if (n.type === "object" && n !== node) {
              collectCompletionsForSimilarObject(n);
            }
          });
        }
      } else if (node.type === "object") {
        collector.add({
          kind: CompletionItemKind2.Property,
          label: "$schema",
          insertText: this.getInsertTextForProperty("$schema", void 0, true, ""),
          insertTextFormat: InsertTextFormat.Snippet,
          documentation: "",
          filterText: this.getFilterTextForValue("$schema")
        });
      }
    };
    JSONCompletion2.prototype.getSchemaLessValueCompletions = function(doc, node, offset, document, collector) {
      var _this = this;
      var offsetForSeparator = offset;
      if (node && (node.type === "string" || node.type === "number" || node.type === "boolean" || node.type === "null")) {
        offsetForSeparator = node.offset + node.length;
        node = node.parent;
      }
      if (!node) {
        collector.add({
          kind: this.getSuggestionKind("object"),
          label: "Empty object",
          insertText: this.getInsertTextForValue({}, ""),
          insertTextFormat: InsertTextFormat.Snippet,
          documentation: ""
        });
        collector.add({
          kind: this.getSuggestionKind("array"),
          label: "Empty array",
          insertText: this.getInsertTextForValue([], ""),
          insertTextFormat: InsertTextFormat.Snippet,
          documentation: ""
        });
        return;
      }
      var separatorAfter = this.evaluateSeparatorAfter(document, offsetForSeparator);
      var collectSuggestionsForValues = function(value) {
        if (value.parent && !contains2(value.parent, offset, true)) {
          collector.add({
            kind: _this.getSuggestionKind(value.type),
            label: _this.getLabelTextForMatchingNode(value, document),
            insertText: _this.getInsertTextForMatchingNode(value, document, separatorAfter),
            insertTextFormat: InsertTextFormat.Snippet,
            documentation: ""
          });
        }
        if (value.type === "boolean") {
          _this.addBooleanValueCompletion(!value.value, separatorAfter, collector);
        }
      };
      if (node.type === "property") {
        if (offset > (node.colonOffset || 0)) {
          var valueNode = node.valueNode;
          if (valueNode && (offset > valueNode.offset + valueNode.length || valueNode.type === "object" || valueNode.type === "array")) {
            return;
          }
          var parentKey_2 = node.keyNode.value;
          doc.visit(function(n) {
            if (n.type === "property" && n.keyNode.value === parentKey_2 && n.valueNode) {
              collectSuggestionsForValues(n.valueNode);
            }
            return true;
          });
          if (parentKey_2 === "$schema" && node.parent && !node.parent.parent) {
            this.addDollarSchemaCompletions(separatorAfter, collector);
          }
        }
      }
      if (node.type === "array") {
        if (node.parent && node.parent.type === "property") {
          var parentKey_3 = node.parent.keyNode.value;
          doc.visit(function(n) {
            if (n.type === "property" && n.keyNode.value === parentKey_3 && n.valueNode && n.valueNode.type === "array") {
              n.valueNode.items.forEach(collectSuggestionsForValues);
            }
            return true;
          });
        } else {
          node.items.forEach(collectSuggestionsForValues);
        }
      }
    };
    JSONCompletion2.prototype.getValueCompletions = function(schema, doc, node, offset, document, collector, types3) {
      var offsetForSeparator = offset;
      var parentKey = void 0;
      var valueNode = void 0;
      if (node && (node.type === "string" || node.type === "number" || node.type === "boolean" || node.type === "null")) {
        offsetForSeparator = node.offset + node.length;
        valueNode = node;
        node = node.parent;
      }
      if (!node) {
        this.addSchemaValueCompletions(schema.schema, "", collector, types3);
        return;
      }
      if (node.type === "property" && offset > (node.colonOffset || 0)) {
        var valueNode_1 = node.valueNode;
        if (valueNode_1 && offset > valueNode_1.offset + valueNode_1.length) {
          return;
        }
        parentKey = node.keyNode.value;
        node = node.parent;
      }
      if (node && (parentKey !== void 0 || node.type === "array")) {
        var separatorAfter = this.evaluateSeparatorAfter(document, offsetForSeparator);
        var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset, valueNode);
        for (var _i = 0, matchingSchemas_1 = matchingSchemas; _i < matchingSchemas_1.length; _i++) {
          var s = matchingSchemas_1[_i];
          if (s.node === node && !s.inverted && s.schema) {
            if (node.type === "array" && s.schema.items) {
              if (Array.isArray(s.schema.items)) {
                var index = this.findItemAtOffset(node, document, offset);
                if (index < s.schema.items.length) {
                  this.addSchemaValueCompletions(s.schema.items[index], separatorAfter, collector, types3);
                }
              } else {
                this.addSchemaValueCompletions(s.schema.items, separatorAfter, collector, types3);
              }
            }
            if (parentKey !== void 0) {
              var propertyMatched = false;
              if (s.schema.properties) {
                var propertySchema = s.schema.properties[parentKey];
                if (propertySchema) {
                  propertyMatched = true;
                  this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types3);
                }
              }
              if (s.schema.patternProperties && !propertyMatched) {
                for (var _a2 = 0, _b = Object.keys(s.schema.patternProperties); _a2 < _b.length; _a2++) {
                  var pattern = _b[_a2];
                  var regex = new RegExp(pattern);
                  if (regex.test(parentKey)) {
                    propertyMatched = true;
                    var propertySchema = s.schema.patternProperties[pattern];
                    this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types3);
                  }
                }
              }
              if (s.schema.additionalProperties && !propertyMatched) {
                var propertySchema = s.schema.additionalProperties;
                this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types3);
              }
            }
          }
        }
        if (parentKey === "$schema" && !node.parent) {
          this.addDollarSchemaCompletions(separatorAfter, collector);
        }
        if (types3["boolean"]) {
          this.addBooleanValueCompletion(true, separatorAfter, collector);
          this.addBooleanValueCompletion(false, separatorAfter, collector);
        }
        if (types3["null"]) {
          this.addNullValueCompletion(separatorAfter, collector);
        }
      }
    };
    JSONCompletion2.prototype.getContributedValueCompletions = function(doc, node, offset, document, collector, collectionPromises) {
      if (!node) {
        this.contributions.forEach(function(contribution) {
          var collectPromise = contribution.collectDefaultCompletions(document.uri, collector);
          if (collectPromise) {
            collectionPromises.push(collectPromise);
          }
        });
      } else {
        if (node.type === "string" || node.type === "number" || node.type === "boolean" || node.type === "null") {
          node = node.parent;
        }
        if (node && node.type === "property" && offset > (node.colonOffset || 0)) {
          var parentKey_4 = node.keyNode.value;
          var valueNode = node.valueNode;
          if ((!valueNode || offset <= valueNode.offset + valueNode.length) && node.parent) {
            var location_2 = getNodePath3(node.parent);
            this.contributions.forEach(function(contribution) {
              var collectPromise = contribution.collectValueCompletions(document.uri, location_2, parentKey_4, collector);
              if (collectPromise) {
                collectionPromises.push(collectPromise);
              }
            });
          }
        }
      }
    };
    JSONCompletion2.prototype.addSchemaValueCompletions = function(schema, separatorAfter, collector, types3) {
      var _this = this;
      if (typeof schema === "object") {
        this.addEnumValueCompletions(schema, separatorAfter, collector);
        this.addDefaultValueCompletions(schema, separatorAfter, collector);
        this.collectTypes(schema, types3);
        if (Array.isArray(schema.allOf)) {
          schema.allOf.forEach(function(s) {
            return _this.addSchemaValueCompletions(s, separatorAfter, collector, types3);
          });
        }
        if (Array.isArray(schema.anyOf)) {
          schema.anyOf.forEach(function(s) {
            return _this.addSchemaValueCompletions(s, separatorAfter, collector, types3);
          });
        }
        if (Array.isArray(schema.oneOf)) {
          schema.oneOf.forEach(function(s) {
            return _this.addSchemaValueCompletions(s, separatorAfter, collector, types3);
          });
        }
      }
    };
    JSONCompletion2.prototype.addDefaultValueCompletions = function(schema, separatorAfter, collector, arrayDepth) {
      var _this = this;
      if (arrayDepth === void 0) {
        arrayDepth = 0;
      }
      var hasProposals = false;
      if (isDefined(schema.default)) {
        var type = schema.type;
        var value = schema.default;
        for (var i = arrayDepth; i > 0; i--) {
          value = [value];
          type = "array";
        }
        collector.add({
          kind: this.getSuggestionKind(type),
          label: this.getLabelForValue(value),
          insertText: this.getInsertTextForValue(value, separatorAfter),
          insertTextFormat: InsertTextFormat.Snippet,
          detail: localize3("json.suggest.default", "Default value")
        });
        hasProposals = true;
      }
      if (Array.isArray(schema.examples)) {
        schema.examples.forEach(function(example) {
          var type2 = schema.type;
          var value2 = example;
          for (var i2 = arrayDepth; i2 > 0; i2--) {
            value2 = [value2];
            type2 = "array";
          }
          collector.add({
            kind: _this.getSuggestionKind(type2),
            label: _this.getLabelForValue(value2),
            insertText: _this.getInsertTextForValue(value2, separatorAfter),
            insertTextFormat: InsertTextFormat.Snippet
          });
          hasProposals = true;
        });
      }
      if (Array.isArray(schema.defaultSnippets)) {
        schema.defaultSnippets.forEach(function(s) {
          var type2 = schema.type;
          var value2 = s.body;
          var label = s.label;
          var insertText;
          var filterText;
          if (isDefined(value2)) {
            var type_1 = schema.type;
            for (var i2 = arrayDepth; i2 > 0; i2--) {
              value2 = [value2];
              type_1 = "array";
            }
            insertText = _this.getInsertTextForSnippetValue(value2, separatorAfter);
            filterText = _this.getFilterTextForSnippetValue(value2);
            label = label || _this.getLabelForSnippetValue(value2);
          } else if (typeof s.bodyText === "string") {
            var prefix = "", suffix = "", indent = "";
            for (var i2 = arrayDepth; i2 > 0; i2--) {
              prefix = prefix + indent + "[\n";
              suffix = suffix + "\n" + indent + "]";
              indent += "	";
              type2 = "array";
            }
            insertText = prefix + indent + s.bodyText.split("\n").join("\n" + indent) + suffix + separatorAfter;
            label = label || insertText, filterText = insertText.replace(/[\n]/g, "");
          } else {
            return;
          }
          collector.add({
            kind: _this.getSuggestionKind(type2),
            label,
            documentation: _this.fromMarkup(s.markdownDescription) || s.description,
            insertText,
            insertTextFormat: InsertTextFormat.Snippet,
            filterText
          });
          hasProposals = true;
        });
      }
      if (!hasProposals && typeof schema.items === "object" && !Array.isArray(schema.items) && arrayDepth < 5) {
        this.addDefaultValueCompletions(schema.items, separatorAfter, collector, arrayDepth + 1);
      }
    };
    JSONCompletion2.prototype.addEnumValueCompletions = function(schema, separatorAfter, collector) {
      if (isDefined(schema.const)) {
        collector.add({
          kind: this.getSuggestionKind(schema.type),
          label: this.getLabelForValue(schema.const),
          insertText: this.getInsertTextForValue(schema.const, separatorAfter),
          insertTextFormat: InsertTextFormat.Snippet,
          documentation: this.fromMarkup(schema.markdownDescription) || schema.description
        });
      }
      if (Array.isArray(schema.enum)) {
        for (var i = 0, length = schema.enum.length; i < length; i++) {
          var enm = schema.enum[i];
          var documentation = this.fromMarkup(schema.markdownDescription) || schema.description;
          if (schema.markdownEnumDescriptions && i < schema.markdownEnumDescriptions.length && this.doesSupportMarkdown()) {
            documentation = this.fromMarkup(schema.markdownEnumDescriptions[i]);
          } else if (schema.enumDescriptions && i < schema.enumDescriptions.length) {
            documentation = schema.enumDescriptions[i];
          }
          collector.add({
            kind: this.getSuggestionKind(schema.type),
            label: this.getLabelForValue(enm),
            insertText: this.getInsertTextForValue(enm, separatorAfter),
            insertTextFormat: InsertTextFormat.Snippet,
            documentation
          });
        }
      }
    };
    JSONCompletion2.prototype.collectTypes = function(schema, types3) {
      if (Array.isArray(schema.enum) || isDefined(schema.const)) {
        return;
      }
      var type = schema.type;
      if (Array.isArray(type)) {
        type.forEach(function(t) {
          return types3[t] = true;
        });
      } else if (type) {
        types3[type] = true;
      }
    };
    JSONCompletion2.prototype.addFillerValueCompletions = function(types3, separatorAfter, collector) {
      if (types3["object"]) {
        collector.add({
          kind: this.getSuggestionKind("object"),
          label: "{}",
          insertText: this.getInsertTextForGuessedValue({}, separatorAfter),
          insertTextFormat: InsertTextFormat.Snippet,
          detail: localize3("defaults.object", "New object"),
          documentation: ""
        });
      }
      if (types3["array"]) {
        collector.add({
          kind: this.getSuggestionKind("array"),
          label: "[]",
          insertText: this.getInsertTextForGuessedValue([], separatorAfter),
          insertTextFormat: InsertTextFormat.Snippet,
          detail: localize3("defaults.array", "New array"),
          documentation: ""
        });
      }
    };
    JSONCompletion2.prototype.addBooleanValueCompletion = function(value, separatorAfter, collector) {
      collector.add({
        kind: this.getSuggestionKind("boolean"),
        label: value ? "true" : "false",
        insertText: this.getInsertTextForValue(value, separatorAfter),
        insertTextFormat: InsertTextFormat.Snippet,
        documentation: ""
      });
    };
    JSONCompletion2.prototype.addNullValueCompletion = function(separatorAfter, collector) {
      collector.add({
        kind: this.getSuggestionKind("null"),
        label: "null",
        insertText: "null" + separatorAfter,
        insertTextFormat: InsertTextFormat.Snippet,
        documentation: ""
      });
    };
    JSONCompletion2.prototype.addDollarSchemaCompletions = function(separatorAfter, collector) {
      var _this = this;
      var schemaIds = this.schemaService.getRegisteredSchemaIds(function(schema) {
        return schema === "http" || schema === "https";
      });
      schemaIds.forEach(function(schemaId) {
        return collector.add({
          kind: CompletionItemKind2.Module,
          label: _this.getLabelForValue(schemaId),
          filterText: _this.getFilterTextForValue(schemaId),
          insertText: _this.getInsertTextForValue(schemaId, separatorAfter),
          insertTextFormat: InsertTextFormat.Snippet,
          documentation: ""
        });
      });
    };
    JSONCompletion2.prototype.getLabelForValue = function(value) {
      return JSON.stringify(value);
    };
    JSONCompletion2.prototype.getFilterTextForValue = function(value) {
      return JSON.stringify(value);
    };
    JSONCompletion2.prototype.getFilterTextForSnippetValue = function(value) {
      return JSON.stringify(value).replace(/\$\{\d+:([^}]+)\}|\$\d+/g, "$1");
    };
    JSONCompletion2.prototype.getLabelForSnippetValue = function(value) {
      var label = JSON.stringify(value);
      return label.replace(/\$\{\d+:([^}]+)\}|\$\d+/g, "$1");
    };
    JSONCompletion2.prototype.getInsertTextForPlainText = function(text) {
      return text.replace(/[\\\$\}]/g, "\\$&");
    };
    JSONCompletion2.prototype.getInsertTextForValue = function(value, separatorAfter) {
      var text = JSON.stringify(value, null, "	");
      if (text === "{}") {
        return "{$1}" + separatorAfter;
      } else if (text === "[]") {
        return "[$1]" + separatorAfter;
      }
      return this.getInsertTextForPlainText(text + separatorAfter);
    };
    JSONCompletion2.prototype.getInsertTextForSnippetValue = function(value, separatorAfter) {
      var replacer = function(value2) {
        if (typeof value2 === "string") {
          if (value2[0] === "^") {
            return value2.substr(1);
          }
        }
        return JSON.stringify(value2);
      };
      return stringifyObject(value, "", replacer) + separatorAfter;
    };
    JSONCompletion2.prototype.getInsertTextForGuessedValue = function(value, separatorAfter) {
      switch (typeof value) {
        case "object":
          if (value === null) {
            return "${1:null}" + separatorAfter;
          }
          return this.getInsertTextForValue(value, separatorAfter);
        case "string":
          var snippetValue = JSON.stringify(value);
          snippetValue = snippetValue.substr(1, snippetValue.length - 2);
          snippetValue = this.getInsertTextForPlainText(snippetValue);
          return '"${1:' + snippetValue + '}"' + separatorAfter;
        case "number":
        case "boolean":
          return "${1:" + JSON.stringify(value) + "}" + separatorAfter;
      }
      return this.getInsertTextForValue(value, separatorAfter);
    };
    JSONCompletion2.prototype.getSuggestionKind = function(type) {
      if (Array.isArray(type)) {
        var array = type;
        type = array.length > 0 ? array[0] : void 0;
      }
      if (!type) {
        return CompletionItemKind2.Value;
      }
      switch (type) {
        case "string":
          return CompletionItemKind2.Value;
        case "object":
          return CompletionItemKind2.Module;
        case "property":
          return CompletionItemKind2.Property;
        default:
          return CompletionItemKind2.Value;
      }
    };
    JSONCompletion2.prototype.getLabelTextForMatchingNode = function(node, document) {
      switch (node.type) {
        case "array":
          return "[]";
        case "object":
          return "{}";
        default:
          var content = document.getText().substr(node.offset, node.length);
          return content;
      }
    };
    JSONCompletion2.prototype.getInsertTextForMatchingNode = function(node, document, separatorAfter) {
      switch (node.type) {
        case "array":
          return this.getInsertTextForValue([], separatorAfter);
        case "object":
          return this.getInsertTextForValue({}, separatorAfter);
        default:
          var content = document.getText().substr(node.offset, node.length) + separatorAfter;
          return this.getInsertTextForPlainText(content);
      }
    };
    JSONCompletion2.prototype.getInsertTextForProperty = function(key, propertySchema, addValue, separatorAfter) {
      var propertyText = this.getInsertTextForValue(key, "");
      if (!addValue) {
        return propertyText;
      }
      var resultText = propertyText + ": ";
      var value;
      var nValueProposals = 0;
      if (propertySchema) {
        if (Array.isArray(propertySchema.defaultSnippets)) {
          if (propertySchema.defaultSnippets.length === 1) {
            var body = propertySchema.defaultSnippets[0].body;
            if (isDefined(body)) {
              value = this.getInsertTextForSnippetValue(body, "");
            }
          }
          nValueProposals += propertySchema.defaultSnippets.length;
        }
        if (propertySchema.enum) {
          if (!value && propertySchema.enum.length === 1) {
            value = this.getInsertTextForGuessedValue(propertySchema.enum[0], "");
          }
          nValueProposals += propertySchema.enum.length;
        }
        if (isDefined(propertySchema.default)) {
          if (!value) {
            value = this.getInsertTextForGuessedValue(propertySchema.default, "");
          }
          nValueProposals++;
        }
        if (Array.isArray(propertySchema.examples) && propertySchema.examples.length) {
          if (!value) {
            value = this.getInsertTextForGuessedValue(propertySchema.examples[0], "");
          }
          nValueProposals += propertySchema.examples.length;
        }
        if (nValueProposals === 0) {
          var type = Array.isArray(propertySchema.type) ? propertySchema.type[0] : propertySchema.type;
          if (!type) {
            if (propertySchema.properties) {
              type = "object";
            } else if (propertySchema.items) {
              type = "array";
            }
          }
          switch (type) {
            case "boolean":
              value = "$1";
              break;
            case "string":
              value = '"$1"';
              break;
            case "object":
              value = "{$1}";
              break;
            case "array":
              value = "[$1]";
              break;
            case "number":
            case "integer":
              value = "${1:0}";
              break;
            case "null":
              value = "${1:null}";
              break;
            default:
              return propertyText;
          }
        }
      }
      if (!value || nValueProposals > 1) {
        value = "$1";
      }
      return resultText + value + separatorAfter;
    };
    JSONCompletion2.prototype.getCurrentWord = function(document, offset) {
      var i = offset - 1;
      var text = document.getText();
      while (i >= 0 && ' 	\n\r\v":{[,]}'.indexOf(text.charAt(i)) === -1) {
        i--;
      }
      return text.substring(i + 1, offset);
    };
    JSONCompletion2.prototype.evaluateSeparatorAfter = function(document, offset) {
      var scanner2 = createScanner2(document.getText(), true);
      scanner2.setPosition(offset);
      var token = scanner2.scan();
      switch (token) {
        case 5:
        case 2:
        case 4:
        case 17:
          return "";
        default:
          return ",";
      }
    };
    JSONCompletion2.prototype.findItemAtOffset = function(node, document, offset) {
      var scanner2 = createScanner2(document.getText(), true);
      var children = node.items;
      for (var i = children.length - 1; i >= 0; i--) {
        var child = children[i];
        if (offset > child.offset + child.length) {
          scanner2.setPosition(child.offset + child.length);
          var token = scanner2.scan();
          if (token === 5 && offset >= scanner2.getTokenOffset() + scanner2.getTokenLength()) {
            return i + 1;
          }
          return i;
        } else if (offset >= child.offset) {
          return i;
        }
      }
      return 0;
    };
    JSONCompletion2.prototype.isInComment = function(document, start, offset) {
      var scanner2 = createScanner2(document.getText(), false);
      scanner2.setPosition(start);
      var token = scanner2.scan();
      while (token !== 17 && scanner2.getTokenOffset() + scanner2.getTokenLength() < offset) {
        token = scanner2.scan();
      }
      return (token === 12 || token === 13) && scanner2.getTokenOffset() <= offset;
    };
    JSONCompletion2.prototype.fromMarkup = function(markupString) {
      if (markupString && this.doesSupportMarkdown()) {
        return {
          kind: MarkupKind.Markdown,
          value: markupString
        };
      }
      return void 0;
    };
    JSONCompletion2.prototype.doesSupportMarkdown = function() {
      if (!isDefined(this.supportsMarkdown)) {
        var completion = this.clientCapabilities.textDocument && this.clientCapabilities.textDocument.completion;
        this.supportsMarkdown = completion && completion.completionItem && Array.isArray(completion.completionItem.documentationFormat) && completion.completionItem.documentationFormat.indexOf(MarkupKind.Markdown) !== -1;
      }
      return this.supportsMarkdown;
    };
    JSONCompletion2.prototype.doesSupportsCommitCharacters = function() {
      if (!isDefined(this.supportsCommitCharacters)) {
        var completion = this.clientCapabilities.textDocument && this.clientCapabilities.textDocument.completion;
        this.supportsCommitCharacters = completion && completion.completionItem && !!completion.completionItem.commitCharactersSupport;
      }
      return this.supportsCommitCharacters;
    };
    return JSONCompletion2;
  }();

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonHover.js
  var JSONHover = function() {
    function JSONHover2(schemaService, contributions, promiseConstructor) {
      if (contributions === void 0) {
        contributions = [];
      }
      this.schemaService = schemaService;
      this.contributions = contributions;
      this.promise = promiseConstructor || Promise;
    }
    JSONHover2.prototype.doHover = function(document, position, doc) {
      var offset = document.offsetAt(position);
      var node = doc.getNodeFromOffset(offset);
      if (!node || (node.type === "object" || node.type === "array") && offset > node.offset + 1 && offset < node.offset + node.length - 1) {
        return this.promise.resolve(null);
      }
      var hoverRangeNode = node;
      if (node.type === "string") {
        var parent = node.parent;
        if (parent && parent.type === "property" && parent.keyNode === node) {
          node = parent.valueNode;
          if (!node) {
            return this.promise.resolve(null);
          }
        }
      }
      var hoverRange = Range2.create(document.positionAt(hoverRangeNode.offset), document.positionAt(hoverRangeNode.offset + hoverRangeNode.length));
      var createHover = function(contents) {
        var result = {
          contents,
          range: hoverRange
        };
        return result;
      };
      var location = getNodePath3(node);
      for (var i = this.contributions.length - 1; i >= 0; i--) {
        var contribution = this.contributions[i];
        var promise = contribution.getInfoContribution(document.uri, location);
        if (promise) {
          return promise.then(function(htmlContent) {
            return createHover(htmlContent);
          });
        }
      }
      return this.schemaService.getSchemaForResource(document.uri, doc).then(function(schema) {
        if (schema && node) {
          var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset);
          var title_1 = void 0;
          var markdownDescription_1 = void 0;
          var markdownEnumValueDescription_1 = void 0, enumValue_1 = void 0;
          matchingSchemas.every(function(s) {
            if (s.node === node && !s.inverted && s.schema) {
              title_1 = title_1 || s.schema.title;
              markdownDescription_1 = markdownDescription_1 || s.schema.markdownDescription || toMarkdown(s.schema.description);
              if (s.schema.enum) {
                var idx = s.schema.enum.indexOf(getNodeValue3(node));
                if (s.schema.markdownEnumDescriptions) {
                  markdownEnumValueDescription_1 = s.schema.markdownEnumDescriptions[idx];
                } else if (s.schema.enumDescriptions) {
                  markdownEnumValueDescription_1 = toMarkdown(s.schema.enumDescriptions[idx]);
                }
                if (markdownEnumValueDescription_1) {
                  enumValue_1 = s.schema.enum[idx];
                  if (typeof enumValue_1 !== "string") {
                    enumValue_1 = JSON.stringify(enumValue_1);
                  }
                }
              }
            }
            return true;
          });
          var result = "";
          if (title_1) {
            result = toMarkdown(title_1);
          }
          if (markdownDescription_1) {
            if (result.length > 0) {
              result += "\n\n";
            }
            result += markdownDescription_1;
          }
          if (markdownEnumValueDescription_1) {
            if (result.length > 0) {
              result += "\n\n";
            }
            result += "`" + toMarkdownCodeBlock(enumValue_1) + "`: " + markdownEnumValueDescription_1;
          }
          return createHover([result]);
        }
        return null;
      });
    };
    return JSONHover2;
  }();
  function toMarkdown(plain) {
    if (plain) {
      var res = plain.replace(/([^\n\r])(\r?\n)([^\n\r])/gm, "$1\n\n$3");
      return res.replace(/[\\`*_{}[\]()#+\-.!]/g, "\\$&");
    }
    return void 0;
  }
  function toMarkdownCodeBlock(content) {
    if (content.indexOf("`") !== -1) {
      return "`` " + content + " ``";
    }
    return content;
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-uri/index.js
  var LIB;
  LIB = (() => {
    "use strict";
    var t = {470: (t2) => {
      function e2(t3) {
        if (typeof t3 != "string")
          throw new TypeError("Path must be a string. Received " + JSON.stringify(t3));
      }
      function r2(t3, e3) {
        for (var r3, n2 = "", o = 0, i = -1, a2 = 0, h = 0; h <= t3.length; ++h) {
          if (h < t3.length)
            r3 = t3.charCodeAt(h);
          else {
            if (r3 === 47)
              break;
            r3 = 47;
          }
          if (r3 === 47) {
            if (i === h - 1 || a2 === 1)
              ;
            else if (i !== h - 1 && a2 === 2) {
              if (n2.length < 2 || o !== 2 || n2.charCodeAt(n2.length - 1) !== 46 || n2.charCodeAt(n2.length - 2) !== 46) {
                if (n2.length > 2) {
                  var s = n2.lastIndexOf("/");
                  if (s !== n2.length - 1) {
                    s === -1 ? (n2 = "", o = 0) : o = (n2 = n2.slice(0, s)).length - 1 - n2.lastIndexOf("/"), i = h, a2 = 0;
                    continue;
                  }
                } else if (n2.length === 2 || n2.length === 1) {
                  n2 = "", o = 0, i = h, a2 = 0;
                  continue;
                }
              }
              e3 && (n2.length > 0 ? n2 += "/.." : n2 = "..", o = 2);
            } else
              n2.length > 0 ? n2 += "/" + t3.slice(i + 1, h) : n2 = t3.slice(i + 1, h), o = h - i - 1;
            i = h, a2 = 0;
          } else
            r3 === 46 && a2 !== -1 ? ++a2 : a2 = -1;
        }
        return n2;
      }
      var n = {resolve: function() {
        for (var t3, n2 = "", o = false, i = arguments.length - 1; i >= -1 && !o; i--) {
          var a2;
          i >= 0 ? a2 = arguments[i] : (t3 === void 0 && (t3 = process.cwd()), a2 = t3), e2(a2), a2.length !== 0 && (n2 = a2 + "/" + n2, o = a2.charCodeAt(0) === 47);
        }
        return n2 = r2(n2, !o), o ? n2.length > 0 ? "/" + n2 : "/" : n2.length > 0 ? n2 : ".";
      }, normalize: function(t3) {
        if (e2(t3), t3.length === 0)
          return ".";
        var n2 = t3.charCodeAt(0) === 47, o = t3.charCodeAt(t3.length - 1) === 47;
        return (t3 = r2(t3, !n2)).length !== 0 || n2 || (t3 = "."), t3.length > 0 && o && (t3 += "/"), n2 ? "/" + t3 : t3;
      }, isAbsolute: function(t3) {
        return e2(t3), t3.length > 0 && t3.charCodeAt(0) === 47;
      }, join: function() {
        if (arguments.length === 0)
          return ".";
        for (var t3, r3 = 0; r3 < arguments.length; ++r3) {
          var o = arguments[r3];
          e2(o), o.length > 0 && (t3 === void 0 ? t3 = o : t3 += "/" + o);
        }
        return t3 === void 0 ? "." : n.normalize(t3);
      }, relative: function(t3, r3) {
        if (e2(t3), e2(r3), t3 === r3)
          return "";
        if ((t3 = n.resolve(t3)) === (r3 = n.resolve(r3)))
          return "";
        for (var o = 1; o < t3.length && t3.charCodeAt(o) === 47; ++o)
          ;
        for (var i = t3.length, a2 = i - o, h = 1; h < r3.length && r3.charCodeAt(h) === 47; ++h)
          ;
        for (var s = r3.length - h, f2 = a2 < s ? a2 : s, u = -1, c = 0; c <= f2; ++c) {
          if (c === f2) {
            if (s > f2) {
              if (r3.charCodeAt(h + c) === 47)
                return r3.slice(h + c + 1);
              if (c === 0)
                return r3.slice(h + c);
            } else
              a2 > f2 && (t3.charCodeAt(o + c) === 47 ? u = c : c === 0 && (u = 0));
            break;
          }
          var l = t3.charCodeAt(o + c);
          if (l !== r3.charCodeAt(h + c))
            break;
          l === 47 && (u = c);
        }
        var p = "";
        for (c = o + u + 1; c <= i; ++c)
          c !== i && t3.charCodeAt(c) !== 47 || (p.length === 0 ? p += ".." : p += "/..");
        return p.length > 0 ? p + r3.slice(h + u) : (h += u, r3.charCodeAt(h) === 47 && ++h, r3.slice(h));
      }, _makeLong: function(t3) {
        return t3;
      }, dirname: function(t3) {
        if (e2(t3), t3.length === 0)
          return ".";
        for (var r3 = t3.charCodeAt(0), n2 = r3 === 47, o = -1, i = true, a2 = t3.length - 1; a2 >= 1; --a2)
          if ((r3 = t3.charCodeAt(a2)) === 47) {
            if (!i) {
              o = a2;
              break;
            }
          } else
            i = false;
        return o === -1 ? n2 ? "/" : "." : n2 && o === 1 ? "//" : t3.slice(0, o);
      }, basename: function(t3, r3) {
        if (r3 !== void 0 && typeof r3 != "string")
          throw new TypeError('"ext" argument must be a string');
        e2(t3);
        var n2, o = 0, i = -1, a2 = true;
        if (r3 !== void 0 && r3.length > 0 && r3.length <= t3.length) {
          if (r3.length === t3.length && r3 === t3)
            return "";
          var h = r3.length - 1, s = -1;
          for (n2 = t3.length - 1; n2 >= 0; --n2) {
            var f2 = t3.charCodeAt(n2);
            if (f2 === 47) {
              if (!a2) {
                o = n2 + 1;
                break;
              }
            } else
              s === -1 && (a2 = false, s = n2 + 1), h >= 0 && (f2 === r3.charCodeAt(h) ? --h == -1 && (i = n2) : (h = -1, i = s));
          }
          return o === i ? i = s : i === -1 && (i = t3.length), t3.slice(o, i);
        }
        for (n2 = t3.length - 1; n2 >= 0; --n2)
          if (t3.charCodeAt(n2) === 47) {
            if (!a2) {
              o = n2 + 1;
              break;
            }
          } else
            i === -1 && (a2 = false, i = n2 + 1);
        return i === -1 ? "" : t3.slice(o, i);
      }, extname: function(t3) {
        e2(t3);
        for (var r3 = -1, n2 = 0, o = -1, i = true, a2 = 0, h = t3.length - 1; h >= 0; --h) {
          var s = t3.charCodeAt(h);
          if (s !== 47)
            o === -1 && (i = false, o = h + 1), s === 46 ? r3 === -1 ? r3 = h : a2 !== 1 && (a2 = 1) : r3 !== -1 && (a2 = -1);
          else if (!i) {
            n2 = h + 1;
            break;
          }
        }
        return r3 === -1 || o === -1 || a2 === 0 || a2 === 1 && r3 === o - 1 && r3 === n2 + 1 ? "" : t3.slice(r3, o);
      }, format: function(t3) {
        if (t3 === null || typeof t3 != "object")
          throw new TypeError('The "pathObject" argument must be of type Object. Received type ' + typeof t3);
        return function(t4, e3) {
          var r3 = e3.dir || e3.root, n2 = e3.base || (e3.name || "") + (e3.ext || "");
          return r3 ? r3 === e3.root ? r3 + n2 : r3 + "/" + n2 : n2;
        }(0, t3);
      }, parse: function(t3) {
        e2(t3);
        var r3 = {root: "", dir: "", base: "", ext: "", name: ""};
        if (t3.length === 0)
          return r3;
        var n2, o = t3.charCodeAt(0), i = o === 47;
        i ? (r3.root = "/", n2 = 1) : n2 = 0;
        for (var a2 = -1, h = 0, s = -1, f2 = true, u = t3.length - 1, c = 0; u >= n2; --u)
          if ((o = t3.charCodeAt(u)) !== 47)
            s === -1 && (f2 = false, s = u + 1), o === 46 ? a2 === -1 ? a2 = u : c !== 1 && (c = 1) : a2 !== -1 && (c = -1);
          else if (!f2) {
            h = u + 1;
            break;
          }
        return a2 === -1 || s === -1 || c === 0 || c === 1 && a2 === s - 1 && a2 === h + 1 ? s !== -1 && (r3.base = r3.name = h === 0 && i ? t3.slice(1, s) : t3.slice(h, s)) : (h === 0 && i ? (r3.name = t3.slice(1, a2), r3.base = t3.slice(1, s)) : (r3.name = t3.slice(h, a2), r3.base = t3.slice(h, s)), r3.ext = t3.slice(a2, s)), h > 0 ? r3.dir = t3.slice(0, h - 1) : i && (r3.dir = "/"), r3;
      }, sep: "/", delimiter: ":", win32: null, posix: null};
      n.posix = n, t2.exports = n;
    }, 447: (t2, e2, r2) => {
      var n;
      if (r2.r(e2), r2.d(e2, {URI: () => g, Utils: () => O}), typeof process == "object")
        n = process.platform === "win32";
      else if (typeof navigator == "object") {
        var o = navigator.userAgent;
        n = o.indexOf("Windows") >= 0;
      }
      var i, a2, h = (i = function(t3, e3) {
        return (i = Object.setPrototypeOf || {__proto__: []} instanceof Array && function(t4, e4) {
          t4.__proto__ = e4;
        } || function(t4, e4) {
          for (var r3 in e4)
            Object.prototype.hasOwnProperty.call(e4, r3) && (t4[r3] = e4[r3]);
        })(t3, e3);
      }, function(t3, e3) {
        function r3() {
          this.constructor = t3;
        }
        i(t3, e3), t3.prototype = e3 === null ? Object.create(e3) : (r3.prototype = e3.prototype, new r3());
      }), s = /^\w[\w\d+.-]*$/, f2 = /^\//, u = /^\/\//, c = "", l = "/", p = /^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/, g = function() {
        function t3(t4, e3, r3, n2, o2, i2) {
          i2 === void 0 && (i2 = false), typeof t4 == "object" ? (this.scheme = t4.scheme || c, this.authority = t4.authority || c, this.path = t4.path || c, this.query = t4.query || c, this.fragment = t4.fragment || c) : (this.scheme = function(t5, e4) {
            return t5 || e4 ? t5 : "file";
          }(t4, i2), this.authority = e3 || c, this.path = function(t5, e4) {
            switch (t5) {
              case "https":
              case "http":
              case "file":
                e4 ? e4[0] !== l && (e4 = l + e4) : e4 = l;
            }
            return e4;
          }(this.scheme, r3 || c), this.query = n2 || c, this.fragment = o2 || c, function(t5, e4) {
            if (!t5.scheme && e4)
              throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "' + t5.authority + '", path: "' + t5.path + '", query: "' + t5.query + '", fragment: "' + t5.fragment + '"}');
            if (t5.scheme && !s.test(t5.scheme))
              throw new Error("[UriError]: Scheme contains illegal characters.");
            if (t5.path) {
              if (t5.authority) {
                if (!f2.test(t5.path))
                  throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character');
              } else if (u.test(t5.path))
                throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")');
            }
          }(this, i2));
        }
        return t3.isUri = function(e3) {
          return e3 instanceof t3 || !!e3 && typeof e3.authority == "string" && typeof e3.fragment == "string" && typeof e3.path == "string" && typeof e3.query == "string" && typeof e3.scheme == "string" && typeof e3.fsPath == "function" && typeof e3.with == "function" && typeof e3.toString == "function";
        }, Object.defineProperty(t3.prototype, "fsPath", {get: function() {
          return C(this, false);
        }, enumerable: false, configurable: true}), t3.prototype.with = function(t4) {
          if (!t4)
            return this;
          var e3 = t4.scheme, r3 = t4.authority, n2 = t4.path, o2 = t4.query, i2 = t4.fragment;
          return e3 === void 0 ? e3 = this.scheme : e3 === null && (e3 = c), r3 === void 0 ? r3 = this.authority : r3 === null && (r3 = c), n2 === void 0 ? n2 = this.path : n2 === null && (n2 = c), o2 === void 0 ? o2 = this.query : o2 === null && (o2 = c), i2 === void 0 ? i2 = this.fragment : i2 === null && (i2 = c), e3 === this.scheme && r3 === this.authority && n2 === this.path && o2 === this.query && i2 === this.fragment ? this : new v(e3, r3, n2, o2, i2);
        }, t3.parse = function(t4, e3) {
          e3 === void 0 && (e3 = false);
          var r3 = p.exec(t4);
          return r3 ? new v(r3[2] || c, x(r3[4] || c), x(r3[5] || c), x(r3[7] || c), x(r3[9] || c), e3) : new v(c, c, c, c, c);
        }, t3.file = function(t4) {
          var e3 = c;
          if (n && (t4 = t4.replace(/\\/g, l)), t4[0] === l && t4[1] === l) {
            var r3 = t4.indexOf(l, 2);
            r3 === -1 ? (e3 = t4.substring(2), t4 = l) : (e3 = t4.substring(2, r3), t4 = t4.substring(r3) || l);
          }
          return new v("file", e3, t4, c, c);
        }, t3.from = function(t4) {
          return new v(t4.scheme, t4.authority, t4.path, t4.query, t4.fragment);
        }, t3.prototype.toString = function(t4) {
          return t4 === void 0 && (t4 = false), A2(this, t4);
        }, t3.prototype.toJSON = function() {
          return this;
        }, t3.revive = function(e3) {
          if (e3) {
            if (e3 instanceof t3)
              return e3;
            var r3 = new v(e3);
            return r3._formatted = e3.external, r3._fsPath = e3._sep === d ? e3.fsPath : null, r3;
          }
          return e3;
        }, t3;
      }(), d = n ? 1 : void 0, v = function(t3) {
        function e3() {
          var e4 = t3 !== null && t3.apply(this, arguments) || this;
          return e4._formatted = null, e4._fsPath = null, e4;
        }
        return h(e3, t3), Object.defineProperty(e3.prototype, "fsPath", {get: function() {
          return this._fsPath || (this._fsPath = C(this, false)), this._fsPath;
        }, enumerable: false, configurable: true}), e3.prototype.toString = function(t4) {
          return t4 === void 0 && (t4 = false), t4 ? A2(this, true) : (this._formatted || (this._formatted = A2(this, false)), this._formatted);
        }, e3.prototype.toJSON = function() {
          var t4 = {$mid: 1};
          return this._fsPath && (t4.fsPath = this._fsPath, t4._sep = d), this._formatted && (t4.external = this._formatted), this.path && (t4.path = this.path), this.scheme && (t4.scheme = this.scheme), this.authority && (t4.authority = this.authority), this.query && (t4.query = this.query), this.fragment && (t4.fragment = this.fragment), t4;
        }, e3;
      }(g), m = ((a2 = {})[58] = "%3A", a2[47] = "%2F", a2[63] = "%3F", a2[35] = "%23", a2[91] = "%5B", a2[93] = "%5D", a2[64] = "%40", a2[33] = "%21", a2[36] = "%24", a2[38] = "%26", a2[39] = "%27", a2[40] = "%28", a2[41] = "%29", a2[42] = "%2A", a2[43] = "%2B", a2[44] = "%2C", a2[59] = "%3B", a2[61] = "%3D", a2[32] = "%20", a2);
      function y(t3, e3) {
        for (var r3 = void 0, n2 = -1, o2 = 0; o2 < t3.length; o2++) {
          var i2 = t3.charCodeAt(o2);
          if (i2 >= 97 && i2 <= 122 || i2 >= 65 && i2 <= 90 || i2 >= 48 && i2 <= 57 || i2 === 45 || i2 === 46 || i2 === 95 || i2 === 126 || e3 && i2 === 47)
            n2 !== -1 && (r3 += encodeURIComponent(t3.substring(n2, o2)), n2 = -1), r3 !== void 0 && (r3 += t3.charAt(o2));
          else {
            r3 === void 0 && (r3 = t3.substr(0, o2));
            var a3 = m[i2];
            a3 !== void 0 ? (n2 !== -1 && (r3 += encodeURIComponent(t3.substring(n2, o2)), n2 = -1), r3 += a3) : n2 === -1 && (n2 = o2);
          }
        }
        return n2 !== -1 && (r3 += encodeURIComponent(t3.substring(n2))), r3 !== void 0 ? r3 : t3;
      }
      function b(t3) {
        for (var e3 = void 0, r3 = 0; r3 < t3.length; r3++) {
          var n2 = t3.charCodeAt(r3);
          n2 === 35 || n2 === 63 ? (e3 === void 0 && (e3 = t3.substr(0, r3)), e3 += m[n2]) : e3 !== void 0 && (e3 += t3[r3]);
        }
        return e3 !== void 0 ? e3 : t3;
      }
      function C(t3, e3) {
        var r3;
        return r3 = t3.authority && t3.path.length > 1 && t3.scheme === "file" ? "//" + t3.authority + t3.path : t3.path.charCodeAt(0) === 47 && (t3.path.charCodeAt(1) >= 65 && t3.path.charCodeAt(1) <= 90 || t3.path.charCodeAt(1) >= 97 && t3.path.charCodeAt(1) <= 122) && t3.path.charCodeAt(2) === 58 ? e3 ? t3.path.substr(1) : t3.path[1].toLowerCase() + t3.path.substr(2) : t3.path, n && (r3 = r3.replace(/\//g, "\\")), r3;
      }
      function A2(t3, e3) {
        var r3 = e3 ? b : y, n2 = "", o2 = t3.scheme, i2 = t3.authority, a3 = t3.path, h2 = t3.query, s2 = t3.fragment;
        if (o2 && (n2 += o2, n2 += ":"), (i2 || o2 === "file") && (n2 += l, n2 += l), i2) {
          var f3 = i2.indexOf("@");
          if (f3 !== -1) {
            var u2 = i2.substr(0, f3);
            i2 = i2.substr(f3 + 1), (f3 = u2.indexOf(":")) === -1 ? n2 += r3(u2, false) : (n2 += r3(u2.substr(0, f3), false), n2 += ":", n2 += r3(u2.substr(f3 + 1), false)), n2 += "@";
          }
          (f3 = (i2 = i2.toLowerCase()).indexOf(":")) === -1 ? n2 += r3(i2, false) : (n2 += r3(i2.substr(0, f3), false), n2 += i2.substr(f3));
        }
        if (a3) {
          if (a3.length >= 3 && a3.charCodeAt(0) === 47 && a3.charCodeAt(2) === 58)
            (c2 = a3.charCodeAt(1)) >= 65 && c2 <= 90 && (a3 = "/" + String.fromCharCode(c2 + 32) + ":" + a3.substr(3));
          else if (a3.length >= 2 && a3.charCodeAt(1) === 58) {
            var c2;
            (c2 = a3.charCodeAt(0)) >= 65 && c2 <= 90 && (a3 = String.fromCharCode(c2 + 32) + ":" + a3.substr(2));
          }
          n2 += r3(a3, true);
        }
        return h2 && (n2 += "?", n2 += r3(h2, false)), s2 && (n2 += "#", n2 += e3 ? s2 : y(s2, false)), n2;
      }
      function w(t3) {
        try {
          return decodeURIComponent(t3);
        } catch (e3) {
          return t3.length > 3 ? t3.substr(0, 3) + w(t3.substr(3)) : t3;
        }
      }
      var _ = /(%[0-9A-Za-z][0-9A-Za-z])+/g;
      function x(t3) {
        return t3.match(_) ? t3.replace(_, function(t4) {
          return w(t4);
        }) : t3;
      }
      var O, P = r2(470), j = function() {
        for (var t3 = 0, e3 = 0, r3 = arguments.length; e3 < r3; e3++)
          t3 += arguments[e3].length;
        var n2 = Array(t3), o2 = 0;
        for (e3 = 0; e3 < r3; e3++)
          for (var i2 = arguments[e3], a3 = 0, h2 = i2.length; a3 < h2; a3++, o2++)
            n2[o2] = i2[a3];
        return n2;
      }, U = P.posix || P;
      !function(t3) {
        t3.joinPath = function(t4) {
          for (var e3 = [], r3 = 1; r3 < arguments.length; r3++)
            e3[r3 - 1] = arguments[r3];
          return t4.with({path: U.join.apply(U, j([t4.path], e3))});
        }, t3.resolvePath = function(t4) {
          for (var e3 = [], r3 = 1; r3 < arguments.length; r3++)
            e3[r3 - 1] = arguments[r3];
          var n2 = t4.path || "/";
          return t4.with({path: U.resolve.apply(U, j([n2], e3))});
        }, t3.dirname = function(t4) {
          var e3 = U.dirname(t4.path);
          return e3.length === 1 && e3.charCodeAt(0) === 46 ? t4 : t4.with({path: e3});
        }, t3.basename = function(t4) {
          return U.basename(t4.path);
        }, t3.extname = function(t4) {
          return U.extname(t4.path);
        };
      }(O || (O = {}));
    }}, e = {};
    function r(n) {
      if (e[n])
        return e[n].exports;
      var o = e[n] = {exports: {}};
      return t[n](o, o.exports, r), o.exports;
    }
    return r.d = (t2, e2) => {
      for (var n in e2)
        r.o(e2, n) && !r.o(t2, n) && Object.defineProperty(t2, n, {enumerable: true, get: e2[n]});
    }, r.o = (t2, e2) => Object.prototype.hasOwnProperty.call(t2, e2), r.r = (t2) => {
      typeof Symbol != "undefined" && Symbol.toStringTag && Object.defineProperty(t2, Symbol.toStringTag, {value: "Module"}), Object.defineProperty(t2, "__esModule", {value: true});
    }, r(447);
  })();
  var {URI: URI2, Utils} = LIB;

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonSchemaService.js
  var localize4 = loadMessageBundle();
  var FilePatternAssociation = function() {
    function FilePatternAssociation2(pattern, uris) {
      this.patternRegExps = [];
      this.isInclude = [];
      try {
        for (var _i = 0, pattern_1 = pattern; _i < pattern_1.length; _i++) {
          var p = pattern_1[_i];
          var include = p[0] !== "!";
          if (!include) {
            p = p.substring(1);
          }
          this.patternRegExps.push(new RegExp(convertSimple2RegExpPattern(p) + "$"));
          this.isInclude.push(include);
        }
        this.uris = uris;
      } catch (e) {
        this.patternRegExps.length = 0;
        this.isInclude.length = 0;
        this.uris = [];
      }
    }
    FilePatternAssociation2.prototype.matchesPattern = function(fileName) {
      var match = false;
      for (var i = 0; i < this.patternRegExps.length; i++) {
        var regExp = this.patternRegExps[i];
        if (regExp.test(fileName)) {
          match = this.isInclude[i];
        }
      }
      return match;
    };
    FilePatternAssociation2.prototype.getURIs = function() {
      return this.uris;
    };
    return FilePatternAssociation2;
  }();
  var SchemaHandle = function() {
    function SchemaHandle2(service, url, unresolvedSchemaContent) {
      this.service = service;
      this.url = url;
      this.dependencies = {};
      if (unresolvedSchemaContent) {
        this.unresolvedSchema = this.service.promise.resolve(new UnresolvedSchema(unresolvedSchemaContent));
      }
    }
    SchemaHandle2.prototype.getUnresolvedSchema = function() {
      if (!this.unresolvedSchema) {
        this.unresolvedSchema = this.service.loadSchema(this.url);
      }
      return this.unresolvedSchema;
    };
    SchemaHandle2.prototype.getResolvedSchema = function() {
      var _this = this;
      if (!this.resolvedSchema) {
        this.resolvedSchema = this.getUnresolvedSchema().then(function(unresolved) {
          return _this.service.resolveSchemaContent(unresolved, _this.url, _this.dependencies);
        });
      }
      return this.resolvedSchema;
    };
    SchemaHandle2.prototype.clearSchema = function() {
      this.resolvedSchema = void 0;
      this.unresolvedSchema = void 0;
      this.dependencies = {};
    };
    return SchemaHandle2;
  }();
  var UnresolvedSchema = function() {
    function UnresolvedSchema2(schema, errors) {
      if (errors === void 0) {
        errors = [];
      }
      this.schema = schema;
      this.errors = errors;
    }
    return UnresolvedSchema2;
  }();
  var ResolvedSchema = function() {
    function ResolvedSchema2(schema, errors) {
      if (errors === void 0) {
        errors = [];
      }
      this.schema = schema;
      this.errors = errors;
    }
    ResolvedSchema2.prototype.getSection = function(path) {
      var schemaRef = this.getSectionRecursive(path, this.schema);
      if (schemaRef) {
        return asSchema(schemaRef);
      }
      return void 0;
    };
    ResolvedSchema2.prototype.getSectionRecursive = function(path, schema) {
      if (!schema || typeof schema === "boolean" || path.length === 0) {
        return schema;
      }
      var next = path.shift();
      if (schema.properties && typeof schema.properties[next]) {
        return this.getSectionRecursive(path, schema.properties[next]);
      } else if (schema.patternProperties) {
        for (var _i = 0, _a2 = Object.keys(schema.patternProperties); _i < _a2.length; _i++) {
          var pattern = _a2[_i];
          var regex = new RegExp(pattern);
          if (regex.test(next)) {
            return this.getSectionRecursive(path, schema.patternProperties[pattern]);
          }
        }
      } else if (typeof schema.additionalProperties === "object") {
        return this.getSectionRecursive(path, schema.additionalProperties);
      } else if (next.match("[0-9]+")) {
        if (Array.isArray(schema.items)) {
          var index = parseInt(next, 10);
          if (!isNaN(index) && schema.items[index]) {
            return this.getSectionRecursive(path, schema.items[index]);
          }
        } else if (schema.items) {
          return this.getSectionRecursive(path, schema.items);
        }
      }
      return void 0;
    };
    return ResolvedSchema2;
  }();
  var JSONSchemaService = function() {
    function JSONSchemaService2(requestService, contextService, promiseConstructor) {
      this.contextService = contextService;
      this.requestService = requestService;
      this.promiseConstructor = promiseConstructor || Promise;
      this.callOnDispose = [];
      this.contributionSchemas = {};
      this.contributionAssociations = [];
      this.schemasById = {};
      this.filePatternAssociations = [];
      this.registeredSchemasIds = {};
    }
    JSONSchemaService2.prototype.getRegisteredSchemaIds = function(filter) {
      return Object.keys(this.registeredSchemasIds).filter(function(id) {
        var scheme = URI2.parse(id).scheme;
        return scheme !== "schemaservice" && (!filter || filter(scheme));
      });
    };
    Object.defineProperty(JSONSchemaService2.prototype, "promise", {
      get: function() {
        return this.promiseConstructor;
      },
      enumerable: false,
      configurable: true
    });
    JSONSchemaService2.prototype.dispose = function() {
      while (this.callOnDispose.length > 0) {
        this.callOnDispose.pop()();
      }
    };
    JSONSchemaService2.prototype.onResourceChange = function(uri) {
      var _this = this;
      var hasChanges = false;
      uri = normalizeId(uri);
      var toWalk = [uri];
      var all = Object.keys(this.schemasById).map(function(key) {
        return _this.schemasById[key];
      });
      while (toWalk.length) {
        var curr = toWalk.pop();
        for (var i = 0; i < all.length; i++) {
          var handle = all[i];
          if (handle && (handle.url === curr || handle.dependencies[curr])) {
            if (handle.url !== curr) {
              toWalk.push(handle.url);
            }
            handle.clearSchema();
            all[i] = void 0;
            hasChanges = true;
          }
        }
      }
      return hasChanges;
    };
    JSONSchemaService2.prototype.setSchemaContributions = function(schemaContributions2) {
      if (schemaContributions2.schemas) {
        var schemas = schemaContributions2.schemas;
        for (var id in schemas) {
          var normalizedId = normalizeId(id);
          this.contributionSchemas[normalizedId] = this.addSchemaHandle(normalizedId, schemas[id]);
        }
      }
      if (Array.isArray(schemaContributions2.schemaAssociations)) {
        var schemaAssociations = schemaContributions2.schemaAssociations;
        for (var _i = 0, schemaAssociations_1 = schemaAssociations; _i < schemaAssociations_1.length; _i++) {
          var schemaAssociation = schemaAssociations_1[_i];
          var uris = schemaAssociation.uris.map(normalizeId);
          var association = this.addFilePatternAssociation(schemaAssociation.pattern, uris);
          this.contributionAssociations.push(association);
        }
      }
    };
    JSONSchemaService2.prototype.addSchemaHandle = function(id, unresolvedSchemaContent) {
      var schemaHandle = new SchemaHandle(this, id, unresolvedSchemaContent);
      this.schemasById[id] = schemaHandle;
      return schemaHandle;
    };
    JSONSchemaService2.prototype.getOrAddSchemaHandle = function(id, unresolvedSchemaContent) {
      return this.schemasById[id] || this.addSchemaHandle(id, unresolvedSchemaContent);
    };
    JSONSchemaService2.prototype.addFilePatternAssociation = function(pattern, uris) {
      var fpa = new FilePatternAssociation(pattern, uris);
      this.filePatternAssociations.push(fpa);
      return fpa;
    };
    JSONSchemaService2.prototype.registerExternalSchema = function(uri, filePatterns, unresolvedSchemaContent) {
      var id = normalizeId(uri);
      this.registeredSchemasIds[id] = true;
      this.cachedSchemaForResource = void 0;
      if (filePatterns) {
        this.addFilePatternAssociation(filePatterns, [uri]);
      }
      return unresolvedSchemaContent ? this.addSchemaHandle(id, unresolvedSchemaContent) : this.getOrAddSchemaHandle(id);
    };
    JSONSchemaService2.prototype.clearExternalSchemas = function() {
      this.schemasById = {};
      this.filePatternAssociations = [];
      this.registeredSchemasIds = {};
      this.cachedSchemaForResource = void 0;
      for (var id in this.contributionSchemas) {
        this.schemasById[id] = this.contributionSchemas[id];
        this.registeredSchemasIds[id] = true;
      }
      for (var _i = 0, _a2 = this.contributionAssociations; _i < _a2.length; _i++) {
        var contributionAssociation = _a2[_i];
        this.filePatternAssociations.push(contributionAssociation);
      }
    };
    JSONSchemaService2.prototype.getResolvedSchema = function(schemaId) {
      var id = normalizeId(schemaId);
      var schemaHandle = this.schemasById[id];
      if (schemaHandle) {
        return schemaHandle.getResolvedSchema();
      }
      return this.promise.resolve(void 0);
    };
    JSONSchemaService2.prototype.loadSchema = function(url) {
      if (!this.requestService) {
        var errorMessage = localize4("json.schema.norequestservice", "Unable to load schema from '{0}'. No schema request service available", toDisplayString(url));
        return this.promise.resolve(new UnresolvedSchema({}, [errorMessage]));
      }
      return this.requestService(url).then(function(content) {
        if (!content) {
          var errorMessage2 = localize4("json.schema.nocontent", "Unable to load schema from '{0}': No content.", toDisplayString(url));
          return new UnresolvedSchema({}, [errorMessage2]);
        }
        var schemaContent = {};
        var jsonErrors = [];
        schemaContent = parse2(content, jsonErrors);
        var errors = jsonErrors.length ? [localize4("json.schema.invalidFormat", "Unable to parse content from '{0}': Parse error at offset {1}.", toDisplayString(url), jsonErrors[0].offset)] : [];
        return new UnresolvedSchema(schemaContent, errors);
      }, function(error) {
        var errorMessage2 = error.toString();
        var errorSplit = error.toString().split("Error: ");
        if (errorSplit.length > 1) {
          errorMessage2 = errorSplit[1];
        }
        if (endsWith(errorMessage2, ".")) {
          errorMessage2 = errorMessage2.substr(0, errorMessage2.length - 1);
        }
        return new UnresolvedSchema({}, [localize4("json.schema.nocontent", "Unable to load schema from '{0}': {1}.", toDisplayString(url), errorMessage2)]);
      });
    };
    JSONSchemaService2.prototype.resolveSchemaContent = function(schemaToResolve, schemaURL, dependencies) {
      var _this = this;
      var resolveErrors = schemaToResolve.errors.slice(0);
      var schema = schemaToResolve.schema;
      if (schema.$schema) {
        var id = normalizeId(schema.$schema);
        if (id === "http://json-schema.org/draft-03/schema") {
          return this.promise.resolve(new ResolvedSchema({}, [localize4("json.schema.draft03.notsupported", "Draft-03 schemas are not supported.")]));
        } else if (id === "https://json-schema.org/draft/2019-09/schema") {
          resolveErrors.push(localize4("json.schema.draft201909.notsupported", "Draft 2019-09 schemas are not yet fully supported."));
        }
      }
      var contextService = this.contextService;
      var findSection = function(schema2, path) {
        if (!path) {
          return schema2;
        }
        var current = schema2;
        if (path[0] === "/") {
          path = path.substr(1);
        }
        path.split("/").some(function(part) {
          current = current[part];
          return !current;
        });
        return current;
      };
      var merge = function(target, sourceRoot, sourceURI, refSegment) {
        var path = refSegment ? decodeURIComponent(refSegment) : void 0;
        var section = findSection(sourceRoot, path);
        if (section) {
          for (var key in section) {
            if (section.hasOwnProperty(key) && !target.hasOwnProperty(key)) {
              target[key] = section[key];
            }
          }
        } else {
          resolveErrors.push(localize4("json.schema.invalidref", "$ref '{0}' in '{1}' can not be resolved.", path, sourceURI));
        }
      };
      var resolveExternalLink = function(node, uri, refSegment, parentSchemaURL, parentSchemaDependencies) {
        if (contextService && !/^\w+:\/\/.*/.test(uri)) {
          uri = contextService.resolveRelativePath(uri, parentSchemaURL);
        }
        uri = normalizeId(uri);
        var referencedHandle = _this.getOrAddSchemaHandle(uri);
        return referencedHandle.getUnresolvedSchema().then(function(unresolvedSchema) {
          parentSchemaDependencies[uri] = true;
          if (unresolvedSchema.errors.length) {
            var loc = refSegment ? uri + "#" + refSegment : uri;
            resolveErrors.push(localize4("json.schema.problemloadingref", "Problems loading reference '{0}': {1}", loc, unresolvedSchema.errors[0]));
          }
          merge(node, unresolvedSchema.schema, uri, refSegment);
          return resolveRefs(node, unresolvedSchema.schema, uri, referencedHandle.dependencies);
        });
      };
      var resolveRefs = function(node, parentSchema, parentSchemaURL, parentSchemaDependencies) {
        if (!node || typeof node !== "object") {
          return Promise.resolve(null);
        }
        var toWalk = [node];
        var seen = [];
        var openPromises = [];
        var collectEntries = function() {
          var entries = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            entries[_i] = arguments[_i];
          }
          for (var _a2 = 0, entries_1 = entries; _a2 < entries_1.length; _a2++) {
            var entry = entries_1[_a2];
            if (typeof entry === "object") {
              toWalk.push(entry);
            }
          }
        };
        var collectMapEntries = function() {
          var maps = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            maps[_i] = arguments[_i];
          }
          for (var _a2 = 0, maps_1 = maps; _a2 < maps_1.length; _a2++) {
            var map = maps_1[_a2];
            if (typeof map === "object") {
              for (var k in map) {
                var key = k;
                var entry = map[key];
                if (typeof entry === "object") {
                  toWalk.push(entry);
                }
              }
            }
          }
        };
        var collectArrayEntries = function() {
          var arrays = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            arrays[_i] = arguments[_i];
          }
          for (var _a2 = 0, arrays_1 = arrays; _a2 < arrays_1.length; _a2++) {
            var array = arrays_1[_a2];
            if (Array.isArray(array)) {
              for (var _b = 0, array_1 = array; _b < array_1.length; _b++) {
                var entry = array_1[_b];
                if (typeof entry === "object") {
                  toWalk.push(entry);
                }
              }
            }
          }
        };
        var handleRef = function(next2) {
          var seenRefs = [];
          while (next2.$ref) {
            var ref = next2.$ref;
            var segments = ref.split("#", 2);
            delete next2.$ref;
            if (segments[0].length > 0) {
              openPromises.push(resolveExternalLink(next2, segments[0], segments[1], parentSchemaURL, parentSchemaDependencies));
              return;
            } else {
              if (seenRefs.indexOf(ref) === -1) {
                merge(next2, parentSchema, parentSchemaURL, segments[1]);
                seenRefs.push(ref);
              }
            }
          }
          collectEntries(next2.items, next2.additionalItems, next2.additionalProperties, next2.not, next2.contains, next2.propertyNames, next2.if, next2.then, next2.else);
          collectMapEntries(next2.definitions, next2.properties, next2.patternProperties, next2.dependencies);
          collectArrayEntries(next2.anyOf, next2.allOf, next2.oneOf, next2.items);
        };
        while (toWalk.length) {
          var next = toWalk.pop();
          if (seen.indexOf(next) >= 0) {
            continue;
          }
          seen.push(next);
          handleRef(next);
        }
        return _this.promise.all(openPromises);
      };
      return resolveRefs(schema, schema, schemaURL, dependencies).then(function(_) {
        return new ResolvedSchema(schema, resolveErrors);
      });
    };
    JSONSchemaService2.prototype.getSchemaForResource = function(resource, document) {
      if (document && document.root && document.root.type === "object") {
        var schemaProperties = document.root.properties.filter(function(p) {
          return p.keyNode.value === "$schema" && p.valueNode && p.valueNode.type === "string";
        });
        if (schemaProperties.length > 0) {
          var valueNode = schemaProperties[0].valueNode;
          if (valueNode && valueNode.type === "string") {
            var schemeId = getNodeValue3(valueNode);
            if (schemeId && startsWith(schemeId, ".") && this.contextService) {
              schemeId = this.contextService.resolveRelativePath(schemeId, resource);
            }
            if (schemeId) {
              var id = normalizeId(schemeId);
              return this.getOrAddSchemaHandle(id).getResolvedSchema();
            }
          }
        }
      }
      if (this.cachedSchemaForResource && this.cachedSchemaForResource.resource === resource) {
        return this.cachedSchemaForResource.resolvedSchema;
      }
      var seen = Object.create(null);
      var schemas = [];
      var normalizedResource = normalizeResourceForMatching(resource);
      for (var _i = 0, _a2 = this.filePatternAssociations; _i < _a2.length; _i++) {
        var entry = _a2[_i];
        if (entry.matchesPattern(normalizedResource)) {
          for (var _b = 0, _c = entry.getURIs(); _b < _c.length; _b++) {
            var schemaId = _c[_b];
            if (!seen[schemaId]) {
              schemas.push(schemaId);
              seen[schemaId] = true;
            }
          }
        }
      }
      var resolvedSchema = schemas.length > 0 ? this.createCombinedSchema(resource, schemas).getResolvedSchema() : this.promise.resolve(void 0);
      this.cachedSchemaForResource = {resource, resolvedSchema};
      return resolvedSchema;
    };
    JSONSchemaService2.prototype.createCombinedSchema = function(resource, schemaIds) {
      if (schemaIds.length === 1) {
        return this.getOrAddSchemaHandle(schemaIds[0]);
      } else {
        var combinedSchemaId = "schemaservice://combinedSchema/" + encodeURIComponent(resource);
        var combinedSchema = {
          allOf: schemaIds.map(function(schemaId) {
            return {$ref: schemaId};
          })
        };
        return this.addSchemaHandle(combinedSchemaId, combinedSchema);
      }
    };
    JSONSchemaService2.prototype.getMatchingSchemas = function(document, jsonDocument, schema) {
      if (schema) {
        var id = schema.id || "schemaservice://untitled/matchingSchemas/" + idCounter++;
        return this.resolveSchemaContent(new UnresolvedSchema(schema), id, {}).then(function(resolvedSchema) {
          return jsonDocument.getMatchingSchemas(resolvedSchema.schema).filter(function(s) {
            return !s.inverted;
          });
        });
      }
      return this.getSchemaForResource(document.uri, jsonDocument).then(function(schema2) {
        if (schema2) {
          return jsonDocument.getMatchingSchemas(schema2.schema).filter(function(s) {
            return !s.inverted;
          });
        }
        return [];
      });
    };
    return JSONSchemaService2;
  }();
  var idCounter = 0;
  function normalizeId(id) {
    try {
      return URI2.parse(id).toString();
    } catch (e) {
      return id;
    }
  }
  function normalizeResourceForMatching(resource) {
    try {
      return URI2.parse(resource).with({fragment: null, query: null}).toString();
    } catch (e) {
      return resource;
    }
  }
  function toDisplayString(url) {
    try {
      var uri = URI2.parse(url);
      if (uri.scheme === "file") {
        return uri.fsPath;
      }
    } catch (e) {
    }
    return url;
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonValidation.js
  var localize5 = loadMessageBundle();
  var JSONValidation = function() {
    function JSONValidation2(jsonSchemaService, promiseConstructor) {
      this.jsonSchemaService = jsonSchemaService;
      this.promise = promiseConstructor;
      this.validationEnabled = true;
    }
    JSONValidation2.prototype.configure = function(raw) {
      if (raw) {
        this.validationEnabled = raw.validate !== false;
        this.commentSeverity = raw.allowComments ? void 0 : DiagnosticSeverity.Error;
      }
    };
    JSONValidation2.prototype.doValidation = function(textDocument, jsonDocument, documentSettings, schema) {
      var _this = this;
      if (!this.validationEnabled) {
        return this.promise.resolve([]);
      }
      var diagnostics = [];
      var added = {};
      var addProblem = function(problem) {
        var signature = problem.range.start.line + " " + problem.range.start.character + " " + problem.message;
        if (!added[signature]) {
          added[signature] = true;
          diagnostics.push(problem);
        }
      };
      var getDiagnostics = function(schema2) {
        var trailingCommaSeverity = documentSettings ? toDiagnosticSeverity(documentSettings.trailingCommas) : DiagnosticSeverity.Error;
        var commentSeverity = documentSettings ? toDiagnosticSeverity(documentSettings.comments) : _this.commentSeverity;
        var schemaValidation = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.schemaValidation) ? toDiagnosticSeverity(documentSettings.schemaValidation) : DiagnosticSeverity.Warning;
        var schemaRequest = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.schemaRequest) ? toDiagnosticSeverity(documentSettings.schemaRequest) : DiagnosticSeverity.Warning;
        if (schema2) {
          if (schema2.errors.length && jsonDocument.root && schemaRequest) {
            var astRoot = jsonDocument.root;
            var property = astRoot.type === "object" ? astRoot.properties[0] : void 0;
            if (property && property.keyNode.value === "$schema") {
              var node = property.valueNode || property;
              var range = Range2.create(textDocument.positionAt(node.offset), textDocument.positionAt(node.offset + node.length));
              addProblem(Diagnostic.create(range, schema2.errors[0], schemaRequest, ErrorCode.SchemaResolveError));
            } else {
              var range = Range2.create(textDocument.positionAt(astRoot.offset), textDocument.positionAt(astRoot.offset + 1));
              addProblem(Diagnostic.create(range, schema2.errors[0], schemaRequest, ErrorCode.SchemaResolveError));
            }
          } else if (schemaValidation) {
            var semanticErrors = jsonDocument.validate(textDocument, schema2.schema, schemaValidation);
            if (semanticErrors) {
              semanticErrors.forEach(addProblem);
            }
          }
          if (schemaAllowsComments(schema2.schema)) {
            commentSeverity = void 0;
          }
          if (schemaAllowsTrailingCommas(schema2.schema)) {
            trailingCommaSeverity = void 0;
          }
        }
        for (var _i = 0, _a2 = jsonDocument.syntaxErrors; _i < _a2.length; _i++) {
          var p = _a2[_i];
          if (p.code === ErrorCode.TrailingComma) {
            if (typeof trailingCommaSeverity !== "number") {
              continue;
            }
            p.severity = trailingCommaSeverity;
          }
          addProblem(p);
        }
        if (typeof commentSeverity === "number") {
          var message_1 = localize5("InvalidCommentToken", "Comments are not permitted in JSON.");
          jsonDocument.comments.forEach(function(c) {
            addProblem(Diagnostic.create(c, message_1, commentSeverity, ErrorCode.CommentNotPermitted));
          });
        }
        return diagnostics;
      };
      if (schema) {
        var id = schema.id || "schemaservice://untitled/" + idCounter2++;
        return this.jsonSchemaService.resolveSchemaContent(new UnresolvedSchema(schema), id, {}).then(function(resolvedSchema) {
          return getDiagnostics(resolvedSchema);
        });
      }
      return this.jsonSchemaService.getSchemaForResource(textDocument.uri, jsonDocument).then(function(schema2) {
        return getDiagnostics(schema2);
      });
    };
    return JSONValidation2;
  }();
  var idCounter2 = 0;
  function schemaAllowsComments(schemaRef) {
    if (schemaRef && typeof schemaRef === "object") {
      if (isBoolean(schemaRef.allowComments)) {
        return schemaRef.allowComments;
      }
      if (schemaRef.allOf) {
        for (var _i = 0, _a2 = schemaRef.allOf; _i < _a2.length; _i++) {
          var schema = _a2[_i];
          var allow = schemaAllowsComments(schema);
          if (isBoolean(allow)) {
            return allow;
          }
        }
      }
    }
    return void 0;
  }
  function schemaAllowsTrailingCommas(schemaRef) {
    if (schemaRef && typeof schemaRef === "object") {
      if (isBoolean(schemaRef.allowTrailingCommas)) {
        return schemaRef.allowTrailingCommas;
      }
      var deprSchemaRef = schemaRef;
      if (isBoolean(deprSchemaRef["allowsTrailingCommas"])) {
        return deprSchemaRef["allowsTrailingCommas"];
      }
      if (schemaRef.allOf) {
        for (var _i = 0, _a2 = schemaRef.allOf; _i < _a2.length; _i++) {
          var schema = _a2[_i];
          var allow = schemaAllowsTrailingCommas(schema);
          if (isBoolean(allow)) {
            return allow;
          }
        }
      }
    }
    return void 0;
  }
  function toDiagnosticSeverity(severityLevel) {
    switch (severityLevel) {
      case "error":
        return DiagnosticSeverity.Error;
      case "warning":
        return DiagnosticSeverity.Warning;
      case "ignore":
        return void 0;
    }
    return void 0;
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/utils/colors.js
  var Digit0 = 48;
  var Digit9 = 57;
  var A = 65;
  var a = 97;
  var f = 102;
  function hexDigit(charCode) {
    if (charCode < Digit0) {
      return 0;
    }
    if (charCode <= Digit9) {
      return charCode - Digit0;
    }
    if (charCode < a) {
      charCode += a - A;
    }
    if (charCode >= a && charCode <= f) {
      return charCode - a + 10;
    }
    return 0;
  }
  function colorFromHex(text) {
    if (text[0] !== "#") {
      return void 0;
    }
    switch (text.length) {
      case 4:
        return {
          red: hexDigit(text.charCodeAt(1)) * 17 / 255,
          green: hexDigit(text.charCodeAt(2)) * 17 / 255,
          blue: hexDigit(text.charCodeAt(3)) * 17 / 255,
          alpha: 1
        };
      case 5:
        return {
          red: hexDigit(text.charCodeAt(1)) * 17 / 255,
          green: hexDigit(text.charCodeAt(2)) * 17 / 255,
          blue: hexDigit(text.charCodeAt(3)) * 17 / 255,
          alpha: hexDigit(text.charCodeAt(4)) * 17 / 255
        };
      case 7:
        return {
          red: (hexDigit(text.charCodeAt(1)) * 16 + hexDigit(text.charCodeAt(2))) / 255,
          green: (hexDigit(text.charCodeAt(3)) * 16 + hexDigit(text.charCodeAt(4))) / 255,
          blue: (hexDigit(text.charCodeAt(5)) * 16 + hexDigit(text.charCodeAt(6))) / 255,
          alpha: 1
        };
      case 9:
        return {
          red: (hexDigit(text.charCodeAt(1)) * 16 + hexDigit(text.charCodeAt(2))) / 255,
          green: (hexDigit(text.charCodeAt(3)) * 16 + hexDigit(text.charCodeAt(4))) / 255,
          blue: (hexDigit(text.charCodeAt(5)) * 16 + hexDigit(text.charCodeAt(6))) / 255,
          alpha: (hexDigit(text.charCodeAt(7)) * 16 + hexDigit(text.charCodeAt(8))) / 255
        };
    }
    return void 0;
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonDocumentSymbols.js
  var JSONDocumentSymbols = function() {
    function JSONDocumentSymbols2(schemaService) {
      this.schemaService = schemaService;
    }
    JSONDocumentSymbols2.prototype.findDocumentSymbols = function(document, doc, context) {
      var _this = this;
      if (context === void 0) {
        context = {resultLimit: Number.MAX_VALUE};
      }
      var root = doc.root;
      if (!root) {
        return [];
      }
      var limit = context.resultLimit || Number.MAX_VALUE;
      var resourceString = document.uri;
      if (resourceString === "vscode://defaultsettings/keybindings.json" || endsWith(resourceString.toLowerCase(), "/user/keybindings.json")) {
        if (root.type === "array") {
          var result_1 = [];
          for (var _i = 0, _a2 = root.items; _i < _a2.length; _i++) {
            var item = _a2[_i];
            if (item.type === "object") {
              for (var _b = 0, _c = item.properties; _b < _c.length; _b++) {
                var property = _c[_b];
                if (property.keyNode.value === "key" && property.valueNode) {
                  var location = Location.create(document.uri, getRange(document, item));
                  result_1.push({name: getNodeValue3(property.valueNode), kind: SymbolKind2.Function, location});
                  limit--;
                  if (limit <= 0) {
                    if (context && context.onResultLimitExceeded) {
                      context.onResultLimitExceeded(resourceString);
                    }
                    return result_1;
                  }
                }
              }
            }
          }
          return result_1;
        }
      }
      var toVisit = [
        {node: root, containerName: ""}
      ];
      var nextToVisit = 0;
      var limitExceeded = false;
      var result = [];
      var collectOutlineEntries = function(node, containerName) {
        if (node.type === "array") {
          node.items.forEach(function(node2) {
            if (node2) {
              toVisit.push({node: node2, containerName});
            }
          });
        } else if (node.type === "object") {
          node.properties.forEach(function(property2) {
            var valueNode = property2.valueNode;
            if (valueNode) {
              if (limit > 0) {
                limit--;
                var location2 = Location.create(document.uri, getRange(document, property2));
                var childContainerName = containerName ? containerName + "." + property2.keyNode.value : property2.keyNode.value;
                result.push({name: _this.getKeyLabel(property2), kind: _this.getSymbolKind(valueNode.type), location: location2, containerName});
                toVisit.push({node: valueNode, containerName: childContainerName});
              } else {
                limitExceeded = true;
              }
            }
          });
        }
      };
      while (nextToVisit < toVisit.length) {
        var next = toVisit[nextToVisit++];
        collectOutlineEntries(next.node, next.containerName);
      }
      if (limitExceeded && context && context.onResultLimitExceeded) {
        context.onResultLimitExceeded(resourceString);
      }
      return result;
    };
    JSONDocumentSymbols2.prototype.findDocumentSymbols2 = function(document, doc, context) {
      var _this = this;
      if (context === void 0) {
        context = {resultLimit: Number.MAX_VALUE};
      }
      var root = doc.root;
      if (!root) {
        return [];
      }
      var limit = context.resultLimit || Number.MAX_VALUE;
      var resourceString = document.uri;
      if (resourceString === "vscode://defaultsettings/keybindings.json" || endsWith(resourceString.toLowerCase(), "/user/keybindings.json")) {
        if (root.type === "array") {
          var result_2 = [];
          for (var _i = 0, _a2 = root.items; _i < _a2.length; _i++) {
            var item = _a2[_i];
            if (item.type === "object") {
              for (var _b = 0, _c = item.properties; _b < _c.length; _b++) {
                var property = _c[_b];
                if (property.keyNode.value === "key" && property.valueNode) {
                  var range = getRange(document, item);
                  var selectionRange = getRange(document, property.keyNode);
                  result_2.push({name: getNodeValue3(property.valueNode), kind: SymbolKind2.Function, range, selectionRange});
                  limit--;
                  if (limit <= 0) {
                    if (context && context.onResultLimitExceeded) {
                      context.onResultLimitExceeded(resourceString);
                    }
                    return result_2;
                  }
                }
              }
            }
          }
          return result_2;
        }
      }
      var result = [];
      var toVisit = [
        {node: root, result}
      ];
      var nextToVisit = 0;
      var limitExceeded = false;
      var collectOutlineEntries = function(node, result2) {
        if (node.type === "array") {
          node.items.forEach(function(node2, index) {
            if (node2) {
              if (limit > 0) {
                limit--;
                var range2 = getRange(document, node2);
                var selectionRange2 = range2;
                var name = String(index);
                var symbol = {name, kind: _this.getSymbolKind(node2.type), range: range2, selectionRange: selectionRange2, children: []};
                result2.push(symbol);
                toVisit.push({result: symbol.children, node: node2});
              } else {
                limitExceeded = true;
              }
            }
          });
        } else if (node.type === "object") {
          node.properties.forEach(function(property2) {
            var valueNode = property2.valueNode;
            if (valueNode) {
              if (limit > 0) {
                limit--;
                var range2 = getRange(document, property2);
                var selectionRange2 = getRange(document, property2.keyNode);
                var children = [];
                var symbol = {name: _this.getKeyLabel(property2), kind: _this.getSymbolKind(valueNode.type), range: range2, selectionRange: selectionRange2, children, detail: _this.getDetail(valueNode)};
                result2.push(symbol);
                toVisit.push({result: children, node: valueNode});
              } else {
                limitExceeded = true;
              }
            }
          });
        }
      };
      while (nextToVisit < toVisit.length) {
        var next = toVisit[nextToVisit++];
        collectOutlineEntries(next.node, next.result);
      }
      if (limitExceeded && context && context.onResultLimitExceeded) {
        context.onResultLimitExceeded(resourceString);
      }
      return result;
    };
    JSONDocumentSymbols2.prototype.getSymbolKind = function(nodeType) {
      switch (nodeType) {
        case "object":
          return SymbolKind2.Module;
        case "string":
          return SymbolKind2.String;
        case "number":
          return SymbolKind2.Number;
        case "array":
          return SymbolKind2.Array;
        case "boolean":
          return SymbolKind2.Boolean;
        default:
          return SymbolKind2.Variable;
      }
    };
    JSONDocumentSymbols2.prototype.getKeyLabel = function(property) {
      var name = property.keyNode.value;
      if (name) {
        name = name.replace(/[\n]/g, "\u21B5");
      }
      if (name && name.trim()) {
        return name;
      }
      return '"' + name + '"';
    };
    JSONDocumentSymbols2.prototype.getDetail = function(node) {
      if (!node) {
        return void 0;
      }
      if (node.type === "boolean" || node.type === "number" || node.type === "null" || node.type === "string") {
        return String(node.value);
      } else {
        if (node.type === "array") {
          return node.children.length ? void 0 : "[]";
        } else if (node.type === "object") {
          return node.children.length ? void 0 : "{}";
        }
      }
      return void 0;
    };
    JSONDocumentSymbols2.prototype.findDocumentColors = function(document, doc, context) {
      return this.schemaService.getSchemaForResource(document.uri, doc).then(function(schema) {
        var result = [];
        if (schema) {
          var limit = context && typeof context.resultLimit === "number" ? context.resultLimit : Number.MAX_VALUE;
          var matchingSchemas = doc.getMatchingSchemas(schema.schema);
          var visitedNode = {};
          for (var _i = 0, matchingSchemas_1 = matchingSchemas; _i < matchingSchemas_1.length; _i++) {
            var s = matchingSchemas_1[_i];
            if (!s.inverted && s.schema && (s.schema.format === "color" || s.schema.format === "color-hex") && s.node && s.node.type === "string") {
              var nodeId = String(s.node.offset);
              if (!visitedNode[nodeId]) {
                var color = colorFromHex(getNodeValue3(s.node));
                if (color) {
                  var range = getRange(document, s.node);
                  result.push({color, range});
                }
                visitedNode[nodeId] = true;
                limit--;
                if (limit <= 0) {
                  if (context && context.onResultLimitExceeded) {
                    context.onResultLimitExceeded(document.uri);
                  }
                  return result;
                }
              }
            }
          }
        }
        return result;
      });
    };
    JSONDocumentSymbols2.prototype.getColorPresentations = function(document, doc, color, range) {
      var result = [];
      var red256 = Math.round(color.red * 255), green256 = Math.round(color.green * 255), blue256 = Math.round(color.blue * 255);
      function toTwoDigitHex(n) {
        var r = n.toString(16);
        return r.length !== 2 ? "0" + r : r;
      }
      var label;
      if (color.alpha === 1) {
        label = "#" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256);
      } else {
        label = "#" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256) + toTwoDigitHex(Math.round(color.alpha * 255));
      }
      result.push({label, textEdit: TextEdit.replace(range, JSON.stringify(label))});
      return result;
    };
    return JSONDocumentSymbols2;
  }();
  function getRange(document, node) {
    return Range2.create(document.positionAt(node.offset), document.positionAt(node.offset + node.length));
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/configuration.js
  var localize6 = loadMessageBundle();
  var schemaContributions = {
    schemaAssociations: [],
    schemas: {
      "http://json-schema.org/schema#": {
        $ref: "http://json-schema.org/draft-07/schema#"
      },
      "http://json-schema.org/draft-04/schema#": {
        title: localize6("schema.json", "Describes a JSON file using a schema. See json-schema.org for more info."),
        $schema: "http://json-schema.org/draft-04/schema#",
        definitions: {
          schemaArray: {
            type: "array",
            minItems: 1,
            items: {
              $ref: "#"
            }
          },
          positiveInteger: {
            type: "integer",
            minimum: 0
          },
          positiveIntegerDefault0: {
            allOf: [
              {
                $ref: "#/definitions/positiveInteger"
              },
              {
                default: 0
              }
            ]
          },
          simpleTypes: {
            type: "string",
            enum: [
              "array",
              "boolean",
              "integer",
              "null",
              "number",
              "object",
              "string"
            ]
          },
          stringArray: {
            type: "array",
            items: {
              type: "string"
            },
            minItems: 1,
            uniqueItems: true
          }
        },
        type: "object",
        properties: {
          id: {
            type: "string",
            format: "uri"
          },
          $schema: {
            type: "string",
            format: "uri"
          },
          title: {
            type: "string"
          },
          description: {
            type: "string"
          },
          default: {},
          multipleOf: {
            type: "number",
            minimum: 0,
            exclusiveMinimum: true
          },
          maximum: {
            type: "number"
          },
          exclusiveMaximum: {
            type: "boolean",
            default: false
          },
          minimum: {
            type: "number"
          },
          exclusiveMinimum: {
            type: "boolean",
            default: false
          },
          maxLength: {
            allOf: [
              {
                $ref: "#/definitions/positiveInteger"
              }
            ]
          },
          minLength: {
            allOf: [
              {
                $ref: "#/definitions/positiveIntegerDefault0"
              }
            ]
          },
          pattern: {
            type: "string",
            format: "regex"
          },
          additionalItems: {
            anyOf: [
              {
                type: "boolean"
              },
              {
                $ref: "#"
              }
            ],
            default: {}
          },
          items: {
            anyOf: [
              {
                $ref: "#"
              },
              {
                $ref: "#/definitions/schemaArray"
              }
            ],
            default: {}
          },
          maxItems: {
            allOf: [
              {
                $ref: "#/definitions/positiveInteger"
              }
            ]
          },
          minItems: {
            allOf: [
              {
                $ref: "#/definitions/positiveIntegerDefault0"
              }
            ]
          },
          uniqueItems: {
            type: "boolean",
            default: false
          },
          maxProperties: {
            allOf: [
              {
                $ref: "#/definitions/positiveInteger"
              }
            ]
          },
          minProperties: {
            allOf: [
              {
                $ref: "#/definitions/positiveIntegerDefault0"
              }
            ]
          },
          required: {
            allOf: [
              {
                $ref: "#/definitions/stringArray"
              }
            ]
          },
          additionalProperties: {
            anyOf: [
              {
                type: "boolean"
              },
              {
                $ref: "#"
              }
            ],
            default: {}
          },
          definitions: {
            type: "object",
            additionalProperties: {
              $ref: "#"
            },
            default: {}
          },
          properties: {
            type: "object",
            additionalProperties: {
              $ref: "#"
            },
            default: {}
          },
          patternProperties: {
            type: "object",
            additionalProperties: {
              $ref: "#"
            },
            default: {}
          },
          dependencies: {
            type: "object",
            additionalProperties: {
              anyOf: [
                {
                  $ref: "#"
                },
                {
                  $ref: "#/definitions/stringArray"
                }
              ]
            }
          },
          enum: {
            type: "array",
            minItems: 1,
            uniqueItems: true
          },
          type: {
            anyOf: [
              {
                $ref: "#/definitions/simpleTypes"
              },
              {
                type: "array",
                items: {
                  $ref: "#/definitions/simpleTypes"
                },
                minItems: 1,
                uniqueItems: true
              }
            ]
          },
          format: {
            anyOf: [
              {
                type: "string",
                enum: [
                  "date-time",
                  "uri",
                  "email",
                  "hostname",
                  "ipv4",
                  "ipv6",
                  "regex"
                ]
              },
              {
                type: "string"
              }
            ]
          },
          allOf: {
            allOf: [
              {
                $ref: "#/definitions/schemaArray"
              }
            ]
          },
          anyOf: {
            allOf: [
              {
                $ref: "#/definitions/schemaArray"
              }
            ]
          },
          oneOf: {
            allOf: [
              {
                $ref: "#/definitions/schemaArray"
              }
            ]
          },
          not: {
            allOf: [
              {
                $ref: "#"
              }
            ]
          }
        },
        dependencies: {
          exclusiveMaximum: [
            "maximum"
          ],
          exclusiveMinimum: [
            "minimum"
          ]
        },
        default: {}
      },
      "http://json-schema.org/draft-07/schema#": {
        title: localize6("schema.json", "Describes a JSON file using a schema. See json-schema.org for more info."),
        definitions: {
          schemaArray: {
            type: "array",
            minItems: 1,
            items: {$ref: "#"}
          },
          nonNegativeInteger: {
            type: "integer",
            minimum: 0
          },
          nonNegativeIntegerDefault0: {
            allOf: [
              {$ref: "#/definitions/nonNegativeInteger"},
              {default: 0}
            ]
          },
          simpleTypes: {
            enum: [
              "array",
              "boolean",
              "integer",
              "null",
              "number",
              "object",
              "string"
            ]
          },
          stringArray: {
            type: "array",
            items: {type: "string"},
            uniqueItems: true,
            default: []
          }
        },
        type: ["object", "boolean"],
        properties: {
          $id: {
            type: "string",
            format: "uri-reference"
          },
          $schema: {
            type: "string",
            format: "uri"
          },
          $ref: {
            type: "string",
            format: "uri-reference"
          },
          $comment: {
            type: "string"
          },
          title: {
            type: "string"
          },
          description: {
            type: "string"
          },
          default: true,
          readOnly: {
            type: "boolean",
            default: false
          },
          examples: {
            type: "array",
            items: true
          },
          multipleOf: {
            type: "number",
            exclusiveMinimum: 0
          },
          maximum: {
            type: "number"
          },
          exclusiveMaximum: {
            type: "number"
          },
          minimum: {
            type: "number"
          },
          exclusiveMinimum: {
            type: "number"
          },
          maxLength: {$ref: "#/definitions/nonNegativeInteger"},
          minLength: {$ref: "#/definitions/nonNegativeIntegerDefault0"},
          pattern: {
            type: "string",
            format: "regex"
          },
          additionalItems: {$ref: "#"},
          items: {
            anyOf: [
              {$ref: "#"},
              {$ref: "#/definitions/schemaArray"}
            ],
            default: true
          },
          maxItems: {$ref: "#/definitions/nonNegativeInteger"},
          minItems: {$ref: "#/definitions/nonNegativeIntegerDefault0"},
          uniqueItems: {
            type: "boolean",
            default: false
          },
          contains: {$ref: "#"},
          maxProperties: {$ref: "#/definitions/nonNegativeInteger"},
          minProperties: {$ref: "#/definitions/nonNegativeIntegerDefault0"},
          required: {$ref: "#/definitions/stringArray"},
          additionalProperties: {$ref: "#"},
          definitions: {
            type: "object",
            additionalProperties: {$ref: "#"},
            default: {}
          },
          properties: {
            type: "object",
            additionalProperties: {$ref: "#"},
            default: {}
          },
          patternProperties: {
            type: "object",
            additionalProperties: {$ref: "#"},
            propertyNames: {format: "regex"},
            default: {}
          },
          dependencies: {
            type: "object",
            additionalProperties: {
              anyOf: [
                {$ref: "#"},
                {$ref: "#/definitions/stringArray"}
              ]
            }
          },
          propertyNames: {$ref: "#"},
          const: true,
          enum: {
            type: "array",
            items: true,
            minItems: 1,
            uniqueItems: true
          },
          type: {
            anyOf: [
              {$ref: "#/definitions/simpleTypes"},
              {
                type: "array",
                items: {$ref: "#/definitions/simpleTypes"},
                minItems: 1,
                uniqueItems: true
              }
            ]
          },
          format: {type: "string"},
          contentMediaType: {type: "string"},
          contentEncoding: {type: "string"},
          if: {$ref: "#"},
          then: {$ref: "#"},
          else: {$ref: "#"},
          allOf: {$ref: "#/definitions/schemaArray"},
          anyOf: {$ref: "#/definitions/schemaArray"},
          oneOf: {$ref: "#/definitions/schemaArray"},
          not: {$ref: "#"}
        },
        default: true
      }
    }
  };
  var descriptions = {
    id: localize6("schema.json.id", "A unique identifier for the schema."),
    $schema: localize6("schema.json.$schema", "The schema to verify this document against."),
    title: localize6("schema.json.title", "A descriptive title of the element."),
    description: localize6("schema.json.description", "A long description of the element. Used in hover menus and suggestions."),
    default: localize6("schema.json.default", "A default value. Used by suggestions."),
    multipleOf: localize6("schema.json.multipleOf", "A number that should cleanly divide the current value (i.e. have no remainder)."),
    maximum: localize6("schema.json.maximum", "The maximum numerical value, inclusive by default."),
    exclusiveMaximum: localize6("schema.json.exclusiveMaximum", "Makes the maximum property exclusive."),
    minimum: localize6("schema.json.minimum", "The minimum numerical value, inclusive by default."),
    exclusiveMinimum: localize6("schema.json.exclusiveMininum", "Makes the minimum property exclusive."),
    maxLength: localize6("schema.json.maxLength", "The maximum length of a string."),
    minLength: localize6("schema.json.minLength", "The minimum length of a string."),
    pattern: localize6("schema.json.pattern", "A regular expression to match the string against. It is not implicitly anchored."),
    additionalItems: localize6("schema.json.additionalItems", "For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),
    items: localize6("schema.json.items", "For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),
    maxItems: localize6("schema.json.maxItems", "The maximum number of items that can be inside an array. Inclusive."),
    minItems: localize6("schema.json.minItems", "The minimum number of items that can be inside an array. Inclusive."),
    uniqueItems: localize6("schema.json.uniqueItems", "If all of the items in the array must be unique. Defaults to false."),
    maxProperties: localize6("schema.json.maxProperties", "The maximum number of properties an object can have. Inclusive."),
    minProperties: localize6("schema.json.minProperties", "The minimum number of properties an object can have. Inclusive."),
    required: localize6("schema.json.required", "An array of strings that lists the names of all properties required on this object."),
    additionalProperties: localize6("schema.json.additionalProperties", "Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),
    definitions: localize6("schema.json.definitions", "Not used for validation. Place subschemas here that you wish to reference inline with $ref."),
    properties: localize6("schema.json.properties", "A map of property names to schemas for each property."),
    patternProperties: localize6("schema.json.patternProperties", "A map of regular expressions on property names to schemas for matching properties."),
    dependencies: localize6("schema.json.dependencies", "A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),
    enum: localize6("schema.json.enum", "The set of literal values that are valid."),
    type: localize6("schema.json.type", "Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),
    format: localize6("schema.json.format", "Describes the format expected for the value."),
    allOf: localize6("schema.json.allOf", "An array of schemas, all of which must match."),
    anyOf: localize6("schema.json.anyOf", "An array of schemas, where at least one must match."),
    oneOf: localize6("schema.json.oneOf", "An array of schemas, exactly one of which must match."),
    not: localize6("schema.json.not", "A schema which must not match."),
    $id: localize6("schema.json.$id", "A unique identifier for the schema."),
    $ref: localize6("schema.json.$ref", "Reference a definition hosted on any location."),
    $comment: localize6("schema.json.$comment", "Comments from schema authors to readers or maintainers of the schema."),
    readOnly: localize6("schema.json.readOnly", "Indicates that the value of the instance is managed exclusively by the owning authority."),
    examples: localize6("schema.json.examples", "Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),
    contains: localize6("schema.json.contains", 'An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),
    propertyNames: localize6("schema.json.propertyNames", "If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),
    const: localize6("schema.json.const", "An instance validates successfully against this keyword if its value is equal to the value of the keyword."),
    contentMediaType: localize6("schema.json.contentMediaType", "Describes the media type of a string property."),
    contentEncoding: localize6("schema.json.contentEncoding", "Describes the content encoding of a string property."),
    if: localize6("schema.json.if", 'The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),
    then: localize6("schema.json.then", 'The "if" subschema is used for validation when the "if" subschema succeeds.'),
    else: localize6("schema.json.else", 'The "else" subschema is used for validation when the "if" subschema fails.')
  };
  for (var schemaName in schemaContributions.schemas) {
    schema = schemaContributions.schemas[schemaName];
    for (property in schema.properties) {
      propertyObject = schema.properties[property];
      if (typeof propertyObject === "boolean") {
        propertyObject = schema.properties[property] = {};
      }
      description = descriptions[property];
      if (description) {
        propertyObject["description"] = description;
      } else {
        console.log(property + ": localize('schema.json." + property + `', "")`);
      }
    }
  }
  var schema;
  var propertyObject;
  var description;
  var property;

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonFolding.js
  function getFoldingRanges(document, context) {
    var ranges = [];
    var nestingLevels = [];
    var stack = [];
    var prevStart = -1;
    var scanner2 = createScanner2(document.getText(), false);
    var token = scanner2.scan();
    function addRange(range2) {
      ranges.push(range2);
      nestingLevels.push(stack.length);
    }
    while (token !== 17) {
      switch (token) {
        case 1:
        case 3: {
          var startLine = document.positionAt(scanner2.getTokenOffset()).line;
          var range = {startLine, endLine: startLine, kind: token === 1 ? "object" : "array"};
          stack.push(range);
          break;
        }
        case 2:
        case 4: {
          var kind = token === 2 ? "object" : "array";
          if (stack.length > 0 && stack[stack.length - 1].kind === kind) {
            var range = stack.pop();
            var line = document.positionAt(scanner2.getTokenOffset()).line;
            if (range && line > range.startLine + 1 && prevStart !== range.startLine) {
              range.endLine = line - 1;
              addRange(range);
              prevStart = range.startLine;
            }
          }
          break;
        }
        case 13: {
          var startLine = document.positionAt(scanner2.getTokenOffset()).line;
          var endLine = document.positionAt(scanner2.getTokenOffset() + scanner2.getTokenLength()).line;
          if (scanner2.getTokenError() === 1 && startLine + 1 < document.lineCount) {
            scanner2.setPosition(document.offsetAt(Position2.create(startLine + 1, 0)));
          } else {
            if (startLine < endLine) {
              addRange({startLine, endLine, kind: FoldingRangeKind.Comment});
              prevStart = startLine;
            }
          }
          break;
        }
        case 12: {
          var text = document.getText().substr(scanner2.getTokenOffset(), scanner2.getTokenLength());
          var m = text.match(/^\/\/\s*#(region\b)|(endregion\b)/);
          if (m) {
            var line = document.positionAt(scanner2.getTokenOffset()).line;
            if (m[1]) {
              var range = {startLine: line, endLine: line, kind: FoldingRangeKind.Region};
              stack.push(range);
            } else {
              var i = stack.length - 1;
              while (i >= 0 && stack[i].kind !== FoldingRangeKind.Region) {
                i--;
              }
              if (i >= 0) {
                var range = stack[i];
                stack.length = i;
                if (line > range.startLine && prevStart !== range.startLine) {
                  range.endLine = line;
                  addRange(range);
                  prevStart = range.startLine;
                }
              }
            }
          }
          break;
        }
      }
      token = scanner2.scan();
    }
    var rangeLimit = context && context.rangeLimit;
    if (typeof rangeLimit !== "number" || ranges.length <= rangeLimit) {
      return ranges;
    }
    if (context && context.onRangeLimitExceeded) {
      context.onRangeLimitExceeded(document.uri);
    }
    var counts = [];
    for (var _i = 0, nestingLevels_1 = nestingLevels; _i < nestingLevels_1.length; _i++) {
      var level = nestingLevels_1[_i];
      if (level < 30) {
        counts[level] = (counts[level] || 0) + 1;
      }
    }
    var entries = 0;
    var maxLevel = 0;
    for (var i = 0; i < counts.length; i++) {
      var n = counts[i];
      if (n) {
        if (n + entries > rangeLimit) {
          maxLevel = i;
          break;
        }
        entries += n;
      }
    }
    var result = [];
    for (var i = 0; i < ranges.length; i++) {
      var level = nestingLevels[i];
      if (typeof level === "number") {
        if (level < maxLevel || level === maxLevel && entries++ < rangeLimit) {
          result.push(ranges[i]);
        }
      }
    }
    return result;
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonSelectionRanges.js
  function getSelectionRanges(document, positions, doc) {
    function getSelectionRange(position) {
      var offset = document.offsetAt(position);
      var node = doc.getNodeFromOffset(offset, true);
      var result = [];
      while (node) {
        switch (node.type) {
          case "string":
          case "object":
          case "array":
            var cStart = node.offset + 1, cEnd = node.offset + node.length - 1;
            if (cStart < cEnd && offset >= cStart && offset <= cEnd) {
              result.push(newRange(cStart, cEnd));
            }
            result.push(newRange(node.offset, node.offset + node.length));
            break;
          case "number":
          case "boolean":
          case "null":
          case "property":
            result.push(newRange(node.offset, node.offset + node.length));
            break;
        }
        if (node.type === "property" || node.parent && node.parent.type === "array") {
          var afterCommaOffset = getOffsetAfterNextToken(node.offset + node.length, 5);
          if (afterCommaOffset !== -1) {
            result.push(newRange(node.offset, afterCommaOffset));
          }
        }
        node = node.parent;
      }
      var current = void 0;
      for (var index = result.length - 1; index >= 0; index--) {
        current = SelectionRange.create(result[index], current);
      }
      if (!current) {
        current = SelectionRange.create(Range2.create(position, position));
      }
      return current;
    }
    function newRange(start, end) {
      return Range2.create(document.positionAt(start), document.positionAt(end));
    }
    var scanner2 = createScanner2(document.getText(), true);
    function getOffsetAfterNextToken(offset, expectedToken) {
      scanner2.setPosition(offset);
      var token = scanner2.scan();
      if (token === expectedToken) {
        return scanner2.getTokenOffset() + scanner2.getTokenLength();
      }
      return -1;
    }
    return positions.map(getSelectionRange);
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonLinks.js
  function findLinks(document, doc) {
    var links = [];
    doc.visit(function(node) {
      var _a2;
      if (node.type === "property" && node.keyNode.value === "$ref" && ((_a2 = node.valueNode) === null || _a2 === void 0 ? void 0 : _a2.type) === "string") {
        var path = node.valueNode.value;
        var targetNode = findTargetNode(doc, path);
        if (targetNode) {
          var targetPos = document.positionAt(targetNode.offset);
          links.push({
            target: document.uri + "#" + (targetPos.line + 1) + "," + (targetPos.character + 1),
            range: createRange(document, node.valueNode)
          });
        }
      }
      return true;
    });
    return Promise.resolve(links);
  }
  function createRange(document, node) {
    return Range2.create(document.positionAt(node.offset + 1), document.positionAt(node.offset + node.length - 1));
  }
  function findTargetNode(doc, path) {
    var tokens = parseJSONPointer(path);
    if (!tokens) {
      return null;
    }
    return findNode(tokens, doc.root);
  }
  function findNode(pointer, node) {
    if (!node) {
      return null;
    }
    if (pointer.length === 0) {
      return node;
    }
    var token = pointer.shift();
    if (node && node.type === "object") {
      var propertyNode = node.properties.find(function(propertyNode2) {
        return propertyNode2.keyNode.value === token;
      });
      if (!propertyNode) {
        return null;
      }
      return findNode(pointer, propertyNode.valueNode);
    } else if (node && node.type === "array") {
      if (token.match(/^(0|[1-9][0-9]*)$/)) {
        var index = Number.parseInt(token);
        var arrayItem = node.items[index];
        if (!arrayItem) {
          return null;
        }
        return findNode(pointer, arrayItem);
      }
    }
    return null;
  }
  function parseJSONPointer(path) {
    if (path === "#") {
      return [];
    }
    if (path[0] !== "#" || path[1] !== "/") {
      return null;
    }
    return path.substring(2).split(/\//).map(unescape);
  }
  function unescape(str) {
    return str.replace(/~1/g, "/").replace(/~0/g, "~");
  }

  // node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/jsonLanguageService.js
  function getLanguageService(params) {
    var promise = params.promiseConstructor || Promise;
    var jsonSchemaService = new JSONSchemaService(params.schemaRequestService, params.workspaceContext, promise);
    jsonSchemaService.setSchemaContributions(schemaContributions);
    var jsonCompletion = new JSONCompletion(jsonSchemaService, params.contributions, promise, params.clientCapabilities);
    var jsonHover = new JSONHover(jsonSchemaService, params.contributions, promise);
    var jsonDocumentSymbols = new JSONDocumentSymbols(jsonSchemaService);
    var jsonValidation = new JSONValidation(jsonSchemaService, promise);
    return {
      configure: function(settings) {
        jsonSchemaService.clearExternalSchemas();
        if (settings.schemas) {
          settings.schemas.forEach(function(settings2) {
            jsonSchemaService.registerExternalSchema(settings2.uri, settings2.fileMatch, settings2.schema);
          });
        }
        jsonValidation.configure(settings);
      },
      resetSchema: function(uri) {
        return jsonSchemaService.onResourceChange(uri);
      },
      doValidation: jsonValidation.doValidation.bind(jsonValidation),
      parseJSONDocument: function(document) {
        return parse3(document, {collectComments: true});
      },
      newJSONDocument: function(root, diagnostics) {
        return newJSONDocument(root, diagnostics);
      },
      getMatchingSchemas: jsonSchemaService.getMatchingSchemas.bind(jsonSchemaService),
      doResolve: jsonCompletion.doResolve.bind(jsonCompletion),
      doComplete: jsonCompletion.doComplete.bind(jsonCompletion),
      findDocumentSymbols: jsonDocumentSymbols.findDocumentSymbols.bind(jsonDocumentSymbols),
      findDocumentSymbols2: jsonDocumentSymbols.findDocumentSymbols2.bind(jsonDocumentSymbols),
      findDocumentColors: jsonDocumentSymbols.findDocumentColors.bind(jsonDocumentSymbols),
      getColorPresentations: jsonDocumentSymbols.getColorPresentations.bind(jsonDocumentSymbols),
      doHover: jsonHover.doHover.bind(jsonHover),
      getFoldingRanges,
      getSelectionRanges,
      findDefinition: function() {
        return Promise.resolve([]);
      },
      findLinks,
      format: function(d, r, o) {
        var range = void 0;
        if (r) {
          var offset = d.offsetAt(r.start);
          var length = d.offsetAt(r.end) - offset;
          range = {offset, length};
        }
        var options = {tabSize: o ? o.tabSize : 4, insertSpaces: (o === null || o === void 0 ? void 0 : o.insertSpaces) === true, insertFinalNewline: (o === null || o === void 0 ? void 0 : o.insertFinalNewline) === true, eol: "\n"};
        return format2(d.getText(), range, options).map(function(e) {
          return TextEdit.replace(Range2.create(d.positionAt(e.offset), d.positionAt(e.offset + e.length)), e.content);
        });
      }
    };
  }

  // node_modules/monaco-editor/esm/vs/language/json/jsonWorker.js
  var __awaiter2 = function(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve2) {
        resolve2(value);
      });
    }
    return new (P || (P = Promise))(function(resolve2, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve2(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  var __generator = function(thisArg, body) {
    var _ = {label: 0, sent: function() {
      if (t[0] & 1)
        throw t[1];
      return t[1];
    }, trys: [], ops: []}, f2, y, t, g;
    return g = {next: verb(0), throw: verb(1), return: verb(2)}, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
      return this;
    }), g;
    function verb(n) {
      return function(v) {
        return step([n, v]);
      };
    }
    function step(op) {
      if (f2)
        throw new TypeError("Generator is already executing.");
      while (_)
        try {
          if (f2 = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
            return t;
          if (y = 0, t)
            op = [op[0] & 2, t.value];
          switch (op[0]) {
            case 0:
            case 1:
              t = op;
              break;
            case 4:
              _.label++;
              return {value: op[1], done: false};
            case 5:
              _.label++;
              y = op[1];
              op = [0];
              continue;
            case 7:
              op = _.ops.pop();
              _.trys.pop();
              continue;
            default:
              if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                _ = 0;
                continue;
              }
              if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
                _.label = op[1];
                break;
              }
              if (op[0] === 6 && _.label < t[1]) {
                _.label = t[1];
                t = op;
                break;
              }
              if (t && _.label < t[2]) {
                _.label = t[2];
                _.ops.push(op);
                break;
              }
              if (t[2])
                _.ops.pop();
              _.trys.pop();
              continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [6, e];
          y = 0;
        } finally {
          f2 = t = 0;
        }
      if (op[0] & 5)
        throw op[1];
      return {value: op[0] ? op[1] : void 0, done: true};
    }
  };
  var defaultSchemaRequestService;
  if (typeof fetch !== "undefined") {
    defaultSchemaRequestService = function(url) {
      return fetch(url).then(function(response) {
        return response.text();
      });
    };
  }
  var JSONWorker = function() {
    function JSONWorker2(ctx, createData) {
      this._ctx = ctx;
      this._languageSettings = createData.languageSettings;
      this._languageId = createData.languageId;
      this._languageService = getLanguageService({
        workspaceContext: {
          resolveRelativePath: function(relativePath, resource) {
            var base = resource.substr(0, resource.lastIndexOf("/") + 1);
            return resolvePath(base, relativePath);
          }
        },
        schemaRequestService: createData.enableSchemaRequest && defaultSchemaRequestService
      });
      this._languageService.configure(this._languageSettings);
    }
    JSONWorker2.prototype.doValidation = function(uri) {
      return __awaiter2(this, void 0, void 0, function() {
        var document, jsonDocument;
        return __generator(this, function(_a2) {
          document = this._getTextDocument(uri);
          if (document) {
            jsonDocument = this._languageService.parseJSONDocument(document);
            return [2, this._languageService.doValidation(document, jsonDocument, this._languageSettings)];
          }
          return [2, Promise.resolve([])];
        });
      });
    };
    JSONWorker2.prototype.doComplete = function(uri, position) {
      return __awaiter2(this, void 0, void 0, function() {
        var document, jsonDocument;
        return __generator(this, function(_a2) {
          document = this._getTextDocument(uri);
          jsonDocument = this._languageService.parseJSONDocument(document);
          return [2, this._languageService.doComplete(document, position, jsonDocument)];
        });
      });
    };
    JSONWorker2.prototype.doResolve = function(item) {
      return __awaiter2(this, void 0, void 0, function() {
        return __generator(this, function(_a2) {
          return [2, this._languageService.doResolve(item)];
        });
      });
    };
    JSONWorker2.prototype.doHover = function(uri, position) {
      return __awaiter2(this, void 0, void 0, function() {
        var document, jsonDocument;
        return __generator(this, function(_a2) {
          document = this._getTextDocument(uri);
          jsonDocument = this._languageService.parseJSONDocument(document);
          return [2, this._languageService.doHover(document, position, jsonDocument)];
        });
      });
    };
    JSONWorker2.prototype.format = function(uri, range, options) {
      return __awaiter2(this, void 0, void 0, function() {
        var document, textEdits;
        return __generator(this, function(_a2) {
          document = this._getTextDocument(uri);
          textEdits = this._languageService.format(document, range, options);
          return [2, Promise.resolve(textEdits)];
        });
      });
    };
    JSONWorker2.prototype.resetSchema = function(uri) {
      return __awaiter2(this, void 0, void 0, function() {
        return __generator(this, function(_a2) {
          return [2, Promise.resolve(this._languageService.resetSchema(uri))];
        });
      });
    };
    JSONWorker2.prototype.findDocumentSymbols = function(uri) {
      return __awaiter2(this, void 0, void 0, function() {
        var document, jsonDocument, symbols;
        return __generator(this, function(_a2) {
          document = this._getTextDocument(uri);
          jsonDocument = this._languageService.parseJSONDocument(document);
          symbols = this._languageService.findDocumentSymbols(document, jsonDocument);
          return [2, Promise.resolve(symbols)];
        });
      });
    };
    JSONWorker2.prototype.findDocumentColors = function(uri) {
      return __awaiter2(this, void 0, void 0, function() {
        var document, jsonDocument, colorSymbols;
        return __generator(this, function(_a2) {
          document = this._getTextDocument(uri);
          jsonDocument = this._languageService.parseJSONDocument(document);
          colorSymbols = this._languageService.findDocumentColors(document, jsonDocument);
          return [2, Promise.resolve(colorSymbols)];
        });
      });
    };
    JSONWorker2.prototype.getColorPresentations = function(uri, color, range) {
      return __awaiter2(this, void 0, void 0, function() {
        var document, jsonDocument, colorPresentations;
        return __generator(this, function(_a2) {
          document = this._getTextDocument(uri);
          jsonDocument = this._languageService.parseJSONDocument(document);
          colorPresentations = this._languageService.getColorPresentations(document, jsonDocument, color, range);
          return [2, Promise.resolve(colorPresentations)];
        });
      });
    };
    JSONWorker2.prototype.getFoldingRanges = function(uri, context) {
      return __awaiter2(this, void 0, void 0, function() {
        var document, ranges;
        return __generator(this, function(_a2) {
          document = this._getTextDocument(uri);
          ranges = this._languageService.getFoldingRanges(document, context);
          return [2, Promise.resolve(ranges)];
        });
      });
    };
    JSONWorker2.prototype.getSelectionRanges = function(uri, positions) {
      return __awaiter2(this, void 0, void 0, function() {
        var document, jsonDocument, ranges;
        return __generator(this, function(_a2) {
          document = this._getTextDocument(uri);
          jsonDocument = this._languageService.parseJSONDocument(document);
          ranges = this._languageService.getSelectionRanges(document, positions, jsonDocument);
          return [2, Promise.resolve(ranges)];
        });
      });
    };
    JSONWorker2.prototype._getTextDocument = function(uri) {
      var models = this._ctx.getMirrorModels();
      for (var _i = 0, models_1 = models; _i < models_1.length; _i++) {
        var model = models_1[_i];
        if (model.uri.toString() === uri) {
          return TextDocument2.create(uri, this._languageId, model.version, model.getValue());
        }
      }
      return null;
    };
    return JSONWorker2;
  }();
  var Slash = "/".charCodeAt(0);
  var Dot = ".".charCodeAt(0);
  function isAbsolutePath(path) {
    return path.charCodeAt(0) === Slash;
  }
  function resolvePath(uriString, path) {
    if (isAbsolutePath(path)) {
      var uri = URI2.parse(uriString);
      var parts = path.split("/");
      return uri.with({path: normalizePath(parts)}).toString();
    }
    return joinPath(uriString, path);
  }
  function normalizePath(parts) {
    var newParts = [];
    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {
      var part = parts_1[_i];
      if (part.length === 0 || part.length === 1 && part.charCodeAt(0) === Dot) {
      } else if (part.length === 2 && part.charCodeAt(0) === Dot && part.charCodeAt(1) === Dot) {
        newParts.pop();
      } else {
        newParts.push(part);
      }
    }
    if (parts.length > 1 && parts[parts.length - 1].length === 0) {
      newParts.push("");
    }
    var res = newParts.join("/");
    if (parts[0].length === 0) {
      res = "/" + res;
    }
    return res;
  }
  function joinPath(uriString) {
    var paths2 = [];
    for (var _i = 1; _i < arguments.length; _i++) {
      paths2[_i - 1] = arguments[_i];
    }
    var uri = URI2.parse(uriString);
    var parts = uri.path.split("/");
    for (var _a2 = 0, paths_1 = paths2; _a2 < paths_1.length; _a2++) {
      var path = paths_1[_a2];
      parts.push.apply(parts, path.split("/"));
    }
    return uri.with({path: normalizePath(parts)}).toString();
  }

  // node_modules/monaco-editor/esm/vs/language/json/json.worker.js
  self.onmessage = function() {
    initialize(function(ctx, createData) {
      return new JSONWorker(ctx, createData);
    });
  };
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2Vycm9ycy5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vaXRlcmF0b3IuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2xpZmVjeWNsZS5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vcGxhdGZvcm0uanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL3R5cGVzLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi93b3JrZXIvc2ltcGxlV29ya2VyLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9kaWZmL2RpZmZDaGFuZ2UuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL3N0cmluZ3MuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2hhc2guanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2RpZmYvZGlmZi5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vcHJvY2Vzcy5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vcGF0aC5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vdXJpLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2NvcmUvcG9zaXRpb24uanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS9yYW5nZS5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9kaWZmL2RpZmZDb21wdXRlci5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vdWludC5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi92aWV3TW9kZWwvcHJlZml4U3VtQ29tcHV0ZXIuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvbWlycm9yVGV4dE1vZGVsLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVsL3dvcmRIZWxwZXIuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS9jaGFyYWN0ZXJDbGFzc2lmaWVyLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVzL2xpbmtDb21wdXRlci5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2Rlcy9zdXBwb3J0cy9pbnBsYWNlUmVwbGFjZVN1cHBvcnQuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2xpbmtlZExpc3QuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL3N0b3B3YXRjaC5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vZXZlbnQuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2NhbmNlbGxhdGlvbi5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24va2V5Q29kZXMuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS9zZWxlY3Rpb24uanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS90b2tlbi5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9zdGFuZGFsb25lL3N0YW5kYWxvbmVFbnVtcy5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9zdGFuZGFsb25lL3N0YW5kYWxvbmVCYXNlLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3NlcnZpY2VzL2VkaXRvclNpbXBsZVdvcmtlci5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2VkaXRvci53b3JrZXIuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvanNvbmMtcGFyc2VyL2ltcGwvc2Nhbm5lci5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvanNvbi9fZGVwcy9qc29uYy1wYXJzZXIvaW1wbC9mb3JtYXQuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvanNvbmMtcGFyc2VyL2ltcGwvcGFyc2VyLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL19kZXBzL2pzb25jLXBhcnNlci9pbXBsL2VkaXQuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvanNvbmMtcGFyc2VyL21haW4uanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3V0aWxzL29iamVjdHMuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWxhbmd1YWdlc2VydmVyLXR5cGVzL21haW4uanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWxhbmd1YWdlc2VydmVyLXRleHRkb2N1bWVudC9saWIvZXNtL21haW4uanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL2pzb25MYW5ndWFnZVR5cGVzLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL2ZpbGxlcnMvdnNjb2RlLW5scy5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvanNvbi9fZGVwcy92c2NvZGUtanNvbi1sYW5ndWFnZXNlcnZpY2UvcGFyc2VyL2pzb25QYXJzZXIuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3V0aWxzL2pzb24uanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3V0aWxzL3N0cmluZ3MuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3NlcnZpY2VzL2pzb25Db21wbGV0aW9uLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL19kZXBzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS9zZXJ2aWNlcy9qc29uSG92ZXIuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLXVyaS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvanNvbi9fZGVwcy92c2NvZGUtanNvbi1sYW5ndWFnZXNlcnZpY2Uvc2VydmljZXMvanNvblNjaGVtYVNlcnZpY2UuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3NlcnZpY2VzL2pzb25WYWxpZGF0aW9uLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL19kZXBzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS91dGlscy9jb2xvcnMuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3NlcnZpY2VzL2pzb25Eb2N1bWVudFN5bWJvbHMuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3NlcnZpY2VzL2NvbmZpZ3VyYXRpb24uanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3NlcnZpY2VzL2pzb25Gb2xkaW5nLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL19kZXBzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS9zZXJ2aWNlcy9qc29uU2VsZWN0aW9uUmFuZ2VzLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL19kZXBzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS9zZXJ2aWNlcy9qc29uTGlua3MuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL2pzb25MYW5ndWFnZVNlcnZpY2UuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vanNvbldvcmtlci5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvanNvbi9qc29uLndvcmtlci5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLy8gQXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jeSBvbiBFdmVudEVtaXR0ZXIgYnkgaW1wbGVtZW50aW5nIGEgc3Vic2V0IG9mIHRoZSBpbnRlcmZhY2UuXHJcbmV4cG9ydCBjbGFzcyBFcnJvckhhbmRsZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgICAgICB0aGlzLnVuZXhwZWN0ZWRFcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlLnN0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGUubWVzc2FnZSArICdcXG5cXG4nICsgZS5zdGFjayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZW1pdChlKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcclxuICAgICAgICAgICAgbGlzdGVuZXIoZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBvblVuZXhwZWN0ZWRFcnJvcihlKSB7XHJcbiAgICAgICAgdGhpcy51bmV4cGVjdGVkRXJyb3JIYW5kbGVyKGUpO1xyXG4gICAgICAgIHRoaXMuZW1pdChlKTtcclxuICAgIH1cclxuICAgIC8vIEZvciBleHRlcm5hbCBlcnJvcnMsIHdlIGRvbid0IHdhbnQgdGhlIGxpc3RlbmVycyB0byBiZSBjYWxsZWRcclxuICAgIG9uVW5leHBlY3RlZEV4dGVybmFsRXJyb3IoZSkge1xyXG4gICAgICAgIHRoaXMudW5leHBlY3RlZEVycm9ySGFuZGxlcihlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY29uc3QgZXJyb3JIYW5kbGVyID0gbmV3IEVycm9ySGFuZGxlcigpO1xyXG5leHBvcnQgZnVuY3Rpb24gb25VbmV4cGVjdGVkRXJyb3IoZSkge1xyXG4gICAgLy8gaWdub3JlIGVycm9ycyBmcm9tIGNhbmNlbGxlZCBwcm9taXNlc1xyXG4gICAgaWYgKCFpc1Byb21pc2VDYW5jZWxlZEVycm9yKGUpKSB7XHJcbiAgICAgICAgZXJyb3JIYW5kbGVyLm9uVW5leHBlY3RlZEVycm9yKGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gb25VbmV4cGVjdGVkRXh0ZXJuYWxFcnJvcihlKSB7XHJcbiAgICAvLyBpZ25vcmUgZXJyb3JzIGZyb20gY2FuY2VsbGVkIHByb21pc2VzXHJcbiAgICBpZiAoIWlzUHJvbWlzZUNhbmNlbGVkRXJyb3IoZSkpIHtcclxuICAgICAgICBlcnJvckhhbmRsZXIub25VbmV4cGVjdGVkRXh0ZXJuYWxFcnJvcihlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUVycm9yRm9yU2VyaWFsaXphdGlvbihlcnJvcikge1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICBsZXQgeyBuYW1lLCBtZXNzYWdlIH0gPSBlcnJvcjtcclxuICAgICAgICBjb25zdCBzdGFjayA9IGVycm9yLnN0YWNrdHJhY2UgfHwgZXJyb3Iuc3RhY2s7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJGlzRXJyb3I6IHRydWUsXHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2UsXHJcbiAgICAgICAgICAgIHN0YWNrXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8vIHJldHVybiBhcyBpc1xyXG4gICAgcmV0dXJuIGVycm9yO1xyXG59XHJcbmNvbnN0IGNhbmNlbGVkTmFtZSA9ICdDYW5jZWxlZCc7XHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVycm9yIGlzIGEgcHJvbWlzZSBpbiBjYW5jZWxlZCBzdGF0ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZUNhbmNlbGVkRXJyb3IoZXJyb3IpIHtcclxuICAgIHJldHVybiBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm5hbWUgPT09IGNhbmNlbGVkTmFtZSAmJiBlcnJvci5tZXNzYWdlID09PSBjYW5jZWxlZE5hbWU7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYW4gZXJyb3IgdGhhdCBzaWduYWxzIGNhbmNlbGxhdGlvbi5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjYW5jZWxlZCgpIHtcclxuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGNhbmNlbGVkTmFtZSk7XHJcbiAgICBlcnJvci5uYW1lID0gZXJyb3IubWVzc2FnZTtcclxuICAgIHJldHVybiBlcnJvcjtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaWxsZWdhbEFyZ3VtZW50KG5hbWUpIHtcclxuICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihgSWxsZWdhbCBhcmd1bWVudDogJHtuYW1lfWApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSWxsZWdhbCBhcmd1bWVudCcpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbGxlZ2FsU3RhdGUobmFtZSkge1xyXG4gICAgaWYgKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEVycm9yKGBJbGxlZ2FsIHN0YXRlOiAke25hbWV9YCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbGxlZ2FsIHN0YXRlJyk7XHJcbiAgICB9XHJcbn1cclxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5leHBvcnQgdmFyIEl0ZXJhYmxlO1xyXG4oZnVuY3Rpb24gKEl0ZXJhYmxlKSB7XHJcbiAgICBmdW5jdGlvbiBpcyh0aGluZykge1xyXG4gICAgICAgIHJldHVybiB0aGluZyAmJiB0eXBlb2YgdGhpbmcgPT09ICdvYmplY3QnICYmIHR5cGVvZiB0aGluZ1tTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xyXG4gICAgfVxyXG4gICAgSXRlcmFibGUuaXMgPSBpcztcclxuICAgIGNvbnN0IF9lbXB0eSA9IE9iamVjdC5mcmVlemUoW10pO1xyXG4gICAgZnVuY3Rpb24gZW1wdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9lbXB0eTtcclxuICAgIH1cclxuICAgIEl0ZXJhYmxlLmVtcHR5ID0gZW1wdHk7XHJcbiAgICBmdW5jdGlvbiogc2luZ2xlKGVsZW1lbnQpIHtcclxuICAgICAgICB5aWVsZCBlbGVtZW50O1xyXG4gICAgfVxyXG4gICAgSXRlcmFibGUuc2luZ2xlID0gc2luZ2xlO1xyXG4gICAgZnVuY3Rpb24gZnJvbShpdGVyYWJsZSkge1xyXG4gICAgICAgIHJldHVybiBpdGVyYWJsZSB8fCBfZW1wdHk7XHJcbiAgICB9XHJcbiAgICBJdGVyYWJsZS5mcm9tID0gZnJvbTtcclxuICAgIGZ1bmN0aW9uIGlzRW1wdHkoaXRlcmFibGUpIHtcclxuICAgICAgICByZXR1cm4gIWl0ZXJhYmxlIHx8IGl0ZXJhYmxlW1N5bWJvbC5pdGVyYXRvcl0oKS5uZXh0KCkuZG9uZSA9PT0gdHJ1ZTtcclxuICAgIH1cclxuICAgIEl0ZXJhYmxlLmlzRW1wdHkgPSBpc0VtcHR5O1xyXG4gICAgZnVuY3Rpb24gZmlyc3QoaXRlcmFibGUpIHtcclxuICAgICAgICByZXR1cm4gaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXSgpLm5leHQoKS52YWx1ZTtcclxuICAgIH1cclxuICAgIEl0ZXJhYmxlLmZpcnN0ID0gZmlyc3Q7XHJcbiAgICBmdW5jdGlvbiBzb21lKGl0ZXJhYmxlLCBwcmVkaWNhdGUpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgaXRlcmFibGUpIHtcclxuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShlbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgSXRlcmFibGUuc29tZSA9IHNvbWU7XHJcbiAgICBmdW5jdGlvbiBmaW5kKGl0ZXJhYmxlLCBwcmVkaWNhdGUpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgaXRlcmFibGUpIHtcclxuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShlbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIEl0ZXJhYmxlLmZpbmQgPSBmaW5kO1xyXG4gICAgZnVuY3Rpb24qIGZpbHRlcihpdGVyYWJsZSwgcHJlZGljYXRlKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGl0ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgICAgIHlpZWxkIGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBJdGVyYWJsZS5maWx0ZXIgPSBmaWx0ZXI7XHJcbiAgICBmdW5jdGlvbiogbWFwKGl0ZXJhYmxlLCBmbikge1xyXG4gICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGl0ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIHlpZWxkIGZuKGVsZW1lbnQsIGluZGV4KyspO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIEl0ZXJhYmxlLm1hcCA9IG1hcDtcclxuICAgIGZ1bmN0aW9uKiBjb25jYXQoLi4uaXRlcmFibGVzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVyYWJsZSBvZiBpdGVyYWJsZXMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGl0ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB5aWVsZCBlbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgSXRlcmFibGUuY29uY2F0ID0gY29uY2F0O1xyXG4gICAgZnVuY3Rpb24qIGNvbmNhdE5lc3RlZChpdGVyYWJsZXMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZXJhYmxlIG9mIGl0ZXJhYmxlcykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgaXRlcmFibGUpIHtcclxuICAgICAgICAgICAgICAgIHlpZWxkIGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBJdGVyYWJsZS5jb25jYXROZXN0ZWQgPSBjb25jYXROZXN0ZWQ7XHJcbiAgICBmdW5jdGlvbiByZWR1Y2UoaXRlcmFibGUsIHJlZHVjZXIsIGluaXRpYWxWYWx1ZSkge1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IGluaXRpYWxWYWx1ZTtcclxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgaXRlcmFibGUpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSByZWR1Y2VyKHZhbHVlLCBlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgSXRlcmFibGUucmVkdWNlID0gcmVkdWNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGl0ZXJhYmxlIHNsaWNlIG9mIHRoZSBhcnJheSwgd2l0aCB0aGUgc2FtZSBzZW1hbnRpY3MgYXMgYGFycmF5LnNsaWNlKClgLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiogc2xpY2UoYXJyLCBmcm9tLCB0byA9IGFyci5sZW5ndGgpIHtcclxuICAgICAgICBpZiAoZnJvbSA8IDApIHtcclxuICAgICAgICAgICAgZnJvbSArPSBhcnIubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodG8gPCAwKSB7XHJcbiAgICAgICAgICAgIHRvICs9IGFyci5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRvID4gYXJyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0byA9IGFyci5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoOyBmcm9tIDwgdG87IGZyb20rKykge1xyXG4gICAgICAgICAgICB5aWVsZCBhcnJbZnJvbV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgSXRlcmFibGUuc2xpY2UgPSBzbGljZTtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3VtZXMgYGF0TW9zdGAgZWxlbWVudHMgZnJvbSBpdGVyYWJsZSBhbmQgcmV0dXJucyB0aGUgY29uc3VtZWQgZWxlbWVudHMsXHJcbiAgICAgKiBhbmQgYW4gaXRlcmFibGUgZm9yIHRoZSByZXN0IG9mIHRoZSBlbGVtZW50cy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY29uc3VtZShpdGVyYWJsZSwgYXRNb3N0ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XHJcbiAgICAgICAgY29uc3QgY29uc3VtZWQgPSBbXTtcclxuICAgICAgICBpZiAoYXRNb3N0ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbY29uc3VtZWQsIGl0ZXJhYmxlXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdKCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdE1vc3Q7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xyXG4gICAgICAgICAgICBpZiAobmV4dC5kb25lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW2NvbnN1bWVkLCBJdGVyYWJsZS5lbXB0eSgpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdW1lZC5wdXNoKG5leHQudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW2NvbnN1bWVkLCB7IFtTeW1ib2wuaXRlcmF0b3JdKCkgeyByZXR1cm4gaXRlcmF0b3I7IH0gfV07XHJcbiAgICB9XHJcbiAgICBJdGVyYWJsZS5jb25zdW1lID0gY29uc3VtZTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBpdGVyYWJsZXMgYXJlIHRoZSBzYW1lIGxlbmd0aCBhbmQgYWxsIGl0ZW1zIGFyZVxyXG4gICAgICogZXF1YWwgdXNpbmcgdGhlIGNvbXBhcmF0b3IgZnVuY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGVxdWFscyhhLCBiLCBjb21wYXJhdG9yID0gKGF0LCBidCkgPT4gYXQgPT09IGJ0KSB7XHJcbiAgICAgICAgY29uc3QgYWkgPSBhW1N5bWJvbC5pdGVyYXRvcl0oKTtcclxuICAgICAgICBjb25zdCBiaSA9IGJbU3ltYm9sLml0ZXJhdG9yXSgpO1xyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFuID0gYWkubmV4dCgpO1xyXG4gICAgICAgICAgICBjb25zdCBibiA9IGJpLm5leHQoKTtcclxuICAgICAgICAgICAgaWYgKGFuLmRvbmUgIT09IGJuLmRvbmUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChhbi5kb25lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghY29tcGFyYXRvcihhbi52YWx1ZSwgYm4udmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBJdGVyYWJsZS5lcXVhbHMgPSBlcXVhbHM7XHJcbn0pKEl0ZXJhYmxlIHx8IChJdGVyYWJsZSA9IHt9KSk7XHJcbiIsICJpbXBvcnQgeyBJdGVyYWJsZSB9IGZyb20gJy4vaXRlcmF0b3IuanMnO1xyXG4vKipcclxuICogRW5hYmxlcyBsb2dnaW5nIG9mIHBvdGVudGlhbGx5IGxlYWtlZCBkaXNwb3NhYmxlcy5cclxuICpcclxuICogQSBkaXNwb3NhYmxlIGlzIGNvbnNpZGVyZWQgbGVha2VkIGlmIGl0IGlzIG5vdCBkaXNwb3NlZCBvciBub3QgcmVnaXN0ZXJlZCBhcyB0aGUgY2hpbGQgb2ZcclxuICogYW5vdGhlciBkaXNwb3NhYmxlLiBUaGlzIHRyYWNraW5nIGlzIHZlcnkgc2ltcGxlIGFuIG9ubHkgd29ya3MgZm9yIGNsYXNzZXMgdGhhdCBlaXRoZXJcclxuICogZXh0ZW5kIERpc3Bvc2FibGUgb3IgdXNlIGEgRGlzcG9zYWJsZVN0b3JlLiBUaGlzIG1lYW5zIHRoZXJlIGFyZSBhIGxvdCBvZiBmYWxzZSBwb3NpdGl2ZXMuXHJcbiAqL1xyXG5jb25zdCBUUkFDS19ESVNQT1NBQkxFUyA9IGZhbHNlO1xyXG5sZXQgZGlzcG9zYWJsZVRyYWNrZXIgPSBudWxsO1xyXG5pZiAoVFJBQ0tfRElTUE9TQUJMRVMpIHtcclxuICAgIGNvbnN0IF9faXNfZGlzcG9zYWJsZV90cmFja2VkX18gPSAnX19pc19kaXNwb3NhYmxlX3RyYWNrZWRfXyc7XHJcbiAgICBkaXNwb3NhYmxlVHJhY2tlciA9IG5ldyBjbGFzcyB7XHJcbiAgICAgICAgdHJhY2tEaXNwb3NhYmxlKHgpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgRXJyb3IoJ1BvdGVudGlhbGx5IGxlYWtlZCBkaXNwb3NhYmxlJykuc3RhY2s7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF4W19faXNfZGlzcG9zYWJsZV90cmFja2VkX19dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RhY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAzMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWFya1RyYWNrZWQoeCkge1xyXG4gICAgICAgICAgICBpZiAoeCAmJiB4ICE9PSBEaXNwb3NhYmxlLk5vbmUpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeFtfX2lzX2Rpc3Bvc2FibGVfdHJhY2tlZF9fXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBub29wXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIG1hcmtUcmFja2VkKHgpIHtcclxuICAgIGlmICghZGlzcG9zYWJsZVRyYWNrZXIpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBkaXNwb3NhYmxlVHJhY2tlci5tYXJrVHJhY2tlZCh4KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tEaXNwb3NhYmxlKHgpIHtcclxuICAgIGlmICghZGlzcG9zYWJsZVRyYWNrZXIpIHtcclxuICAgICAgICByZXR1cm4geDtcclxuICAgIH1cclxuICAgIGRpc3Bvc2FibGVUcmFja2VyLnRyYWNrRGlzcG9zYWJsZSh4KTtcclxuICAgIHJldHVybiB4O1xyXG59XHJcbmV4cG9ydCBjbGFzcyBNdWx0aURpc3Bvc2VFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGVycm9ycykge1xyXG4gICAgICAgIHN1cGVyKGBFbmNvdW50ZXJlZCBlcnJvcnMgd2hpbGUgZGlzcG9zaW5nIG9mIHN0b3JlLiBFcnJvcnM6IFske2Vycm9ycy5qb2luKCcsICcpfV1gKTtcclxuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaXNEaXNwb3NhYmxlKHRoaW5nKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nLmRpc3Bvc2UgPT09ICdmdW5jdGlvbicgJiYgdGhpbmcuZGlzcG9zZS5sZW5ndGggPT09IDA7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc3Bvc2UoYXJnKSB7XHJcbiAgICBpZiAoSXRlcmFibGUuaXMoYXJnKSkge1xyXG4gICAgICAgIGxldCBlcnJvcnMgPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IGQgb2YgYXJnKSB7XHJcbiAgICAgICAgICAgIGlmIChkKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJrVHJhY2tlZChkKTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yc1swXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZXJyb3JzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IE11bHRpRGlzcG9zZUVycm9yKGVycm9ycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGFyZykgPyBbXSA6IGFyZztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGFyZykge1xyXG4gICAgICAgIG1hcmtUcmFja2VkKGFyZyk7XHJcbiAgICAgICAgYXJnLmRpc3Bvc2UoKTtcclxuICAgICAgICByZXR1cm4gYXJnO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lZERpc3Bvc2FibGUoLi4uZGlzcG9zYWJsZXMpIHtcclxuICAgIGRpc3Bvc2FibGVzLmZvckVhY2gobWFya1RyYWNrZWQpO1xyXG4gICAgcmV0dXJuIHRvRGlzcG9zYWJsZSgoKSA9PiBkaXNwb3NlKGRpc3Bvc2FibGVzKSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHRvRGlzcG9zYWJsZShmbikge1xyXG4gICAgY29uc3Qgc2VsZiA9IHRyYWNrRGlzcG9zYWJsZSh7XHJcbiAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xyXG4gICAgICAgICAgICBtYXJrVHJhY2tlZChzZWxmKTtcclxuICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBzZWxmO1xyXG59XHJcbmV4cG9ydCBjbGFzcyBEaXNwb3NhYmxlU3RvcmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fdG9EaXNwb3NlID0gbmV3IFNldCgpO1xyXG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRGlzcG9zZSBvZiBhbGwgcmVnaXN0ZXJlZCBkaXNwb3NhYmxlcyBhbmQgbWFyayB0aGlzIG9iamVjdCBhcyBkaXNwb3NlZC5cclxuICAgICAqXHJcbiAgICAgKiBBbnkgZnV0dXJlIGRpc3Bvc2FibGVzIGFkZGVkIHRvIHRoaXMgb2JqZWN0IHdpbGwgYmUgZGlzcG9zZWQgb2Ygb24gYGFkZGAuXHJcbiAgICAgKi9cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtYXJrVHJhY2tlZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2Ugb2YgYWxsIHJlZ2lzdGVyZWQgZGlzcG9zYWJsZXMgYnV0IGRvIG5vdCBtYXJrIHRoaXMgb2JqZWN0IGFzIGRpc3Bvc2VkLlxyXG4gICAgICovXHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBkaXNwb3NlKHRoaXMuX3RvRGlzcG9zZS52YWx1ZXMoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICB0aGlzLl90b0Rpc3Bvc2UuY2xlYXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhZGQodCkge1xyXG4gICAgICAgIGlmICghdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHQgPT09IHRoaXMpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVnaXN0ZXIgYSBkaXNwb3NhYmxlIG9uIGl0c2VsZiEnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWFya1RyYWNrZWQodCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgaWYgKCFEaXNwb3NhYmxlU3RvcmUuRElTQUJMRV9ESVNQT1NFRF9XQVJOSU5HKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4obmV3IEVycm9yKCdUcnlpbmcgdG8gYWRkIGEgZGlzcG9zYWJsZSB0byBhIERpc3Bvc2FibGVTdG9yZSB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gZGlzcG9zZWQgb2YuIFRoZSBhZGRlZCBvYmplY3Qgd2lsbCBiZSBsZWFrZWQhJykuc3RhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl90b0Rpc3Bvc2UuYWRkKHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxufVxyXG5EaXNwb3NhYmxlU3RvcmUuRElTQUJMRV9ESVNQT1NFRF9XQVJOSU5HID0gZmFsc2U7XHJcbmV4cG9ydCBjbGFzcyBEaXNwb3NhYmxlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX3N0b3JlID0gbmV3IERpc3Bvc2FibGVTdG9yZSgpO1xyXG4gICAgICAgIHRyYWNrRGlzcG9zYWJsZSh0aGlzKTtcclxuICAgIH1cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgbWFya1RyYWNrZWQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcG9zZSgpO1xyXG4gICAgfVxyXG4gICAgX3JlZ2lzdGVyKHQpIHtcclxuICAgICAgICBpZiAodCA9PT0gdGhpcykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZWdpc3RlciBhIGRpc3Bvc2FibGUgb24gaXRzZWxmIScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RvcmUuYWRkKHQpO1xyXG4gICAgfVxyXG59XHJcbkRpc3Bvc2FibGUuTm9uZSA9IE9iamVjdC5mcmVlemUoeyBkaXNwb3NlKCkgeyB9IH0pO1xyXG4vKipcclxuICogTWFuYWdlcyB0aGUgbGlmZWN5Y2xlIG9mIGEgZGlzcG9zYWJsZSB2YWx1ZSB0aGF0IG1heSBiZSBjaGFuZ2VkLlxyXG4gKlxyXG4gKiBUaGlzIGVuc3VyZXMgdGhhdCB3aGVuIHRoZSBkaXNwb3NhYmxlIHZhbHVlIGlzIGNoYW5nZWQsIHRoZSBwcmV2aW91c2x5IGhlbGQgZGlzcG9zYWJsZSBpcyBkaXNwb3NlZCBvZi4gWW91IGNhblxyXG4gKiBhbHNvIHJlZ2lzdGVyIGEgYE11dGFibGVEaXNwb3NhYmxlYCBvbiBhIGBEaXNwb3NhYmxlYCB0byBlbnN1cmUgaXQgaXMgYXV0b21hdGljYWxseSBjbGVhbmVkIHVwLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE11dGFibGVEaXNwb3NhYmxlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSBmYWxzZTtcclxuICAgICAgICB0cmFja0Rpc3Bvc2FibGUodGhpcyk7XHJcbiAgICB9XHJcbiAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQgPyB1bmRlZmluZWQgOiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZSh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBpZiAodGhpcy5faXNEaXNwb3NlZCB8fCB2YWx1ZSA9PT0gdGhpcy5fdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAoX2EgPSB0aGlzLl92YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc3Bvc2UoKTtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgbWFya1RyYWNrZWQodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgIG1hcmtUcmFja2VkKHRoaXMpO1xyXG4gICAgICAgIChfYSA9IHRoaXMuX3ZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzcG9zZSgpO1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBJbW1vcnRhbFJlZmVyZW5jZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihvYmplY3QpIHtcclxuICAgICAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcclxuICAgIH1cclxuICAgIGRpc3Bvc2UoKSB7IH1cclxufVxyXG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbnZhciBfYTtcclxuY29uc3QgTEFOR1VBR0VfREVGQVVMVCA9ICdlbic7XHJcbmxldCBfaXNXaW5kb3dzID0gZmFsc2U7XHJcbmxldCBfaXNNYWNpbnRvc2ggPSBmYWxzZTtcclxubGV0IF9pc0xpbnV4ID0gZmFsc2U7XHJcbmxldCBfaXNMaW51eFNuYXAgPSBmYWxzZTtcclxubGV0IF9pc05hdGl2ZSA9IGZhbHNlO1xyXG5sZXQgX2lzV2ViID0gZmFsc2U7XHJcbmxldCBfaXNJT1MgPSBmYWxzZTtcclxubGV0IF9sb2NhbGUgPSB1bmRlZmluZWQ7XHJcbmxldCBfbGFuZ3VhZ2UgPSBMQU5HVUFHRV9ERUZBVUxUO1xyXG5sZXQgX3RyYW5zbGF0aW9uc0NvbmZpZ0ZpbGUgPSB1bmRlZmluZWQ7XHJcbmxldCBfdXNlckFnZW50ID0gdW5kZWZpbmVkO1xyXG5leHBvcnQgY29uc3QgZ2xvYmFscyA9ICh0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgPyBzZWxmIDogdHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcgPyBnbG9iYWwgOiB7fSk7XHJcbmxldCBub2RlUHJvY2VzcyA9IHVuZGVmaW5lZDtcclxuaWYgKHR5cGVvZiBnbG9iYWxzLnZzY29kZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGdsb2JhbHMudnNjb2RlLnByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAvLyBOYXRpdmUgZW52aXJvbm1lbnQgKHNhbmRib3hlZClcclxuICAgIG5vZGVQcm9jZXNzID0gZ2xvYmFscy52c2NvZGUucHJvY2VzcztcclxufVxyXG5lbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIC8vIE5hdGl2ZSBlbnZpcm9ubWVudCAobm9uLXNhbmRib3hlZClcclxuICAgIG5vZGVQcm9jZXNzID0gcHJvY2VzcztcclxufVxyXG5jb25zdCBpc0VsZWN0cm9uUmVuZGVyZXIgPSB0eXBlb2YgKChfYSA9IG5vZGVQcm9jZXNzID09PSBudWxsIHx8IG5vZGVQcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlUHJvY2Vzcy52ZXJzaW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVsZWN0cm9uKSA9PT0gJ3N0cmluZycgJiYgbm9kZVByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJztcclxuZXhwb3J0IGNvbnN0IGlzRWxlY3Ryb25TYW5kYm94ZWQgPSBpc0VsZWN0cm9uUmVuZGVyZXIgJiYgKG5vZGVQcm9jZXNzID09PSBudWxsIHx8IG5vZGVQcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlUHJvY2Vzcy5zYW5kYm94ZWQpO1xyXG5leHBvcnQgY29uc3QgYnJvd3NlckNvZGVMb2FkaW5nQ2FjaGVTdHJhdGVneSA9ICgoKSA9PiB7XHJcbiAgICAvLyBBbHdheXMgZW5hYmxlZCB3aGVuIHNhbmRib3ggaXMgZW5hYmxlZFxyXG4gICAgaWYgKGlzRWxlY3Ryb25TYW5kYm94ZWQpIHtcclxuICAgICAgICByZXR1cm4gJ2J5cGFzc0hlYXRDaGVjayc7XHJcbiAgICB9XHJcbiAgICAvLyBPdGhlcndpc2UsIG9ubHkgZW5hYmxlZCBjb25kaXRpb25hbGx5XHJcbiAgICBjb25zdCBlbnYgPSBub2RlUHJvY2VzcyA9PT0gbnVsbCB8fCBub2RlUHJvY2VzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZVByb2Nlc3MuZW52WydWU0NPREVfQlJPV1NFUl9DT0RFX0xPQURJTkcnXTtcclxuICAgIGlmICh0eXBlb2YgZW52ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGlmIChlbnYgPT09ICdub25lJyB8fCBlbnYgPT09ICdjb2RlJyB8fCBlbnYgPT09ICdieXBhc3NIZWF0Q2hlY2snIHx8IGVudiA9PT0gJ2J5cGFzc0hlYXRDaGVja0FuZEVhZ2VyQ29tcGlsZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVudjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICdieXBhc3NIZWF0Q2hlY2snO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxufSkoKTtcclxuZXhwb3J0IGNvbnN0IGlzUHJlZmVycmluZ0Jyb3dzZXJDb2RlTG9hZCA9IHR5cGVvZiBicm93c2VyQ29kZUxvYWRpbmdDYWNoZVN0cmF0ZWd5ID09PSAnc3RyaW5nJztcclxuLy8gV2ViIGVudmlyb25tZW50XHJcbmlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyAmJiAhaXNFbGVjdHJvblJlbmRlcmVyKSB7XHJcbiAgICBfdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcclxuICAgIF9pc1dpbmRvd3MgPSBfdXNlckFnZW50LmluZGV4T2YoJ1dpbmRvd3MnKSA+PSAwO1xyXG4gICAgX2lzTWFjaW50b3NoID0gX3VzZXJBZ2VudC5pbmRleE9mKCdNYWNpbnRvc2gnKSA+PSAwO1xyXG4gICAgX2lzSU9TID0gKF91c2VyQWdlbnQuaW5kZXhPZignTWFjaW50b3NoJykgPj0gMCB8fCBfdXNlckFnZW50LmluZGV4T2YoJ2lQYWQnKSA+PSAwIHx8IF91c2VyQWdlbnQuaW5kZXhPZignaVBob25lJykgPj0gMCkgJiYgISFuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgJiYgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMDtcclxuICAgIF9pc0xpbnV4ID0gX3VzZXJBZ2VudC5pbmRleE9mKCdMaW51eCcpID49IDA7XHJcbiAgICBfaXNXZWIgPSB0cnVlO1xyXG4gICAgX2xvY2FsZSA9IG5hdmlnYXRvci5sYW5ndWFnZTtcclxuICAgIF9sYW5ndWFnZSA9IF9sb2NhbGU7XHJcbn1cclxuLy8gTmF0aXZlIGVudmlyb25tZW50XHJcbmVsc2UgaWYgKHR5cGVvZiBub2RlUHJvY2VzcyA9PT0gJ29iamVjdCcpIHtcclxuICAgIF9pc1dpbmRvd3MgPSAobm9kZVByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicpO1xyXG4gICAgX2lzTWFjaW50b3NoID0gKG5vZGVQcm9jZXNzLnBsYXRmb3JtID09PSAnZGFyd2luJyk7XHJcbiAgICBfaXNMaW51eCA9IChub2RlUHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ2xpbnV4Jyk7XHJcbiAgICBfaXNMaW51eFNuYXAgPSBfaXNMaW51eCAmJiAhIW5vZGVQcm9jZXNzLmVudlsnU05BUCddICYmICEhbm9kZVByb2Nlc3MuZW52WydTTkFQX1JFVklTSU9OJ107XHJcbiAgICBfbG9jYWxlID0gTEFOR1VBR0VfREVGQVVMVDtcclxuICAgIF9sYW5ndWFnZSA9IExBTkdVQUdFX0RFRkFVTFQ7XHJcbiAgICBjb25zdCByYXdObHNDb25maWcgPSBub2RlUHJvY2Vzcy5lbnZbJ1ZTQ09ERV9OTFNfQ09ORklHJ107XHJcbiAgICBpZiAocmF3TmxzQ29uZmlnKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgbmxzQ29uZmlnID0gSlNPTi5wYXJzZShyYXdObHNDb25maWcpO1xyXG4gICAgICAgICAgICBjb25zdCByZXNvbHZlZCA9IG5sc0NvbmZpZy5hdmFpbGFibGVMYW5ndWFnZXNbJyonXTtcclxuICAgICAgICAgICAgX2xvY2FsZSA9IG5sc0NvbmZpZy5sb2NhbGU7XHJcbiAgICAgICAgICAgIC8vIFZTQ29kZSdzIGRlZmF1bHQgbGFuZ3VhZ2UgaXMgJ2VuJ1xyXG4gICAgICAgICAgICBfbGFuZ3VhZ2UgPSByZXNvbHZlZCA/IHJlc29sdmVkIDogTEFOR1VBR0VfREVGQVVMVDtcclxuICAgICAgICAgICAgX3RyYW5zbGF0aW9uc0NvbmZpZ0ZpbGUgPSBubHNDb25maWcuX3RyYW5zbGF0aW9uc0NvbmZpZ0ZpbGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2lzTmF0aXZlID0gdHJ1ZTtcclxufVxyXG4vLyBVbmtub3duIGVudmlyb25tZW50XHJcbmVsc2Uge1xyXG4gICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIHJlc29sdmUgcGxhdGZvcm0uJyk7XHJcbn1cclxubGV0IF9wbGF0Zm9ybSA9IDAgLyogV2ViICovO1xyXG5pZiAoX2lzTWFjaW50b3NoKSB7XHJcbiAgICBfcGxhdGZvcm0gPSAxIC8qIE1hYyAqLztcclxufVxyXG5lbHNlIGlmIChfaXNXaW5kb3dzKSB7XHJcbiAgICBfcGxhdGZvcm0gPSAzIC8qIFdpbmRvd3MgKi87XHJcbn1cclxuZWxzZSBpZiAoX2lzTGludXgpIHtcclxuICAgIF9wbGF0Zm9ybSA9IDIgLyogTGludXggKi87XHJcbn1cclxuZXhwb3J0IGNvbnN0IGlzV2luZG93cyA9IF9pc1dpbmRvd3M7XHJcbmV4cG9ydCBjb25zdCBpc01hY2ludG9zaCA9IF9pc01hY2ludG9zaDtcclxuZXhwb3J0IGNvbnN0IGlzTGludXggPSBfaXNMaW51eDtcclxuZXhwb3J0IGNvbnN0IGlzTmF0aXZlID0gX2lzTmF0aXZlO1xyXG5leHBvcnQgY29uc3QgaXNXZWIgPSBfaXNXZWI7XHJcbmV4cG9ydCBjb25zdCBpc0lPUyA9IF9pc0lPUztcclxuZXhwb3J0IGNvbnN0IHVzZXJBZ2VudCA9IF91c2VyQWdlbnQ7XHJcbmV4cG9ydCBjb25zdCBzZXRJbW1lZGlhdGUgPSAoZnVuY3Rpb24gZGVmaW5lU2V0SW1tZWRpYXRlKCkge1xyXG4gICAgaWYgKGdsb2JhbHMuc2V0SW1tZWRpYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIGdsb2JhbHMuc2V0SW1tZWRpYXRlLmJpbmQoZ2xvYmFscyk7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGdsb2JhbHMucG9zdE1lc3NhZ2UgPT09ICdmdW5jdGlvbicgJiYgIWdsb2JhbHMuaW1wb3J0U2NyaXB0cykge1xyXG4gICAgICAgIGxldCBwZW5kaW5nID0gW107XHJcbiAgICAgICAgZ2xvYmFscy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUuZGF0YSAmJiBlLmRhdGEudnNjb2RlU2V0SW1tZWRpYXRlSWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwZW5kaW5nLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlID0gcGVuZGluZ1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlLmlkID09PSBlLmRhdGEudnNjb2RlU2V0SW1tZWRpYXRlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZS5jYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IGxhc3RJZCA9IDA7XHJcbiAgICAgICAgcmV0dXJuIChjYWxsYmFjaykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBteUlkID0gKytsYXN0SWQ7XHJcbiAgICAgICAgICAgIHBlbmRpbmcucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBpZDogbXlJZCxcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZ2xvYmFscy5wb3N0TWVzc2FnZSh7IHZzY29kZVNldEltbWVkaWF0ZUlkOiBteUlkIH0sICcqJyk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgKG5vZGVQcm9jZXNzID09PSBudWxsIHx8IG5vZGVQcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlUHJvY2Vzcy5uZXh0VGljaykgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICByZXR1cm4gbm9kZVByb2Nlc3MubmV4dFRpY2suYmluZChub2RlUHJvY2Vzcyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBfcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgcmV0dXJuIChjYWxsYmFjaykgPT4gX3Byb21pc2UudGhlbihjYWxsYmFjayk7XHJcbn0pKCk7XHJcbmV4cG9ydCBjb25zdCBPUyA9IChfaXNNYWNpbnRvc2ggfHwgX2lzSU9TID8gMiAvKiBNYWNpbnRvc2ggKi8gOiAoX2lzV2luZG93cyA/IDEgLyogV2luZG93cyAqLyA6IDMgLyogTGludXggKi8pKTtcclxubGV0IF9pc0xpdHRsZUVuZGlhbiA9IHRydWU7XHJcbmxldCBfaXNMaXR0bGVFbmRpYW5Db21wdXRlZCA9IGZhbHNlO1xyXG5leHBvcnQgZnVuY3Rpb24gaXNMaXR0bGVFbmRpYW4oKSB7XHJcbiAgICBpZiAoIV9pc0xpdHRsZUVuZGlhbkNvbXB1dGVkKSB7XHJcbiAgICAgICAgX2lzTGl0dGxlRW5kaWFuQ29tcHV0ZWQgPSB0cnVlO1xyXG4gICAgICAgIGNvbnN0IHRlc3QgPSBuZXcgVWludDhBcnJheSgyKTtcclxuICAgICAgICB0ZXN0WzBdID0gMTtcclxuICAgICAgICB0ZXN0WzFdID0gMjtcclxuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IFVpbnQxNkFycmF5KHRlc3QuYnVmZmVyKTtcclxuICAgICAgICBfaXNMaXR0bGVFbmRpYW4gPSAodmlld1swXSA9PT0gKDIgPDwgOCkgKyAxKTtcclxuICAgIH1cclxuICAgIHJldHVybiBfaXNMaXR0bGVFbmRpYW47XHJcbn1cclxuIiwgIi8qKlxyXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXIgaXMgYSBKYXZhU2NyaXB0IEFycmF5IG9yIG5vdC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5KGFycmF5KSB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnJheSk7XHJcbn1cclxuLyoqXHJcbiAqIEByZXR1cm5zIHdoZXRoZXIgdGhlIHByb3ZpZGVkIHBhcmFtZXRlciBpcyBhIEphdmFTY3JpcHQgU3RyaW5nIG9yIG5vdC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyhzdHIpIHtcclxuICAgIHJldHVybiAodHlwZW9mIHN0ciA9PT0gJ3N0cmluZycpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXIgaXMgb2YgdHlwZSBgb2JqZWN0YCBidXQgKipub3QqKlxyXG4gKlx0YG51bGxgLCBhbiBgYXJyYXlgLCBhIGByZWdleHBgLCBub3IgYSBgZGF0ZWAuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XHJcbiAgICAvLyBUaGUgbWV0aG9kIGNhbid0IGRvIGEgdHlwZSBjYXN0IHNpbmNlIHRoZXJlIGFyZSB0eXBlIChsaWtlIHN0cmluZ3MpIHdoaWNoXHJcbiAgICAvLyBhcmUgc3ViY2xhc3NlcyBvZiBhbnkgcHV0IG5vdCBwb3NpdHZlbHkgbWF0Y2hlZCBieSB0aGUgZnVuY3Rpb24uIEhlbmNlIHR5cGVcclxuICAgIC8vIG5hcnJvd2luZyByZXN1bHRzIGluIHdyb25nIHJlc3VsdHMuXHJcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCdcclxuICAgICAgICAmJiBvYmogIT09IG51bGxcclxuICAgICAgICAmJiAhQXJyYXkuaXNBcnJheShvYmopXHJcbiAgICAgICAgJiYgIShvYmogaW5zdGFuY2VvZiBSZWdFeHApXHJcbiAgICAgICAgJiYgIShvYmogaW5zdGFuY2VvZiBEYXRlKTtcclxufVxyXG4vKipcclxuICogSW4gKipjb250cmFzdCoqIHRvIGp1c3QgY2hlY2tpbmcgYHR5cGVvZmAgdGhpcyB3aWxsIHJldHVybiBgZmFsc2VgIGZvciBgTmFOYC5cclxuICogQHJldHVybnMgd2hldGhlciB0aGUgcHJvdmlkZWQgcGFyYW1ldGVyIGlzIGEgSmF2YVNjcmlwdCBOdW1iZXIgb3Igbm90LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyKG9iaikge1xyXG4gICAgcmV0dXJuICh0eXBlb2Ygb2JqID09PSAnbnVtYmVyJyAmJiAhaXNOYU4ob2JqKSk7XHJcbn1cclxuLyoqXHJcbiAqIEByZXR1cm5zIHdoZXRoZXIgdGhlIHByb3ZpZGVkIHBhcmFtZXRlciBpcyBhIEphdmFTY3JpcHQgQm9vbGVhbiBvciBub3QuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKG9iaikge1xyXG4gICAgcmV0dXJuIChvYmogPT09IHRydWUgfHwgb2JqID09PSBmYWxzZSk7XHJcbn1cclxuLyoqXHJcbiAqIEByZXR1cm5zIHdoZXRoZXIgdGhlIHByb3ZpZGVkIHBhcmFtZXRlciBpcyB1bmRlZmluZWQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKTtcclxufVxyXG4vKipcclxuICogQHJldHVybnMgd2hldGhlciB0aGUgcHJvdmlkZWQgcGFyYW1ldGVyIGlzIHVuZGVmaW5lZCBvciBudWxsLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVW5kZWZpbmVkT3JOdWxsKG9iaikge1xyXG4gICAgcmV0dXJuIChpc1VuZGVmaW5lZChvYmopIHx8IG9iaiA9PT0gbnVsbCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFR5cGUoY29uZGl0aW9uLCB0eXBlKSB7XHJcbiAgICBpZiAoIWNvbmRpdGlvbikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcih0eXBlID8gYFVuZXhwZWN0ZWQgdHlwZSwgZXhwZWN0ZWQgJyR7dHlwZX0nYCA6ICdVbmV4cGVjdGVkIHR5cGUnKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQXNzZXJ0cyB0aGF0IHRoZSBhcmd1bWVudCBwYXNzZWQgaW4gaXMgbmVpdGhlciB1bmRlZmluZWQgbm9yIG51bGwuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SXNEZWZpbmVkKGFyZykge1xyXG4gICAgaWYgKGlzVW5kZWZpbmVkT3JOdWxsKGFyZykpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fzc2VydGlvbiBGYWlsZWQ6IGFyZ3VtZW50IGlzIHVuZGVmaW5lZCBvciBudWxsJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXJnO1xyXG59XHJcbi8qKlxyXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXIgaXMgYSBKYXZhU2NyaXB0IEZ1bmN0aW9uIG9yIG5vdC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xyXG4gICAgcmV0dXJuICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVDb25zdHJhaW50cyhhcmdzLCBjb25zdHJhaW50cykge1xyXG4gICAgY29uc3QgbGVuID0gTWF0aC5taW4oYXJncy5sZW5ndGgsIGNvbnN0cmFpbnRzLmxlbmd0aCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFsaWRhdGVDb25zdHJhaW50KGFyZ3NbaV0sIGNvbnN0cmFpbnRzW2ldKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVDb25zdHJhaW50KGFyZywgY29uc3RyYWludCkge1xyXG4gICAgaWYgKGlzU3RyaW5nKGNvbnN0cmFpbnQpKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmcgIT09IGNvbnN0cmFpbnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBhcmd1bWVudCBkb2VzIG5vdCBtYXRjaCBjb25zdHJhaW50OiB0eXBlb2YgJHtjb25zdHJhaW50fWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oY29uc3RyYWludCkpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoYXJnIGluc3RhbmNlb2YgY29uc3RyYWludCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChfYSkge1xyXG4gICAgICAgICAgICAvLyBpZ25vcmVcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZE9yTnVsbChhcmcpICYmIGFyZy5jb25zdHJ1Y3RvciA9PT0gY29uc3RyYWludCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb25zdHJhaW50Lmxlbmd0aCA9PT0gMSAmJiBjb25zdHJhaW50LmNhbGwodW5kZWZpbmVkLCBhcmcpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBhcmd1bWVudCBkb2VzIG5vdCBtYXRjaCBvbmUgb2YgdGhlc2UgY29uc3RyYWludHM6IGFyZyBpbnN0YW5jZW9mIGNvbnN0cmFpbnQsIGFyZy5jb25zdHJ1Y3RvciA9PT0gY29uc3RyYWludCwgbm9yIGNvbnN0cmFpbnQoYXJnKSA9PT0gdHJ1ZWApO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxQcm9wZXJ0eU5hbWVzKG9iaikge1xyXG4gICAgbGV0IHJlcyA9IFtdO1xyXG4gICAgbGV0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XHJcbiAgICB3aGlsZSAoT2JqZWN0LnByb3RvdHlwZSAhPT0gcHJvdG8pIHtcclxuICAgICAgICByZXMgPSByZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3RvKSk7XHJcbiAgICAgICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsTWV0aG9kTmFtZXMob2JqKSB7XHJcbiAgICBjb25zdCBtZXRob2RzID0gW107XHJcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgZ2V0QWxsUHJvcGVydHlOYW1lcyhvYmopKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpbcHJvcF0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgbWV0aG9kcy5wdXNoKHByb3ApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBtZXRob2RzO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm94eU9iamVjdChtZXRob2ROYW1lcywgaW52b2tlKSB7XHJcbiAgICBjb25zdCBjcmVhdGVQcm94eU1ldGhvZCA9IChtZXRob2QpID0+IHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zdCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcclxuICAgICAgICAgICAgcmV0dXJuIGludm9rZShtZXRob2QsIGFyZ3MpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgbGV0IHJlc3VsdCA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBtZXRob2ROYW1lIG9mIG1ldGhvZE5hbWVzKSB7XHJcbiAgICAgICAgcmVzdWx0W21ldGhvZE5hbWVdID0gY3JlYXRlUHJveHlNZXRob2QobWV0aG9kTmFtZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBudWxsIHRvIHVuZGVmaW5lZCwgcGFzc2VzIGFsbCBvdGhlciB2YWx1ZXMgdGhyb3VnaC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB3aXRoTnVsbEFzVW5kZWZpbmVkKHgpIHtcclxuICAgIHJldHVybiB4ID09PSBudWxsID8gdW5kZWZpbmVkIDogeDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIodmFsdWUpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVW5yZWFjaGFibGUnKTtcclxufVxyXG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbmltcG9ydCB7IHRyYW5zZm9ybUVycm9yRm9yU2VyaWFsaXphdGlvbiB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XHJcbmltcG9ydCB7IERpc3Bvc2FibGUgfSBmcm9tICcuLi9saWZlY3ljbGUuanMnO1xyXG5pbXBvcnQgeyBpc1dlYiB9IGZyb20gJy4uL3BsYXRmb3JtLmpzJztcclxuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMuanMnO1xyXG5jb25zdCBJTklUSUFMSVpFID0gJyRpbml0aWFsaXplJztcclxubGV0IHdlYldvcmtlcldhcm5pbmdMb2dnZWQgPSBmYWxzZTtcclxuZXhwb3J0IGZ1bmN0aW9uIGxvZ09uY2VXZWJXb3JrZXJXYXJuaW5nKGVycikge1xyXG4gICAgaWYgKCFpc1dlYikge1xyXG4gICAgICAgIC8vIHJ1bm5pbmcgdGVzdHNcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIXdlYldvcmtlcldhcm5pbmdMb2dnZWQpIHtcclxuICAgICAgICB3ZWJXb3JrZXJXYXJuaW5nTG9nZ2VkID0gdHJ1ZTtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBjcmVhdGUgd2ViIHdvcmtlcihzKS4gRmFsbGluZyBiYWNrIHRvIGxvYWRpbmcgd2ViIHdvcmtlciBjb2RlIGluIG1haW4gdGhyZWFkLCB3aGljaCBtaWdodCBjYXVzZSBVSSBmcmVlemVzLiBQbGVhc2Ugc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvbW9uYWNvLWVkaXRvciNmYXEnKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUud2FybihlcnIubWVzc2FnZSk7XHJcbn1cclxuY2xhc3MgU2ltcGxlV29ya2VyUHJvdG9jb2wge1xyXG4gICAgY29uc3RydWN0b3IoaGFuZGxlcikge1xyXG4gICAgICAgIHRoaXMuX3dvcmtlcklkID0gLTE7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlciA9IGhhbmRsZXI7XHJcbiAgICAgICAgdGhpcy5fbGFzdFNlbnRSZXEgPSAwO1xyXG4gICAgICAgIHRoaXMuX3BlbmRpbmdSZXBsaWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIH1cclxuICAgIHNldFdvcmtlcklkKHdvcmtlcklkKSB7XHJcbiAgICAgICAgdGhpcy5fd29ya2VySWQgPSB3b3JrZXJJZDtcclxuICAgIH1cclxuICAgIHNlbmRNZXNzYWdlKG1ldGhvZCwgYXJncykge1xyXG4gICAgICAgIGxldCByZXEgPSBTdHJpbmcoKyt0aGlzLl9sYXN0U2VudFJlcSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1JlcGxpZXNbcmVxXSA9IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHJlc29sdmUsXHJcbiAgICAgICAgICAgICAgICByZWplY3Q6IHJlamVjdFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLl9zZW5kKHtcclxuICAgICAgICAgICAgICAgIHZzV29ya2VyOiB0aGlzLl93b3JrZXJJZCxcclxuICAgICAgICAgICAgICAgIHJlcTogcmVxLFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXHJcbiAgICAgICAgICAgICAgICBhcmdzOiBhcmdzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKCFtZXNzYWdlIHx8ICFtZXNzYWdlLnZzV29ya2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3dvcmtlcklkICE9PSAtMSAmJiBtZXNzYWdlLnZzV29ya2VyICE9PSB0aGlzLl93b3JrZXJJZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2hhbmRsZU1lc3NhZ2UobWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlTWVzc2FnZShtc2cpIHtcclxuICAgICAgICBpZiAobXNnLnNlcSkge1xyXG4gICAgICAgICAgICBsZXQgcmVwbHlNZXNzYWdlID0gbXNnO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3BlbmRpbmdSZXBsaWVzW3JlcGx5TWVzc2FnZS5zZXFdKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0dvdCByZXBseSB0byB1bmtub3duIHNlcScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCByZXBseSA9IHRoaXMuX3BlbmRpbmdSZXBsaWVzW3JlcGx5TWVzc2FnZS5zZXFdO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcGVuZGluZ1JlcGxpZXNbcmVwbHlNZXNzYWdlLnNlcV07XHJcbiAgICAgICAgICAgIGlmIChyZXBseU1lc3NhZ2UuZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXJyID0gcmVwbHlNZXNzYWdlLmVycjtcclxuICAgICAgICAgICAgICAgIGlmIChyZXBseU1lc3NhZ2UuZXJyLiRpc0Vycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyID0gbmV3IEVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyLm5hbWUgPSByZXBseU1lc3NhZ2UuZXJyLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UgPSByZXBseU1lc3NhZ2UuZXJyLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyLnN0YWNrID0gcmVwbHlNZXNzYWdlLmVyci5zdGFjaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlcGx5LnJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcGx5LnJlc29sdmUocmVwbHlNZXNzYWdlLnJlcyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlcXVlc3RNZXNzYWdlID0gbXNnO1xyXG4gICAgICAgIGxldCByZXEgPSByZXF1ZXN0TWVzc2FnZS5yZXE7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuX2hhbmRsZXIuaGFuZGxlTWVzc2FnZShyZXF1ZXN0TWVzc2FnZS5tZXRob2QsIHJlcXVlc3RNZXNzYWdlLmFyZ3MpO1xyXG4gICAgICAgIHJlc3VsdC50aGVuKChyKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbmQoe1xyXG4gICAgICAgICAgICAgICAgdnNXb3JrZXI6IHRoaXMuX3dvcmtlcklkLFxyXG4gICAgICAgICAgICAgICAgc2VxOiByZXEsXHJcbiAgICAgICAgICAgICAgICByZXM6IHIsXHJcbiAgICAgICAgICAgICAgICBlcnI6IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS5kZXRhaWwgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgLy8gTG9hZGluZyBlcnJvcnMgaGF2ZSBhIGRldGFpbCBwcm9wZXJ0eSB0aGF0IHBvaW50cyB0byB0aGUgYWN0dWFsIGVycm9yXHJcbiAgICAgICAgICAgICAgICBlLmRldGFpbCA9IHRyYW5zZm9ybUVycm9yRm9yU2VyaWFsaXphdGlvbihlLmRldGFpbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fc2VuZCh7XHJcbiAgICAgICAgICAgICAgICB2c1dvcmtlcjogdGhpcy5fd29ya2VySWQsXHJcbiAgICAgICAgICAgICAgICBzZXE6IHJlcSxcclxuICAgICAgICAgICAgICAgIHJlczogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgZXJyOiB0cmFuc2Zvcm1FcnJvckZvclNlcmlhbGl6YXRpb24oZSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfc2VuZChtc2cpIHtcclxuICAgICAgICBsZXQgdHJhbnNmZXIgPSBbXTtcclxuICAgICAgICBpZiAobXNnLnJlcSkge1xyXG4gICAgICAgICAgICBjb25zdCBtID0gbXNnO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG0uYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG0uYXJnc1tpXSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXIucHVzaChtLmFyZ3NbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBtID0gbXNnO1xyXG4gICAgICAgICAgICBpZiAobS5yZXMgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmZXIucHVzaChtLnJlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faGFuZGxlci5zZW5kTWVzc2FnZShtc2csIHRyYW5zZmVyKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogTWFpbiB0aHJlYWQgc2lkZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNpbXBsZVdvcmtlckNsaWVudCBleHRlbmRzIERpc3Bvc2FibGUge1xyXG4gICAgY29uc3RydWN0b3Iod29ya2VyRmFjdG9yeSwgbW9kdWxlSWQsIGhvc3QpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIGxldCBsYXp5UHJveHlSZWplY3QgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3dvcmtlciA9IHRoaXMuX3JlZ2lzdGVyKHdvcmtlckZhY3RvcnkuY3JlYXRlKCd2cy9iYXNlL2NvbW1vbi93b3JrZXIvc2ltcGxlV29ya2VyJywgKG1zZykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9wcm90b2NvbC5oYW5kbGVNZXNzYWdlKG1zZyk7XHJcbiAgICAgICAgfSwgKGVycikgPT4ge1xyXG4gICAgICAgICAgICAvLyBpbiBGaXJlZm94LCB3ZWIgd29ya2VycyBmYWlsIGxhemlseSA6KFxyXG4gICAgICAgICAgICAvLyB3ZSB3aWxsIHJlamVjdCB0aGUgcHJveHlcclxuICAgICAgICAgICAgaWYgKGxhenlQcm94eVJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgbGF6eVByb3h5UmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGhpcy5fcHJvdG9jb2wgPSBuZXcgU2ltcGxlV29ya2VyUHJvdG9jb2woe1xyXG4gICAgICAgICAgICBzZW5kTWVzc2FnZTogKG1zZywgdHJhbnNmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZShtc2csIHRyYW5zZmVyKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGFuZGxlTWVzc2FnZTogKG1ldGhvZCwgYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBob3N0W21ldGhvZF0gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdNaXNzaW5nIG1ldGhvZCAnICsgbWV0aG9kICsgJyBvbiBtYWluIHRocmVhZCBob3N0LicpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShob3N0W21ldGhvZF0uYXBwbHkoaG9zdCwgYXJncykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9wcm90b2NvbC5zZXRXb3JrZXJJZCh0aGlzLl93b3JrZXIuZ2V0SWQoKSk7XHJcbiAgICAgICAgLy8gR2F0aGVyIGxvYWRlciBjb25maWd1cmF0aW9uXHJcbiAgICAgICAgbGV0IGxvYWRlckNvbmZpZ3VyYXRpb24gPSBudWxsO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5yZXF1aXJlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc2VsZi5yZXF1aXJlLmdldENvbmZpZyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGNvbmZpZ3VyYXRpb24gZnJvbSB0aGUgTW9uYWNvIEFNRCBMb2FkZXJcclxuICAgICAgICAgICAgbG9hZGVyQ29uZmlndXJhdGlvbiA9IHNlbGYucmVxdWlyZS5nZXRDb25maWcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHNlbGYucmVxdWlyZWpzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGNvbmZpZ3VyYXRpb24gZnJvbSByZXF1aXJlanNcclxuICAgICAgICAgICAgbG9hZGVyQ29uZmlndXJhdGlvbiA9IHNlbGYucmVxdWlyZWpzLnMuY29udGV4dHMuXy5jb25maWc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGhvc3RNZXRob2RzID0gdHlwZXMuZ2V0QWxsTWV0aG9kTmFtZXMoaG9zdCk7XHJcbiAgICAgICAgLy8gU2VuZCBpbml0aWFsaXplIG1lc3NhZ2VcclxuICAgICAgICB0aGlzLl9vbk1vZHVsZUxvYWRlZCA9IHRoaXMuX3Byb3RvY29sLnNlbmRNZXNzYWdlKElOSVRJQUxJWkUsIFtcclxuICAgICAgICAgICAgdGhpcy5fd29ya2VyLmdldElkKCksXHJcbiAgICAgICAgICAgIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobG9hZGVyQ29uZmlndXJhdGlvbikpLFxyXG4gICAgICAgICAgICBtb2R1bGVJZCxcclxuICAgICAgICAgICAgaG9zdE1ldGhvZHMsXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHByb3h5IHRvIGxvYWRlZCBjb2RlXHJcbiAgICAgICAgY29uc3QgcHJveHlNZXRob2RSZXF1ZXN0ID0gKG1ldGhvZCwgYXJncykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChtZXRob2QsIGFyZ3MpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fbGF6eVByb3h5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsYXp5UHJveHlSZWplY3QgPSByZWplY3Q7XHJcbiAgICAgICAgICAgIHRoaXMuX29uTW9kdWxlTG9hZGVkLnRoZW4oKGF2YWlsYWJsZU1ldGhvZHMpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUodHlwZXMuY3JlYXRlUHJveHlPYmplY3QoYXZhaWxhYmxlTWV0aG9kcywgcHJveHlNZXRob2RSZXF1ZXN0KSk7XHJcbiAgICAgICAgICAgIH0sIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKCdXb3JrZXIgZmFpbGVkIHRvIGxvYWQgJyArIG1vZHVsZUlkLCBlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXRQcm94eU9iamVjdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGF6eVByb3h5O1xyXG4gICAgfVxyXG4gICAgX3JlcXVlc3QobWV0aG9kLCBhcmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fb25Nb2R1bGVMb2FkZWQudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm90b2NvbC5zZW5kTWVzc2FnZShtZXRob2QsIGFyZ3MpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcclxuICAgICAgICAgICAgfSwgcmVqZWN0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9vbkVycm9yKG1lc3NhZ2UsIGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcclxuICAgICAgICBjb25zb2xlLmluZm8oZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBXb3JrZXIgc2lkZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNpbXBsZVdvcmtlclNlcnZlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3N0TWVzc2FnZSwgcmVxdWVzdEhhbmRsZXJGYWN0b3J5KSB7XHJcbiAgICAgICAgdGhpcy5fcmVxdWVzdEhhbmRsZXJGYWN0b3J5ID0gcmVxdWVzdEhhbmRsZXJGYWN0b3J5O1xyXG4gICAgICAgIHRoaXMuX3JlcXVlc3RIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9wcm90b2NvbCA9IG5ldyBTaW1wbGVXb3JrZXJQcm90b2NvbCh7XHJcbiAgICAgICAgICAgIHNlbmRNZXNzYWdlOiAobXNnLCB0cmFuc2ZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2UobXNnLCB0cmFuc2Zlcik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhhbmRsZU1lc3NhZ2U6IChtZXRob2QsIGFyZ3MpID0+IHRoaXMuX2hhbmRsZU1lc3NhZ2UobWV0aG9kLCBhcmdzKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgb25tZXNzYWdlKG1zZykge1xyXG4gICAgICAgIHRoaXMuX3Byb3RvY29sLmhhbmRsZU1lc3NhZ2UobXNnKTtcclxuICAgIH1cclxuICAgIF9oYW5kbGVNZXNzYWdlKG1ldGhvZCwgYXJncykge1xyXG4gICAgICAgIGlmIChtZXRob2QgPT09IElOSVRJQUxJWkUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbGl6ZShhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9yZXF1ZXN0SGFuZGxlciB8fCB0eXBlb2YgdGhpcy5fcmVxdWVzdEhhbmRsZXJbbWV0aG9kXSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdNaXNzaW5nIHJlcXVlc3RIYW5kbGVyIG9yIG1ldGhvZDogJyArIG1ldGhvZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3JlcXVlc3RIYW5kbGVyW21ldGhvZF0uYXBwbHkodGhpcy5fcmVxdWVzdEhhbmRsZXIsIGFyZ3MpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluaXRpYWxpemUod29ya2VySWQsIGxvYWRlckNvbmZpZywgbW9kdWxlSWQsIGhvc3RNZXRob2RzKSB7XHJcbiAgICAgICAgdGhpcy5fcHJvdG9jb2wuc2V0V29ya2VySWQod29ya2VySWQpO1xyXG4gICAgICAgIGNvbnN0IHByb3h5TWV0aG9kUmVxdWVzdCA9IChtZXRob2QsIGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3RvY29sLnNlbmRNZXNzYWdlKG1ldGhvZCwgYXJncyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBob3N0UHJveHkgPSB0eXBlcy5jcmVhdGVQcm94eU9iamVjdChob3N0TWV0aG9kcywgcHJveHlNZXRob2RSZXF1ZXN0KTtcclxuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEhhbmRsZXJGYWN0b3J5KSB7XHJcbiAgICAgICAgICAgIC8vIHN0YXRpYyByZXF1ZXN0IGhhbmRsZXJcclxuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdEhhbmRsZXIgPSB0aGlzLl9yZXF1ZXN0SGFuZGxlckZhY3RvcnkoaG9zdFByb3h5KTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0eXBlcy5nZXRBbGxNZXRob2ROYW1lcyh0aGlzLl9yZXF1ZXN0SGFuZGxlcikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobG9hZGVyQ29uZmlnKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSAnYmFzZVVybCcsIGhhbmRsaW5nIGl0IGlzIGJleW9uZCBzY29wZSBmb3Igbm93XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbG9hZGVyQ29uZmlnLmJhc2VVcmwgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgbG9hZGVyQ29uZmlnWydiYXNlVXJsJ107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsb2FkZXJDb25maWcucGF0aHMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxvYWRlckNvbmZpZy5wYXRocy52cyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbG9hZGVyQ29uZmlnLnBhdGhzWyd2cyddO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbG9hZGVyQ29uZmlnLnRydXN0ZWRUeXBlc1BvbGljeSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBkb24ndCB1c2UsIGl0IGhhcyBiZWVuIGRlc3Ryb3llZCBkdXJpbmcgc2VyaWFsaXplXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgbG9hZGVyQ29uZmlnWyd0cnVzdGVkVHlwZXNQb2xpY3knXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTaW5jZSB0aGlzIGlzIGluIGEgd2ViIHdvcmtlciwgZW5hYmxlIGNhdGNoaW5nIGVycm9yc1xyXG4gICAgICAgICAgICBsb2FkZXJDb25maWcuY2F0Y2hFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgIHNlbGYucmVxdWlyZS5jb25maWcobG9hZGVyQ29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgLy8gVXNlIHRoZSBnbG9iYWwgcmVxdWlyZSB0byBiZSBzdXJlIHRvIGdldCB0aGUgZ2xvYmFsIGNvbmZpZ1xyXG4gICAgICAgICAgICBzZWxmLnJlcXVpcmUoW21vZHVsZUlkXSwgKG1vZHVsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdEhhbmRsZXIgPSBtb2R1bGUuY3JlYXRlKGhvc3RQcm94eSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3JlcXVlc3RIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgTm8gUmVxdWVzdEhhbmRsZXIhYCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmUodHlwZXMuZ2V0QWxsTWV0aG9kTmFtZXModGhpcy5fcmVxdWVzdEhhbmRsZXIpKTtcclxuICAgICAgICAgICAgfSwgcmVqZWN0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ2FsbGVkIG9uIHRoZSB3b3JrZXIgc2lkZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShwb3N0TWVzc2FnZSkge1xyXG4gICAgcmV0dXJuIG5ldyBTaW1wbGVXb3JrZXJTZXJ2ZXIocG9zdE1lc3NhZ2UsIG51bGwpO1xyXG59XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgaW5mb3JtYXRpb24gYWJvdXQgYSBzcGVjaWZpYyBkaWZmZXJlbmNlIGJldHdlZW4gdHdvIHNlcXVlbmNlcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBEaWZmQ2hhbmdlIHtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0cyBhIG5ldyBEaWZmQ2hhbmdlIHdpdGggdGhlIGdpdmVuIHNlcXVlbmNlIGluZm9ybWF0aW9uXHJcbiAgICAgKiBhbmQgY29udGVudC5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxMZW5ndGgsIG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkTGVuZ3RoKSB7XHJcbiAgICAgICAgLy9EZWJ1Zy5Bc3NlcnQob3JpZ2luYWxMZW5ndGggPiAwIHx8IG1vZGlmaWVkTGVuZ3RoID4gMCwgXCJvcmlnaW5hbExlbmd0aCBhbmQgbW9kaWZpZWRMZW5ndGggY2Fubm90IGJvdGggYmUgPD0gMFwiKTtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsU3RhcnQgPSBvcmlnaW5hbFN0YXJ0O1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxMZW5ndGggPSBvcmlnaW5hbExlbmd0aDtcclxuICAgICAgICB0aGlzLm1vZGlmaWVkU3RhcnQgPSBtb2RpZmllZFN0YXJ0O1xyXG4gICAgICAgIHRoaXMubW9kaWZpZWRMZW5ndGggPSBtb2RpZmllZExlbmd0aDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGVuZCBwb2ludCAoZXhjbHVzaXZlKSBvZiB0aGUgY2hhbmdlIGluIHRoZSBvcmlnaW5hbCBzZXF1ZW5jZS5cclxuICAgICAqL1xyXG4gICAgZ2V0T3JpZ2luYWxFbmQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxTdGFydCArIHRoaXMub3JpZ2luYWxMZW5ndGg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBlbmQgcG9pbnQgKGV4Y2x1c2l2ZSkgb2YgdGhlIGNoYW5nZSBpbiB0aGUgbW9kaWZpZWQgc2VxdWVuY2UuXHJcbiAgICAgKi9cclxuICAgIGdldE1vZGlmaWVkRW5kKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vZGlmaWVkU3RhcnQgKyB0aGlzLm1vZGlmaWVkTGVuZ3RoO1xyXG4gICAgfVxyXG59XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRmFsc3lPcldoaXRlc3BhY2Uoc3RyKSB7XHJcbiAgICBpZiAoIXN0ciB8fCB0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0ci50cmltKCkubGVuZ3RoID09PSAwO1xyXG59XHJcbmNvbnN0IF9mb3JtYXRSZWdleHAgPSAveyhcXGQrKX0vZztcclxuLyoqXHJcbiAqIEhlbHBlciB0byBwcm9kdWNlIGEgc3RyaW5nIHdpdGggYSB2YXJpYWJsZSBudW1iZXIgb2YgYXJndW1lbnRzLiBJbnNlcnQgdmFyaWFibGUgc2VnbWVudHNcclxuICogaW50byB0aGUgc3RyaW5nIHVzaW5nIHRoZSB7bn0gbm90YXRpb24gd2hlcmUgTiBpcyB0aGUgaW5kZXggb2YgdGhlIGFyZ3VtZW50IGZvbGxvd2luZyB0aGUgc3RyaW5nLlxyXG4gKiBAcGFyYW0gdmFsdWUgc3RyaW5nIHRvIHdoaWNoIGZvcm1hdHRpbmcgaXMgYXBwbGllZFxyXG4gKiBAcGFyYW0gYXJncyByZXBsYWNlbWVudHMgZm9yIHtufS1lbnRyaWVzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCAuLi5hcmdzKSB7XHJcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZShfZm9ybWF0UmVnZXhwLCBmdW5jdGlvbiAobWF0Y2gsIGdyb3VwKSB7XHJcbiAgICAgICAgY29uc3QgaWR4ID0gcGFyc2VJbnQoZ3JvdXAsIDEwKTtcclxuICAgICAgICByZXR1cm4gaXNOYU4oaWR4KSB8fCBpZHggPCAwIHx8IGlkeCA+PSBhcmdzLmxlbmd0aCA/XHJcbiAgICAgICAgICAgIG1hdGNoIDpcclxuICAgICAgICAgICAgYXJnc1tpZHhdO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIENvbnZlcnRzIEhUTUwgY2hhcmFjdGVycyBpbnNpZGUgdGhlIHN0cmluZyB0byB1c2UgZW50aXRpZXMgaW5zdGVhZC4gTWFrZXMgdGhlIHN0cmluZyBzYWZlIGZyb21cclxuICogYmVpbmcgdXNlZCBlLmcuIGluIEhUTUxFbGVtZW50LmlubmVySFRNTC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGUoaHRtbCkge1xyXG4gICAgcmV0dXJuIGh0bWwucmVwbGFjZSgvWzw+Jl0vZywgZnVuY3Rpb24gKG1hdGNoKSB7XHJcbiAgICAgICAgc3dpdGNoIChtYXRjaCkge1xyXG4gICAgICAgICAgICBjYXNlICc8JzogcmV0dXJuICcmbHQ7JztcclxuICAgICAgICAgICAgY2FzZSAnPic6IHJldHVybiAnJmd0Oyc7XHJcbiAgICAgICAgICAgIGNhc2UgJyYnOiByZXR1cm4gJyZhbXA7JztcclxuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIG1hdGNoO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBFc2NhcGVzIHJlZ3VsYXIgZXhwcmVzc2lvbiBjaGFyYWN0ZXJzIGluIGEgZ2l2ZW4gc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnRXhwQ2hhcmFjdGVycyh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1tcXFxcXFx7XFx9XFwqXFwrXFw/XFx8XFxeXFwkXFwuXFxbXFxdXFwoXFwpXS9nLCAnXFxcXCQmJyk7XHJcbn1cclxuLyoqXHJcbiAqIFJlbW92ZXMgYWxsIG9jY3VycmVuY2VzIG9mIG5lZWRsZSBmcm9tIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBoYXlzdGFjay5cclxuICogQHBhcmFtIGhheXN0YWNrIHN0cmluZyB0byB0cmltXHJcbiAqIEBwYXJhbSBuZWVkbGUgdGhlIHRoaW5nIHRvIHRyaW0gKGRlZmF1bHQgaXMgYSBibGFuaylcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmltKGhheXN0YWNrLCBuZWVkbGUgPSAnICcpIHtcclxuICAgIGNvbnN0IHRyaW1tZWQgPSBsdHJpbShoYXlzdGFjaywgbmVlZGxlKTtcclxuICAgIHJldHVybiBydHJpbSh0cmltbWVkLCBuZWVkbGUpO1xyXG59XHJcbi8qKlxyXG4gKiBSZW1vdmVzIGFsbCBvY2N1cnJlbmNlcyBvZiBuZWVkbGUgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIGhheXN0YWNrLlxyXG4gKiBAcGFyYW0gaGF5c3RhY2sgc3RyaW5nIHRvIHRyaW1cclxuICogQHBhcmFtIG5lZWRsZSB0aGUgdGhpbmcgdG8gdHJpbVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGx0cmltKGhheXN0YWNrLCBuZWVkbGUpIHtcclxuICAgIGlmICghaGF5c3RhY2sgfHwgIW5lZWRsZSkge1xyXG4gICAgICAgIHJldHVybiBoYXlzdGFjaztcclxuICAgIH1cclxuICAgIGNvbnN0IG5lZWRsZUxlbiA9IG5lZWRsZS5sZW5ndGg7XHJcbiAgICBpZiAobmVlZGxlTGVuID09PSAwIHx8IGhheXN0YWNrLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBoYXlzdGFjaztcclxuICAgIH1cclxuICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgd2hpbGUgKGhheXN0YWNrLmluZGV4T2YobmVlZGxlLCBvZmZzZXQpID09PSBvZmZzZXQpIHtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgKyBuZWVkbGVMZW47XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaGF5c3RhY2suc3Vic3RyaW5nKG9mZnNldCk7XHJcbn1cclxuLyoqXHJcbiAqIFJlbW92ZXMgYWxsIG9jY3VycmVuY2VzIG9mIG5lZWRsZSBmcm9tIHRoZSBlbmQgb2YgaGF5c3RhY2suXHJcbiAqIEBwYXJhbSBoYXlzdGFjayBzdHJpbmcgdG8gdHJpbVxyXG4gKiBAcGFyYW0gbmVlZGxlIHRoZSB0aGluZyB0byB0cmltXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcnRyaW0oaGF5c3RhY2ssIG5lZWRsZSkge1xyXG4gICAgaWYgKCFoYXlzdGFjayB8fCAhbmVlZGxlKSB7XHJcbiAgICAgICAgcmV0dXJuIGhheXN0YWNrO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbmVlZGxlTGVuID0gbmVlZGxlLmxlbmd0aCwgaGF5c3RhY2tMZW4gPSBoYXlzdGFjay5sZW5ndGg7XHJcbiAgICBpZiAobmVlZGxlTGVuID09PSAwIHx8IGhheXN0YWNrTGVuID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGhheXN0YWNrO1xyXG4gICAgfVxyXG4gICAgbGV0IG9mZnNldCA9IGhheXN0YWNrTGVuLCBpZHggPSAtMTtcclxuICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgaWR4ID0gaGF5c3RhY2subGFzdEluZGV4T2YobmVlZGxlLCBvZmZzZXQgLSAxKTtcclxuICAgICAgICBpZiAoaWR4ID09PSAtMSB8fCBpZHggKyBuZWVkbGVMZW4gIT09IG9mZnNldCkge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlkeCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9mZnNldCA9IGlkeDtcclxuICAgIH1cclxuICAgIHJldHVybiBoYXlzdGFjay5zdWJzdHJpbmcoMCwgb2Zmc2V0KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFNpbXBsZTJSZWdFeHBQYXR0ZXJuKHBhdHRlcm4pIHtcclxuICAgIHJldHVybiBwYXR0ZXJuLnJlcGxhY2UoL1tcXC1cXFxcXFx7XFx9XFwrXFw/XFx8XFxeXFwkXFwuXFwsXFxbXFxdXFwoXFwpXFwjXFxzXS9nLCAnXFxcXCQmJykucmVwbGFjZSgvW1xcKl0vZywgJy4qJyk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwV2lsZGNhcmRzKHBhdHRlcm4pIHtcclxuICAgIHJldHVybiBwYXR0ZXJuLnJlcGxhY2UoL1xcKi9nLCAnJyk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlZ0V4cChzZWFyY2hTdHJpbmcsIGlzUmVnZXgsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgaWYgKCFzZWFyY2hTdHJpbmcpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgcmVnZXggZnJvbSBlbXB0eSBzdHJpbmcnKTtcclxuICAgIH1cclxuICAgIGlmICghaXNSZWdleCkge1xyXG4gICAgICAgIHNlYXJjaFN0cmluZyA9IGVzY2FwZVJlZ0V4cENoYXJhY3RlcnMoc2VhcmNoU3RyaW5nKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLndob2xlV29yZCkge1xyXG4gICAgICAgIGlmICghL1xcQi8udGVzdChzZWFyY2hTdHJpbmcuY2hhckF0KDApKSkge1xyXG4gICAgICAgICAgICBzZWFyY2hTdHJpbmcgPSAnXFxcXGInICsgc2VhcmNoU3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIS9cXEIvLnRlc3Qoc2VhcmNoU3RyaW5nLmNoYXJBdChzZWFyY2hTdHJpbmcubGVuZ3RoIC0gMSkpKSB7XHJcbiAgICAgICAgICAgIHNlYXJjaFN0cmluZyA9IHNlYXJjaFN0cmluZyArICdcXFxcYic7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IG1vZGlmaWVycyA9ICcnO1xyXG4gICAgaWYgKG9wdGlvbnMuZ2xvYmFsKSB7XHJcbiAgICAgICAgbW9kaWZpZXJzICs9ICdnJztcclxuICAgIH1cclxuICAgIGlmICghb3B0aW9ucy5tYXRjaENhc2UpIHtcclxuICAgICAgICBtb2RpZmllcnMgKz0gJ2knO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMubXVsdGlsaW5lKSB7XHJcbiAgICAgICAgbW9kaWZpZXJzICs9ICdtJztcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLnVuaWNvZGUpIHtcclxuICAgICAgICBtb2RpZmllcnMgKz0gJ3UnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoc2VhcmNoU3RyaW5nLCBtb2RpZmllcnMpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZWdFeHBMZWFkc1RvRW5kbGVzc0xvb3AocmVnZXhwKSB7XHJcbiAgICAvLyBFeGl0IGVhcmx5IGlmIGl0J3Mgb25lIG9mIHRoZXNlIHNwZWNpYWwgY2FzZXMgd2hpY2ggYXJlIG1lYW50IHRvIG1hdGNoXHJcbiAgICAvLyBhZ2FpbnN0IGFuIGVtcHR5IHN0cmluZ1xyXG4gICAgaWYgKHJlZ2V4cC5zb3VyY2UgPT09ICdeJyB8fCByZWdleHAuc291cmNlID09PSAnXiQnIHx8IHJlZ2V4cC5zb3VyY2UgPT09ICckJyB8fCByZWdleHAuc291cmNlID09PSAnXlxcXFxzKiQnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gV2UgY2hlY2sgYWdhaW5zdCBhbiBlbXB0eSBzdHJpbmcuIElmIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gZG9lc24ndCBhZHZhbmNlXHJcbiAgICAvLyAoZS5nLiBlbmRzIGluIGFuIGVuZGxlc3MgbG9vcCkgaXQgd2lsbCBtYXRjaCBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICBjb25zdCBtYXRjaCA9IHJlZ2V4cC5leGVjKCcnKTtcclxuICAgIHJldHVybiAhIShtYXRjaCAmJiByZWdleHAubGFzdEluZGV4ID09PSAwKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVnRXhwRmxhZ3MocmVnZXhwKSB7XHJcbiAgICByZXR1cm4gKHJlZ2V4cC5nbG9iYWwgPyAnZycgOiAnJylcclxuICAgICAgICArIChyZWdleHAuaWdub3JlQ2FzZSA/ICdpJyA6ICcnKVxyXG4gICAgICAgICsgKHJlZ2V4cC5tdWx0aWxpbmUgPyAnbScgOiAnJylcclxuICAgICAgICArIChyZWdleHAgLyogc3RhbmRhbG9uZSBlZGl0b3IgY29tcGlsYXRpb24gKi8udW5pY29kZSA/ICd1JyA6ICcnKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRMaW5lcyhzdHIpIHtcclxuICAgIHJldHVybiBzdHIuc3BsaXQoL1xcclxcbnxcXHJ8XFxuLyk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgZmlyc3QgaW5kZXggb2YgdGhlIHN0cmluZyB0aGF0IGlzIG5vdCB3aGl0ZXNwYWNlLlxyXG4gKiBJZiBzdHJpbmcgaXMgZW1wdHkgb3IgY29udGFpbnMgb25seSB3aGl0ZXNwYWNlcywgcmV0dXJucyAtMVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0Tm9uV2hpdGVzcGFjZUluZGV4KHN0cikge1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHN0ci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGNoQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIGlmIChjaENvZGUgIT09IDMyIC8qIFNwYWNlICovICYmIGNoQ29kZSAhPT0gOSAvKiBUYWIgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBsZWFkaW5nIHdoaXRlc3BhY2Ugb2YgdGhlIHN0cmluZy5cclxuICogSWYgdGhlIHN0cmluZyBjb250YWlucyBvbmx5IHdoaXRlc3BhY2VzLCByZXR1cm5zIGVudGlyZSBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMZWFkaW5nV2hpdGVzcGFjZShzdHIsIHN0YXJ0ID0gMCwgZW5kID0gc3RyLmxlbmd0aCkge1xyXG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcclxuICAgICAgICBjb25zdCBjaENvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoY2hDb2RlICE9PSAzMiAvKiBTcGFjZSAqLyAmJiBjaENvZGUgIT09IDkgLyogVGFiICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHIuc3Vic3RyaW5nKHN0YXJ0LCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RyLnN1YnN0cmluZyhzdGFydCwgZW5kKTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBsYXN0IGluZGV4IG9mIHRoZSBzdHJpbmcgdGhhdCBpcyBub3Qgd2hpdGVzcGFjZS5cclxuICogSWYgc3RyaW5nIGlzIGVtcHR5IG9yIGNvbnRhaW5zIG9ubHkgd2hpdGVzcGFjZXMsIHJldHVybnMgLTFcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBsYXN0Tm9uV2hpdGVzcGFjZUluZGV4KHN0ciwgc3RhcnRJbmRleCA9IHN0ci5sZW5ndGggLSAxKSB7XHJcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBjb25zdCBjaENvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoY2hDb2RlICE9PSAzMiAvKiBTcGFjZSAqLyAmJiBjaENvZGUgIT09IDkgLyogVGFiICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAtMTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZShhLCBiKSB7XHJcbiAgICBpZiAoYSA8IGIpIHtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChhID4gYikge1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVTdWJzdHJpbmcoYSwgYiwgYVN0YXJ0ID0gMCwgYUVuZCA9IGEubGVuZ3RoLCBiU3RhcnQgPSAwLCBiRW5kID0gYi5sZW5ndGgpIHtcclxuICAgIGZvciAoOyBhU3RhcnQgPCBhRW5kICYmIGJTdGFydCA8IGJFbmQ7IGFTdGFydCsrLCBiU3RhcnQrKykge1xyXG4gICAgICAgIGxldCBjb2RlQSA9IGEuY2hhckNvZGVBdChhU3RhcnQpO1xyXG4gICAgICAgIGxldCBjb2RlQiA9IGIuY2hhckNvZGVBdChiU3RhcnQpO1xyXG4gICAgICAgIGlmIChjb2RlQSA8IGNvZGVCKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29kZUEgPiBjb2RlQikge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBhTGVuID0gYUVuZCAtIGFTdGFydDtcclxuICAgIGNvbnN0IGJMZW4gPSBiRW5kIC0gYlN0YXJ0O1xyXG4gICAgaWYgKGFMZW4gPCBiTGVuKSB7XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYUxlbiA+IGJMZW4pIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuICAgIHJldHVybiAwO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlSWdub3JlQ2FzZShhLCBiKSB7XHJcbiAgICByZXR1cm4gY29tcGFyZVN1YnN0cmluZ0lnbm9yZUNhc2UoYSwgYiwgMCwgYS5sZW5ndGgsIDAsIGIubGVuZ3RoKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZVN1YnN0cmluZ0lnbm9yZUNhc2UoYSwgYiwgYVN0YXJ0ID0gMCwgYUVuZCA9IGEubGVuZ3RoLCBiU3RhcnQgPSAwLCBiRW5kID0gYi5sZW5ndGgpIHtcclxuICAgIGZvciAoOyBhU3RhcnQgPCBhRW5kICYmIGJTdGFydCA8IGJFbmQ7IGFTdGFydCsrLCBiU3RhcnQrKykge1xyXG4gICAgICAgIGxldCBjb2RlQSA9IGEuY2hhckNvZGVBdChhU3RhcnQpO1xyXG4gICAgICAgIGxldCBjb2RlQiA9IGIuY2hhckNvZGVBdChiU3RhcnQpO1xyXG4gICAgICAgIGlmIChjb2RlQSA9PT0gY29kZUIpIHtcclxuICAgICAgICAgICAgLy8gZXF1YWxcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRpZmYgPSBjb2RlQSAtIGNvZGVCO1xyXG4gICAgICAgIGlmIChkaWZmID09PSAzMiAmJiBpc1VwcGVyQXNjaWlMZXR0ZXIoY29kZUIpKSB7IC8vY29kZUIgPVs2NS05MF0gJiYgY29kZUEgPVs5Ny0xMjJdXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChkaWZmID09PSAtMzIgJiYgaXNVcHBlckFzY2lpTGV0dGVyKGNvZGVBKSkgeyAvL2NvZGVCID1bOTctMTIyXSAmJiBjb2RlQSA9WzY1LTkwXVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzTG93ZXJBc2NpaUxldHRlcihjb2RlQSkgJiYgaXNMb3dlckFzY2lpTGV0dGVyKGNvZGVCKSkge1xyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICByZXR1cm4gZGlmZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wYXJlU3Vic3RyaW5nKGEudG9Mb3dlckNhc2UoKSwgYi50b0xvd2VyQ2FzZSgpLCBhU3RhcnQsIGFFbmQsIGJTdGFydCwgYkVuZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgYUxlbiA9IGFFbmQgLSBhU3RhcnQ7XHJcbiAgICBjb25zdCBiTGVuID0gYkVuZCAtIGJTdGFydDtcclxuICAgIGlmIChhTGVuIDwgYkxlbikge1xyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGFMZW4gPiBiTGVuKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaXNMb3dlckFzY2lpTGV0dGVyKGNvZGUpIHtcclxuICAgIHJldHVybiBjb2RlID49IDk3IC8qIGEgKi8gJiYgY29kZSA8PSAxMjIgLyogeiAqLztcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaXNVcHBlckFzY2lpTGV0dGVyKGNvZGUpIHtcclxuICAgIHJldHVybiBjb2RlID49IDY1IC8qIEEgKi8gJiYgY29kZSA8PSA5MCAvKiBaICovO1xyXG59XHJcbmZ1bmN0aW9uIGlzQXNjaWlMZXR0ZXIoY29kZSkge1xyXG4gICAgcmV0dXJuIGlzTG93ZXJBc2NpaUxldHRlcihjb2RlKSB8fCBpc1VwcGVyQXNjaWlMZXR0ZXIoY29kZSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFsc0lnbm9yZUNhc2UoYSwgYikge1xyXG4gICAgcmV0dXJuIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBkb0VxdWFsc0lnbm9yZUNhc2UoYSwgYik7XHJcbn1cclxuZnVuY3Rpb24gZG9FcXVhbHNJZ25vcmVDYXNlKGEsIGIsIHN0b3BBdCA9IGEubGVuZ3RoKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0b3BBdDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY29kZUEgPSBhLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgY29uc3QgY29kZUIgPSBiLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGNvZGVBID09PSBjb2RlQikge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYS16IEEtWlxyXG4gICAgICAgIGlmIChpc0FzY2lpTGV0dGVyKGNvZGVBKSAmJiBpc0FzY2lpTGV0dGVyKGNvZGVCKSkge1xyXG4gICAgICAgICAgICBjb25zdCBkaWZmID0gTWF0aC5hYnMoY29kZUEgLSBjb2RlQik7XHJcbiAgICAgICAgICAgIGlmIChkaWZmICE9PSAwICYmIGRpZmYgIT09IDMyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQW55IG90aGVyIGNoYXJjb2RlXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGVBKS50b0xvd2VyQ2FzZSgpICE9PSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGVCKS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRzV2l0aElnbm9yZUNhc2Uoc3RyLCBjYW5kaWRhdGUpIHtcclxuICAgIGNvbnN0IGNhbmRpZGF0ZUxlbmd0aCA9IGNhbmRpZGF0ZS5sZW5ndGg7XHJcbiAgICBpZiAoY2FuZGlkYXRlLmxlbmd0aCA+IHN0ci5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9FcXVhbHNJZ25vcmVDYXNlKHN0ciwgY2FuZGlkYXRlLCBjYW5kaWRhdGVMZW5ndGgpO1xyXG59XHJcbi8qKlxyXG4gKiBAcmV0dXJucyB0aGUgbGVuZ3RoIG9mIHRoZSBjb21tb24gcHJlZml4IG9mIHRoZSB0d28gc3RyaW5ncy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjb21tb25QcmVmaXhMZW5ndGgoYSwgYikge1xyXG4gICAgbGV0IGksIGxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBpZiAoYS5jaGFyQ29kZUF0KGkpICE9PSBiLmNoYXJDb2RlQXQoaSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlbjtcclxufVxyXG4vKipcclxuICogQHJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgY29tbW9uIHN1ZmZpeCBvZiB0aGUgdHdvIHN0cmluZ3MuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29tbW9uU3VmZml4TGVuZ3RoKGEsIGIpIHtcclxuICAgIGxldCBpLCBsZW4gPSBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpO1xyXG4gICAgY29uc3QgYUxhc3RJbmRleCA9IGEubGVuZ3RoIC0gMTtcclxuICAgIGNvbnN0IGJMYXN0SW5kZXggPSBiLmxlbmd0aCAtIDE7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBpZiAoYS5jaGFyQ29kZUF0KGFMYXN0SW5kZXggLSBpKSAhPT0gYi5jaGFyQ29kZUF0KGJMYXN0SW5kZXggLSBpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVuO1xyXG59XHJcbi8qKlxyXG4gKiBTZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TdXJyb2dhdGVfcGFpclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzSGlnaFN1cnJvZ2F0ZShjaGFyQ29kZSkge1xyXG4gICAgcmV0dXJuICgweEQ4MDAgPD0gY2hhckNvZGUgJiYgY2hhckNvZGUgPD0gMHhEQkZGKTtcclxufVxyXG4vKipcclxuICogU2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3Vycm9nYXRlX3BhaXJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0xvd1N1cnJvZ2F0ZShjaGFyQ29kZSkge1xyXG4gICAgcmV0dXJuICgweERDMDAgPD0gY2hhckNvZGUgJiYgY2hhckNvZGUgPD0gMHhERkZGKTtcclxufVxyXG4vKipcclxuICogU2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3Vycm9nYXRlX3BhaXJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQ29kZVBvaW50KGhpZ2hTdXJyb2dhdGUsIGxvd1N1cnJvZ2F0ZSkge1xyXG4gICAgcmV0dXJuICgoaGlnaFN1cnJvZ2F0ZSAtIDB4RDgwMCkgPDwgMTApICsgKGxvd1N1cnJvZ2F0ZSAtIDB4REMwMCkgKyAweDEwMDAwO1xyXG59XHJcbi8qKlxyXG4gKiBnZXQgdGhlIGNvZGUgcG9pbnQgdGhhdCBiZWdpbnMgYXQgb2Zmc2V0IGBvZmZzZXRgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmV4dENvZGVQb2ludChzdHIsIGxlbiwgb2Zmc2V0KSB7XHJcbiAgICBjb25zdCBjaGFyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KG9mZnNldCk7XHJcbiAgICBpZiAoaXNIaWdoU3Vycm9nYXRlKGNoYXJDb2RlKSAmJiBvZmZzZXQgKyAxIDwgbGVuKSB7XHJcbiAgICAgICAgY29uc3QgbmV4dENoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQob2Zmc2V0ICsgMSk7XHJcbiAgICAgICAgaWYgKGlzTG93U3Vycm9nYXRlKG5leHRDaGFyQ29kZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVDb2RlUG9pbnQoY2hhckNvZGUsIG5leHRDaGFyQ29kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNoYXJDb2RlO1xyXG59XHJcbi8qKlxyXG4gKiBnZXQgdGhlIGNvZGUgcG9pbnQgdGhhdCBlbmRzIHJpZ2h0IGJlZm9yZSBvZmZzZXQgYG9mZnNldGBcclxuICovXHJcbmZ1bmN0aW9uIGdldFByZXZDb2RlUG9pbnQoc3RyLCBvZmZzZXQpIHtcclxuICAgIGNvbnN0IGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQob2Zmc2V0IC0gMSk7XHJcbiAgICBpZiAoaXNMb3dTdXJyb2dhdGUoY2hhckNvZGUpICYmIG9mZnNldCA+IDEpIHtcclxuICAgICAgICBjb25zdCBwcmV2Q2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChvZmZzZXQgLSAyKTtcclxuICAgICAgICBpZiAoaXNIaWdoU3Vycm9nYXRlKHByZXZDaGFyQ29kZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVDb2RlUG9pbnQocHJldkNoYXJDb2RlLCBjaGFyQ29kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNoYXJDb2RlO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBuZXh0Q2hhckxlbmd0aChzdHIsIG9mZnNldCkge1xyXG4gICAgY29uc3QgZ3JhcGhlbWVCcmVha1RyZWUgPSBHcmFwaGVtZUJyZWFrVHJlZS5nZXRJbnN0YW5jZSgpO1xyXG4gICAgY29uc3QgaW5pdGlhbE9mZnNldCA9IG9mZnNldDtcclxuICAgIGNvbnN0IGxlbiA9IHN0ci5sZW5ndGg7XHJcbiAgICBjb25zdCBpbml0aWFsQ29kZVBvaW50ID0gZ2V0TmV4dENvZGVQb2ludChzdHIsIGxlbiwgb2Zmc2V0KTtcclxuICAgIG9mZnNldCArPSAoaW5pdGlhbENvZGVQb2ludCA+PSA2NTUzNiAvKiBVTklDT0RFX1NVUFBMRU1FTlRBUllfUExBTkVfQkVHSU4gKi8gPyAyIDogMSk7XHJcbiAgICBsZXQgZ3JhcGhlbWVCcmVha1R5cGUgPSBncmFwaGVtZUJyZWFrVHJlZS5nZXRHcmFwaGVtZUJyZWFrVHlwZShpbml0aWFsQ29kZVBvaW50KTtcclxuICAgIHdoaWxlIChvZmZzZXQgPCBsZW4pIHtcclxuICAgICAgICBjb25zdCBuZXh0Q29kZVBvaW50ID0gZ2V0TmV4dENvZGVQb2ludChzdHIsIGxlbiwgb2Zmc2V0KTtcclxuICAgICAgICBjb25zdCBuZXh0R3JhcGhlbWVCcmVha1R5cGUgPSBncmFwaGVtZUJyZWFrVHJlZS5nZXRHcmFwaGVtZUJyZWFrVHlwZShuZXh0Q29kZVBvaW50KTtcclxuICAgICAgICBpZiAoYnJlYWtCZXR3ZWVuR3JhcGhlbWVCcmVha1R5cGUoZ3JhcGhlbWVCcmVha1R5cGUsIG5leHRHcmFwaGVtZUJyZWFrVHlwZSkpIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9mZnNldCArPSAobmV4dENvZGVQb2ludCA+PSA2NTUzNiAvKiBVTklDT0RFX1NVUFBMRU1FTlRBUllfUExBTkVfQkVHSU4gKi8gPyAyIDogMSk7XHJcbiAgICAgICAgZ3JhcGhlbWVCcmVha1R5cGUgPSBuZXh0R3JhcGhlbWVCcmVha1R5cGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKG9mZnNldCAtIGluaXRpYWxPZmZzZXQpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBwcmV2Q2hhckxlbmd0aChzdHIsIG9mZnNldCkge1xyXG4gICAgY29uc3QgZ3JhcGhlbWVCcmVha1RyZWUgPSBHcmFwaGVtZUJyZWFrVHJlZS5nZXRJbnN0YW5jZSgpO1xyXG4gICAgY29uc3QgaW5pdGlhbE9mZnNldCA9IG9mZnNldDtcclxuICAgIGNvbnN0IGluaXRpYWxDb2RlUG9pbnQgPSBnZXRQcmV2Q29kZVBvaW50KHN0ciwgb2Zmc2V0KTtcclxuICAgIG9mZnNldCAtPSAoaW5pdGlhbENvZGVQb2ludCA+PSA2NTUzNiAvKiBVTklDT0RFX1NVUFBMRU1FTlRBUllfUExBTkVfQkVHSU4gKi8gPyAyIDogMSk7XHJcbiAgICBsZXQgZ3JhcGhlbWVCcmVha1R5cGUgPSBncmFwaGVtZUJyZWFrVHJlZS5nZXRHcmFwaGVtZUJyZWFrVHlwZShpbml0aWFsQ29kZVBvaW50KTtcclxuICAgIHdoaWxlIChvZmZzZXQgPiAwKSB7XHJcbiAgICAgICAgY29uc3QgcHJldkNvZGVQb2ludCA9IGdldFByZXZDb2RlUG9pbnQoc3RyLCBvZmZzZXQpO1xyXG4gICAgICAgIGNvbnN0IHByZXZHcmFwaGVtZUJyZWFrVHlwZSA9IGdyYXBoZW1lQnJlYWtUcmVlLmdldEdyYXBoZW1lQnJlYWtUeXBlKHByZXZDb2RlUG9pbnQpO1xyXG4gICAgICAgIGlmIChicmVha0JldHdlZW5HcmFwaGVtZUJyZWFrVHlwZShwcmV2R3JhcGhlbWVCcmVha1R5cGUsIGdyYXBoZW1lQnJlYWtUeXBlKSkge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgb2Zmc2V0IC09IChwcmV2Q29kZVBvaW50ID49IDY1NTM2IC8qIFVOSUNPREVfU1VQUExFTUVOVEFSWV9QTEFORV9CRUdJTiAqLyA/IDIgOiAxKTtcclxuICAgICAgICBncmFwaGVtZUJyZWFrVHlwZSA9IHByZXZHcmFwaGVtZUJyZWFrVHlwZTtcclxuICAgIH1cclxuICAgIHJldHVybiAoaW5pdGlhbE9mZnNldCAtIG9mZnNldCk7XHJcbn1cclxuLyoqXHJcbiAqIEEgbWFudWFsIGRlY29kaW5nIG9mIGEgVVRGOCBzdHJpbmcuXHJcbiAqIFVzZSBvbmx5IGluIGVudmlyb25tZW50cyB3aGljaCBkbyBub3Qgb2ZmZXIgbmF0aXZlIGNvbnZlcnNpb24gbWV0aG9kcyFcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVVVEY4KGJ1ZmZlcikge1xyXG4gICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVVRGLThcclxuICAgIGNvbnN0IGxlbiA9IGJ1ZmZlci5ieXRlTGVuZ3RoO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gW107XHJcbiAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgIHdoaWxlIChvZmZzZXQgPCBsZW4pIHtcclxuICAgICAgICBjb25zdCB2MCA9IGJ1ZmZlcltvZmZzZXRdO1xyXG4gICAgICAgIGxldCBjb2RlUG9pbnQ7XHJcbiAgICAgICAgaWYgKHYwID49IDBiMTExMTAwMDAgJiYgb2Zmc2V0ICsgMyA8IGxlbikge1xyXG4gICAgICAgICAgICAvLyA0IGJ5dGVzXHJcbiAgICAgICAgICAgIGNvZGVQb2ludCA9ICgoKChidWZmZXJbb2Zmc2V0KytdICYgMGIwMDAwMDExMSkgPDwgMTgpID4+PiAwKVxyXG4gICAgICAgICAgICAgICAgfCAoKChidWZmZXJbb2Zmc2V0KytdICYgMGIwMDExMTExMSkgPDwgMTIpID4+PiAwKVxyXG4gICAgICAgICAgICAgICAgfCAoKChidWZmZXJbb2Zmc2V0KytdICYgMGIwMDExMTExMSkgPDwgNikgPj4+IDApXHJcbiAgICAgICAgICAgICAgICB8ICgoKGJ1ZmZlcltvZmZzZXQrK10gJiAwYjAwMTExMTExKSA8PCAwKSA+Pj4gMCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh2MCA+PSAwYjExMTAwMDAwICYmIG9mZnNldCArIDIgPCBsZW4pIHtcclxuICAgICAgICAgICAgLy8gMyBieXRlc1xyXG4gICAgICAgICAgICBjb2RlUG9pbnQgPSAoKCgoYnVmZmVyW29mZnNldCsrXSAmIDBiMDAwMDExMTEpIDw8IDEyKSA+Pj4gMClcclxuICAgICAgICAgICAgICAgIHwgKCgoYnVmZmVyW29mZnNldCsrXSAmIDBiMDAxMTExMTEpIDw8IDYpID4+PiAwKVxyXG4gICAgICAgICAgICAgICAgfCAoKChidWZmZXJbb2Zmc2V0KytdICYgMGIwMDExMTExMSkgPDwgMCkgPj4+IDApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodjAgPj0gMGIxMTAwMDAwMCAmJiBvZmZzZXQgKyAxIDwgbGVuKSB7XHJcbiAgICAgICAgICAgIC8vIDIgYnl0ZXNcclxuICAgICAgICAgICAgY29kZVBvaW50ID0gKCgoKGJ1ZmZlcltvZmZzZXQrK10gJiAwYjAwMDExMTExKSA8PCA2KSA+Pj4gMClcclxuICAgICAgICAgICAgICAgIHwgKCgoYnVmZmVyW29mZnNldCsrXSAmIDBiMDAxMTExMTEpIDw8IDApID4+PiAwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAxIGJ5dGVcclxuICAgICAgICAgICAgY29kZVBvaW50ID0gYnVmZmVyW29mZnNldCsrXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChjb2RlUG9pbnQgPj0gMCAmJiBjb2RlUG9pbnQgPD0gMHhEN0ZGKSB8fCAoY29kZVBvaW50ID49IDB4RTAwMCAmJiBjb2RlUG9pbnQgPD0gMHhGRkZGKSkge1xyXG4gICAgICAgICAgICAvLyBCYXNpYyBNdWx0aWxpbmd1YWwgUGxhbmVcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlUG9pbnQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29kZVBvaW50ID49IDB4MDEwMDAwICYmIGNvZGVQb2ludCA8PSAweDEwRkZGRikge1xyXG4gICAgICAgICAgICAvLyBTdXBwbGVtZW50YXJ5IFBsYW5lc1xyXG4gICAgICAgICAgICBjb25zdCB1UHJpbWUgPSBjb2RlUG9pbnQgLSAweDEwMDAwO1xyXG4gICAgICAgICAgICBjb25zdCB3MSA9IDB4RDgwMCArICgodVByaW1lICYgMGIxMTExMTExMTExMDAwMDAwMDAwMCkgPj4+IDEwKTtcclxuICAgICAgICAgICAgY29uc3QgdzIgPSAweERDMDAgKyAoKHVQcmltZSAmIDBiMDAwMDAwMDAwMDExMTExMTExMTEpID4+PiAwKTtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh3MSkpO1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHcyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBpbGxlZ2FsIGNvZGUgcG9pbnRcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgweEZGRkQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZWQgdXNpbmcgaHR0cHM6Ly9naXRodWIuY29tL2FsZXhkaW1hL3VuaWNvZGUtdXRpbHMvYmxvYi9tYXN0ZXIvZ2VuZXJhdGUtcnRsLXRlc3QuanNcclxuICovXHJcbmNvbnN0IENPTlRBSU5TX1JUTCA9IC8oPzpbXFx1MDVCRVxcdTA1QzBcXHUwNUMzXFx1MDVDNlxcdTA1RDAtXFx1MDVGNFxcdTA2MDhcXHUwNjBCXFx1MDYwRFxcdTA2MUItXFx1MDY0QVxcdTA2NkQtXFx1MDY2RlxcdTA2NzEtXFx1MDZENVxcdTA2RTVcXHUwNkU2XFx1MDZFRVxcdTA2RUZcXHUwNkZBLVxcdTA3MTBcXHUwNzEyLVxcdTA3MkZcXHUwNzRELVxcdTA3QTVcXHUwN0IxLVxcdTA3RUFcXHUwN0Y0XFx1MDdGNVxcdTA3RkEtXFx1MDgxNVxcdTA4MUFcXHUwODI0XFx1MDgyOFxcdTA4MzAtXFx1MDg1OFxcdTA4NUUtXFx1MDhCRFxcdTIwMEZcXHVGQjFEXFx1RkIxRi1cXHVGQjI4XFx1RkIyQS1cXHVGRDNEXFx1RkQ1MC1cXHVGREZDXFx1RkU3MC1cXHVGRUZDXXxcXHVEODAyW1xcdURDMDAtXFx1REQxQlxcdUREMjAtXFx1REUwMFxcdURFMTAtXFx1REUzM1xcdURFNDAtXFx1REVFNFxcdURFRUItXFx1REYzNVxcdURGNDAtXFx1REZGRl18XFx1RDgwM1tcXHVEQzAwLVxcdURDRkZdfFxcdUQ4M0FbXFx1REMwMC1cXHVEQ0NGXFx1REQwMC1cXHVERDQzXFx1REQ1MC1cXHVERkZGXXxcXHVEODNCW1xcdURDMDAtXFx1REVCQl0pLztcclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiBgc3RyYCBjb250YWlucyBhbnkgVW5pY29kZSBjaGFyYWN0ZXIgdGhhdCBpcyBjbGFzc2lmaWVkIGFzIFwiUlwiIG9yIFwiQUxcIi5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc1JUTChzdHIpIHtcclxuICAgIHJldHVybiBDT05UQUlOU19SVEwudGVzdChzdHIpO1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZWQgdXNpbmcgaHR0cHM6Ly9naXRodWIuY29tL2FsZXhkaW1hL3VuaWNvZGUtdXRpbHMvYmxvYi9tYXN0ZXIvZ2VuZXJhdGUtZW1vamktdGVzdC5qc1xyXG4gKi9cclxuY29uc3QgQ09OVEFJTlNfRU1PSkkgPSAvKD86W1xcdTIzMUFcXHUyMzFCXFx1MjNGMFxcdTIzRjNcXHUyNjAwLVxcdTI3QkZcXHUyQjUwXFx1MkI1NV18XFx1RDgzQ1tcXHVEREU2LVxcdURERkZcXHVERjAwLVxcdURGRkZdfFxcdUQ4M0RbXFx1REMwMC1cXHVERTRGXFx1REU4MC1cXHVERUZDXFx1REZFMC1cXHVERkVCXXxcXHVEODNFW1xcdUREMDAtXFx1RERGRlxcdURFNzAtXFx1REVENl0pLztcclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zRW1vamkoc3RyKSB7XHJcbiAgICByZXR1cm4gQ09OVEFJTlNfRU1PSkkudGVzdChzdHIpO1xyXG59XHJcbmNvbnN0IElTX0JBU0lDX0FTQ0lJID0gL15bXFx0XFxuXFxyXFx4MjAtXFx4N0VdKiQvO1xyXG4vKipcclxuICogUmV0dXJucyB0cnVlIGlmIGBzdHJgIGNvbnRhaW5zIG9ubHkgYmFzaWMgQVNDSUkgY2hhcmFjdGVycyBpbiB0aGUgcmFuZ2UgMzIgLSAxMjYgKGluY2x1ZGluZyAzMiBhbmQgMTI2KSBvciBcXG4sIFxcciwgXFx0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCYXNpY0FTQ0lJKHN0cikge1xyXG4gICAgcmV0dXJuIElTX0JBU0lDX0FTQ0lJLnRlc3Qoc3RyKTtcclxufVxyXG5leHBvcnQgY29uc3QgVU5VU1VBTF9MSU5FX1RFUk1JTkFUT1JTID0gL1tcXHUyMDI4XFx1MjAyOV0vOyAvLyBMSU5FIFNFUEFSQVRPUiAoTFMpIG9yIFBBUkFHUkFQSCBTRVBBUkFUT1IgKFBTKVxyXG4vKipcclxuICogUmV0dXJucyB0cnVlIGlmIGBzdHJgIGNvbnRhaW5zIHVudXN1YWwgbGluZSB0ZXJtaW5hdG9ycywgbGlrZSBMUyBvciBQU1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zVW51c3VhbExpbmVUZXJtaW5hdG9ycyhzdHIpIHtcclxuICAgIHJldHVybiBVTlVTVUFMX0xJTkVfVEVSTUlOQVRPUlMudGVzdChzdHIpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc0Z1bGxXaWR0aENoYXJhY3RlcihzdHIpIHtcclxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzdHIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBpZiAoaXNGdWxsV2lkdGhDaGFyYWN0ZXIoc3RyLmNoYXJDb2RlQXQoaSkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaXNGdWxsV2lkdGhDaGFyYWN0ZXIoY2hhckNvZGUpIHtcclxuICAgIC8vIERvIGEgY2hlYXAgdHJpY2sgdG8gYmV0dGVyIHN1cHBvcnQgd3JhcHBpbmcgb2Ygd2lkZSBjaGFyYWN0ZXJzLCB0cmVhdCB0aGVtIGFzIDIgY29sdW1uc1xyXG4gICAgLy8gaHR0cDovL2pyZ3JhcGhpeC5uZXQvcmVzZWFyY2gvdW5pY29kZV9ibG9ja3MucGhwXHJcbiAgICAvLyAgICAgICAgICAyRTgwIFx1MjAxNCAyRUZGICAgQ0pLIFJhZGljYWxzIFN1cHBsZW1lbnRcclxuICAgIC8vICAgICAgICAgIDJGMDAgXHUyMDE0IDJGREYgICBLYW5neGkgUmFkaWNhbHNcclxuICAgIC8vICAgICAgICAgIDJGRjAgXHUyMDE0IDJGRkYgICBJZGVvZ3JhcGhpYyBEZXNjcmlwdGlvbiBDaGFyYWN0ZXJzXHJcbiAgICAvLyAgICAgICAgICAzMDAwIFx1MjAxNCAzMDNGICAgQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uXHJcbiAgICAvLyAgICAgICAgICAzMDQwIFx1MjAxNCAzMDlGICAgSGlyYWdhbmFcclxuICAgIC8vICAgICAgICAgIDMwQTAgXHUyMDE0IDMwRkYgICBLYXRha2FuYVxyXG4gICAgLy8gICAgICAgICAgMzEwMCBcdTIwMTQgMzEyRiAgIEJvcG9tb2ZvXHJcbiAgICAvLyAgICAgICAgICAzMTMwIFx1MjAxNCAzMThGICAgSGFuZ3VsIENvbXBhdGliaWxpdHkgSmFtb1xyXG4gICAgLy8gICAgICAgICAgMzE5MCBcdTIwMTQgMzE5RiAgIEthbmJ1blxyXG4gICAgLy8gICAgICAgICAgMzFBMCBcdTIwMTQgMzFCRiAgIEJvcG9tb2ZvIEV4dGVuZGVkXHJcbiAgICAvLyAgICAgICAgICAzMUYwIFx1MjAxNCAzMUZGICAgS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9uc1xyXG4gICAgLy8gICAgICAgICAgMzIwMCBcdTIwMTQgMzJGRiAgIEVuY2xvc2VkIENKSyBMZXR0ZXJzIGFuZCBNb250aHNcclxuICAgIC8vICAgICAgICAgIDMzMDAgXHUyMDE0IDMzRkYgICBDSksgQ29tcGF0aWJpbGl0eVxyXG4gICAgLy8gICAgICAgICAgMzQwMCBcdTIwMTQgNERCRiAgIENKSyBVbmlmaWVkIElkZW9ncmFwaHMgRXh0ZW5zaW9uIEFcclxuICAgIC8vICAgICAgICAgIDREQzAgXHUyMDE0IDRERkYgICBZaWppbmcgSGV4YWdyYW0gU3ltYm9sc1xyXG4gICAgLy8gICAgICAgICAgNEUwMCBcdTIwMTQgOUZGRiAgIENKSyBVbmlmaWVkIElkZW9ncmFwaHNcclxuICAgIC8vICAgICAgICAgIEEwMDAgXHUyMDE0IEE0OEYgICBZaSBTeWxsYWJsZXNcclxuICAgIC8vICAgICAgICAgIEE0OTAgXHUyMDE0IEE0Q0YgICBZaSBSYWRpY2Fsc1xyXG4gICAgLy8gICAgICAgICAgQUMwMCBcdTIwMTQgRDdBRiAgIEhhbmd1bCBTeWxsYWJsZXNcclxuICAgIC8vIFtJR05PUkVdIEQ4MDAgXHUyMDE0IERCN0YgICBIaWdoIFN1cnJvZ2F0ZXNcclxuICAgIC8vIFtJR05PUkVdIERCODAgXHUyMDE0IERCRkYgICBIaWdoIFByaXZhdGUgVXNlIFN1cnJvZ2F0ZXNcclxuICAgIC8vIFtJR05PUkVdIERDMDAgXHUyMDE0IERGRkYgICBMb3cgU3Vycm9nYXRlc1xyXG4gICAgLy8gW0lHTk9SRV0gRTAwMCBcdTIwMTQgRjhGRiAgIFByaXZhdGUgVXNlIEFyZWFcclxuICAgIC8vICAgICAgICAgIEY5MDAgXHUyMDE0IEZBRkYgICBDSksgQ29tcGF0aWJpbGl0eSBJZGVvZ3JhcGhzXHJcbiAgICAvLyBbSUdOT1JFXSBGQjAwIFx1MjAxNCBGQjRGICAgQWxwaGFiZXRpYyBQcmVzZW50YXRpb24gRm9ybXNcclxuICAgIC8vIFtJR05PUkVdIEZCNTAgXHUyMDE0IEZERkYgICBBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUFcclxuICAgIC8vIFtJR05PUkVdIEZFMDAgXHUyMDE0IEZFMEYgICBWYXJpYXRpb24gU2VsZWN0b3JzXHJcbiAgICAvLyBbSUdOT1JFXSBGRTIwIFx1MjAxNCBGRTJGICAgQ29tYmluaW5nIEhhbGYgTWFya3NcclxuICAgIC8vIFtJR05PUkVdIEZFMzAgXHUyMDE0IEZFNEYgICBDSksgQ29tcGF0aWJpbGl0eSBGb3Jtc1xyXG4gICAgLy8gW0lHTk9SRV0gRkU1MCBcdTIwMTQgRkU2RiAgIFNtYWxsIEZvcm0gVmFyaWFudHNcclxuICAgIC8vIFtJR05PUkVdIEZFNzAgXHUyMDE0IEZFRkYgICBBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUJcclxuICAgIC8vICAgICAgICAgIEZGMDAgXHUyMDE0IEZGRUYgICBIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3Jtc1xyXG4gICAgLy8gICAgICAgICAgICAgICBbaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSGFsZndpZHRoX2FuZF9mdWxsd2lkdGhfZm9ybXNdXHJcbiAgICAvLyAgICAgICAgICAgICAgIG9mIHdoaWNoIEZGMDEgLSBGRjVFIGZ1bGx3aWR0aCBBU0NJSSBvZiAyMSB0byA3RVxyXG4gICAgLy8gW0lHTk9SRV0gICAgYW5kIEZGNjUgLSBGRkRDIGhhbGZ3aWR0aCBvZiBLYXRha2FuYSBhbmQgSGFuZ3VsXHJcbiAgICAvLyBbSUdOT1JFXSBGRkYwIFx1MjAxNCBGRkZGICAgU3BlY2lhbHNcclxuICAgIGNoYXJDb2RlID0gK2NoYXJDb2RlOyAvLyBAcGVyZlxyXG4gICAgcmV0dXJuICgoY2hhckNvZGUgPj0gMHgyRTgwICYmIGNoYXJDb2RlIDw9IDB4RDdBRilcclxuICAgICAgICB8fCAoY2hhckNvZGUgPj0gMHhGOTAwICYmIGNoYXJDb2RlIDw9IDB4RkFGRilcclxuICAgICAgICB8fCAoY2hhckNvZGUgPj0gMHhGRjAxICYmIGNoYXJDb2RlIDw9IDB4RkY1RSkpO1xyXG59XHJcbi8qKlxyXG4gKiBBIGZhc3QgZnVuY3Rpb24gKHRoZXJlZm9yZSBpbXByZWNpc2UpIHRvIGNoZWNrIGlmIGNvZGUgcG9pbnRzIGFyZSBlbW9qaXMuXHJcbiAqIEdlbmVyYXRlZCB1c2luZyBodHRwczovL2dpdGh1Yi5jb20vYWxleGRpbWEvdW5pY29kZS11dGlscy9ibG9iL21hc3Rlci9nZW5lcmF0ZS1lbW9qaS10ZXN0LmpzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNFbW9qaUltcHJlY2lzZSh4KSB7XHJcbiAgICByZXR1cm4gKCh4ID49IDB4MUYxRTYgJiYgeCA8PSAweDFGMUZGKSB8fCAoeCA9PT0gODk4NikgfHwgKHggPT09IDg5ODcpIHx8ICh4ID09PSA5MjAwKVxyXG4gICAgICAgIHx8ICh4ID09PSA5MjAzKSB8fCAoeCA+PSA5NzI4ICYmIHggPD0gMTAxNzUpIHx8ICh4ID09PSAxMTA4OCkgfHwgKHggPT09IDExMDkzKVxyXG4gICAgICAgIHx8ICh4ID49IDEyNzc0NCAmJiB4IDw9IDEyODU5MSkgfHwgKHggPj0gMTI4NjQwICYmIHggPD0gMTI4NzY0KVxyXG4gICAgICAgIHx8ICh4ID49IDEyODk5MiAmJiB4IDw9IDEyOTAwMykgfHwgKHggPj0gMTI5MjgwICYmIHggPD0gMTI5NTM1KVxyXG4gICAgICAgIHx8ICh4ID49IDEyOTY0OCAmJiB4IDw9IDEyOTc1MCkpO1xyXG59XHJcbi8vIC0tIFVURi04IEJPTVxyXG5leHBvcnQgY29uc3QgVVRGOF9CT01fQ0hBUkFDVEVSID0gU3RyaW5nLmZyb21DaGFyQ29kZSg2NTI3OSAvKiBVVEY4X0JPTSAqLyk7XHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydHNXaXRoVVRGOEJPTShzdHIpIHtcclxuICAgIHJldHVybiAhIShzdHIgJiYgc3RyLmxlbmd0aCA+IDAgJiYgc3RyLmNoYXJDb2RlQXQoMCkgPT09IDY1Mjc5IC8qIFVURjhfQk9NICovKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNVcHBlcmNhc2VDaGFyYWN0ZXIodGFyZ2V0LCBpZ25vcmVFc2NhcGVkQ2hhcnMgPSBmYWxzZSkge1xyXG4gICAgaWYgKCF0YXJnZXQpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoaWdub3JlRXNjYXBlZENoYXJzKSB7XHJcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnJlcGxhY2UoL1xcXFwuL2csICcnKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0YXJnZXQudG9Mb3dlckNhc2UoKSAhPT0gdGFyZ2V0O1xyXG59XHJcbi8qKlxyXG4gKiBQcm9kdWNlcyAnYSctJ3onLCBmb2xsb3dlZCBieSAnQSctJ1onLi4uIGZvbGxvd2VkIGJ5ICdhJy0neicsIGV0Yy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzaW5nbGVMZXR0ZXJIYXNoKG4pIHtcclxuICAgIGNvbnN0IExFVFRFUlNfQ05UID0gKDkwIC8qIFogKi8gLSA2NSAvKiBBICovICsgMSk7XHJcbiAgICBuID0gbiAlICgyICogTEVUVEVSU19DTlQpO1xyXG4gICAgaWYgKG4gPCBMRVRURVJTX0NOVCkge1xyXG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDk3IC8qIGEgKi8gKyBuKTtcclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDY1IC8qIEEgKi8gKyBuIC0gTEVUVEVSU19DTlQpO1xyXG59XHJcbi8vI3JlZ2lvbiBVbmljb2RlIEdyYXBoZW1lIEJyZWFrXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRHcmFwaGVtZUJyZWFrVHlwZShjb2RlUG9pbnQpIHtcclxuICAgIGNvbnN0IGdyYXBoZW1lQnJlYWtUcmVlID0gR3JhcGhlbWVCcmVha1RyZWUuZ2V0SW5zdGFuY2UoKTtcclxuICAgIHJldHVybiBncmFwaGVtZUJyZWFrVHJlZS5nZXRHcmFwaGVtZUJyZWFrVHlwZShjb2RlUG9pbnQpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBicmVha0JldHdlZW5HcmFwaGVtZUJyZWFrVHlwZShicmVha1R5cGVBLCBicmVha1R5cGVCKSB7XHJcbiAgICAvLyBodHRwOi8vd3d3LnVuaWNvZGUub3JnL3JlcG9ydHMvdHIyOS8jR3JhcGhlbWVfQ2x1c3Rlcl9Cb3VuZGFyeV9SdWxlc1xyXG4gICAgLy8gISEhIExldCdzIG1ha2UgdGhlIGNvbW1vbiBjYXNlIGEgYml0IGZhc3RlclxyXG4gICAgaWYgKGJyZWFrVHlwZUEgPT09IDAgLyogT3RoZXIgKi8pIHtcclxuICAgICAgICAvLyBzZWUgaHR0cHM6Ly93d3cudW5pY29kZS5vcmcvUHVibGljLzEzLjAuMC91Y2QvYXV4aWxpYXJ5L0dyYXBoZW1lQnJlYWtUZXN0LTEzLjAuMGQxMC5odG1sI3RhYmxlXHJcbiAgICAgICAgcmV0dXJuIChicmVha1R5cGVCICE9PSA1IC8qIEV4dGVuZCAqLyAmJiBicmVha1R5cGVCICE9PSA3IC8qIFNwYWNpbmdNYXJrICovKTtcclxuICAgIH1cclxuICAgIC8vIERvIG5vdCBicmVhayBiZXR3ZWVuIGEgQ1IgYW5kIExGLiBPdGhlcndpc2UsIGJyZWFrIGJlZm9yZSBhbmQgYWZ0ZXIgY29udHJvbHMuXHJcbiAgICAvLyBHQjMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ1IgXHUwMEQ3IExGXHJcbiAgICAvLyBHQjQgICAgICAgICAgICAgICAgICAgICAgIChDb250cm9sIHwgQ1IgfCBMRikgXHUwMEY3XHJcbiAgICAvLyBHQjUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMEY3IChDb250cm9sIHwgQ1IgfCBMRilcclxuICAgIGlmIChicmVha1R5cGVBID09PSAyIC8qIENSICovKSB7XHJcbiAgICAgICAgaWYgKGJyZWFrVHlwZUIgPT09IDMgLyogTEYgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBHQjNcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoYnJlYWtUeXBlQSA9PT0gNCAvKiBDb250cm9sICovIHx8IGJyZWFrVHlwZUEgPT09IDIgLyogQ1IgKi8gfHwgYnJlYWtUeXBlQSA9PT0gMyAvKiBMRiAqLykge1xyXG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBHQjRcclxuICAgIH1cclxuICAgIGlmIChicmVha1R5cGVCID09PSA0IC8qIENvbnRyb2wgKi8gfHwgYnJlYWtUeXBlQiA9PT0gMiAvKiBDUiAqLyB8fCBicmVha1R5cGVCID09PSAzIC8qIExGICovKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIEdCNVxyXG4gICAgfVxyXG4gICAgLy8gRG8gbm90IGJyZWFrIEhhbmd1bCBzeWxsYWJsZSBzZXF1ZW5jZXMuXHJcbiAgICAvLyBHQjYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEwgXHUwMEQ3IChMIHwgViB8IExWIHwgTFZUKVxyXG4gICAgLy8gR0I3ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChMViB8IFYpIFx1MDBENyAoViB8IFQpXHJcbiAgICAvLyBHQjggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoTFZUIHwgVCkgXHUwMEQ3IFRcclxuICAgIGlmIChicmVha1R5cGVBID09PSA4IC8qIEwgKi8pIHtcclxuICAgICAgICBpZiAoYnJlYWtUeXBlQiA9PT0gOCAvKiBMICovIHx8IGJyZWFrVHlwZUIgPT09IDkgLyogViAqLyB8fCBicmVha1R5cGVCID09PSAxMSAvKiBMViAqLyB8fCBicmVha1R5cGVCID09PSAxMiAvKiBMVlQgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBHQjZcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoYnJlYWtUeXBlQSA9PT0gMTEgLyogTFYgKi8gfHwgYnJlYWtUeXBlQSA9PT0gOSAvKiBWICovKSB7XHJcbiAgICAgICAgaWYgKGJyZWFrVHlwZUIgPT09IDkgLyogViAqLyB8fCBicmVha1R5cGVCID09PSAxMCAvKiBUICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gR0I3XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGJyZWFrVHlwZUEgPT09IDEyIC8qIExWVCAqLyB8fCBicmVha1R5cGVBID09PSAxMCAvKiBUICovKSB7XHJcbiAgICAgICAgaWYgKGJyZWFrVHlwZUIgPT09IDEwIC8qIFQgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBHQjhcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBEbyBub3QgYnJlYWsgYmVmb3JlIGV4dGVuZGluZyBjaGFyYWN0ZXJzIG9yIFpXSi5cclxuICAgIC8vIEdCOSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwRDcgKEV4dGVuZCB8IFpXSilcclxuICAgIGlmIChicmVha1R5cGVCID09PSA1IC8qIEV4dGVuZCAqLyB8fCBicmVha1R5cGVCID09PSAxMyAvKiBaV0ogKi8pIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIEdCOVxyXG4gICAgfVxyXG4gICAgLy8gVGhlIEdCOWEgYW5kIEdCOWIgcnVsZXMgb25seSBhcHBseSB0byBleHRlbmRlZCBncmFwaGVtZSBjbHVzdGVyczpcclxuICAgIC8vIERvIG5vdCBicmVhayBiZWZvcmUgU3BhY2luZ01hcmtzLCBvciBhZnRlciBQcmVwZW5kIGNoYXJhY3RlcnMuXHJcbiAgICAvLyBHQjlhICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMEQ3IFNwYWNpbmdNYXJrXHJcbiAgICAvLyBHQjliICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByZXBlbmQgXHUwMEQ3XHJcbiAgICBpZiAoYnJlYWtUeXBlQiA9PT0gNyAvKiBTcGFjaW5nTWFyayAqLykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gR0I5YVxyXG4gICAgfVxyXG4gICAgaWYgKGJyZWFrVHlwZUEgPT09IDEgLyogUHJlcGVuZCAqLykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gR0I5YlxyXG4gICAgfVxyXG4gICAgLy8gRG8gbm90IGJyZWFrIHdpdGhpbiBlbW9qaSBtb2RpZmllciBzZXF1ZW5jZXMgb3IgZW1vamkgendqIHNlcXVlbmNlcy5cclxuICAgIC8vIEdCMTEgICAgXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY30gRXh0ZW5kKiBaV0ogXHUwMEQ3IFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9XHJcbiAgICBpZiAoYnJlYWtUeXBlQSA9PT0gMTMgLyogWldKICovICYmIGJyZWFrVHlwZUIgPT09IDE0IC8qIEV4dGVuZGVkX1BpY3RvZ3JhcGhpYyAqLykge1xyXG4gICAgICAgIC8vIE5vdGU6IHdlIGFyZSBub3QgaW1wbGVtZW50aW5nIHRoZSBydWxlIGVudGlyZWx5IGhlcmUgdG8gYXZvaWQgaW50cm9kdWNpbmcgc3RhdGVzXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBHQjExXHJcbiAgICB9XHJcbiAgICAvLyBHQjEyICAgICAgICAgICAgICAgICAgICAgICAgICBzb3QgKFJJIFJJKSogUkkgXHUwMEQ3IFJJXHJcbiAgICAvLyBHQjEzICAgICAgICAgICAgICAgICAgICAgICAgW15SSV0gKFJJIFJJKSogUkkgXHUwMEQ3IFJJXHJcbiAgICBpZiAoYnJlYWtUeXBlQSA9PT0gNiAvKiBSZWdpb25hbF9JbmRpY2F0b3IgKi8gJiYgYnJlYWtUeXBlQiA9PT0gNiAvKiBSZWdpb25hbF9JbmRpY2F0b3IgKi8pIHtcclxuICAgICAgICAvLyBOb3RlOiB3ZSBhcmUgbm90IGltcGxlbWVudGluZyB0aGUgcnVsZSBlbnRpcmVseSBoZXJlIHRvIGF2b2lkIGludHJvZHVjaW5nIHN0YXRlc1xyXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gR0IxMiAmIEdCMTNcclxuICAgIH1cclxuICAgIC8vIEdCOTk5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFueSBcdTAwRjcgQW55XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5jbGFzcyBHcmFwaGVtZUJyZWFrVHJlZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9kYXRhID0gZ2V0R3JhcGhlbWVCcmVha1Jhd0RhdGEoKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcclxuICAgICAgICBpZiAoIUdyYXBoZW1lQnJlYWtUcmVlLl9JTlNUQU5DRSkge1xyXG4gICAgICAgICAgICBHcmFwaGVtZUJyZWFrVHJlZS5fSU5TVEFOQ0UgPSBuZXcgR3JhcGhlbWVCcmVha1RyZWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEdyYXBoZW1lQnJlYWtUcmVlLl9JTlNUQU5DRTtcclxuICAgIH1cclxuICAgIGdldEdyYXBoZW1lQnJlYWtUeXBlKGNvZGVQb2ludCkge1xyXG4gICAgICAgIC8vICEhISBMZXQncyBtYWtlIDdiaXQgQVNDSUkgYSBiaXQgZmFzdGVyOiAwLi4zMVxyXG4gICAgICAgIGlmIChjb2RlUG9pbnQgPCAzMikge1xyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSAxMCAvKiBMaW5lRmVlZCAqLykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDMgLyogTEYgKi87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA9PT0gMTMgLyogQ2FycmlhZ2VSZXR1cm4gKi8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAyIC8qIENSICovO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiA0IC8qIENvbnRyb2wgKi87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICEhISBMZXQncyBtYWtlIDdiaXQgQVNDSUkgYSBiaXQgZmFzdGVyOiAzMi4uMTI2XHJcbiAgICAgICAgaWYgKGNvZGVQb2ludCA8IDEyNykge1xyXG4gICAgICAgICAgICByZXR1cm4gMCAvKiBPdGhlciAqLztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX2RhdGE7XHJcbiAgICAgICAgY29uc3Qgbm9kZUNvdW50ID0gZGF0YS5sZW5ndGggLyAzO1xyXG4gICAgICAgIGxldCBub2RlSW5kZXggPSAxO1xyXG4gICAgICAgIHdoaWxlIChub2RlSW5kZXggPD0gbm9kZUNvdW50KSB7XHJcbiAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPCBkYXRhWzMgKiBub2RlSW5kZXhdKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBnbyBsZWZ0XHJcbiAgICAgICAgICAgICAgICBub2RlSW5kZXggPSAyICogbm9kZUluZGV4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGVQb2ludCA+IGRhdGFbMyAqIG5vZGVJbmRleCArIDFdKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBnbyByaWdodFxyXG4gICAgICAgICAgICAgICAgbm9kZUluZGV4ID0gMiAqIG5vZGVJbmRleCArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBoaXRcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhWzMgKiBub2RlSW5kZXggKyAyXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMCAvKiBPdGhlciAqLztcclxuICAgIH1cclxufVxyXG5HcmFwaGVtZUJyZWFrVHJlZS5fSU5TVEFOQ0UgPSBudWxsO1xyXG5mdW5jdGlvbiBnZXRHcmFwaGVtZUJyZWFrUmF3RGF0YSgpIHtcclxuICAgIC8vIGdlbmVyYXRlZCB1c2luZyBodHRwczovL2dpdGh1Yi5jb20vYWxleGRpbWEvdW5pY29kZS11dGlscy9ibG9iL21hc3Rlci9nZW5lcmF0ZS1ncmFwaGVtZS1icmVhay5qc1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoJ1swLDAsMCw1MTU5Miw1MTU5MiwxMSw0NDQyNCw0NDQyNCwxMSw3MjI1MSw3MjI1NCw1LDcxNTAsNzE1MCw3LDQ4MDA4LDQ4MDA4LDExLDU1MTc2LDU1MTc2LDExLDEyODQyMCwxMjg0MjAsMTQsMzI3NiwzMjc3LDUsOTk3OSw5OTgwLDE0LDQ2MjE2LDQ2MjE2LDExLDQ5ODAwLDQ5ODAwLDExLDUzMzg0LDUzMzg0LDExLDcwNzI2LDcwNzI2LDUsMTIyOTE1LDEyMjkxNiw1LDEyOTMyMCwxMjkzMjcsMTQsMjU1OCwyNTU4LDUsNTkwNiw1OTA4LDUsOTc2Miw5NzYzLDE0LDQzMzYwLDQzMzg4LDgsNDUzMjAsNDUzMjAsMTEsNDcxMTIsNDcxMTIsMTEsNDg5MDQsNDg5MDQsMTEsNTA2OTYsNTA2OTYsMTEsNTI0ODgsNTI0ODgsMTEsNTQyODAsNTQyODAsMTEsNzAwODIsNzAwODMsMSw3MTM1MCw3MTM1MCw3LDczMTExLDczMTExLDUsMTI3ODkyLDEyNzg5MywxNCwxMjg3MjYsMTI4NzI3LDE0LDEyOTQ3MywxMjk0NzQsMTQsMjAyNywyMDM1LDUsMjkwMSwyOTAyLDUsMzc4NCwzNzg5LDUsNjc1NCw2NzU0LDUsODQxOCw4NDIwLDUsOTg3Nyw5ODc3LDE0LDExMDg4LDExMDg4LDE0LDQ0MDA4LDQ0MDA4LDUsNDQ4NzIsNDQ4NzIsMTEsNDU3NjgsNDU3NjgsMTEsNDY2NjQsNDY2NjQsMTEsNDc1NjAsNDc1NjAsMTEsNDg0NTYsNDg0NTYsMTEsNDkzNTIsNDkzNTIsMTEsNTAyNDgsNTAyNDgsMTEsNTExNDQsNTExNDQsMTEsNTIwNDAsNTIwNDAsMTEsNTI5MzYsNTI5MzYsMTEsNTM4MzIsNTM4MzIsMTEsNTQ3MjgsNTQ3MjgsMTEsNjk4MTEsNjk4MTQsNSw3MDQ1OSw3MDQ2MCw1LDcxMDk2LDcxMDk5LDcsNzE5OTgsNzE5OTgsNSw3Mjg3NCw3Mjg4MCw1LDExOTE0OSwxMTkxNDksNywxMjczNzQsMTI3Mzc0LDE0LDEyODMzNSwxMjgzMzUsMTQsMTI4NDgyLDEyODQ4MiwxNCwxMjg3NjUsMTI4NzY3LDE0LDEyOTM5OSwxMjk0MDAsMTQsMTI5NjgwLDEyOTY4NSwxNCwxNDc2LDE0NzcsNSwyMzc3LDIzODAsNywyNzU5LDI3NjAsNSwzMTM3LDMxNDAsNywzNDU4LDM0NTksNyw0MTUzLDQxNTQsNSw2NDMyLDY0MzQsNSw2OTc4LDY5NzgsNSw3Njc1LDc2NzksNSw5NzIzLDk3MjYsMTQsOTgyMyw5ODIzLDE0LDk5MTksOTkyMywxNCwxMDAzNSwxMDAzNiwxNCw0MjczNiw0MjczNyw1LDQzNTk2LDQzNTk2LDUsNDQyMDAsNDQyMDAsMTEsNDQ2NDgsNDQ2NDgsMTEsNDUwOTYsNDUwOTYsMTEsNDU1NDQsNDU1NDQsMTEsNDU5OTIsNDU5OTIsMTEsNDY0NDAsNDY0NDAsMTEsNDY4ODgsNDY4ODgsMTEsNDczMzYsNDczMzYsMTEsNDc3ODQsNDc3ODQsMTEsNDgyMzIsNDgyMzIsMTEsNDg2ODAsNDg2ODAsMTEsNDkxMjgsNDkxMjgsMTEsNDk1NzYsNDk1NzYsMTEsNTAwMjQsNTAwMjQsMTEsNTA0NzIsNTA0NzIsMTEsNTA5MjAsNTA5MjAsMTEsNTEzNjgsNTEzNjgsMTEsNTE4MTYsNTE4MTYsMTEsNTIyNjQsNTIyNjQsMTEsNTI3MTIsNTI3MTIsMTEsNTMxNjAsNTMxNjAsMTEsNTM2MDgsNTM2MDgsMTEsNTQwNTYsNTQwNTYsMTEsNTQ1MDQsNTQ1MDQsMTEsNTQ5NTIsNTQ5NTIsMTEsNjgxMDgsNjgxMTEsNSw2OTkzMyw2OTk0MCw1LDcwMTk3LDcwMTk3LDcsNzA0OTgsNzA0OTksNyw3MDg0NSw3MDg0NSw1LDcxMjI5LDcxMjI5LDUsNzE3MjcsNzE3MzUsNSw3MjE1NCw3MjE1NSw1LDcyMzQ0LDcyMzQ1LDUsNzMwMjMsNzMwMjksNSw5NDA5NSw5NDA5OCw1LDEyMTQwMywxMjE0NTIsNSwxMjY5ODEsMTI3MTgyLDE0LDEyNzUzOCwxMjc1NDYsMTQsMTI3OTkwLDEyNzk5MCwxNCwxMjgzOTEsMTI4MzkxLDE0LDEyODQ0NSwxMjg0NDksMTQsMTI4NTAwLDEyODUwNSwxNCwxMjg3NTIsMTI4NzUyLDE0LDEyOTE2MCwxMjkxNjcsMTQsMTI5MzU2LDEyOTM1NiwxNCwxMjk0MzIsMTI5NDQyLDE0LDEyOTY0OCwxMjk2NTEsMTQsMTI5NzUxLDEzMTA2OSwxNCwxNzMsMTczLDQsMTc1NywxNzU3LDEsMjI3NCwyMjc0LDEsMjQ5NCwyNDk0LDUsMjY0MSwyNjQxLDUsMjg3NiwyODc2LDUsMzAxNCwzMDE2LDcsMzI2MiwzMjYyLDcsMzM5MywzMzk2LDUsMzU3MCwzNTcxLDcsMzk2OCwzOTcyLDUsNDIyOCw0MjI4LDcsNjA4Niw2MDg2LDUsNjY3OSw2NjgwLDUsNjkxMiw2OTE1LDUsNzA4MCw3MDgxLDUsNzM4MCw3MzkyLDUsODI1Miw4MjUyLDE0LDkwOTYsOTA5NiwxNCw5NzQ4LDk3NDksMTQsOTc4NCw5Nzg2LDE0LDk4MzMsOTg1MCwxNCw5ODkwLDk4OTQsMTQsOTkzOCw5OTM4LDE0LDk5OTksOTk5OSwxNCwxMDA4NSwxMDA4NywxNCwxMjM0OSwxMjM0OSwxNCw0MzEzNiw0MzEzNyw3LDQzNDU0LDQzNDU2LDcsNDM3NTUsNDM3NTUsNyw0NDA4OCw0NDA4OCwxMSw0NDMxMiw0NDMxMiwxMSw0NDUzNiw0NDUzNiwxMSw0NDc2MCw0NDc2MCwxMSw0NDk4NCw0NDk4NCwxMSw0NTIwOCw0NTIwOCwxMSw0NTQzMiw0NTQzMiwxMSw0NTY1Niw0NTY1NiwxMSw0NTg4MCw0NTg4MCwxMSw0NjEwNCw0NjEwNCwxMSw0NjMyOCw0NjMyOCwxMSw0NjU1Miw0NjU1MiwxMSw0Njc3Niw0Njc3NiwxMSw0NzAwMCw0NzAwMCwxMSw0NzIyNCw0NzIyNCwxMSw0NzQ0OCw0NzQ0OCwxMSw0NzY3Miw0NzY3MiwxMSw0Nzg5Niw0Nzg5NiwxMSw0ODEyMCw0ODEyMCwxMSw0ODM0NCw0ODM0NCwxMSw0ODU2OCw0ODU2OCwxMSw0ODc5Miw0ODc5MiwxMSw0OTAxNiw0OTAxNiwxMSw0OTI0MCw0OTI0MCwxMSw0OTQ2NCw0OTQ2NCwxMSw0OTY4OCw0OTY4OCwxMSw0OTkxMiw0OTkxMiwxMSw1MDEzNiw1MDEzNiwxMSw1MDM2MCw1MDM2MCwxMSw1MDU4NCw1MDU4NCwxMSw1MDgwOCw1MDgwOCwxMSw1MTAzMiw1MTAzMiwxMSw1MTI1Niw1MTI1NiwxMSw1MTQ4MCw1MTQ4MCwxMSw1MTcwNCw1MTcwNCwxMSw1MTkyOCw1MTkyOCwxMSw1MjE1Miw1MjE1MiwxMSw1MjM3Niw1MjM3NiwxMSw1MjYwMCw1MjYwMCwxMSw1MjgyNCw1MjgyNCwxMSw1MzA0OCw1MzA0OCwxMSw1MzI3Miw1MzI3MiwxMSw1MzQ5Niw1MzQ5NiwxMSw1MzcyMCw1MzcyMCwxMSw1Mzk0NCw1Mzk0NCwxMSw1NDE2OCw1NDE2OCwxMSw1NDM5Miw1NDM5MiwxMSw1NDYxNiw1NDYxNiwxMSw1NDg0MCw1NDg0MCwxMSw1NTA2NCw1NTA2NCwxMSw2NTQzOCw2NTQzOSw1LDY5NjMzLDY5NjMzLDUsNjk4MzcsNjk4MzcsMSw3MDAxOCw3MDAxOCw3LDcwMTg4LDcwMTkwLDcsNzAzNjgsNzAzNzAsNyw3MDQ2NSw3MDQ2OCw3LDcwNzEyLDcwNzE5LDUsNzA4MzUsNzA4NDAsNSw3MDg1MCw3MDg1MSw1LDcxMTMyLDcxMTMzLDUsNzEzNDAsNzEzNDAsNyw3MTQ1OCw3MTQ2MSw1LDcxOTg1LDcxOTg5LDcsNzIwMDIsNzIwMDIsNyw3MjE5Myw3MjIwMiw1LDcyMjgxLDcyMjgzLDUsNzI3NjYsNzI3NjYsNyw3Mjg4NSw3Mjg4Niw1LDczMTA0LDczMTA1LDUsOTI5MTIsOTI5MTYsNSwxMTM4MjQsMTEzODI3LDQsMTE5MTczLDExOTE3OSw1LDEyMTUwNSwxMjE1MTksNSwxMjUxMzYsMTI1MTQyLDUsMTI3Mjc5LDEyNzI3OSwxNCwxMjc0ODksMTI3NDkwLDE0LDEyNzU3MCwxMjc3NDMsMTQsMTI3OTAwLDEyNzkwMSwxNCwxMjgyNTQsMTI4MjU0LDE0LDEyODM2OSwxMjgzNzAsMTQsMTI4NDAwLDEyODQwMCwxNCwxMjg0MjUsMTI4NDMyLDE0LDEyODQ2OCwxMjg0NzUsMTQsMTI4NDg5LDEyODQ5NCwxNCwxMjg3MTUsMTI4NzIwLDE0LDEyODc0NSwxMjg3NDUsMTQsMTI4NzU5LDEyODc2MCwxNCwxMjkwMDQsMTI5MDIzLDE0LDEyOTI5NiwxMjkzMDQsMTQsMTI5MzQwLDEyOTM0MiwxNCwxMjkzODgsMTI5MzkyLDE0LDEyOTQwNCwxMjk0MDcsMTQsMTI5NDU0LDEyOTQ1NSwxNCwxMjk0ODUsMTI5NDg3LDE0LDEyOTY1OSwxMjk2NjMsMTQsMTI5NzE5LDEyOTcyNywxNCw5MTc1MzYsOTE3NjMxLDUsMTMsMTMsMiwxMTYwLDExNjEsNSwxNTY0LDE1NjQsNCwxODA3LDE4MDcsMSwyMDg1LDIwODcsNSwyMzYzLDIzNjMsNywyNDAyLDI0MDMsNSwyNTA3LDI1MDgsNywyNjIyLDI2MjQsNywyNjkxLDI2OTEsNywyNzg2LDI3ODcsNSwyODgxLDI4ODQsNSwzMDA2LDMwMDYsNSwzMDcyLDMwNzIsNSwzMTcwLDMxNzEsNSwzMjY3LDMyNjgsNywzMzMwLDMzMzEsNywzNDA2LDM0MDYsMSwzNTM4LDM1NDAsNSwzNjU1LDM2NjIsNSwzODk3LDM4OTcsNSw0MDM4LDQwMzgsNSw0MTg0LDQxODUsNSw0MzUyLDQ0NDcsOCw2MDY4LDYwNjksNSw2MTU1LDYxNTcsNSw2NDQ4LDY0NDksNyw2NzQyLDY3NDIsNSw2NzgzLDY3ODMsNSw2OTY2LDY5NzAsNSw3MDQyLDcwNDIsNyw3MTQzLDcxNDMsNyw3MjEyLDcyMTksNSw3NDEyLDc0MTIsNSw4MjA2LDgyMDcsNCw4Mjk0LDgzMDMsNCw4NTk2LDg2MDEsMTQsOTQxMCw5NDEwLDE0LDk3NDIsOTc0MiwxNCw5NzU3LDk3NTcsMTQsOTc3MCw5NzcwLDE0LDk3OTQsOTc5NCwxNCw5ODI4LDk4MjgsMTQsOTg1NSw5ODU1LDE0LDk4ODIsOTg4MiwxNCw5OTAwLDk5MDMsMTQsOTkyOSw5OTMzLDE0LDk5NjMsOTk2NywxNCw5OTg3LDk5ODgsMTQsMTAwMDYsMTAwMDYsMTQsMTAwNjIsMTAwNjIsMTQsMTAxNzUsMTAxNzUsMTQsMTE3NDQsMTE3NzUsNSw0MjYwNyw0MjYwNyw1LDQzMDQzLDQzMDQ0LDcsNDMyNjMsNDMyNjMsNSw0MzQ0NCw0MzQ0NSw3LDQzNTY5LDQzNTcwLDUsNDM2OTgsNDM3MDAsNSw0Mzc2Niw0Mzc2Niw1LDQ0MDMyLDQ0MDMyLDExLDQ0MTQ0LDQ0MTQ0LDExLDQ0MjU2LDQ0MjU2LDExLDQ0MzY4LDQ0MzY4LDExLDQ0NDgwLDQ0NDgwLDExLDQ0NTkyLDQ0NTkyLDExLDQ0NzA0LDQ0NzA0LDExLDQ0ODE2LDQ0ODE2LDExLDQ0OTI4LDQ0OTI4LDExLDQ1MDQwLDQ1MDQwLDExLDQ1MTUyLDQ1MTUyLDExLDQ1MjY0LDQ1MjY0LDExLDQ1Mzc2LDQ1Mzc2LDExLDQ1NDg4LDQ1NDg4LDExLDQ1NjAwLDQ1NjAwLDExLDQ1NzEyLDQ1NzEyLDExLDQ1ODI0LDQ1ODI0LDExLDQ1OTM2LDQ1OTM2LDExLDQ2MDQ4LDQ2MDQ4LDExLDQ2MTYwLDQ2MTYwLDExLDQ2MjcyLDQ2MjcyLDExLDQ2Mzg0LDQ2Mzg0LDExLDQ2NDk2LDQ2NDk2LDExLDQ2NjA4LDQ2NjA4LDExLDQ2NzIwLDQ2NzIwLDExLDQ2ODMyLDQ2ODMyLDExLDQ2OTQ0LDQ2OTQ0LDExLDQ3MDU2LDQ3MDU2LDExLDQ3MTY4LDQ3MTY4LDExLDQ3MjgwLDQ3MjgwLDExLDQ3MzkyLDQ3MzkyLDExLDQ3NTA0LDQ3NTA0LDExLDQ3NjE2LDQ3NjE2LDExLDQ3NzI4LDQ3NzI4LDExLDQ3ODQwLDQ3ODQwLDExLDQ3OTUyLDQ3OTUyLDExLDQ4MDY0LDQ4MDY0LDExLDQ4MTc2LDQ4MTc2LDExLDQ4Mjg4LDQ4Mjg4LDExLDQ4NDAwLDQ4NDAwLDExLDQ4NTEyLDQ4NTEyLDExLDQ4NjI0LDQ4NjI0LDExLDQ4NzM2LDQ4NzM2LDExLDQ4ODQ4LDQ4ODQ4LDExLDQ4OTYwLDQ4OTYwLDExLDQ5MDcyLDQ5MDcyLDExLDQ5MTg0LDQ5MTg0LDExLDQ5Mjk2LDQ5Mjk2LDExLDQ5NDA4LDQ5NDA4LDExLDQ5NTIwLDQ5NTIwLDExLDQ5NjMyLDQ5NjMyLDExLDQ5NzQ0LDQ5NzQ0LDExLDQ5ODU2LDQ5ODU2LDExLDQ5OTY4LDQ5OTY4LDExLDUwMDgwLDUwMDgwLDExLDUwMTkyLDUwMTkyLDExLDUwMzA0LDUwMzA0LDExLDUwNDE2LDUwNDE2LDExLDUwNTI4LDUwNTI4LDExLDUwNjQwLDUwNjQwLDExLDUwNzUyLDUwNzUyLDExLDUwODY0LDUwODY0LDExLDUwOTc2LDUwOTc2LDExLDUxMDg4LDUxMDg4LDExLDUxMjAwLDUxMjAwLDExLDUxMzEyLDUxMzEyLDExLDUxNDI0LDUxNDI0LDExLDUxNTM2LDUxNTM2LDExLDUxNjQ4LDUxNjQ4LDExLDUxNzYwLDUxNzYwLDExLDUxODcyLDUxODcyLDExLDUxOTg0LDUxOTg0LDExLDUyMDk2LDUyMDk2LDExLDUyMjA4LDUyMjA4LDExLDUyMzIwLDUyMzIwLDExLDUyNDMyLDUyNDMyLDExLDUyNTQ0LDUyNTQ0LDExLDUyNjU2LDUyNjU2LDExLDUyNzY4LDUyNzY4LDExLDUyODgwLDUyODgwLDExLDUyOTkyLDUyOTkyLDExLDUzMTA0LDUzMTA0LDExLDUzMjE2LDUzMjE2LDExLDUzMzI4LDUzMzI4LDExLDUzNDQwLDUzNDQwLDExLDUzNTUyLDUzNTUyLDExLDUzNjY0LDUzNjY0LDExLDUzNzc2LDUzNzc2LDExLDUzODg4LDUzODg4LDExLDU0MDAwLDU0MDAwLDExLDU0MTEyLDU0MTEyLDExLDU0MjI0LDU0MjI0LDExLDU0MzM2LDU0MzM2LDExLDU0NDQ4LDU0NDQ4LDExLDU0NTYwLDU0NTYwLDExLDU0NjcyLDU0NjcyLDExLDU0Nzg0LDU0Nzg0LDExLDU0ODk2LDU0ODk2LDExLDU1MDA4LDU1MDA4LDExLDU1MTIwLDU1MTIwLDExLDY0Mjg2LDY0Mjg2LDUsNjYyNzIsNjYyNzIsNSw2ODkwMCw2ODkwMyw1LDY5NzYyLDY5NzYyLDcsNjk4MTcsNjk4MTgsNSw2OTkyNyw2OTkzMSw1LDcwMDAzLDcwMDAzLDUsNzAwNzAsNzAwNzgsNSw3MDA5NCw3MDA5NCw3LDcwMTk0LDcwMTk1LDcsNzAyMDYsNzAyMDYsNSw3MDQwMCw3MDQwMSw1LDcwNDYzLDcwNDYzLDcsNzA0NzUsNzA0NzcsNyw3MDUxMiw3MDUxNiw1LDcwNzIyLDcwNzI0LDUsNzA4MzIsNzA4MzIsNSw3MDg0Miw3MDg0Miw1LDcwODQ3LDcwODQ4LDUsNzEwODgsNzEwODksNyw3MTEwMiw3MTEwMiw3LDcxMjE5LDcxMjI2LDUsNzEyMzEsNzEyMzIsNSw3MTM0Miw3MTM0Myw3LDcxNDUzLDcxNDU1LDUsNzE0NjMsNzE0NjcsNSw3MTczNyw3MTczOCw1LDcxOTk1LDcxOTk2LDUsNzIwMDAsNzIwMDAsNyw3MjE0NSw3MjE0Nyw3LDcyMTYwLDcyMTYwLDUsNzIyNDksNzIyNDksNyw3MjI3Myw3MjI3OCw1LDcyMzMwLDcyMzQyLDUsNzI3NTIsNzI3NTgsNSw3Mjg1MCw3Mjg3MSw1LDcyODgyLDcyODgzLDUsNzMwMTgsNzMwMTgsNSw3MzAzMSw3MzAzMSw1LDczMTA5LDczMTA5LDUsNzM0NjEsNzM0NjIsNyw5NDAzMSw5NDAzMSw1LDk0MTkyLDk0MTkzLDcsMTE5MTQyLDExOTE0Miw3LDExOTE1NSwxMTkxNjIsNCwxMTkzNjIsMTE5MzY0LDUsMTIxNDc2LDEyMTQ3Niw1LDEyMjg4OCwxMjI5MDQsNSwxMjMxODQsMTIzMTkwLDUsMTI2OTc2LDEyNjk3OSwxNCwxMjcxODQsMTI3MjMxLDE0LDEyNzM0NCwxMjczNDUsMTQsMTI3NDA1LDEyNzQ2MSwxNCwxMjc1MTQsMTI3NTE0LDE0LDEyNzU2MSwxMjc1NjcsMTQsMTI3Nzc4LDEyNzc3OSwxNCwxMjc4OTYsMTI3ODk2LDE0LDEyNzk4NSwxMjc5ODYsMTQsMTI3OTk1LDEyNzk5OSw1LDEyODMyNiwxMjgzMjgsMTQsMTI4MzYwLDEyODM2NiwxNCwxMjgzNzgsMTI4Mzc4LDE0LDEyODM5NCwxMjgzOTcsMTQsMTI4NDA1LDEyODQwNiwxNCwxMjg0MjIsMTI4NDIzLDE0LDEyODQzNSwxMjg0NDMsMTQsMTI4NDUzLDEyODQ2NCwxNCwxMjg0NzksMTI4NDgwLDE0LDEyODQ4NCwxMjg0ODcsMTQsMTI4NDk2LDEyODQ5OCwxNCwxMjg2NDAsMTI4NzA5LDE0LDEyODcyMywxMjg3MjQsMTQsMTI4NzM2LDEyODc0MSwxNCwxMjg3NDcsMTI4NzQ4LDE0LDEyODc1NSwxMjg3NTUsMTQsMTI4NzYyLDEyODc2MiwxNCwxMjg5ODEsMTI4OTkxLDE0LDEyOTA5NiwxMjkxMDMsMTQsMTI5MjkyLDEyOTI5MiwxNCwxMjkzMTEsMTI5MzExLDE0LDEyOTMyOSwxMjkzMzAsMTQsMTI5MzQ0LDEyOTM0OSwxNCwxMjkzNjAsMTI5Mzc0LDE0LDEyOTM5NCwxMjkzOTQsMTQsMTI5NDAyLDEyOTQwMiwxNCwxMjk0MTMsMTI5NDI1LDE0LDEyOTQ0NSwxMjk0NTAsMTQsMTI5NDY2LDEyOTQ3MSwxNCwxMjk0ODMsMTI5NDgzLDE0LDEyOTUxMSwxMjk1MzUsMTQsMTI5NjUzLDEyOTY1NSwxNCwxMjk2NjcsMTI5NjcwLDE0LDEyOTcwNSwxMjk3MTEsMTQsMTI5NzMxLDEyOTc0MywxNCw5MTc1MDUsOTE3NTA1LDQsOTE3NzYwLDkxNzk5OSw1LDEwLDEwLDMsMTI3LDE1OSw0LDc2OCw4NzksNSwxNDcxLDE0NzEsNSwxNTM2LDE1NDEsMSwxNjQ4LDE2NDgsNSwxNzY3LDE3NjgsNSwxODQwLDE4NjYsNSwyMDcwLDIwNzMsNSwyMTM3LDIxMzksNSwyMzA3LDIzMDcsNywyMzY2LDIzNjgsNywyMzgyLDIzODMsNywyNDM0LDI0MzUsNywyNDk3LDI1MDAsNSwyNTE5LDI1MTksNSwyNTYzLDI1NjMsNywyNjMxLDI2MzIsNSwyNjc3LDI2NzcsNSwyNzUwLDI3NTIsNywyNzYzLDI3NjQsNywyODE3LDI4MTcsNSwyODc5LDI4NzksNSwyODkxLDI4OTIsNywyOTE0LDI5MTUsNSwzMDA4LDMwMDgsNSwzMDIxLDMwMjEsNSwzMDc2LDMwNzYsNSwzMTQ2LDMxNDksNSwzMjAyLDMyMDMsNywzMjY0LDMyNjUsNywzMjcxLDMyNzIsNywzMjk4LDMyOTksNSwzMzkwLDMzOTAsNSwzNDAyLDM0MDQsNywzNDI2LDM0MjcsNSwzNTM1LDM1MzUsNSwzNTQ0LDM1NTAsNywzNjM1LDM2MzUsNywzNzYzLDM3NjMsNywzODkzLDM4OTMsNSwzOTUzLDM5NjYsNSwzOTgxLDM5OTEsNSw0MTQ1LDQxNDUsNyw0MTU3LDQxNTgsNSw0MjA5LDQyMTIsNSw0MjM3LDQyMzcsNSw0NTIwLDQ2MDcsMTAsNTk3MCw1OTcxLDUsNjA3MSw2MDc3LDUsNjA4OSw2MDk5LDUsNjI3Nyw2Mjc4LDUsNjQzOSw2NDQwLDUsNjQ1MSw2NDU2LDcsNjY4Myw2NjgzLDUsNjc0NCw2NzUwLDUsNjc2NSw2NzcwLDcsNjg0Niw2ODQ2LDUsNjk2NCw2OTY0LDUsNjk3Miw2OTcyLDUsNzAxOSw3MDI3LDUsNzA3NCw3MDc3LDUsNzA4Myw3MDg1LDUsNzE0Niw3MTQ4LDcsNzE1NCw3MTU1LDcsNzIyMiw3MjIzLDUsNzM5NCw3NDAwLDUsNzQxNiw3NDE3LDUsODIwNCw4MjA0LDUsODIzMyw4MjMzLDQsODI4OCw4MjkyLDQsODQxMyw4NDE2LDUsODQ4Miw4NDgyLDE0LDg5ODYsODk4NywxNCw5MTkzLDkyMDMsMTQsOTY1NCw5NjU0LDE0LDk3MzMsOTczMywxNCw5NzQ1LDk3NDUsMTQsOTc1Miw5NzUyLDE0LDk3NjAsOTc2MCwxNCw5NzY2LDk3NjYsMTQsOTc3NCw5Nzc1LDE0LDk3OTIsOTc5MiwxNCw5ODAwLDk4MTEsMTQsOTgyNSw5ODI2LDE0LDk4MzEsOTgzMSwxNCw5ODUyLDk4NTMsMTQsOTg3Miw5ODczLDE0LDk4ODAsOTg4MCwxNCw5ODg1LDk4ODcsMTQsOTg5Niw5ODk3LDE0LDk5MDYsOTkxNiwxNCw5OTI2LDk5MjcsMTQsOTkzNiw5OTM2LDE0LDk5NDEsOTk2MCwxNCw5OTc0LDk5NzQsMTQsOTk4Miw5OTg1LDE0LDk5OTIsOTk5NywxNCwxMDAwMiwxMDAwMiwxNCwxMDAxNywxMDAxNywxNCwxMDA1NSwxMDA1NSwxNCwxMDA3MSwxMDA3MSwxNCwxMDE0NSwxMDE0NSwxNCwxMTAxMywxMTAxNSwxNCwxMTUwMywxMTUwNSw1LDEyMzM0LDEyMzM1LDUsMTI5NTEsMTI5NTEsMTQsNDI2MTIsNDI2MjEsNSw0MzAxNCw0MzAxNCw1LDQzMDQ3LDQzMDQ3LDcsNDMyMDQsNDMyMDUsNSw0MzMzNSw0MzM0NSw1LDQzMzk1LDQzMzk1LDcsNDM0NTAsNDM0NTEsNyw0MzU2MSw0MzU2Niw1LDQzNTczLDQzNTc0LDUsNDM2NDQsNDM2NDQsNSw0MzcxMCw0MzcxMSw1LDQzNzU4LDQzNzU5LDcsNDQwMDUsNDQwMDUsNSw0NDAxMiw0NDAxMiw3LDQ0MDYwLDQ0MDYwLDExLDQ0MTE2LDQ0MTE2LDExLDQ0MTcyLDQ0MTcyLDExLDQ0MjI4LDQ0MjI4LDExLDQ0Mjg0LDQ0Mjg0LDExLDQ0MzQwLDQ0MzQwLDExLDQ0Mzk2LDQ0Mzk2LDExLDQ0NDUyLDQ0NDUyLDExLDQ0NTA4LDQ0NTA4LDExLDQ0NTY0LDQ0NTY0LDExLDQ0NjIwLDQ0NjIwLDExLDQ0Njc2LDQ0Njc2LDExLDQ0NzMyLDQ0NzMyLDExLDQ0Nzg4LDQ0Nzg4LDExLDQ0ODQ0LDQ0ODQ0LDExLDQ0OTAwLDQ0OTAwLDExLDQ0OTU2LDQ0OTU2LDExLDQ1MDEyLDQ1MDEyLDExLDQ1MDY4LDQ1MDY4LDExLDQ1MTI0LDQ1MTI0LDExLDQ1MTgwLDQ1MTgwLDExLDQ1MjM2LDQ1MjM2LDExLDQ1MjkyLDQ1MjkyLDExLDQ1MzQ4LDQ1MzQ4LDExLDQ1NDA0LDQ1NDA0LDExLDQ1NDYwLDQ1NDYwLDExLDQ1NTE2LDQ1NTE2LDExLDQ1NTcyLDQ1NTcyLDExLDQ1NjI4LDQ1NjI4LDExLDQ1Njg0LDQ1Njg0LDExLDQ1NzQwLDQ1NzQwLDExLDQ1Nzk2LDQ1Nzk2LDExLDQ1ODUyLDQ1ODUyLDExLDQ1OTA4LDQ1OTA4LDExLDQ1OTY0LDQ1OTY0LDExLDQ2MDIwLDQ2MDIwLDExLDQ2MDc2LDQ2MDc2LDExLDQ2MTMyLDQ2MTMyLDExLDQ2MTg4LDQ2MTg4LDExLDQ2MjQ0LDQ2MjQ0LDExLDQ2MzAwLDQ2MzAwLDExLDQ2MzU2LDQ2MzU2LDExLDQ2NDEyLDQ2NDEyLDExLDQ2NDY4LDQ2NDY4LDExLDQ2NTI0LDQ2NTI0LDExLDQ2NTgwLDQ2NTgwLDExLDQ2NjM2LDQ2NjM2LDExLDQ2NjkyLDQ2NjkyLDExLDQ2NzQ4LDQ2NzQ4LDExLDQ2ODA0LDQ2ODA0LDExLDQ2ODYwLDQ2ODYwLDExLDQ2OTE2LDQ2OTE2LDExLDQ2OTcyLDQ2OTcyLDExLDQ3MDI4LDQ3MDI4LDExLDQ3MDg0LDQ3MDg0LDExLDQ3MTQwLDQ3MTQwLDExLDQ3MTk2LDQ3MTk2LDExLDQ3MjUyLDQ3MjUyLDExLDQ3MzA4LDQ3MzA4LDExLDQ3MzY0LDQ3MzY0LDExLDQ3NDIwLDQ3NDIwLDExLDQ3NDc2LDQ3NDc2LDExLDQ3NTMyLDQ3NTMyLDExLDQ3NTg4LDQ3NTg4LDExLDQ3NjQ0LDQ3NjQ0LDExLDQ3NzAwLDQ3NzAwLDExLDQ3NzU2LDQ3NzU2LDExLDQ3ODEyLDQ3ODEyLDExLDQ3ODY4LDQ3ODY4LDExLDQ3OTI0LDQ3OTI0LDExLDQ3OTgwLDQ3OTgwLDExLDQ4MDM2LDQ4MDM2LDExLDQ4MDkyLDQ4MDkyLDExLDQ4MTQ4LDQ4MTQ4LDExLDQ4MjA0LDQ4MjA0LDExLDQ4MjYwLDQ4MjYwLDExLDQ4MzE2LDQ4MzE2LDExLDQ4MzcyLDQ4MzcyLDExLDQ4NDI4LDQ4NDI4LDExLDQ4NDg0LDQ4NDg0LDExLDQ4NTQwLDQ4NTQwLDExLDQ4NTk2LDQ4NTk2LDExLDQ4NjUyLDQ4NjUyLDExLDQ4NzA4LDQ4NzA4LDExLDQ4NzY0LDQ4NzY0LDExLDQ4ODIwLDQ4ODIwLDExLDQ4ODc2LDQ4ODc2LDExLDQ4OTMyLDQ4OTMyLDExLDQ4OTg4LDQ4OTg4LDExLDQ5MDQ0LDQ5MDQ0LDExLDQ5MTAwLDQ5MTAwLDExLDQ5MTU2LDQ5MTU2LDExLDQ5MjEyLDQ5MjEyLDExLDQ5MjY4LDQ5MjY4LDExLDQ5MzI0LDQ5MzI0LDExLDQ5MzgwLDQ5MzgwLDExLDQ5NDM2LDQ5NDM2LDExLDQ5NDkyLDQ5NDkyLDExLDQ5NTQ4LDQ5NTQ4LDExLDQ5NjA0LDQ5NjA0LDExLDQ5NjYwLDQ5NjYwLDExLDQ5NzE2LDQ5NzE2LDExLDQ5NzcyLDQ5NzcyLDExLDQ5ODI4LDQ5ODI4LDExLDQ5ODg0LDQ5ODg0LDExLDQ5OTQwLDQ5OTQwLDExLDQ5OTk2LDQ5OTk2LDExLDUwMDUyLDUwMDUyLDExLDUwMTA4LDUwMTA4LDExLDUwMTY0LDUwMTY0LDExLDUwMjIwLDUwMjIwLDExLDUwMjc2LDUwMjc2LDExLDUwMzMyLDUwMzMyLDExLDUwMzg4LDUwMzg4LDExLDUwNDQ0LDUwNDQ0LDExLDUwNTAwLDUwNTAwLDExLDUwNTU2LDUwNTU2LDExLDUwNjEyLDUwNjEyLDExLDUwNjY4LDUwNjY4LDExLDUwNzI0LDUwNzI0LDExLDUwNzgwLDUwNzgwLDExLDUwODM2LDUwODM2LDExLDUwODkyLDUwODkyLDExLDUwOTQ4LDUwOTQ4LDExLDUxMDA0LDUxMDA0LDExLDUxMDYwLDUxMDYwLDExLDUxMTE2LDUxMTE2LDExLDUxMTcyLDUxMTcyLDExLDUxMjI4LDUxMjI4LDExLDUxMjg0LDUxMjg0LDExLDUxMzQwLDUxMzQwLDExLDUxMzk2LDUxMzk2LDExLDUxNDUyLDUxNDUyLDExLDUxNTA4LDUxNTA4LDExLDUxNTY0LDUxNTY0LDExLDUxNjIwLDUxNjIwLDExLDUxNjc2LDUxNjc2LDExLDUxNzMyLDUxNzMyLDExLDUxNzg4LDUxNzg4LDExLDUxODQ0LDUxODQ0LDExLDUxOTAwLDUxOTAwLDExLDUxOTU2LDUxOTU2LDExLDUyMDEyLDUyMDEyLDExLDUyMDY4LDUyMDY4LDExLDUyMTI0LDUyMTI0LDExLDUyMTgwLDUyMTgwLDExLDUyMjM2LDUyMjM2LDExLDUyMjkyLDUyMjkyLDExLDUyMzQ4LDUyMzQ4LDExLDUyNDA0LDUyNDA0LDExLDUyNDYwLDUyNDYwLDExLDUyNTE2LDUyNTE2LDExLDUyNTcyLDUyNTcyLDExLDUyNjI4LDUyNjI4LDExLDUyNjg0LDUyNjg0LDExLDUyNzQwLDUyNzQwLDExLDUyNzk2LDUyNzk2LDExLDUyODUyLDUyODUyLDExLDUyOTA4LDUyOTA4LDExLDUyOTY0LDUyOTY0LDExLDUzMDIwLDUzMDIwLDExLDUzMDc2LDUzMDc2LDExLDUzMTMyLDUzMTMyLDExLDUzMTg4LDUzMTg4LDExLDUzMjQ0LDUzMjQ0LDExLDUzMzAwLDUzMzAwLDExLDUzMzU2LDUzMzU2LDExLDUzNDEyLDUzNDEyLDExLDUzNDY4LDUzNDY4LDExLDUzNTI0LDUzNTI0LDExLDUzNTgwLDUzNTgwLDExLDUzNjM2LDUzNjM2LDExLDUzNjkyLDUzNjkyLDExLDUzNzQ4LDUzNzQ4LDExLDUzODA0LDUzODA0LDExLDUzODYwLDUzODYwLDExLDUzOTE2LDUzOTE2LDExLDUzOTcyLDUzOTcyLDExLDU0MDI4LDU0MDI4LDExLDU0MDg0LDU0MDg0LDExLDU0MTQwLDU0MTQwLDExLDU0MTk2LDU0MTk2LDExLDU0MjUyLDU0MjUyLDExLDU0MzA4LDU0MzA4LDExLDU0MzY0LDU0MzY0LDExLDU0NDIwLDU0NDIwLDExLDU0NDc2LDU0NDc2LDExLDU0NTMyLDU0NTMyLDExLDU0NTg4LDU0NTg4LDExLDU0NjQ0LDU0NjQ0LDExLDU0NzAwLDU0NzAwLDExLDU0NzU2LDU0NzU2LDExLDU0ODEyLDU0ODEyLDExLDU0ODY4LDU0ODY4LDExLDU0OTI0LDU0OTI0LDExLDU0OTgwLDU0OTgwLDExLDU1MDM2LDU1MDM2LDExLDU1MDkyLDU1MDkyLDExLDU1MTQ4LDU1MTQ4LDExLDU1MjE2LDU1MjM4LDksNjUwNTYsNjUwNzEsNSw2NTUyOSw2NTUzMSw0LDY4MDk3LDY4MDk5LDUsNjgxNTksNjgxNTksNSw2OTQ0Niw2OTQ1Niw1LDY5Njg4LDY5NzAyLDUsNjk4MDgsNjk4MTAsNyw2OTgxNSw2OTgxNiw3LDY5ODIxLDY5ODIxLDEsNjk4ODgsNjk4OTAsNSw2OTkzMiw2OTkzMiw3LDY5OTU3LDY5OTU4LDcsNzAwMTYsNzAwMTcsNSw3MDA2Nyw3MDA2OSw3LDcwMDc5LDcwMDgwLDcsNzAwODksNzAwOTIsNSw3MDA5NSw3MDA5NSw1LDcwMTkxLDcwMTkzLDUsNzAxOTYsNzAxOTYsNSw3MDE5OCw3MDE5OSw1LDcwMzY3LDcwMzY3LDUsNzAzNzEsNzAzNzgsNSw3MDQwMiw3MDQwMyw3LDcwNDYyLDcwNDYyLDUsNzA0NjQsNzA0NjQsNSw3MDQ3MSw3MDQ3Miw3LDcwNDg3LDcwNDg3LDUsNzA1MDIsNzA1MDgsNSw3MDcwOSw3MDcxMSw3LDcwNzIwLDcwNzIxLDcsNzA3MjUsNzA3MjUsNyw3MDc1MCw3MDc1MCw1LDcwODMzLDcwODM0LDcsNzA4NDEsNzA4NDEsNyw3MDg0Myw3MDg0NCw3LDcwODQ2LDcwODQ2LDcsNzA4NDksNzA4NDksNyw3MTA4Nyw3MTA4Nyw1LDcxMDkwLDcxMDkzLDUsNzExMDAsNzExMDEsNSw3MTEwMyw3MTEwNCw1LDcxMjE2LDcxMjE4LDcsNzEyMjcsNzEyMjgsNyw3MTIzMCw3MTIzMCw3LDcxMzM5LDcxMzM5LDUsNzEzNDEsNzEzNDEsNSw3MTM0NCw3MTM0OSw1LDcxMzUxLDcxMzUxLDUsNzE0NTYsNzE0NTcsNyw3MTQ2Miw3MTQ2Miw3LDcxNzI0LDcxNzI2LDcsNzE3MzYsNzE3MzYsNyw3MTk4NCw3MTk4NCw1LDcxOTkxLDcxOTkyLDcsNzE5OTcsNzE5OTcsNyw3MTk5OSw3MTk5OSwxLDcyMDAxLDcyMDAxLDEsNzIwMDMsNzIwMDMsNSw3MjE0OCw3MjE1MSw1LDcyMTU2LDcyMTU5LDcsNzIxNjQsNzIxNjQsNyw3MjI0Myw3MjI0OCw1LDcyMjUwLDcyMjUwLDEsNzIyNjMsNzIyNjMsNSw3MjI3OSw3MjI4MCw3LDcyMzI0LDcyMzI5LDEsNzIzNDMsNzIzNDMsNyw3Mjc1MSw3Mjc1MSw3LDcyNzYwLDcyNzY1LDUsNzI3NjcsNzI3NjcsNSw3Mjg3Myw3Mjg3Myw3LDcyODgxLDcyODgxLDcsNzI4ODQsNzI4ODQsNyw3MzAwOSw3MzAxNCw1LDczMDIwLDczMDIxLDUsNzMwMzAsNzMwMzAsMSw3MzA5OCw3MzEwMiw3LDczMTA3LDczMTA4LDcsNzMxMTAsNzMxMTAsNyw3MzQ1OSw3MzQ2MCw1LDc4ODk2LDc4OTA0LDQsOTI5NzYsOTI5ODIsNSw5NDAzMyw5NDA4Nyw3LDk0MTgwLDk0MTgwLDUsMTEzODIxLDExMzgyMiw1LDExOTE0MSwxMTkxNDEsNSwxMTkxNDMsMTE5MTQ1LDUsMTE5MTUwLDExOTE1NCw1LDExOTE2MywxMTkxNzAsNSwxMTkyMTAsMTE5MjEzLDUsMTIxMzQ0LDEyMTM5OCw1LDEyMTQ2MSwxMjE0NjEsNSwxMjE0OTksMTIxNTAzLDUsMTIyODgwLDEyMjg4Niw1LDEyMjkwNywxMjI5MTMsNSwxMjI5MTgsMTIyOTIyLDUsMTIzNjI4LDEyMzYzMSw1LDEyNTI1MiwxMjUyNTgsNSwxMjY5ODAsMTI2OTgwLDE0LDEyNzE4MywxMjcxODMsMTQsMTI3MjQ1LDEyNzI0NywxNCwxMjczNDAsMTI3MzQzLDE0LDEyNzM1OCwxMjczNTksMTQsMTI3Mzc3LDEyNzM4NiwxNCwxMjc0NjIsMTI3NDg3LDYsMTI3NDkxLDEyNzUwMywxNCwxMjc1MzUsMTI3NTM1LDE0LDEyNzU0OCwxMjc1NTEsMTQsMTI3NTY4LDEyNzU2OSwxNCwxMjc3NDQsMTI3Nzc3LDE0LDEyNzc4MCwxMjc4OTEsMTQsMTI3ODk0LDEyNzg5NSwxNCwxMjc4OTcsMTI3ODk5LDE0LDEyNzkwMiwxMjc5ODQsMTQsMTI3OTg3LDEyNzk4OSwxNCwxMjc5OTEsMTI3OTk0LDE0LDEyODAwMCwxMjgyNTMsMTQsMTI4MjU1LDEyODMxNywxNCwxMjgzMjksMTI4MzM0LDE0LDEyODMzNiwxMjgzNTksMTQsMTI4MzY3LDEyODM2OCwxNCwxMjgzNzEsMTI4Mzc3LDE0LDEyODM3OSwxMjgzOTAsMTQsMTI4MzkyLDEyODM5MywxNCwxMjgzOTgsMTI4Mzk5LDE0LDEyODQwMSwxMjg0MDQsMTQsMTI4NDA3LDEyODQxOSwxNCwxMjg0MjEsMTI4NDIxLDE0LDEyODQyNCwxMjg0MjQsMTQsMTI4NDMzLDEyODQzNCwxNCwxMjg0NDQsMTI4NDQ0LDE0LDEyODQ1MCwxMjg0NTIsMTQsMTI4NDY1LDEyODQ2NywxNCwxMjg0NzYsMTI4NDc4LDE0LDEyODQ4MSwxMjg0ODEsMTQsMTI4NDgzLDEyODQ4MywxNCwxMjg0ODgsMTI4NDg4LDE0LDEyODQ5NSwxMjg0OTUsMTQsMTI4NDk5LDEyODQ5OSwxNCwxMjg1MDYsMTI4NTkxLDE0LDEyODcxMCwxMjg3MTQsMTQsMTI4NzIxLDEyODcyMiwxNCwxMjg3MjUsMTI4NzI1LDE0LDEyODcyOCwxMjg3MzUsMTQsMTI4NzQyLDEyODc0NCwxNCwxMjg3NDYsMTI4NzQ2LDE0LDEyODc0OSwxMjg3NTEsMTQsMTI4NzUzLDEyODc1NCwxNCwxMjg3NTYsMTI4NzU4LDE0LDEyODc2MSwxMjg3NjEsMTQsMTI4NzYzLDEyODc2NCwxNCwxMjg4ODQsMTI4ODk1LDE0LDEyODk5MiwxMjkwMDMsMTQsMTI5MDM2LDEyOTAzOSwxNCwxMjkxMTQsMTI5MTE5LDE0LDEyOTE5OCwxMjkyNzksMTQsMTI5MjkzLDEyOTI5NSwxNCwxMjkzMDUsMTI5MzEwLDE0LDEyOTMxMiwxMjkzMTksMTQsMTI5MzI4LDEyOTMyOCwxNCwxMjkzMzEsMTI5MzM4LDE0LDEyOTM0MywxMjkzNDMsMTQsMTI5MzUxLDEyOTM1NSwxNCwxMjkzNTcsMTI5MzU5LDE0LDEyOTM3NSwxMjkzODcsMTQsMTI5MzkzLDEyOTM5MywxNCwxMjkzOTUsMTI5Mzk4LDE0LDEyOTQwMSwxMjk0MDEsMTQsMTI5NDAzLDEyOTQwMywxNCwxMjk0MDgsMTI5NDEyLDE0LDEyOTQyNiwxMjk0MzEsMTQsMTI5NDQzLDEyOTQ0NCwxNCwxMjk0NTEsMTI5NDUzLDE0LDEyOTQ1NiwxMjk0NjUsMTQsMTI5NDcyLDEyOTQ3MiwxNCwxMjk0NzUsMTI5NDgyLDE0LDEyOTQ4NCwxMjk0ODQsMTQsMTI5NDg4LDEyOTUxMCwxNCwxMjk1MzYsMTI5NjQ3LDE0LDEyOTY1MiwxMjk2NTIsMTQsMTI5NjU2LDEyOTY1OCwxNCwxMjk2NjQsMTI5NjY2LDE0LDEyOTY3MSwxMjk2NzksMTQsMTI5Njg2LDEyOTcwNCwxNCwxMjk3MTIsMTI5NzE4LDE0LDEyOTcyOCwxMjk3MzAsMTQsMTI5NzQ0LDEyOTc1MCwxNCw5MTc1MDQsOTE3NTA0LDQsOTE3NTA2LDkxNzUzNSw0LDkxNzYzMiw5MTc3NTksNCw5MTgwMDAsOTIxNTk5LDQsMCw5LDQsMTEsMTIsNCwxNCwzMSw0LDE2OSwxNjksMTQsMTc0LDE3NCwxNCwxMTU1LDExNTksNSwxNDI1LDE0NjksNSwxNDczLDE0NzQsNSwxNDc5LDE0NzksNSwxNTUyLDE1NjIsNSwxNjExLDE2MzEsNSwxNzUwLDE3NTYsNSwxNzU5LDE3NjQsNSwxNzcwLDE3NzMsNSwxODA5LDE4MDksNSwxOTU4LDE5NjgsNSwyMDQ1LDIwNDUsNSwyMDc1LDIwODMsNSwyMDg5LDIwOTMsNSwyMjU5LDIyNzMsNSwyMjc1LDIzMDYsNSwyMzYyLDIzNjIsNSwyMzY0LDIzNjQsNSwyMzY5LDIzNzYsNSwyMzgxLDIzODEsNSwyMzg1LDIzOTEsNSwyNDMzLDI0MzMsNSwyNDkyLDI0OTIsNSwyNDk1LDI0OTYsNywyNTAzLDI1MDQsNywyNTA5LDI1MDksNSwyNTMwLDI1MzEsNSwyNTYxLDI1NjIsNSwyNjIwLDI2MjAsNSwyNjI1LDI2MjYsNSwyNjM1LDI2MzcsNSwyNjcyLDI2NzMsNSwyNjg5LDI2OTAsNSwyNzQ4LDI3NDgsNSwyNzUzLDI3NTcsNSwyNzYxLDI3NjEsNywyNzY1LDI3NjUsNSwyODEwLDI4MTUsNSwyODE4LDI4MTksNywyODc4LDI4NzgsNSwyODgwLDI4ODAsNywyODg3LDI4ODgsNywyODkzLDI4OTMsNSwyOTAzLDI5MDMsNSwyOTQ2LDI5NDYsNSwzMDA3LDMwMDcsNywzMDA5LDMwMTAsNywzMDE4LDMwMjAsNywzMDMxLDMwMzEsNSwzMDczLDMwNzUsNywzMTM0LDMxMzYsNSwzMTQyLDMxNDQsNSwzMTU3LDMxNTgsNSwzMjAxLDMyMDEsNSwzMjYwLDMyNjAsNSwzMjYzLDMyNjMsNSwzMjY2LDMyNjYsNSwzMjcwLDMyNzAsNSwzMjc0LDMyNzUsNywzMjg1LDMyODYsNSwzMzI4LDMzMjksNSwzMzg3LDMzODgsNSwzMzkxLDMzOTIsNywzMzk4LDM0MDAsNywzNDA1LDM0MDUsNSwzNDE1LDM0MTUsNSwzNDU3LDM0NTcsNSwzNTMwLDM1MzAsNSwzNTM2LDM1MzcsNywzNTQyLDM1NDIsNSwzNTUxLDM1NTEsNSwzNjMzLDM2MzMsNSwzNjM2LDM2NDIsNSwzNzYxLDM3NjEsNSwzNzY0LDM3NzIsNSwzODY0LDM4NjUsNSwzODk1LDM4OTUsNSwzOTAyLDM5MDMsNywzOTY3LDM5NjcsNywzOTc0LDM5NzUsNSwzOTkzLDQwMjgsNSw0MTQxLDQxNDQsNSw0MTQ2LDQxNTEsNSw0MTU1LDQxNTYsNyw0MTgyLDQxODMsNyw0MTkwLDQxOTIsNSw0MjI2LDQyMjYsNSw0MjI5LDQyMzAsNSw0MjUzLDQyNTMsNSw0NDQ4LDQ1MTksOSw0OTU3LDQ5NTksNSw1OTM4LDU5NDAsNSw2MDAyLDYwMDMsNSw2MDcwLDYwNzAsNyw2MDc4LDYwODUsNyw2MDg3LDYwODgsNyw2MTA5LDYxMDksNSw2MTU4LDYxNTgsNCw2MzEzLDYzMTMsNSw2NDM1LDY0MzgsNyw2NDQxLDY0NDMsNyw2NDUwLDY0NTAsNSw2NDU3LDY0NTksNSw2NjgxLDY2ODIsNyw2NzQxLDY3NDEsNyw2NzQzLDY3NDMsNyw2NzUyLDY3NTIsNSw2NzU3LDY3NjQsNSw2NzcxLDY3ODAsNSw2ODMyLDY4NDUsNSw2ODQ3LDY4NDgsNSw2OTE2LDY5MTYsNyw2OTY1LDY5NjUsNSw2OTcxLDY5NzEsNyw2OTczLDY5NzcsNyw2OTc5LDY5ODAsNyw3MDQwLDcwNDEsNSw3MDczLDcwNzMsNyw3MDc4LDcwNzksNyw3MDgyLDcwODIsNyw3MTQyLDcxNDIsNSw3MTQ0LDcxNDUsNSw3MTQ5LDcxNDksNSw3MTUxLDcxNTMsNSw3MjA0LDcyMTEsNyw3MjIwLDcyMjEsNyw3Mzc2LDczNzgsNSw3MzkzLDczOTMsNyw3NDA1LDc0MDUsNSw3NDE1LDc0MTUsNyw3NjE2LDc2NzMsNSw4MjAzLDgyMDMsNCw4MjA1LDgyMDUsMTMsODIzMiw4MjMyLDQsODIzNCw4MjM4LDQsODI2NSw4MjY1LDE0LDgyOTMsODI5Myw0LDg0MDAsODQxMiw1LDg0MTcsODQxNyw1LDg0MjEsODQzMiw1LDg1MDUsODUwNSwxNCw4NjE3LDg2MTgsMTQsOTAwMCw5MDAwLDE0LDkxNjcsOTE2NywxNCw5MjA4LDkyMTAsMTQsOTY0Miw5NjQzLDE0LDk2NjQsOTY2NCwxNCw5NzI4LDk3MzIsMTQsOTczNSw5NzQxLDE0LDk3NDMsOTc0NCwxNCw5NzQ2LDk3NDYsMTQsOTc1MCw5NzUxLDE0LDk3NTMsOTc1NiwxNCw5NzU4LDk3NTksMTQsOTc2MSw5NzYxLDE0LDk3NjQsOTc2NSwxNCw5NzY3LDk3NjksMTQsOTc3MSw5NzczLDE0LDk3NzYsOTc4MywxNCw5Nzg3LDk3OTEsMTQsOTc5Myw5NzkzLDE0LDk3OTUsOTc5OSwxNCw5ODEyLDk4MjIsMTQsOTgyNCw5ODI0LDE0LDk4MjcsOTgyNywxNCw5ODI5LDk4MzAsMTQsOTgzMiw5ODMyLDE0LDk4NTEsOTg1MSwxNCw5ODU0LDk4NTQsMTQsOTg1Niw5ODYxLDE0LDk4NzQsOTg3NiwxNCw5ODc4LDk4NzksMTQsOTg4MSw5ODgxLDE0LDk4ODMsOTg4NCwxNCw5ODg4LDk4ODksMTQsOTg5NSw5ODk1LDE0LDk4OTgsOTg5OSwxNCw5OTA0LDk5MDUsMTQsOTkxNyw5OTE4LDE0LDk5MjQsOTkyNSwxNCw5OTI4LDk5MjgsMTQsOTkzNCw5OTM1LDE0LDk5MzcsOTkzNywxNCw5OTM5LDk5NDAsMTQsOTk2MSw5OTYyLDE0LDk5NjgsOTk3MywxNCw5OTc1LDk5NzgsMTQsOTk4MSw5OTgxLDE0LDk5ODYsOTk4NiwxNCw5OTg5LDk5ODksMTQsOTk5OCw5OTk4LDE0LDEwMDAwLDEwMDAxLDE0LDEwMDA0LDEwMDA0LDE0LDEwMDEzLDEwMDEzLDE0LDEwMDI0LDEwMDI0LDE0LDEwMDUyLDEwMDUyLDE0LDEwMDYwLDEwMDYwLDE0LDEwMDY3LDEwMDY5LDE0LDEwMDgzLDEwMDg0LDE0LDEwMTMzLDEwMTM1LDE0LDEwMTYwLDEwMTYwLDE0LDEwNTQ4LDEwNTQ5LDE0LDExMDM1LDExMDM2LDE0LDExMDkzLDExMDkzLDE0LDExNjQ3LDExNjQ3LDUsMTIzMzAsMTIzMzMsNSwxMjMzNiwxMjMzNiwxNCwxMjQ0MSwxMjQ0Miw1LDEyOTUzLDEyOTUzLDE0LDQyNjA4LDQyNjEwLDUsNDI2NTQsNDI2NTUsNSw0MzAxMCw0MzAxMCw1LDQzMDE5LDQzMDE5LDUsNDMwNDUsNDMwNDYsNSw0MzA1Miw0MzA1Miw1LDQzMTg4LDQzMjAzLDcsNDMyMzIsNDMyNDksNSw0MzMwMiw0MzMwOSw1LDQzMzQ2LDQzMzQ3LDcsNDMzOTIsNDMzOTQsNSw0MzQ0Myw0MzQ0Myw1LDQzNDQ2LDQzNDQ5LDUsNDM0NTIsNDM0NTMsNSw0MzQ5Myw0MzQ5Myw1LDQzNTY3LDQzNTY4LDcsNDM1NzEsNDM1NzIsNyw0MzU4Nyw0MzU4Nyw1LDQzNTk3LDQzNTk3LDcsNDM2OTYsNDM2OTYsNSw0MzcwMyw0MzcwNCw1LDQzNzEzLDQzNzEzLDUsNDM3NTYsNDM3NTcsNSw0Mzc2NSw0Mzc2NSw3LDQ0MDAzLDQ0MDA0LDcsNDQwMDYsNDQwMDcsNyw0NDAwOSw0NDAxMCw3LDQ0MDEzLDQ0MDEzLDUsNDQwMzMsNDQwNTksMTIsNDQwNjEsNDQwODcsMTIsNDQwODksNDQxMTUsMTIsNDQxMTcsNDQxNDMsMTIsNDQxNDUsNDQxNzEsMTIsNDQxNzMsNDQxOTksMTIsNDQyMDEsNDQyMjcsMTIsNDQyMjksNDQyNTUsMTIsNDQyNTcsNDQyODMsMTIsNDQyODUsNDQzMTEsMTIsNDQzMTMsNDQzMzksMTIsNDQzNDEsNDQzNjcsMTIsNDQzNjksNDQzOTUsMTIsNDQzOTcsNDQ0MjMsMTIsNDQ0MjUsNDQ0NTEsMTIsNDQ0NTMsNDQ0NzksMTIsNDQ0ODEsNDQ1MDcsMTIsNDQ1MDksNDQ1MzUsMTIsNDQ1MzcsNDQ1NjMsMTIsNDQ1NjUsNDQ1OTEsMTIsNDQ1OTMsNDQ2MTksMTIsNDQ2MjEsNDQ2NDcsMTIsNDQ2NDksNDQ2NzUsMTIsNDQ2NzcsNDQ3MDMsMTIsNDQ3MDUsNDQ3MzEsMTIsNDQ3MzMsNDQ3NTksMTIsNDQ3NjEsNDQ3ODcsMTIsNDQ3ODksNDQ4MTUsMTIsNDQ4MTcsNDQ4NDMsMTIsNDQ4NDUsNDQ4NzEsMTIsNDQ4NzMsNDQ4OTksMTIsNDQ5MDEsNDQ5MjcsMTIsNDQ5MjksNDQ5NTUsMTIsNDQ5NTcsNDQ5ODMsMTIsNDQ5ODUsNDUwMTEsMTIsNDUwMTMsNDUwMzksMTIsNDUwNDEsNDUwNjcsMTIsNDUwNjksNDUwOTUsMTIsNDUwOTcsNDUxMjMsMTIsNDUxMjUsNDUxNTEsMTIsNDUxNTMsNDUxNzksMTIsNDUxODEsNDUyMDcsMTIsNDUyMDksNDUyMzUsMTIsNDUyMzcsNDUyNjMsMTIsNDUyNjUsNDUyOTEsMTIsNDUyOTMsNDUzMTksMTIsNDUzMjEsNDUzNDcsMTIsNDUzNDksNDUzNzUsMTIsNDUzNzcsNDU0MDMsMTIsNDU0MDUsNDU0MzEsMTIsNDU0MzMsNDU0NTksMTIsNDU0NjEsNDU0ODcsMTIsNDU0ODksNDU1MTUsMTIsNDU1MTcsNDU1NDMsMTIsNDU1NDUsNDU1NzEsMTIsNDU1NzMsNDU1OTksMTIsNDU2MDEsNDU2MjcsMTIsNDU2MjksNDU2NTUsMTIsNDU2NTcsNDU2ODMsMTIsNDU2ODUsNDU3MTEsMTIsNDU3MTMsNDU3MzksMTIsNDU3NDEsNDU3NjcsMTIsNDU3NjksNDU3OTUsMTIsNDU3OTcsNDU4MjMsMTIsNDU4MjUsNDU4NTEsMTIsNDU4NTMsNDU4NzksMTIsNDU4ODEsNDU5MDcsMTIsNDU5MDksNDU5MzUsMTIsNDU5MzcsNDU5NjMsMTIsNDU5NjUsNDU5OTEsMTIsNDU5OTMsNDYwMTksMTIsNDYwMjEsNDYwNDcsMTIsNDYwNDksNDYwNzUsMTIsNDYwNzcsNDYxMDMsMTIsNDYxMDUsNDYxMzEsMTIsNDYxMzMsNDYxNTksMTIsNDYxNjEsNDYxODcsMTIsNDYxODksNDYyMTUsMTIsNDYyMTcsNDYyNDMsMTIsNDYyNDUsNDYyNzEsMTIsNDYyNzMsNDYyOTksMTIsNDYzMDEsNDYzMjcsMTIsNDYzMjksNDYzNTUsMTIsNDYzNTcsNDYzODMsMTIsNDYzODUsNDY0MTEsMTIsNDY0MTMsNDY0MzksMTIsNDY0NDEsNDY0NjcsMTIsNDY0NjksNDY0OTUsMTIsNDY0OTcsNDY1MjMsMTIsNDY1MjUsNDY1NTEsMTIsNDY1NTMsNDY1NzksMTIsNDY1ODEsNDY2MDcsMTIsNDY2MDksNDY2MzUsMTIsNDY2MzcsNDY2NjMsMTIsNDY2NjUsNDY2OTEsMTIsNDY2OTMsNDY3MTksMTIsNDY3MjEsNDY3NDcsMTIsNDY3NDksNDY3NzUsMTIsNDY3NzcsNDY4MDMsMTIsNDY4MDUsNDY4MzEsMTIsNDY4MzMsNDY4NTksMTIsNDY4NjEsNDY4ODcsMTIsNDY4ODksNDY5MTUsMTIsNDY5MTcsNDY5NDMsMTIsNDY5NDUsNDY5NzEsMTIsNDY5NzMsNDY5OTksMTIsNDcwMDEsNDcwMjcsMTIsNDcwMjksNDcwNTUsMTIsNDcwNTcsNDcwODMsMTIsNDcwODUsNDcxMTEsMTIsNDcxMTMsNDcxMzksMTIsNDcxNDEsNDcxNjcsMTIsNDcxNjksNDcxOTUsMTIsNDcxOTcsNDcyMjMsMTIsNDcyMjUsNDcyNTEsMTIsNDcyNTMsNDcyNzksMTIsNDcyODEsNDczMDcsMTIsNDczMDksNDczMzUsMTIsNDczMzcsNDczNjMsMTIsNDczNjUsNDczOTEsMTIsNDczOTMsNDc0MTksMTIsNDc0MjEsNDc0NDcsMTIsNDc0NDksNDc0NzUsMTIsNDc0NzcsNDc1MDMsMTIsNDc1MDUsNDc1MzEsMTIsNDc1MzMsNDc1NTksMTIsNDc1NjEsNDc1ODcsMTIsNDc1ODksNDc2MTUsMTIsNDc2MTcsNDc2NDMsMTIsNDc2NDUsNDc2NzEsMTIsNDc2NzMsNDc2OTksMTIsNDc3MDEsNDc3MjcsMTIsNDc3MjksNDc3NTUsMTIsNDc3NTcsNDc3ODMsMTIsNDc3ODUsNDc4MTEsMTIsNDc4MTMsNDc4MzksMTIsNDc4NDEsNDc4NjcsMTIsNDc4NjksNDc4OTUsMTIsNDc4OTcsNDc5MjMsMTIsNDc5MjUsNDc5NTEsMTIsNDc5NTMsNDc5NzksMTIsNDc5ODEsNDgwMDcsMTIsNDgwMDksNDgwMzUsMTIsNDgwMzcsNDgwNjMsMTIsNDgwNjUsNDgwOTEsMTIsNDgwOTMsNDgxMTksMTIsNDgxMjEsNDgxNDcsMTIsNDgxNDksNDgxNzUsMTIsNDgxNzcsNDgyMDMsMTIsNDgyMDUsNDgyMzEsMTIsNDgyMzMsNDgyNTksMTIsNDgyNjEsNDgyODcsMTIsNDgyODksNDgzMTUsMTIsNDgzMTcsNDgzNDMsMTIsNDgzNDUsNDgzNzEsMTIsNDgzNzMsNDgzOTksMTIsNDg0MDEsNDg0MjcsMTIsNDg0MjksNDg0NTUsMTIsNDg0NTcsNDg0ODMsMTIsNDg0ODUsNDg1MTEsMTIsNDg1MTMsNDg1MzksMTIsNDg1NDEsNDg1NjcsMTIsNDg1NjksNDg1OTUsMTIsNDg1OTcsNDg2MjMsMTIsNDg2MjUsNDg2NTEsMTIsNDg2NTMsNDg2NzksMTIsNDg2ODEsNDg3MDcsMTIsNDg3MDksNDg3MzUsMTIsNDg3MzcsNDg3NjMsMTIsNDg3NjUsNDg3OTEsMTIsNDg3OTMsNDg4MTksMTIsNDg4MjEsNDg4NDcsMTIsNDg4NDksNDg4NzUsMTIsNDg4NzcsNDg5MDMsMTIsNDg5MDUsNDg5MzEsMTIsNDg5MzMsNDg5NTksMTIsNDg5NjEsNDg5ODcsMTIsNDg5ODksNDkwMTUsMTIsNDkwMTcsNDkwNDMsMTIsNDkwNDUsNDkwNzEsMTIsNDkwNzMsNDkwOTksMTIsNDkxMDEsNDkxMjcsMTIsNDkxMjksNDkxNTUsMTIsNDkxNTcsNDkxODMsMTIsNDkxODUsNDkyMTEsMTIsNDkyMTMsNDkyMzksMTIsNDkyNDEsNDkyNjcsMTIsNDkyNjksNDkyOTUsMTIsNDkyOTcsNDkzMjMsMTIsNDkzMjUsNDkzNTEsMTIsNDkzNTMsNDkzNzksMTIsNDkzODEsNDk0MDcsMTIsNDk0MDksNDk0MzUsMTIsNDk0MzcsNDk0NjMsMTIsNDk0NjUsNDk0OTEsMTIsNDk0OTMsNDk1MTksMTIsNDk1MjEsNDk1NDcsMTIsNDk1NDksNDk1NzUsMTIsNDk1NzcsNDk2MDMsMTIsNDk2MDUsNDk2MzEsMTIsNDk2MzMsNDk2NTksMTIsNDk2NjEsNDk2ODcsMTIsNDk2ODksNDk3MTUsMTIsNDk3MTcsNDk3NDMsMTIsNDk3NDUsNDk3NzEsMTIsNDk3NzMsNDk3OTksMTIsNDk4MDEsNDk4MjcsMTIsNDk4MjksNDk4NTUsMTIsNDk4NTcsNDk4ODMsMTIsNDk4ODUsNDk5MTEsMTIsNDk5MTMsNDk5MzksMTIsNDk5NDEsNDk5NjcsMTIsNDk5NjksNDk5OTUsMTIsNDk5OTcsNTAwMjMsMTIsNTAwMjUsNTAwNTEsMTIsNTAwNTMsNTAwNzksMTIsNTAwODEsNTAxMDcsMTIsNTAxMDksNTAxMzUsMTIsNTAxMzcsNTAxNjMsMTIsNTAxNjUsNTAxOTEsMTIsNTAxOTMsNTAyMTksMTIsNTAyMjEsNTAyNDcsMTIsNTAyNDksNTAyNzUsMTIsNTAyNzcsNTAzMDMsMTIsNTAzMDUsNTAzMzEsMTIsNTAzMzMsNTAzNTksMTIsNTAzNjEsNTAzODcsMTIsNTAzODksNTA0MTUsMTIsNTA0MTcsNTA0NDMsMTIsNTA0NDUsNTA0NzEsMTIsNTA0NzMsNTA0OTksMTIsNTA1MDEsNTA1MjcsMTIsNTA1MjksNTA1NTUsMTIsNTA1NTcsNTA1ODMsMTIsNTA1ODUsNTA2MTEsMTIsNTA2MTMsNTA2MzksMTIsNTA2NDEsNTA2NjcsMTIsNTA2NjksNTA2OTUsMTIsNTA2OTcsNTA3MjMsMTIsNTA3MjUsNTA3NTEsMTIsNTA3NTMsNTA3NzksMTIsNTA3ODEsNTA4MDcsMTIsNTA4MDksNTA4MzUsMTIsNTA4MzcsNTA4NjMsMTIsNTA4NjUsNTA4OTEsMTIsNTA4OTMsNTA5MTksMTIsNTA5MjEsNTA5NDcsMTIsNTA5NDksNTA5NzUsMTIsNTA5NzcsNTEwMDMsMTIsNTEwMDUsNTEwMzEsMTIsNTEwMzMsNTEwNTksMTIsNTEwNjEsNTEwODcsMTIsNTEwODksNTExMTUsMTIsNTExMTcsNTExNDMsMTIsNTExNDUsNTExNzEsMTIsNTExNzMsNTExOTksMTIsNTEyMDEsNTEyMjcsMTIsNTEyMjksNTEyNTUsMTIsNTEyNTcsNTEyODMsMTIsNTEyODUsNTEzMTEsMTIsNTEzMTMsNTEzMzksMTIsNTEzNDEsNTEzNjcsMTIsNTEzNjksNTEzOTUsMTIsNTEzOTcsNTE0MjMsMTIsNTE0MjUsNTE0NTEsMTIsNTE0NTMsNTE0NzksMTIsNTE0ODEsNTE1MDcsMTIsNTE1MDksNTE1MzUsMTIsNTE1MzcsNTE1NjMsMTIsNTE1NjUsNTE1OTEsMTIsNTE1OTMsNTE2MTksMTIsNTE2MjEsNTE2NDcsMTIsNTE2NDksNTE2NzUsMTIsNTE2NzcsNTE3MDMsMTIsNTE3MDUsNTE3MzEsMTIsNTE3MzMsNTE3NTksMTIsNTE3NjEsNTE3ODcsMTIsNTE3ODksNTE4MTUsMTIsNTE4MTcsNTE4NDMsMTIsNTE4NDUsNTE4NzEsMTIsNTE4NzMsNTE4OTksMTIsNTE5MDEsNTE5MjcsMTIsNTE5MjksNTE5NTUsMTIsNTE5NTcsNTE5ODMsMTIsNTE5ODUsNTIwMTEsMTIsNTIwMTMsNTIwMzksMTIsNTIwNDEsNTIwNjcsMTIsNTIwNjksNTIwOTUsMTIsNTIwOTcsNTIxMjMsMTIsNTIxMjUsNTIxNTEsMTIsNTIxNTMsNTIxNzksMTIsNTIxODEsNTIyMDcsMTIsNTIyMDksNTIyMzUsMTIsNTIyMzcsNTIyNjMsMTIsNTIyNjUsNTIyOTEsMTIsNTIyOTMsNTIzMTksMTIsNTIzMjEsNTIzNDcsMTIsNTIzNDksNTIzNzUsMTIsNTIzNzcsNTI0MDMsMTIsNTI0MDUsNTI0MzEsMTIsNTI0MzMsNTI0NTksMTIsNTI0NjEsNTI0ODcsMTIsNTI0ODksNTI1MTUsMTIsNTI1MTcsNTI1NDMsMTIsNTI1NDUsNTI1NzEsMTIsNTI1NzMsNTI1OTksMTIsNTI2MDEsNTI2MjcsMTIsNTI2MjksNTI2NTUsMTIsNTI2NTcsNTI2ODMsMTIsNTI2ODUsNTI3MTEsMTIsNTI3MTMsNTI3MzksMTIsNTI3NDEsNTI3NjcsMTIsNTI3NjksNTI3OTUsMTIsNTI3OTcsNTI4MjMsMTIsNTI4MjUsNTI4NTEsMTIsNTI4NTMsNTI4NzksMTIsNTI4ODEsNTI5MDcsMTIsNTI5MDksNTI5MzUsMTIsNTI5MzcsNTI5NjMsMTIsNTI5NjUsNTI5OTEsMTIsNTI5OTMsNTMwMTksMTIsNTMwMjEsNTMwNDcsMTIsNTMwNDksNTMwNzUsMTIsNTMwNzcsNTMxMDMsMTIsNTMxMDUsNTMxMzEsMTIsNTMxMzMsNTMxNTksMTIsNTMxNjEsNTMxODcsMTIsNTMxODksNTMyMTUsMTIsNTMyMTcsNTMyNDMsMTIsNTMyNDUsNTMyNzEsMTIsNTMyNzMsNTMyOTksMTIsNTMzMDEsNTMzMjcsMTIsNTMzMjksNTMzNTUsMTIsNTMzNTcsNTMzODMsMTIsNTMzODUsNTM0MTEsMTIsNTM0MTMsNTM0MzksMTIsNTM0NDEsNTM0NjcsMTIsNTM0NjksNTM0OTUsMTIsNTM0OTcsNTM1MjMsMTIsNTM1MjUsNTM1NTEsMTIsNTM1NTMsNTM1NzksMTIsNTM1ODEsNTM2MDcsMTIsNTM2MDksNTM2MzUsMTIsNTM2MzcsNTM2NjMsMTIsNTM2NjUsNTM2OTEsMTIsNTM2OTMsNTM3MTksMTIsNTM3MjEsNTM3NDcsMTIsNTM3NDksNTM3NzUsMTIsNTM3NzcsNTM4MDMsMTIsNTM4MDUsNTM4MzEsMTIsNTM4MzMsNTM4NTksMTIsNTM4NjEsNTM4ODcsMTIsNTM4ODksNTM5MTUsMTIsNTM5MTcsNTM5NDMsMTIsNTM5NDUsNTM5NzEsMTIsNTM5NzMsNTM5OTksMTIsNTQwMDEsNTQwMjcsMTIsNTQwMjksNTQwNTUsMTIsNTQwNTcsNTQwODMsMTIsNTQwODUsNTQxMTEsMTIsNTQxMTMsNTQxMzksMTIsNTQxNDEsNTQxNjcsMTIsNTQxNjksNTQxOTUsMTIsNTQxOTcsNTQyMjMsMTIsNTQyMjUsNTQyNTEsMTIsNTQyNTMsNTQyNzksMTIsNTQyODEsNTQzMDcsMTIsNTQzMDksNTQzMzUsMTIsNTQzMzcsNTQzNjMsMTIsNTQzNjUsNTQzOTEsMTIsNTQzOTMsNTQ0MTksMTIsNTQ0MjEsNTQ0NDcsMTIsNTQ0NDksNTQ0NzUsMTIsNTQ0NzcsNTQ1MDMsMTIsNTQ1MDUsNTQ1MzEsMTIsNTQ1MzMsNTQ1NTksMTIsNTQ1NjEsNTQ1ODcsMTIsNTQ1ODksNTQ2MTUsMTIsNTQ2MTcsNTQ2NDMsMTIsNTQ2NDUsNTQ2NzEsMTIsNTQ2NzMsNTQ2OTksMTIsNTQ3MDEsNTQ3MjcsMTIsNTQ3MjksNTQ3NTUsMTIsNTQ3NTcsNTQ3ODMsMTIsNTQ3ODUsNTQ4MTEsMTIsNTQ4MTMsNTQ4MzksMTIsNTQ4NDEsNTQ4NjcsMTIsNTQ4NjksNTQ4OTUsMTIsNTQ4OTcsNTQ5MjMsMTIsNTQ5MjUsNTQ5NTEsMTIsNTQ5NTMsNTQ5NzksMTIsNTQ5ODEsNTUwMDcsMTIsNTUwMDksNTUwMzUsMTIsNTUwMzcsNTUwNjMsMTIsNTUwNjUsNTUwOTEsMTIsNTUwOTMsNTUxMTksMTIsNTUxMjEsNTUxNDcsMTIsNTUxNDksNTUxNzUsMTIsNTUxNzcsNTUyMDMsMTIsNTUyNDMsNTUyOTEsMTAsNjUwMjQsNjUwMzksNSw2NTI3OSw2NTI3OSw0LDY1NTIwLDY1NTI4LDQsNjYwNDUsNjYwNDUsNSw2NjQyMiw2NjQyNiw1LDY4MTAxLDY4MTAyLDUsNjgxNTIsNjgxNTQsNSw2ODMyNSw2ODMyNiw1LDY5MjkxLDY5MjkyLDUsNjk2MzIsNjk2MzIsNyw2OTYzNCw2OTYzNCw3LDY5NzU5LDY5NzYxLDVdJyk7XHJcbn1cclxuLy8jZW5kcmVnaW9uXHJcbi8qKlxyXG4gKiBDb21wdXRlcyB0aGUgb2Zmc2V0IGFmdGVyIHBlcmZvcm1pbmcgYSBsZWZ0IGRlbGV0ZSBvbiB0aGUgZ2l2ZW4gc3RyaW5nLFxyXG4gKiB3aGlsZSBjb25zaWRlcmluZyB1bmljb2RlIGdyYXBoZW1lL2Vtb2ppIHJ1bGVzLlxyXG4qL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGVmdERlbGV0ZU9mZnNldChvZmZzZXQsIHN0cikge1xyXG4gICAgaWYgKG9mZnNldCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgLy8gVHJ5IHRvIGRlbGV0ZSBlbW9qaSBwYXJ0LlxyXG4gICAgY29uc3QgZW1vamlPZmZzZXQgPSBnZXRPZmZzZXRCZWZvcmVMYXN0RW1vamlDb21wb25lbnQob2Zmc2V0LCBzdHIpO1xyXG4gICAgaWYgKGVtb2ppT2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gZW1vamlPZmZzZXQ7XHJcbiAgICB9XHJcbiAgICAvLyBPdGhlcndpc2UsIGp1c3Qgc2tpcCBhIHNpbmdsZSBjb2RlIHBvaW50LlxyXG4gICAgY29uc3QgY29kZVBvaW50ID0gZ2V0UHJldkNvZGVQb2ludChzdHIsIG9mZnNldCk7XHJcbiAgICBvZmZzZXQgLT0gZ2V0VVRGMTZMZW5ndGgoY29kZVBvaW50KTtcclxuICAgIHJldHVybiBvZmZzZXQ7XHJcbn1cclxuZnVuY3Rpb24gZ2V0T2Zmc2V0QmVmb3JlTGFzdEVtb2ppQ29tcG9uZW50KG9mZnNldCwgc3RyKSB7XHJcbiAgICAvLyBTZWUgaHR0cHM6Ly93d3cudW5pY29kZS5vcmcvcmVwb3J0cy90cjUxL3RyNTEtMTQuaHRtbCNFQk5GX2FuZF9SZWdleCBmb3IgdGhlXHJcbiAgICAvLyBzdHJ1Y3R1cmUgb2YgZW1vamlzLlxyXG4gICAgbGV0IGNvZGVQb2ludCA9IGdldFByZXZDb2RlUG9pbnQoc3RyLCBvZmZzZXQpO1xyXG4gICAgb2Zmc2V0IC09IGdldFVURjE2TGVuZ3RoKGNvZGVQb2ludCk7XHJcbiAgICAvLyBTa2lwIG1vZGlmaWVyc1xyXG4gICAgd2hpbGUgKChpc0Vtb2ppTW9kaWZpZXIoY29kZVBvaW50KSB8fCBjb2RlUG9pbnQgPT09IDY1MDM5IC8qIGVtb2ppVmFyaWFudFNlbGVjdG9yICovIHx8IGNvZGVQb2ludCA9PT0gODQxOSAvKiBlbmNsb3NpbmdLZXlDYXAgKi8pKSB7XHJcbiAgICAgICAgaWYgKG9mZnNldCA9PT0gMCkge1xyXG4gICAgICAgICAgICAvLyBDYW5ub3Qgc2tpcCBtb2RpZmllciwgbm8gcHJlY2VkaW5nIGVtb2ppIGJhc2UuXHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvZGVQb2ludCA9IGdldFByZXZDb2RlUG9pbnQoc3RyLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCAtPSBnZXRVVEYxNkxlbmd0aChjb2RlUG9pbnQpO1xyXG4gICAgfVxyXG4gICAgLy8gRXhwZWN0IGJhc2UgZW1vamlcclxuICAgIGlmICghaXNFbW9qaUltcHJlY2lzZShjb2RlUG9pbnQpKSB7XHJcbiAgICAgICAgLy8gVW5leHBlY3RlZCBjb2RlIHBvaW50LCBub3QgYSB2YWxpZCBlbW9qaS5cclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgaWYgKG9mZnNldCA+PSAwKSB7XHJcbiAgICAgICAgLy8gU2tpcCBvcHRpb25hbCBaV0ogY29kZSBwb2ludHMgdGhhdCBjb21iaW5lIG11bHRpcGxlIGVtb2ppcy5cclxuICAgICAgICAvLyBJbiB0aGVvcnksIHdlIHNob3VsZCBjaGVjayBpZiB0aGF0IFpXSiBhY3R1YWxseSBjb21iaW5lcyBtdWx0aXBsZSBlbW9qaXNcclxuICAgICAgICAvLyB0byBwcmV2ZW50IGRlbGV0aW5nIFpXSnMgaW4gc2l0dWF0aW9ucyB3ZSBkaWRuJ3QgYWNjb3VudCBmb3IuXHJcbiAgICAgICAgY29uc3Qgb3B0aW9uYWxad2pDb2RlUG9pbnQgPSBnZXRQcmV2Q29kZVBvaW50KHN0ciwgb2Zmc2V0KTtcclxuICAgICAgICBpZiAob3B0aW9uYWxad2pDb2RlUG9pbnQgPT09IDgyMDUgLyogendqICovKSB7XHJcbiAgICAgICAgICAgIG9mZnNldCAtPSBnZXRVVEYxNkxlbmd0aChvcHRpb25hbFp3akNvZGVQb2ludCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9mZnNldDtcclxufVxyXG5mdW5jdGlvbiBnZXRVVEYxNkxlbmd0aChjb2RlUG9pbnQpIHtcclxuICAgIHJldHVybiBjb2RlUG9pbnQgPj0gNjU1MzYgLyogVU5JQ09ERV9TVVBQTEVNRU5UQVJZX1BMQU5FX0JFR0lOICovID8gMiA6IDE7XHJcbn1cclxuZnVuY3Rpb24gaXNFbW9qaU1vZGlmaWVyKGNvZGVQb2ludCkge1xyXG4gICAgcmV0dXJuIDB4MUYzRkIgPD0gY29kZVBvaW50ICYmIGNvZGVQb2ludCA8PSAweDFGM0ZGO1xyXG59XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuaW1wb3J0ICogYXMgc3RyaW5ncyBmcm9tICcuL3N0cmluZ3MuanMnO1xyXG4vKipcclxuICogUmV0dXJuIGEgaGFzaCB2YWx1ZSBmb3IgYW4gb2JqZWN0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc2gob2JqKSB7XHJcbiAgICByZXR1cm4gZG9IYXNoKG9iaiwgMCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGRvSGFzaChvYmosIGhhc2hWYWwpIHtcclxuICAgIHN3aXRjaCAodHlwZW9mIG9iaikge1xyXG4gICAgICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgICAgICAgIGlmIChvYmogPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXJIYXNoKDM0OSwgaGFzaFZhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXlIYXNoKG9iaiwgaGFzaFZhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdEhhc2gob2JqLCBoYXNoVmFsKTtcclxuICAgICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nSGFzaChvYmosIGhhc2hWYWwpO1xyXG4gICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxyXG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkhhc2gob2JqLCBoYXNoVmFsKTtcclxuICAgICAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICAgICAgICByZXR1cm4gbnVtYmVySGFzaChvYmosIGhhc2hWYWwpO1xyXG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XHJcbiAgICAgICAgICAgIHJldHVybiBudW1iZXJIYXNoKDkzNywgaGFzaFZhbCk7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIG51bWJlckhhc2goNjE3LCBoYXNoVmFsKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBudW1iZXJIYXNoKHZhbCwgaW5pdGlhbEhhc2hWYWwpIHtcclxuICAgIHJldHVybiAoKChpbml0aWFsSGFzaFZhbCA8PCA1KSAtIGluaXRpYWxIYXNoVmFsKSArIHZhbCkgfCAwOyAvLyBoYXNoVmFsICogMzEgKyBjaCwga2VlcCBhcyBpbnQzMlxyXG59XHJcbmZ1bmN0aW9uIGJvb2xlYW5IYXNoKGIsIGluaXRpYWxIYXNoVmFsKSB7XHJcbiAgICByZXR1cm4gbnVtYmVySGFzaChiID8gNDMzIDogODYzLCBpbml0aWFsSGFzaFZhbCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ0hhc2gocywgaGFzaFZhbCkge1xyXG4gICAgaGFzaFZhbCA9IG51bWJlckhhc2goMTQ5NDE3LCBoYXNoVmFsKTtcclxuICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaGFzaFZhbCA9IG51bWJlckhhc2gocy5jaGFyQ29kZUF0KGkpLCBoYXNoVmFsKTtcclxuICAgIH1cclxuICAgIHJldHVybiBoYXNoVmFsO1xyXG59XHJcbmZ1bmN0aW9uIGFycmF5SGFzaChhcnIsIGluaXRpYWxIYXNoVmFsKSB7XHJcbiAgICBpbml0aWFsSGFzaFZhbCA9IG51bWJlckhhc2goMTA0NTc5LCBpbml0aWFsSGFzaFZhbCk7XHJcbiAgICByZXR1cm4gYXJyLnJlZHVjZSgoaGFzaFZhbCwgaXRlbSkgPT4gZG9IYXNoKGl0ZW0sIGhhc2hWYWwpLCBpbml0aWFsSGFzaFZhbCk7XHJcbn1cclxuZnVuY3Rpb24gb2JqZWN0SGFzaChvYmosIGluaXRpYWxIYXNoVmFsKSB7XHJcbiAgICBpbml0aWFsSGFzaFZhbCA9IG51bWJlckhhc2goMTgxMzg3LCBpbml0aWFsSGFzaFZhbCk7XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5zb3J0KCkucmVkdWNlKChoYXNoVmFsLCBrZXkpID0+IHtcclxuICAgICAgICBoYXNoVmFsID0gc3RyaW5nSGFzaChrZXksIGhhc2hWYWwpO1xyXG4gICAgICAgIHJldHVybiBkb0hhc2gob2JqW2tleV0sIGhhc2hWYWwpO1xyXG4gICAgfSwgaW5pdGlhbEhhc2hWYWwpO1xyXG59XHJcbmZ1bmN0aW9uIGxlZnRSb3RhdGUodmFsdWUsIGJpdHMsIHRvdGFsQml0cyA9IDMyKSB7XHJcbiAgICAvLyBkZWx0YSArIGJpdHMgPSB0b3RhbEJpdHNcclxuICAgIGNvbnN0IGRlbHRhID0gdG90YWxCaXRzIC0gYml0cztcclxuICAgIC8vIEFsbCBvbmVzLCBleHBlY3QgYGRlbHRhYCB6ZXJvcyBhbGlnbmVkIHRvIHRoZSByaWdodFxyXG4gICAgY29uc3QgbWFzayA9IH4oKDEgPDwgZGVsdGEpIC0gMSk7XHJcbiAgICAvLyBKb2luICh2YWx1ZSBsZWZ0LXNoaWZ0ZWQgYGJpdHNgIGJpdHMpIHdpdGggKG1hc2tlZCB2YWx1ZSByaWdodC1zaGlmdGVkIGBkZWx0YWAgYml0cylcclxuICAgIHJldHVybiAoKHZhbHVlIDw8IGJpdHMpIHwgKChtYXNrICYgdmFsdWUpID4+PiBkZWx0YSkpID4+PiAwO1xyXG59XHJcbmZ1bmN0aW9uIGZpbGwoZGVzdCwgaW5kZXggPSAwLCBjb3VudCA9IGRlc3QuYnl0ZUxlbmd0aCwgdmFsdWUgPSAwKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICBkZXN0W2luZGV4ICsgaV0gPSB2YWx1ZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBsZWZ0UGFkKHZhbHVlLCBsZW5ndGgsIGNoYXIgPSAnMCcpIHtcclxuICAgIHdoaWxlICh2YWx1ZS5sZW5ndGggPCBsZW5ndGgpIHtcclxuICAgICAgICB2YWx1ZSA9IGNoYXIgKyB2YWx1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gdG9IZXhTdHJpbmcoYnVmZmVyT3JWYWx1ZSwgYml0c2l6ZSA9IDMyKSB7XHJcbiAgICBpZiAoYnVmZmVyT3JWYWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkoYnVmZmVyT3JWYWx1ZSkpLm1hcChiID0+IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpLmpvaW4oJycpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZnRQYWQoKGJ1ZmZlck9yVmFsdWUgPj4+IDApLnRvU3RyaW5nKDE2KSwgYml0c2l6ZSAvIDQpO1xyXG59XHJcbi8qKlxyXG4gKiBBIFNIQTEgaW1wbGVtZW50YXRpb24gdGhhdCB3b3JrcyB3aXRoIHN0cmluZ3MgYW5kIGRvZXMgbm90IGFsbG9jYXRlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFN0cmluZ1NIQTEge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5faDAgPSAweDY3NDUyMzAxO1xyXG4gICAgICAgIHRoaXMuX2gxID0gMHhFRkNEQUI4OTtcclxuICAgICAgICB0aGlzLl9oMiA9IDB4OThCQURDRkU7XHJcbiAgICAgICAgdGhpcy5faDMgPSAweDEwMzI1NDc2O1xyXG4gICAgICAgIHRoaXMuX2g0ID0gMHhDM0QyRTFGMDtcclxuICAgICAgICB0aGlzLl9idWZmID0gbmV3IFVpbnQ4QXJyYXkoNjQgLyogQkxPQ0tfU0laRSAqLyArIDMgLyogdG8gZml0IGFueSB1dGYtOCAqLyk7XHJcbiAgICAgICAgdGhpcy5fYnVmZkRWID0gbmV3IERhdGFWaWV3KHRoaXMuX2J1ZmYuYnVmZmVyKTtcclxuICAgICAgICB0aGlzLl9idWZmTGVuID0gMDtcclxuICAgICAgICB0aGlzLl90b3RhbExlbiA9IDA7XHJcbiAgICAgICAgdGhpcy5fbGVmdG92ZXJIaWdoU3Vycm9nYXRlID0gMDtcclxuICAgICAgICB0aGlzLl9maW5pc2hlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKHN0cikge1xyXG4gICAgICAgIGNvbnN0IHN0ckxlbiA9IHN0ci5sZW5ndGg7XHJcbiAgICAgICAgaWYgKHN0ckxlbiA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJ1ZmYgPSB0aGlzLl9idWZmO1xyXG4gICAgICAgIGxldCBidWZmTGVuID0gdGhpcy5fYnVmZkxlbjtcclxuICAgICAgICBsZXQgbGVmdG92ZXJIaWdoU3Vycm9nYXRlID0gdGhpcy5fbGVmdG92ZXJIaWdoU3Vycm9nYXRlO1xyXG4gICAgICAgIGxldCBjaGFyQ29kZTtcclxuICAgICAgICBsZXQgb2Zmc2V0O1xyXG4gICAgICAgIGlmIChsZWZ0b3ZlckhpZ2hTdXJyb2dhdGUgIT09IDApIHtcclxuICAgICAgICAgICAgY2hhckNvZGUgPSBsZWZ0b3ZlckhpZ2hTdXJyb2dhdGU7XHJcbiAgICAgICAgICAgIG9mZnNldCA9IC0xO1xyXG4gICAgICAgICAgICBsZWZ0b3ZlckhpZ2hTdXJyb2dhdGUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdCgwKTtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgbGV0IGNvZGVQb2ludCA9IGNoYXJDb2RlO1xyXG4gICAgICAgICAgICBpZiAoc3RyaW5ncy5pc0hpZ2hTdXJyb2dhdGUoY2hhckNvZGUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ICsgMSA8IHN0ckxlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaGFyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KG9mZnNldCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmdzLmlzTG93U3Vycm9nYXRlKG5leHRDaGFyQ29kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVQb2ludCA9IHN0cmluZ3MuY29tcHV0ZUNvZGVQb2ludChjaGFyQ29kZSwgbmV4dENoYXJDb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlsbGVnYWwgPT4gdW5pY29kZSByZXBsYWNlbWVudCBjaGFyYWN0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZVBvaW50ID0gNjU1MzMgLyogVU5JQ09ERV9SRVBMQUNFTUVOVCAqLztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBsYXN0IGNoYXJhY3RlciBpcyBhIHN1cnJvZ2F0ZSBwYWlyXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdG92ZXJIaWdoU3Vycm9nYXRlID0gY2hhckNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5ncy5pc0xvd1N1cnJvZ2F0ZShjaGFyQ29kZSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlsbGVnYWwgPT4gdW5pY29kZSByZXBsYWNlbWVudCBjaGFyYWN0ZXJcclxuICAgICAgICAgICAgICAgIGNvZGVQb2ludCA9IDY1NTMzIC8qIFVOSUNPREVfUkVQTEFDRU1FTlQgKi87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnVmZkxlbiA9IHRoaXMuX3B1c2goYnVmZiwgYnVmZkxlbiwgY29kZVBvaW50KTtcclxuICAgICAgICAgICAgb2Zmc2V0Kys7XHJcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPCBzdHJMZW4pIHtcclxuICAgICAgICAgICAgICAgIGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQob2Zmc2V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2J1ZmZMZW4gPSBidWZmTGVuO1xyXG4gICAgICAgIHRoaXMuX2xlZnRvdmVySGlnaFN1cnJvZ2F0ZSA9IGxlZnRvdmVySGlnaFN1cnJvZ2F0ZTtcclxuICAgIH1cclxuICAgIF9wdXNoKGJ1ZmYsIGJ1ZmZMZW4sIGNvZGVQb2ludCkge1xyXG4gICAgICAgIGlmIChjb2RlUG9pbnQgPCAweDAwODApIHtcclxuICAgICAgICAgICAgYnVmZltidWZmTGVuKytdID0gY29kZVBvaW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDA4MDApIHtcclxuICAgICAgICAgICAgYnVmZltidWZmTGVuKytdID0gMGIxMTAwMDAwMCB8ICgoY29kZVBvaW50ICYgMGIwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMTExMTAwMDAwMCkgPj4+IDYpO1xyXG4gICAgICAgICAgICBidWZmW2J1ZmZMZW4rK10gPSAwYjEwMDAwMDAwIHwgKChjb2RlUG9pbnQgJiAwYjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTExMTExKSA+Pj4gMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcclxuICAgICAgICAgICAgYnVmZltidWZmTGVuKytdID0gMGIxMTEwMDAwMCB8ICgoY29kZVBvaW50ICYgMGIwMDAwMDAwMDAwMDAwMDAwMTExMTAwMDAwMDAwMDAwMCkgPj4+IDEyKTtcclxuICAgICAgICAgICAgYnVmZltidWZmTGVuKytdID0gMGIxMDAwMDAwMCB8ICgoY29kZVBvaW50ICYgMGIwMDAwMDAwMDAwMDAwMDAwMDAwMDExMTExMTAwMDAwMCkgPj4+IDYpO1xyXG4gICAgICAgICAgICBidWZmW2J1ZmZMZW4rK10gPSAwYjEwMDAwMDAwIHwgKChjb2RlUG9pbnQgJiAwYjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTExMTExKSA+Pj4gMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBidWZmW2J1ZmZMZW4rK10gPSAwYjExMTEwMDAwIHwgKChjb2RlUG9pbnQgJiAwYjAwMDAwMDAwMDAwMTExMDAwMDAwMDAwMDAwMDAwMDAwKSA+Pj4gMTgpO1xyXG4gICAgICAgICAgICBidWZmW2J1ZmZMZW4rK10gPSAwYjEwMDAwMDAwIHwgKChjb2RlUG9pbnQgJiAwYjAwMDAwMDAwMDAwMDAwMTExMTExMDAwMDAwMDAwMDAwKSA+Pj4gMTIpO1xyXG4gICAgICAgICAgICBidWZmW2J1ZmZMZW4rK10gPSAwYjEwMDAwMDAwIHwgKChjb2RlUG9pbnQgJiAwYjAwMDAwMDAwMDAwMDAwMDAwMDAwMTExMTExMDAwMDAwKSA+Pj4gNik7XHJcbiAgICAgICAgICAgIGJ1ZmZbYnVmZkxlbisrXSA9IDBiMTAwMDAwMDAgfCAoKGNvZGVQb2ludCAmIDBiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMTExMTEpID4+PiAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJ1ZmZMZW4gPj0gNjQgLyogQkxPQ0tfU0laRSAqLykge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGVwKCk7XHJcbiAgICAgICAgICAgIGJ1ZmZMZW4gLT0gNjQgLyogQkxPQ0tfU0laRSAqLztcclxuICAgICAgICAgICAgdGhpcy5fdG90YWxMZW4gKz0gNjQgLyogQkxPQ0tfU0laRSAqLztcclxuICAgICAgICAgICAgLy8gdGFrZSBsYXN0IDMgaW4gY2FzZSBvZiBVVEY4IG92ZXJmbG93XHJcbiAgICAgICAgICAgIGJ1ZmZbMF0gPSBidWZmWzY0IC8qIEJMT0NLX1NJWkUgKi8gKyAwXTtcclxuICAgICAgICAgICAgYnVmZlsxXSA9IGJ1ZmZbNjQgLyogQkxPQ0tfU0laRSAqLyArIDFdO1xyXG4gICAgICAgICAgICBidWZmWzJdID0gYnVmZls2NCAvKiBCTE9DS19TSVpFICovICsgMl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBidWZmTGVuO1xyXG4gICAgfVxyXG4gICAgZGlnZXN0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZmluaXNoZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZmluaXNoZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbGVmdG92ZXJIaWdoU3Vycm9nYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbGxlZ2FsID0+IHVuaWNvZGUgcmVwbGFjZW1lbnQgY2hhcmFjdGVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWZ0b3ZlckhpZ2hTdXJyb2dhdGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZkxlbiA9IHRoaXMuX3B1c2godGhpcy5fYnVmZiwgdGhpcy5fYnVmZkxlbiwgNjU1MzMgLyogVU5JQ09ERV9SRVBMQUNFTUVOVCAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fdG90YWxMZW4gKz0gdGhpcy5fYnVmZkxlbjtcclxuICAgICAgICAgICAgdGhpcy5fd3JhcFVwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b0hleFN0cmluZyh0aGlzLl9oMCkgKyB0b0hleFN0cmluZyh0aGlzLl9oMSkgKyB0b0hleFN0cmluZyh0aGlzLl9oMikgKyB0b0hleFN0cmluZyh0aGlzLl9oMykgKyB0b0hleFN0cmluZyh0aGlzLl9oNCk7XHJcbiAgICB9XHJcbiAgICBfd3JhcFVwKCkge1xyXG4gICAgICAgIHRoaXMuX2J1ZmZbdGhpcy5fYnVmZkxlbisrXSA9IDB4ODA7XHJcbiAgICAgICAgZmlsbCh0aGlzLl9idWZmLCB0aGlzLl9idWZmTGVuKTtcclxuICAgICAgICBpZiAodGhpcy5fYnVmZkxlbiA+IDU2KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0ZXAoKTtcclxuICAgICAgICAgICAgZmlsbCh0aGlzLl9idWZmKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGhpcyB3aWxsIGZpdCBiZWNhdXNlIHRoZSBtYW50aXNzYSBjYW4gY292ZXIgdXAgdG8gNTIgYml0c1xyXG4gICAgICAgIGNvbnN0IG1sID0gOCAqIHRoaXMuX3RvdGFsTGVuO1xyXG4gICAgICAgIHRoaXMuX2J1ZmZEVi5zZXRVaW50MzIoNTYsIE1hdGguZmxvb3IobWwgLyA0Mjk0OTY3Mjk2KSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuX2J1ZmZEVi5zZXRVaW50MzIoNjAsIG1sICUgNDI5NDk2NzI5NiwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuX3N0ZXAoKTtcclxuICAgIH1cclxuICAgIF9zdGVwKCkge1xyXG4gICAgICAgIGNvbnN0IGJpZ0Jsb2NrMzIgPSBTdHJpbmdTSEExLl9iaWdCbG9jazMyO1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9idWZmRFY7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA2NCAvKiAxNio0ICovOyBqICs9IDQpIHtcclxuICAgICAgICAgICAgYmlnQmxvY2szMi5zZXRVaW50MzIoaiwgZGF0YS5nZXRVaW50MzIoaiwgZmFsc2UpLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGogPSA2NDsgaiA8IDMyMCAvKiA4MCo0ICovOyBqICs9IDQpIHtcclxuICAgICAgICAgICAgYmlnQmxvY2szMi5zZXRVaW50MzIoaiwgbGVmdFJvdGF0ZSgoYmlnQmxvY2szMi5nZXRVaW50MzIoaiAtIDEyLCBmYWxzZSkgXiBiaWdCbG9jazMyLmdldFVpbnQzMihqIC0gMzIsIGZhbHNlKSBeIGJpZ0Jsb2NrMzIuZ2V0VWludDMyKGogLSA1NiwgZmFsc2UpIF4gYmlnQmxvY2szMi5nZXRVaW50MzIoaiAtIDY0LCBmYWxzZSkpLCAxKSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYSA9IHRoaXMuX2gwO1xyXG4gICAgICAgIGxldCBiID0gdGhpcy5faDE7XHJcbiAgICAgICAgbGV0IGMgPSB0aGlzLl9oMjtcclxuICAgICAgICBsZXQgZCA9IHRoaXMuX2gzO1xyXG4gICAgICAgIGxldCBlID0gdGhpcy5faDQ7XHJcbiAgICAgICAgbGV0IGYsIGs7XHJcbiAgICAgICAgbGV0IHRlbXA7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4MDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChqIDwgMjApIHtcclxuICAgICAgICAgICAgICAgIGYgPSAoYiAmIGMpIHwgKCh+YikgJiBkKTtcclxuICAgICAgICAgICAgICAgIGsgPSAweDVBODI3OTk5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGogPCA0MCkge1xyXG4gICAgICAgICAgICAgICAgZiA9IGIgXiBjIF4gZDtcclxuICAgICAgICAgICAgICAgIGsgPSAweDZFRDlFQkExO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGogPCA2MCkge1xyXG4gICAgICAgICAgICAgICAgZiA9IChiICYgYykgfCAoYiAmIGQpIHwgKGMgJiBkKTtcclxuICAgICAgICAgICAgICAgIGsgPSAweDhGMUJCQ0RDO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZiA9IGIgXiBjIF4gZDtcclxuICAgICAgICAgICAgICAgIGsgPSAweENBNjJDMUQ2O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRlbXAgPSAobGVmdFJvdGF0ZShhLCA1KSArIGYgKyBlICsgayArIGJpZ0Jsb2NrMzIuZ2V0VWludDMyKGogKiA0LCBmYWxzZSkpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICAgICAgZSA9IGQ7XHJcbiAgICAgICAgICAgIGQgPSBjO1xyXG4gICAgICAgICAgICBjID0gbGVmdFJvdGF0ZShiLCAzMCk7XHJcbiAgICAgICAgICAgIGIgPSBhO1xyXG4gICAgICAgICAgICBhID0gdGVtcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faDAgPSAodGhpcy5faDAgKyBhKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5faDEgPSAodGhpcy5faDEgKyBiKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5faDIgPSAodGhpcy5faDIgKyBjKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5faDMgPSAodGhpcy5faDMgKyBkKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5faDQgPSAodGhpcy5faDQgKyBlKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICB9XHJcbn1cclxuU3RyaW5nU0hBMS5fYmlnQmxvY2szMiA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMzIwKSk7IC8vIDgwICogNCA9IDMyMFxyXG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbmltcG9ydCB7IERpZmZDaGFuZ2UgfSBmcm9tICcuL2RpZmZDaGFuZ2UuanMnO1xyXG5pbXBvcnQgeyBzdHJpbmdIYXNoIH0gZnJvbSAnLi4vaGFzaC5qcyc7XHJcbmV4cG9ydCBjbGFzcyBTdHJpbmdEaWZmU2VxdWVuY2Uge1xyXG4gICAgY29uc3RydWN0b3Ioc291cmNlKSB7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XHJcbiAgICB9XHJcbiAgICBnZXRFbGVtZW50cygpIHtcclxuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcclxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJzID0gbmV3IEludDMyQXJyYXkoc291cmNlLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHNvdXJjZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXJzW2ldID0gc291cmNlLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjaGFyYWN0ZXJzO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdEaWZmKG9yaWdpbmFsLCBtb2RpZmllZCwgcHJldHR5KSB7XHJcbiAgICByZXR1cm4gbmV3IExjc0RpZmYobmV3IFN0cmluZ0RpZmZTZXF1ZW5jZShvcmlnaW5hbCksIG5ldyBTdHJpbmdEaWZmU2VxdWVuY2UobW9kaWZpZWQpKS5Db21wdXRlRGlmZihwcmV0dHkpLmNoYW5nZXM7XHJcbn1cclxuLy9cclxuLy8gVGhlIGNvZGUgYmVsb3cgaGFzIGJlZW4gcG9ydGVkIGZyb20gYSBDIyBpbXBsZW1lbnRhdGlvbiBpbiBWU1xyXG4vL1xyXG5leHBvcnQgY2xhc3MgRGVidWcge1xyXG4gICAgc3RhdGljIEFzc2VydChjb25kaXRpb24sIG1lc3NhZ2UpIHtcclxuICAgICAgICBpZiAoIWNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBNeUFycmF5IHtcclxuICAgIC8qKlxyXG4gICAgICogQ29waWVzIGEgcmFuZ2Ugb2YgZWxlbWVudHMgZnJvbSBhbiBBcnJheSBzdGFydGluZyBhdCB0aGUgc3BlY2lmaWVkIHNvdXJjZSBpbmRleCBhbmQgcGFzdGVzXHJcbiAgICAgKiB0aGVtIHRvIGFub3RoZXIgQXJyYXkgc3RhcnRpbmcgYXQgdGhlIHNwZWNpZmllZCBkZXN0aW5hdGlvbiBpbmRleC4gVGhlIGxlbmd0aCBhbmQgdGhlIGluZGV4ZXNcclxuICAgICAqIGFyZSBzcGVjaWZpZWQgYXMgNjQtYml0IGludGVnZXJzLlxyXG4gICAgICogc291cmNlQXJyYXk6XHJcbiAgICAgKlx0XHRUaGUgQXJyYXkgdGhhdCBjb250YWlucyB0aGUgZGF0YSB0byBjb3B5LlxyXG4gICAgICogc291cmNlSW5kZXg6XHJcbiAgICAgKlx0XHRBIDY0LWJpdCBpbnRlZ2VyIHRoYXQgcmVwcmVzZW50cyB0aGUgaW5kZXggaW4gdGhlIHNvdXJjZUFycmF5IGF0IHdoaWNoIGNvcHlpbmcgYmVnaW5zLlxyXG4gICAgICogZGVzdGluYXRpb25BcnJheTpcclxuICAgICAqXHRcdFRoZSBBcnJheSB0aGF0IHJlY2VpdmVzIHRoZSBkYXRhLlxyXG4gICAgICogZGVzdGluYXRpb25JbmRleDpcclxuICAgICAqXHRcdEEgNjQtYml0IGludGVnZXIgdGhhdCByZXByZXNlbnRzIHRoZSBpbmRleCBpbiB0aGUgZGVzdGluYXRpb25BcnJheSBhdCB3aGljaCBzdG9yaW5nIGJlZ2lucy5cclxuICAgICAqIGxlbmd0aDpcclxuICAgICAqXHRcdEEgNjQtYml0IGludGVnZXIgdGhhdCByZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gY29weS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIENvcHkoc291cmNlQXJyYXksIHNvdXJjZUluZGV4LCBkZXN0aW5hdGlvbkFycmF5LCBkZXN0aW5hdGlvbkluZGV4LCBsZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uQXJyYXlbZGVzdGluYXRpb25JbmRleCArIGldID0gc291cmNlQXJyYXlbc291cmNlSW5kZXggKyBpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ29weTIoc291cmNlQXJyYXksIHNvdXJjZUluZGV4LCBkZXN0aW5hdGlvbkFycmF5LCBkZXN0aW5hdGlvbkluZGV4LCBsZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uQXJyYXlbZGVzdGluYXRpb25JbmRleCArIGldID0gc291cmNlQXJyYXlbc291cmNlSW5kZXggKyBpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEEgdXRpbGl0eSBjbGFzcyB3aGljaCBoZWxwcyB0byBjcmVhdGUgdGhlIHNldCBvZiBEaWZmQ2hhbmdlcyBmcm9tXHJcbiAqIGEgZGlmZmVyZW5jZSBvcGVyYXRpb24uIFRoaXMgY2xhc3MgYWNjZXB0cyBvcmlnaW5hbCBEaWZmRWxlbWVudHMgYW5kXHJcbiAqIG1vZGlmaWVkIERpZmZFbGVtZW50cyB0aGF0IGFyZSBpbnZvbHZlZCBpbiBhIHBhcnRpY3VsYXIgY2hhbmdlLiBUaGVcclxuICogTWFya3ROZXh0Q2hhbmdlKCkgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gbWFyayB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuXHJcbiAqIGRpc3RpbmN0IGNoYW5nZXMuIEF0IHRoZSBlbmQsIHRoZSBDaGFuZ2VzIHByb3BlcnR5IGNhbiBiZSBjYWxsZWQgdG8gcmV0cmlldmVcclxuICogdGhlIGNvbnN0cnVjdGVkIGNoYW5nZXMuXHJcbiAqL1xyXG5jbGFzcyBEaWZmQ2hhbmdlSGVscGVyIHtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0cyBhIG5ldyBEaWZmQ2hhbmdlSGVscGVyIGZvciB0aGUgZ2l2ZW4gRGlmZlNlcXVlbmNlcy5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5tX2NoYW5nZXMgPSBbXTtcclxuICAgICAgICB0aGlzLm1fb3JpZ2luYWxTdGFydCA9IDEwNzM3NDE4MjQgLyogTUFYX1NBRkVfU01BTExfSU5URUdFUiAqLztcclxuICAgICAgICB0aGlzLm1fbW9kaWZpZWRTdGFydCA9IDEwNzM3NDE4MjQgLyogTUFYX1NBRkVfU01BTExfSU5URUdFUiAqLztcclxuICAgICAgICB0aGlzLm1fb3JpZ2luYWxDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5tX21vZGlmaWVkQ291bnQgPSAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXJrcyB0aGUgYmVnaW5uaW5nIG9mIHRoZSBuZXh0IGNoYW5nZSBpbiB0aGUgc2V0IG9mIGRpZmZlcmVuY2VzLlxyXG4gICAgICovXHJcbiAgICBNYXJrTmV4dENoYW5nZSgpIHtcclxuICAgICAgICAvLyBPbmx5IGFkZCB0byB0aGUgbGlzdCBpZiB0aGVyZSBpcyBzb21ldGhpbmcgdG8gYWRkXHJcbiAgICAgICAgaWYgKHRoaXMubV9vcmlnaW5hbENvdW50ID4gMCB8fCB0aGlzLm1fbW9kaWZpZWRDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXcgY2hhbmdlIHRvIG91ciBsaXN0XHJcbiAgICAgICAgICAgIHRoaXMubV9jaGFuZ2VzLnB1c2gobmV3IERpZmZDaGFuZ2UodGhpcy5tX29yaWdpbmFsU3RhcnQsIHRoaXMubV9vcmlnaW5hbENvdW50LCB0aGlzLm1fbW9kaWZpZWRTdGFydCwgdGhpcy5tX21vZGlmaWVkQ291bnQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVzZXQgZm9yIHRoZSBuZXh0IGNoYW5nZVxyXG4gICAgICAgIHRoaXMubV9vcmlnaW5hbENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLm1fbW9kaWZpZWRDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5tX29yaWdpbmFsU3RhcnQgPSAxMDczNzQxODI0IC8qIE1BWF9TQUZFX1NNQUxMX0lOVEVHRVIgKi87XHJcbiAgICAgICAgdGhpcy5tX21vZGlmaWVkU3RhcnQgPSAxMDczNzQxODI0IC8qIE1BWF9TQUZFX1NNQUxMX0lOVEVHRVIgKi87XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgdGhlIG9yaWdpbmFsIGVsZW1lbnQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uIHRvIHRoZSBlbGVtZW50c1xyXG4gICAgICogYWZmZWN0ZWQgYnkgdGhlIGN1cnJlbnQgY2hhbmdlLiBUaGUgbW9kaWZpZWQgaW5kZXggZ2l2ZXMgY29udGV4dFxyXG4gICAgICogdG8gdGhlIGNoYW5nZSBwb3NpdGlvbiB3aXRoIHJlc3BlY3QgdG8gdGhlIG9yaWdpbmFsIHNlcXVlbmNlLlxyXG4gICAgICogQHBhcmFtIG9yaWdpbmFsSW5kZXggVGhlIGluZGV4IG9mIHRoZSBvcmlnaW5hbCBlbGVtZW50IHRvIGFkZC5cclxuICAgICAqIEBwYXJhbSBtb2RpZmllZEluZGV4IFRoZSBpbmRleCBvZiB0aGUgbW9kaWZpZWQgZWxlbWVudCB0aGF0IHByb3ZpZGVzIGNvcnJlc3BvbmRpbmcgcG9zaXRpb24gaW4gdGhlIG1vZGlmaWVkIHNlcXVlbmNlLlxyXG4gICAgICovXHJcbiAgICBBZGRPcmlnaW5hbEVsZW1lbnQob3JpZ2luYWxJbmRleCwgbW9kaWZpZWRJbmRleCkge1xyXG4gICAgICAgIC8vIFRoZSAndHJ1ZScgc3RhcnQgaW5kZXggaXMgdGhlIHNtYWxsZXN0IG9mIHRoZSBvbmVzIHdlJ3ZlIHNlZW5cclxuICAgICAgICB0aGlzLm1fb3JpZ2luYWxTdGFydCA9IE1hdGgubWluKHRoaXMubV9vcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbEluZGV4KTtcclxuICAgICAgICB0aGlzLm1fbW9kaWZpZWRTdGFydCA9IE1hdGgubWluKHRoaXMubV9tb2RpZmllZFN0YXJ0LCBtb2RpZmllZEluZGV4KTtcclxuICAgICAgICB0aGlzLm1fb3JpZ2luYWxDb3VudCsrO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIHRoZSBtb2RpZmllZCBlbGVtZW50IGF0IHRoZSBnaXZlbiBwb3NpdGlvbiB0byB0aGUgZWxlbWVudHNcclxuICAgICAqIGFmZmVjdGVkIGJ5IHRoZSBjdXJyZW50IGNoYW5nZS4gVGhlIG9yaWdpbmFsIGluZGV4IGdpdmVzIGNvbnRleHRcclxuICAgICAqIHRvIHRoZSBjaGFuZ2UgcG9zaXRpb24gd2l0aCByZXNwZWN0IHRvIHRoZSBtb2RpZmllZCBzZXF1ZW5jZS5cclxuICAgICAqIEBwYXJhbSBvcmlnaW5hbEluZGV4IFRoZSBpbmRleCBvZiB0aGUgb3JpZ2luYWwgZWxlbWVudCB0aGF0IHByb3ZpZGVzIGNvcnJlc3BvbmRpbmcgcG9zaXRpb24gaW4gdGhlIG9yaWdpbmFsIHNlcXVlbmNlLlxyXG4gICAgICogQHBhcmFtIG1vZGlmaWVkSW5kZXggVGhlIGluZGV4IG9mIHRoZSBtb2RpZmllZCBlbGVtZW50IHRvIGFkZC5cclxuICAgICAqL1xyXG4gICAgQWRkTW9kaWZpZWRFbGVtZW50KG9yaWdpbmFsSW5kZXgsIG1vZGlmaWVkSW5kZXgpIHtcclxuICAgICAgICAvLyBUaGUgJ3RydWUnIHN0YXJ0IGluZGV4IGlzIHRoZSBzbWFsbGVzdCBvZiB0aGUgb25lcyB3ZSd2ZSBzZWVuXHJcbiAgICAgICAgdGhpcy5tX29yaWdpbmFsU3RhcnQgPSBNYXRoLm1pbih0aGlzLm1fb3JpZ2luYWxTdGFydCwgb3JpZ2luYWxJbmRleCk7XHJcbiAgICAgICAgdGhpcy5tX21vZGlmaWVkU3RhcnQgPSBNYXRoLm1pbih0aGlzLm1fbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRJbmRleCk7XHJcbiAgICAgICAgdGhpcy5tX21vZGlmaWVkQ291bnQrKztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0cmlldmVzIGFsbCBvZiB0aGUgY2hhbmdlcyBtYXJrZWQgYnkgdGhlIGNsYXNzLlxyXG4gICAgICovXHJcbiAgICBnZXRDaGFuZ2VzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1fb3JpZ2luYWxDb3VudCA+IDAgfHwgdGhpcy5tX21vZGlmaWVkQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIEZpbmlzaCB1cCBvbiB3aGF0ZXZlciBpcyBsZWZ0XHJcbiAgICAgICAgICAgIHRoaXMuTWFya05leHRDaGFuZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubV9jaGFuZ2VzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXRyaWV2ZXMgYWxsIG9mIHRoZSBjaGFuZ2VzIG1hcmtlZCBieSB0aGUgY2xhc3MgaW4gdGhlIHJldmVyc2Ugb3JkZXJcclxuICAgICAqL1xyXG4gICAgZ2V0UmV2ZXJzZUNoYW5nZXMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubV9vcmlnaW5hbENvdW50ID4gMCB8fCB0aGlzLm1fbW9kaWZpZWRDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgLy8gRmluaXNoIHVwIG9uIHdoYXRldmVyIGlzIGxlZnRcclxuICAgICAgICAgICAgdGhpcy5NYXJrTmV4dENoYW5nZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1fY2hhbmdlcy5yZXZlcnNlKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubV9jaGFuZ2VzO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgZGlmZmVyZW5jZSBhbGdvcml0aG0gZGVzY3JpYmVkIGluXHJcbiAqIFwiQW4gTyhORCkgRGlmZmVyZW5jZSBBbGdvcml0aG0gYW5kIGl0cyB2YXJpYXRpb25zXCIgYnkgRXVnZW5lIFcuIE15ZXJzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGNzRGlmZiB7XHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdHMgdGhlIERpZmZGaW5kZXJcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iob3JpZ2luYWxTZXF1ZW5jZSwgbW9kaWZpZWRTZXF1ZW5jZSwgY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlID0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuQ29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlID0gY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlO1xyXG4gICAgICAgIGNvbnN0IFtvcmlnaW5hbFN0cmluZ0VsZW1lbnRzLCBvcmlnaW5hbEVsZW1lbnRzT3JIYXNoLCBvcmlnaW5hbEhhc1N0cmluZ3NdID0gTGNzRGlmZi5fZ2V0RWxlbWVudHMob3JpZ2luYWxTZXF1ZW5jZSk7XHJcbiAgICAgICAgY29uc3QgW21vZGlmaWVkU3RyaW5nRWxlbWVudHMsIG1vZGlmaWVkRWxlbWVudHNPckhhc2gsIG1vZGlmaWVkSGFzU3RyaW5nc10gPSBMY3NEaWZmLl9nZXRFbGVtZW50cyhtb2RpZmllZFNlcXVlbmNlKTtcclxuICAgICAgICB0aGlzLl9oYXNTdHJpbmdzID0gKG9yaWdpbmFsSGFzU3RyaW5ncyAmJiBtb2RpZmllZEhhc1N0cmluZ3MpO1xyXG4gICAgICAgIHRoaXMuX29yaWdpbmFsU3RyaW5nRWxlbWVudHMgPSBvcmlnaW5hbFN0cmluZ0VsZW1lbnRzO1xyXG4gICAgICAgIHRoaXMuX29yaWdpbmFsRWxlbWVudHNPckhhc2ggPSBvcmlnaW5hbEVsZW1lbnRzT3JIYXNoO1xyXG4gICAgICAgIHRoaXMuX21vZGlmaWVkU3RyaW5nRWxlbWVudHMgPSBtb2RpZmllZFN0cmluZ0VsZW1lbnRzO1xyXG4gICAgICAgIHRoaXMuX21vZGlmaWVkRWxlbWVudHNPckhhc2ggPSBtb2RpZmllZEVsZW1lbnRzT3JIYXNoO1xyXG4gICAgICAgIHRoaXMubV9mb3J3YXJkSGlzdG9yeSA9IFtdO1xyXG4gICAgICAgIHRoaXMubV9yZXZlcnNlSGlzdG9yeSA9IFtdO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIF9pc1N0cmluZ0FycmF5KGFycikge1xyXG4gICAgICAgIHJldHVybiAoYXJyLmxlbmd0aCA+IDAgJiYgdHlwZW9mIGFyclswXSA9PT0gJ3N0cmluZycpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIF9nZXRFbGVtZW50cyhzZXF1ZW5jZSkge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gc2VxdWVuY2UuZ2V0RWxlbWVudHMoKTtcclxuICAgICAgICBpZiAoTGNzRGlmZi5faXNTdHJpbmdBcnJheShlbGVtZW50cykpIHtcclxuICAgICAgICAgICAgY29uc3QgaGFzaGVzID0gbmV3IEludDMyQXJyYXkoZWxlbWVudHMubGVuZ3RoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGVsZW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBoYXNoZXNbaV0gPSBzdHJpbmdIYXNoKGVsZW1lbnRzW2ldLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gW2VsZW1lbnRzLCBoYXNoZXMsIHRydWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZWxlbWVudHMgaW5zdGFuY2VvZiBJbnQzMkFycmF5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbW10sIGVsZW1lbnRzLCBmYWxzZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbW10sIG5ldyBJbnQzMkFycmF5KGVsZW1lbnRzKSwgZmFsc2VdO1xyXG4gICAgfVxyXG4gICAgRWxlbWVudHNBcmVFcXVhbChvcmlnaW5hbEluZGV4LCBuZXdJbmRleCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9vcmlnaW5hbEVsZW1lbnRzT3JIYXNoW29yaWdpbmFsSW5kZXhdICE9PSB0aGlzLl9tb2RpZmllZEVsZW1lbnRzT3JIYXNoW25ld0luZGV4XSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAodGhpcy5faGFzU3RyaW5ncyA/IHRoaXMuX29yaWdpbmFsU3RyaW5nRWxlbWVudHNbb3JpZ2luYWxJbmRleF0gPT09IHRoaXMuX21vZGlmaWVkU3RyaW5nRWxlbWVudHNbbmV3SW5kZXhdIDogdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBPcmlnaW5hbEVsZW1lbnRzQXJlRXF1YWwoaW5kZXgxLCBpbmRleDIpIHtcclxuICAgICAgICBpZiAodGhpcy5fb3JpZ2luYWxFbGVtZW50c09ySGFzaFtpbmRleDFdICE9PSB0aGlzLl9vcmlnaW5hbEVsZW1lbnRzT3JIYXNoW2luZGV4Ml0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKHRoaXMuX2hhc1N0cmluZ3MgPyB0aGlzLl9vcmlnaW5hbFN0cmluZ0VsZW1lbnRzW2luZGV4MV0gPT09IHRoaXMuX29yaWdpbmFsU3RyaW5nRWxlbWVudHNbaW5kZXgyXSA6IHRydWUpO1xyXG4gICAgfVxyXG4gICAgTW9kaWZpZWRFbGVtZW50c0FyZUVxdWFsKGluZGV4MSwgaW5kZXgyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX21vZGlmaWVkRWxlbWVudHNPckhhc2hbaW5kZXgxXSAhPT0gdGhpcy5fbW9kaWZpZWRFbGVtZW50c09ySGFzaFtpbmRleDJdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLl9oYXNTdHJpbmdzID8gdGhpcy5fbW9kaWZpZWRTdHJpbmdFbGVtZW50c1tpbmRleDFdID09PSB0aGlzLl9tb2RpZmllZFN0cmluZ0VsZW1lbnRzW2luZGV4Ml0gOiB0cnVlKTtcclxuICAgIH1cclxuICAgIENvbXB1dGVEaWZmKHByZXR0eSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9Db21wdXRlRGlmZigwLCB0aGlzLl9vcmlnaW5hbEVsZW1lbnRzT3JIYXNoLmxlbmd0aCAtIDEsIDAsIHRoaXMuX21vZGlmaWVkRWxlbWVudHNPckhhc2gubGVuZ3RoIC0gMSwgcHJldHR5KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29tcHV0ZXMgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIG9yaWdpbmFsIGFuZCBtb2RpZmllZCBpbnB1dFxyXG4gICAgICogc2VxdWVuY2VzIG9uIHRoZSBib3VuZGVkIHJhbmdlLlxyXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIHR3byBpbnB1dCBzZXF1ZW5jZXMuXHJcbiAgICAgKi9cclxuICAgIF9Db21wdXRlRGlmZihvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbEVuZCwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRFbmQsIHByZXR0eSkge1xyXG4gICAgICAgIGNvbnN0IHF1aXRFYXJseUFyciA9IFtmYWxzZV07XHJcbiAgICAgICAgbGV0IGNoYW5nZXMgPSB0aGlzLkNvbXB1dGVEaWZmUmVjdXJzaXZlKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsRW5kLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCwgcXVpdEVhcmx5QXJyKTtcclxuICAgICAgICBpZiAocHJldHR5KSB7XHJcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgdG8gY2xlYW4gdXAgdGhlIGNvbXB1dGVkIGRpZmYgdG8gYmUgbW9yZSBpbnR1aXRpdmVcclxuICAgICAgICAgICAgLy8gYnV0IGl0IHR1cm5zIG91dCB0aGlzIGNhbm5vdCBiZSBkb25lIGNvcnJlY3RseSB1bnRpbCB0aGUgZW50aXJlIHNldFxyXG4gICAgICAgICAgICAvLyBvZiBkaWZmcyBoYXZlIGJlZW4gY29tcHV0ZWRcclxuICAgICAgICAgICAgY2hhbmdlcyA9IHRoaXMuUHJldHRpZnlDaGFuZ2VzKGNoYW5nZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBxdWl0RWFybHk6IHF1aXRFYXJseUFyclswXSxcclxuICAgICAgICAgICAgY2hhbmdlczogY2hhbmdlc1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFByaXZhdGUgaGVscGVyIG1ldGhvZCB3aGljaCBjb21wdXRlcyB0aGUgZGlmZmVyZW5jZXMgb24gdGhlIGJvdW5kZWQgcmFuZ2VcclxuICAgICAqIHJlY3Vyc2l2ZWx5LlxyXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIHR3byBpbnB1dCBzZXF1ZW5jZXMuXHJcbiAgICAgKi9cclxuICAgIENvbXB1dGVEaWZmUmVjdXJzaXZlKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsRW5kLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCwgcXVpdEVhcmx5QXJyKSB7XHJcbiAgICAgICAgcXVpdEVhcmx5QXJyWzBdID0gZmFsc2U7XHJcbiAgICAgICAgLy8gRmluZCB0aGUgc3RhcnQgb2YgdGhlIGRpZmZlcmVuY2VzXHJcbiAgICAgICAgd2hpbGUgKG9yaWdpbmFsU3RhcnQgPD0gb3JpZ2luYWxFbmQgJiYgbW9kaWZpZWRTdGFydCA8PSBtb2RpZmllZEVuZCAmJiB0aGlzLkVsZW1lbnRzQXJlRXF1YWwob3JpZ2luYWxTdGFydCwgbW9kaWZpZWRTdGFydCkpIHtcclxuICAgICAgICAgICAgb3JpZ2luYWxTdGFydCsrO1xyXG4gICAgICAgICAgICBtb2RpZmllZFN0YXJ0Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZpbmQgdGhlIGVuZCBvZiB0aGUgZGlmZmVyZW5jZXNcclxuICAgICAgICB3aGlsZSAob3JpZ2luYWxFbmQgPj0gb3JpZ2luYWxTdGFydCAmJiBtb2RpZmllZEVuZCA+PSBtb2RpZmllZFN0YXJ0ICYmIHRoaXMuRWxlbWVudHNBcmVFcXVhbChvcmlnaW5hbEVuZCwgbW9kaWZpZWRFbmQpKSB7XHJcbiAgICAgICAgICAgIG9yaWdpbmFsRW5kLS07XHJcbiAgICAgICAgICAgIG1vZGlmaWVkRW5kLS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEluIHRoZSBzcGVjaWFsIGNhc2Ugd2hlcmUgd2UgZWl0aGVyIGhhdmUgYWxsIGluc2VydGlvbnMgb3IgYWxsIGRlbGV0aW9ucyBvciB0aGUgc2VxdWVuY2VzIGFyZSBpZGVudGljYWxcclxuICAgICAgICBpZiAob3JpZ2luYWxTdGFydCA+IG9yaWdpbmFsRW5kIHx8IG1vZGlmaWVkU3RhcnQgPiBtb2RpZmllZEVuZCkge1xyXG4gICAgICAgICAgICBsZXQgY2hhbmdlcztcclxuICAgICAgICAgICAgaWYgKG1vZGlmaWVkU3RhcnQgPD0gbW9kaWZpZWRFbmQpIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLkFzc2VydChvcmlnaW5hbFN0YXJ0ID09PSBvcmlnaW5hbEVuZCArIDEsICdvcmlnaW5hbFN0YXJ0IHNob3VsZCBvbmx5IGJlIG9uZSBtb3JlIHRoYW4gb3JpZ2luYWxFbmQnKTtcclxuICAgICAgICAgICAgICAgIC8vIEFsbCBpbnNlcnRpb25zXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VzID0gW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBEaWZmQ2hhbmdlKG9yaWdpbmFsU3RhcnQsIDAsIG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkRW5kIC0gbW9kaWZpZWRTdGFydCArIDEpXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG9yaWdpbmFsU3RhcnQgPD0gb3JpZ2luYWxFbmQpIHtcclxuICAgICAgICAgICAgICAgIERlYnVnLkFzc2VydChtb2RpZmllZFN0YXJ0ID09PSBtb2RpZmllZEVuZCArIDEsICdtb2RpZmllZFN0YXJ0IHNob3VsZCBvbmx5IGJlIG9uZSBtb3JlIHRoYW4gbW9kaWZpZWRFbmQnKTtcclxuICAgICAgICAgICAgICAgIC8vIEFsbCBkZWxldGlvbnNcclxuICAgICAgICAgICAgICAgIGNoYW5nZXMgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IERpZmZDaGFuZ2Uob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxFbmQgLSBvcmlnaW5hbFN0YXJ0ICsgMSwgbW9kaWZpZWRTdGFydCwgMClcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5Bc3NlcnQob3JpZ2luYWxTdGFydCA9PT0gb3JpZ2luYWxFbmQgKyAxLCAnb3JpZ2luYWxTdGFydCBzaG91bGQgb25seSBiZSBvbmUgbW9yZSB0aGFuIG9yaWdpbmFsRW5kJyk7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Zy5Bc3NlcnQobW9kaWZpZWRTdGFydCA9PT0gbW9kaWZpZWRFbmQgKyAxLCAnbW9kaWZpZWRTdGFydCBzaG91bGQgb25seSBiZSBvbmUgbW9yZSB0aGFuIG1vZGlmaWVkRW5kJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBJZGVudGljYWwgc2VxdWVuY2VzIC0gTm8gZGlmZmVyZW5jZXNcclxuICAgICAgICAgICAgICAgIGNoYW5nZXMgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVGhpcyBwcm9ibGVtIGNhbiBiZSBzb2x2ZWQgdXNpbmcgdGhlIERpdmlkZS1BbmQtQ29ucXVlciB0ZWNobmlxdWUuXHJcbiAgICAgICAgY29uc3QgbWlkT3JpZ2luYWxBcnIgPSBbMF07XHJcbiAgICAgICAgY29uc3QgbWlkTW9kaWZpZWRBcnIgPSBbMF07XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5Db21wdXRlUmVjdXJzaW9uUG9pbnQob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxFbmQsIG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkRW5kLCBtaWRPcmlnaW5hbEFyciwgbWlkTW9kaWZpZWRBcnIsIHF1aXRFYXJseUFycik7XHJcbiAgICAgICAgY29uc3QgbWlkT3JpZ2luYWwgPSBtaWRPcmlnaW5hbEFyclswXTtcclxuICAgICAgICBjb25zdCBtaWRNb2RpZmllZCA9IG1pZE1vZGlmaWVkQXJyWzBdO1xyXG4gICAgICAgIGlmIChyZXN1bHQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gUmVzdWx0IGlzIG5vdC1udWxsIHdoZW4gdGhlcmUgd2FzIGVub3VnaCBtZW1vcnkgdG8gY29tcHV0ZSB0aGUgY2hhbmdlcyB3aGlsZVxyXG4gICAgICAgICAgICAvLyBzZWFyY2hpbmcgZm9yIHRoZSByZWN1cnNpb24gcG9pbnRcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIXF1aXRFYXJseUFyclswXSkge1xyXG4gICAgICAgICAgICAvLyBXZSBjYW4gYnJlYWsgdGhlIHByb2JsZW0gZG93biByZWN1cnNpdmVseSBieSBmaW5kaW5nIHRoZSBjaGFuZ2VzIGluIHRoZVxyXG4gICAgICAgICAgICAvLyBGaXJzdCBIYWxmOiAgIChvcmlnaW5hbFN0YXJ0LCBtb2RpZmllZFN0YXJ0KSB0byAobWlkT3JpZ2luYWwsIG1pZE1vZGlmaWVkKVxyXG4gICAgICAgICAgICAvLyBTZWNvbmQgSGFsZjogIChtaWRPcmlnaW5hbCArIDEsIG1pbk1vZGlmaWVkICsgMSkgdG8gKG9yaWdpbmFsRW5kLCBtb2RpZmllZEVuZClcclxuICAgICAgICAgICAgLy8gTk9URTogQ29tcHV0ZURpZmYoKSBpcyBpbmNsdXNpdmUsIHRoZXJlZm9yZSB0aGUgc2Vjb25kIHJhbmdlIHN0YXJ0cyBvbiB0aGUgbmV4dCBwb2ludFxyXG4gICAgICAgICAgICBjb25zdCBsZWZ0Q2hhbmdlcyA9IHRoaXMuQ29tcHV0ZURpZmZSZWN1cnNpdmUob3JpZ2luYWxTdGFydCwgbWlkT3JpZ2luYWwsIG1vZGlmaWVkU3RhcnQsIG1pZE1vZGlmaWVkLCBxdWl0RWFybHlBcnIpO1xyXG4gICAgICAgICAgICBsZXQgcmlnaHRDaGFuZ2VzID0gW107XHJcbiAgICAgICAgICAgIGlmICghcXVpdEVhcmx5QXJyWzBdKSB7XHJcbiAgICAgICAgICAgICAgICByaWdodENoYW5nZXMgPSB0aGlzLkNvbXB1dGVEaWZmUmVjdXJzaXZlKG1pZE9yaWdpbmFsICsgMSwgb3JpZ2luYWxFbmQsIG1pZE1vZGlmaWVkICsgMSwgbW9kaWZpZWRFbmQsIHF1aXRFYXJseUFycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBkaWQndCBoYXZlIHRpbWUgdG8gZmluaXNoIHRoZSBmaXJzdCBoYWxmLCBzbyB3ZSBkb24ndCBoYXZlIHRpbWUgdG8gY29tcHV0ZSB0aGlzIGhhbGYuXHJcbiAgICAgICAgICAgICAgICAvLyBDb25zaWRlciB0aGUgZW50aXJlIHJlc3Qgb2YgdGhlIHNlcXVlbmNlIGRpZmZlcmVudC5cclxuICAgICAgICAgICAgICAgIHJpZ2h0Q2hhbmdlcyA9IFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgRGlmZkNoYW5nZShtaWRPcmlnaW5hbCArIDEsIG9yaWdpbmFsRW5kIC0gKG1pZE9yaWdpbmFsICsgMSkgKyAxLCBtaWRNb2RpZmllZCArIDEsIG1vZGlmaWVkRW5kIC0gKG1pZE1vZGlmaWVkICsgMSkgKyAxKVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5Db25jYXRlbmF0ZUNoYW5nZXMobGVmdENoYW5nZXMsIHJpZ2h0Q2hhbmdlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIHdlIGhpdCBoZXJlLCB3ZSBxdWl0IGVhcmx5LCBhbmQgc28gY2FuJ3QgcmV0dXJuIGFueXRoaW5nIG1lYW5pbmdmdWxcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBuZXcgRGlmZkNoYW5nZShvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbEVuZCAtIG9yaWdpbmFsU3RhcnQgKyAxLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCAtIG1vZGlmaWVkU3RhcnQgKyAxKVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbiAgICBXQUxLVFJBQ0UoZGlhZ29uYWxGb3J3YXJkQmFzZSwgZGlhZ29uYWxGb3J3YXJkU3RhcnQsIGRpYWdvbmFsRm9yd2FyZEVuZCwgZGlhZ29uYWxGb3J3YXJkT2Zmc2V0LCBkaWFnb25hbFJldmVyc2VCYXNlLCBkaWFnb25hbFJldmVyc2VTdGFydCwgZGlhZ29uYWxSZXZlcnNlRW5kLCBkaWFnb25hbFJldmVyc2VPZmZzZXQsIGZvcndhcmRQb2ludHMsIHJldmVyc2VQb2ludHMsIG9yaWdpbmFsSW5kZXgsIG9yaWdpbmFsRW5kLCBtaWRPcmlnaW5hbEFyciwgbW9kaWZpZWRJbmRleCwgbW9kaWZpZWRFbmQsIG1pZE1vZGlmaWVkQXJyLCBkZWx0YUlzRXZlbiwgcXVpdEVhcmx5QXJyKSB7XHJcbiAgICAgICAgbGV0IGZvcndhcmRDaGFuZ2VzID0gbnVsbDtcclxuICAgICAgICBsZXQgcmV2ZXJzZUNoYW5nZXMgPSBudWxsO1xyXG4gICAgICAgIC8vIEZpcnN0LCB3YWxrIGJhY2t3YXJkIHRocm91Z2ggdGhlIGZvcndhcmQgZGlhZ29uYWxzIGhpc3RvcnlcclxuICAgICAgICBsZXQgY2hhbmdlSGVscGVyID0gbmV3IERpZmZDaGFuZ2VIZWxwZXIoKTtcclxuICAgICAgICBsZXQgZGlhZ29uYWxNaW4gPSBkaWFnb25hbEZvcndhcmRTdGFydDtcclxuICAgICAgICBsZXQgZGlhZ29uYWxNYXggPSBkaWFnb25hbEZvcndhcmRFbmQ7XHJcbiAgICAgICAgbGV0IGRpYWdvbmFsUmVsYXRpdmUgPSAobWlkT3JpZ2luYWxBcnJbMF0gLSBtaWRNb2RpZmllZEFyclswXSkgLSBkaWFnb25hbEZvcndhcmRPZmZzZXQ7XHJcbiAgICAgICAgbGV0IGxhc3RPcmlnaW5hbEluZGV4ID0gLTEwNzM3NDE4MjQgLyogTUlOX1NBRkVfU01BTExfSU5URUdFUiAqLztcclxuICAgICAgICBsZXQgaGlzdG9yeUluZGV4ID0gdGhpcy5tX2ZvcndhcmRIaXN0b3J5Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGRpYWdvbmFsIGluZGV4IGZyb20gdGhlIHJlbGF0aXZlIGRpYWdvbmFsIG51bWJlclxyXG4gICAgICAgICAgICBjb25zdCBkaWFnb25hbCA9IGRpYWdvbmFsUmVsYXRpdmUgKyBkaWFnb25hbEZvcndhcmRCYXNlO1xyXG4gICAgICAgICAgICAvLyBGaWd1cmUgb3V0IHdoZXJlIHdlIGNhbWUgZnJvbVxyXG4gICAgICAgICAgICBpZiAoZGlhZ29uYWwgPT09IGRpYWdvbmFsTWluIHx8IChkaWFnb25hbCA8IGRpYWdvbmFsTWF4ICYmIGZvcndhcmRQb2ludHNbZGlhZ29uYWwgLSAxXSA8IGZvcndhcmRQb2ludHNbZGlhZ29uYWwgKyAxXSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFZlcnRpY2FsIGxpbmUgKHRoZSBlbGVtZW50IGlzIGFuIGluc2VydClcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXggPSBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsICsgMV07XHJcbiAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4ID0gb3JpZ2luYWxJbmRleCAtIGRpYWdvbmFsUmVsYXRpdmUgLSBkaWFnb25hbEZvcndhcmRPZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxJbmRleCA8IGxhc3RPcmlnaW5hbEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlSGVscGVyLk1hcmtOZXh0Q2hhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsYXN0T3JpZ2luYWxJbmRleCA9IG9yaWdpbmFsSW5kZXg7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuQWRkTW9kaWZpZWRFbGVtZW50KG9yaWdpbmFsSW5kZXggKyAxLCBtb2RpZmllZEluZGV4KTtcclxuICAgICAgICAgICAgICAgIGRpYWdvbmFsUmVsYXRpdmUgPSAoZGlhZ29uYWwgKyAxKSAtIGRpYWdvbmFsRm9yd2FyZEJhc2U7IC8vU2V0dXAgZm9yIHRoZSBuZXh0IGl0ZXJhdGlvblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gSG9yaXpvbnRhbCBsaW5lICh0aGUgZWxlbWVudCBpcyBhIGRlbGV0aW9uKVxyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxJbmRleCA9IGZvcndhcmRQb2ludHNbZGlhZ29uYWwgLSAxXSArIDE7XHJcbiAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4ID0gb3JpZ2luYWxJbmRleCAtIGRpYWdvbmFsUmVsYXRpdmUgLSBkaWFnb25hbEZvcndhcmRPZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxJbmRleCA8IGxhc3RPcmlnaW5hbEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlSGVscGVyLk1hcmtOZXh0Q2hhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsYXN0T3JpZ2luYWxJbmRleCA9IG9yaWdpbmFsSW5kZXggLSAxO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlSGVscGVyLkFkZE9yaWdpbmFsRWxlbWVudChvcmlnaW5hbEluZGV4LCBtb2RpZmllZEluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICBkaWFnb25hbFJlbGF0aXZlID0gKGRpYWdvbmFsIC0gMSkgLSBkaWFnb25hbEZvcndhcmRCYXNlOyAvL1NldHVwIGZvciB0aGUgbmV4dCBpdGVyYXRpb25cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGlzdG9yeUluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgICAgIGZvcndhcmRQb2ludHMgPSB0aGlzLm1fZm9yd2FyZEhpc3RvcnlbaGlzdG9yeUluZGV4XTtcclxuICAgICAgICAgICAgICAgIGRpYWdvbmFsRm9yd2FyZEJhc2UgPSBmb3J3YXJkUG9pbnRzWzBdOyAvL1dlIHN0b3JlZCB0aGlzIGluIHRoZSBmaXJzdCBzcG90XHJcbiAgICAgICAgICAgICAgICBkaWFnb25hbE1pbiA9IDE7XHJcbiAgICAgICAgICAgICAgICBkaWFnb25hbE1heCA9IGZvcndhcmRQb2ludHMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gd2hpbGUgKC0taGlzdG9yeUluZGV4ID49IC0xKTtcclxuICAgICAgICAvLyBJcm9uaWNhbGx5LCB3ZSBnZXQgdGhlIGZvcndhcmQgY2hhbmdlcyBhcyB0aGUgcmV2ZXJzZSBvZiB0aGVcclxuICAgICAgICAvLyBvcmRlciB3ZSBhZGRlZCB0aGVtIHNpbmNlIHdlIHRlY2huaWNhbGx5IGFkZGVkIHRoZW0gYmFja3dhcmRzXHJcbiAgICAgICAgZm9yd2FyZENoYW5nZXMgPSBjaGFuZ2VIZWxwZXIuZ2V0UmV2ZXJzZUNoYW5nZXMoKTtcclxuICAgICAgICBpZiAocXVpdEVhcmx5QXJyWzBdKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE86IENhbGN1bGF0ZSBhIHBhcnRpYWwgZnJvbSB0aGUgcmV2ZXJzZSBkaWFnb25hbHMuXHJcbiAgICAgICAgICAgIC8vICAgICAgIEZvciBub3csIGp1c3QgYXNzdW1lIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIG1pZE9yaWdpbmFsL21pZE1vZGlmaWVkIHBvaW50IGlzIGEgZGlmZlxyXG4gICAgICAgICAgICBsZXQgb3JpZ2luYWxTdGFydFBvaW50ID0gbWlkT3JpZ2luYWxBcnJbMF0gKyAxO1xyXG4gICAgICAgICAgICBsZXQgbW9kaWZpZWRTdGFydFBvaW50ID0gbWlkTW9kaWZpZWRBcnJbMF0gKyAxO1xyXG4gICAgICAgICAgICBpZiAoZm9yd2FyZENoYW5nZXMgIT09IG51bGwgJiYgZm9yd2FyZENoYW5nZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdEZvcndhcmRDaGFuZ2UgPSBmb3J3YXJkQ2hhbmdlc1tmb3J3YXJkQ2hhbmdlcy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRQb2ludCA9IE1hdGgubWF4KG9yaWdpbmFsU3RhcnRQb2ludCwgbGFzdEZvcndhcmRDaGFuZ2UuZ2V0T3JpZ2luYWxFbmQoKSk7XHJcbiAgICAgICAgICAgICAgICBtb2RpZmllZFN0YXJ0UG9pbnQgPSBNYXRoLm1heChtb2RpZmllZFN0YXJ0UG9pbnQsIGxhc3RGb3J3YXJkQ2hhbmdlLmdldE1vZGlmaWVkRW5kKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldmVyc2VDaGFuZ2VzID0gW1xyXG4gICAgICAgICAgICAgICAgbmV3IERpZmZDaGFuZ2Uob3JpZ2luYWxTdGFydFBvaW50LCBvcmlnaW5hbEVuZCAtIG9yaWdpbmFsU3RhcnRQb2ludCArIDEsIG1vZGlmaWVkU3RhcnRQb2ludCwgbW9kaWZpZWRFbmQgLSBtb2RpZmllZFN0YXJ0UG9pbnQgKyAxKVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTm93IHdhbGsgYmFja3dhcmQgdGhyb3VnaCB0aGUgcmV2ZXJzZSBkaWFnb25hbHMgaGlzdG9yeVxyXG4gICAgICAgICAgICBjaGFuZ2VIZWxwZXIgPSBuZXcgRGlmZkNoYW5nZUhlbHBlcigpO1xyXG4gICAgICAgICAgICBkaWFnb25hbE1pbiA9IGRpYWdvbmFsUmV2ZXJzZVN0YXJ0O1xyXG4gICAgICAgICAgICBkaWFnb25hbE1heCA9IGRpYWdvbmFsUmV2ZXJzZUVuZDtcclxuICAgICAgICAgICAgZGlhZ29uYWxSZWxhdGl2ZSA9IChtaWRPcmlnaW5hbEFyclswXSAtIG1pZE1vZGlmaWVkQXJyWzBdKSAtIGRpYWdvbmFsUmV2ZXJzZU9mZnNldDtcclxuICAgICAgICAgICAgbGFzdE9yaWdpbmFsSW5kZXggPSAxMDczNzQxODI0IC8qIE1BWF9TQUZFX1NNQUxMX0lOVEVHRVIgKi87XHJcbiAgICAgICAgICAgIGhpc3RvcnlJbmRleCA9IChkZWx0YUlzRXZlbikgPyB0aGlzLm1fcmV2ZXJzZUhpc3RvcnkubGVuZ3RoIC0gMSA6IHRoaXMubV9yZXZlcnNlSGlzdG9yeS5sZW5ndGggLSAyO1xyXG4gICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGRpYWdvbmFsIGluZGV4IGZyb20gdGhlIHJlbGF0aXZlIGRpYWdvbmFsIG51bWJlclxyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlhZ29uYWwgPSBkaWFnb25hbFJlbGF0aXZlICsgZGlhZ29uYWxSZXZlcnNlQmFzZTtcclxuICAgICAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgd2hlcmUgd2UgY2FtZSBmcm9tXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlhZ29uYWwgPT09IGRpYWdvbmFsTWluIHx8IChkaWFnb25hbCA8IGRpYWdvbmFsTWF4ICYmIHJldmVyc2VQb2ludHNbZGlhZ29uYWwgLSAxXSA+PSByZXZlcnNlUG9pbnRzW2RpYWdvbmFsICsgMV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSG9yaXpvbnRhbCBsaW5lICh0aGUgZWxlbWVudCBpcyBhIGRlbGV0aW9uKSlcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4ID0gcmV2ZXJzZVBvaW50c1tkaWFnb25hbCArIDFdIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4ID0gb3JpZ2luYWxJbmRleCAtIGRpYWdvbmFsUmVsYXRpdmUgLSBkaWFnb25hbFJldmVyc2VPZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsSW5kZXggPiBsYXN0T3JpZ2luYWxJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuTWFya05leHRDaGFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdE9yaWdpbmFsSW5kZXggPSBvcmlnaW5hbEluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuQWRkT3JpZ2luYWxFbGVtZW50KG9yaWdpbmFsSW5kZXggKyAxLCBtb2RpZmllZEluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlhZ29uYWxSZWxhdGl2ZSA9IChkaWFnb25hbCArIDEpIC0gZGlhZ29uYWxSZXZlcnNlQmFzZTsgLy9TZXR1cCBmb3IgdGhlIG5leHQgaXRlcmF0aW9uXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBsaW5lICh0aGUgZWxlbWVudCBpcyBhbiBpbnNlcnRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxJbmRleCA9IHJldmVyc2VQb2ludHNbZGlhZ29uYWwgLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4ID0gb3JpZ2luYWxJbmRleCAtIGRpYWdvbmFsUmVsYXRpdmUgLSBkaWFnb25hbFJldmVyc2VPZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsSW5kZXggPiBsYXN0T3JpZ2luYWxJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuTWFya05leHRDaGFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdE9yaWdpbmFsSW5kZXggPSBvcmlnaW5hbEluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUhlbHBlci5BZGRNb2RpZmllZEVsZW1lbnQob3JpZ2luYWxJbmRleCArIDEsIG1vZGlmaWVkSW5kZXggKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICBkaWFnb25hbFJlbGF0aXZlID0gKGRpYWdvbmFsIC0gMSkgLSBkaWFnb25hbFJldmVyc2VCYXNlOyAvL1NldHVwIGZvciB0aGUgbmV4dCBpdGVyYXRpb25cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5SW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2VQb2ludHMgPSB0aGlzLm1fcmV2ZXJzZUhpc3RvcnlbaGlzdG9yeUluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBkaWFnb25hbFJldmVyc2VCYXNlID0gcmV2ZXJzZVBvaW50c1swXTsgLy9XZSBzdG9yZWQgdGhpcyBpbiB0aGUgZmlyc3Qgc3BvdFxyXG4gICAgICAgICAgICAgICAgICAgIGRpYWdvbmFsTWluID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBkaWFnb25hbE1heCA9IHJldmVyc2VQb2ludHMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSB3aGlsZSAoLS1oaXN0b3J5SW5kZXggPj0gLTEpO1xyXG4gICAgICAgICAgICAvLyBUaGVyZSBhcmUgY2FzZXMgd2hlcmUgdGhlIHJldmVyc2UgaGlzdG9yeSB3aWxsIGZpbmQgZGlmZnMgdGhhdFxyXG4gICAgICAgICAgICAvLyBhcmUgY29ycmVjdCwgYnV0IG5vdCBpbnR1aXRpdmUsIHNvIHdlIG5lZWQgc2hpZnQgdGhlbS5cclxuICAgICAgICAgICAgcmV2ZXJzZUNoYW5nZXMgPSBjaGFuZ2VIZWxwZXIuZ2V0Q2hhbmdlcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5Db25jYXRlbmF0ZUNoYW5nZXMoZm9yd2FyZENoYW5nZXMsIHJldmVyc2VDaGFuZ2VzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gdGhlIHJhbmdlIHRvIGNvbXB1dGUgdGhlIGRpZmYgb24sIHRoaXMgbWV0aG9kIGZpbmRzIHRoZSBwb2ludDpcclxuICAgICAqIChtaWRPcmlnaW5hbCwgbWlkTW9kaWZpZWQpXHJcbiAgICAgKiB0aGF0IGV4aXN0cyBpbiB0aGUgbWlkZGxlIG9mIHRoZSBMQ1Mgb2YgdGhlIHR3byBzZXF1ZW5jZXMgYW5kXHJcbiAgICAgKiBpcyB0aGUgcG9pbnQgYXQgd2hpY2ggdGhlIExDUyBwcm9ibGVtIG1heSBiZSBicm9rZW4gZG93biByZWN1cnNpdmVseS5cclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgdHJ5IHRvIGtlZXAgdGhlIExDUyB0cmFjZSBpbiBtZW1vcnkuIElmIHRoZSBMQ1MgcmVjdXJzaW9uXHJcbiAgICAgKiBwb2ludCBpcyBjYWxjdWxhdGVkIGFuZCB0aGUgZnVsbCB0cmFjZSBpcyBhdmFpbGFibGUgaW4gbWVtb3J5LCB0aGVuIHRoaXMgbWV0aG9kXHJcbiAgICAgKiB3aWxsIHJldHVybiB0aGUgY2hhbmdlIGxpc3QuXHJcbiAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGFydCBUaGUgc3RhcnQgYm91bmQgb2YgdGhlIG9yaWdpbmFsIHNlcXVlbmNlIHJhbmdlXHJcbiAgICAgKiBAcGFyYW0gb3JpZ2luYWxFbmQgVGhlIGVuZCBib3VuZCBvZiB0aGUgb3JpZ2luYWwgc2VxdWVuY2UgcmFuZ2VcclxuICAgICAqIEBwYXJhbSBtb2RpZmllZFN0YXJ0IFRoZSBzdGFydCBib3VuZCBvZiB0aGUgbW9kaWZpZWQgc2VxdWVuY2UgcmFuZ2VcclxuICAgICAqIEBwYXJhbSBtb2RpZmllZEVuZCBUaGUgZW5kIGJvdW5kIG9mIHRoZSBtb2RpZmllZCBzZXF1ZW5jZSByYW5nZVxyXG4gICAgICogQHBhcmFtIG1pZE9yaWdpbmFsIFRoZSBtaWRkbGUgcG9pbnQgb2YgdGhlIG9yaWdpbmFsIHNlcXVlbmNlIHJhbmdlXHJcbiAgICAgKiBAcGFyYW0gbWlkTW9kaWZpZWQgVGhlIG1pZGRsZSBwb2ludCBvZiB0aGUgbW9kaWZpZWQgc2VxdWVuY2UgcmFuZ2VcclxuICAgICAqIEByZXR1cm5zIFRoZSBkaWZmIGNoYW5nZXMsIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIG51bGxcclxuICAgICAqL1xyXG4gICAgQ29tcHV0ZVJlY3Vyc2lvblBvaW50KG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsRW5kLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCwgbWlkT3JpZ2luYWxBcnIsIG1pZE1vZGlmaWVkQXJyLCBxdWl0RWFybHlBcnIpIHtcclxuICAgICAgICBsZXQgb3JpZ2luYWxJbmRleCA9IDAsIG1vZGlmaWVkSW5kZXggPSAwO1xyXG4gICAgICAgIGxldCBkaWFnb25hbEZvcndhcmRTdGFydCA9IDAsIGRpYWdvbmFsRm9yd2FyZEVuZCA9IDA7XHJcbiAgICAgICAgbGV0IGRpYWdvbmFsUmV2ZXJzZVN0YXJ0ID0gMCwgZGlhZ29uYWxSZXZlcnNlRW5kID0gMDtcclxuICAgICAgICAvLyBUbyB0cmF2ZXJzZSB0aGUgZWRpdCBncmFwaCBhbmQgcHJvZHVjZSB0aGUgcHJvcGVyIExDUywgb3VyIGFjdHVhbFxyXG4gICAgICAgIC8vIHN0YXJ0IHBvc2l0aW9uIGlzIGp1c3Qgb3V0c2lkZSB0aGUgZ2l2ZW4gYm91bmRhcnlcclxuICAgICAgICBvcmlnaW5hbFN0YXJ0LS07XHJcbiAgICAgICAgbW9kaWZpZWRTdGFydC0tO1xyXG4gICAgICAgIC8vIFdlIHNldCB0aGVzZSB1cCB0byBtYWtlIHRoZSBjb21waWxlciBoYXBweSwgYnV0IHRoZXkgd2lsbFxyXG4gICAgICAgIC8vIGJlIHJlcGxhY2VkIGJlZm9yZSB3ZSByZXR1cm4gd2l0aCB0aGUgYWN0dWFsIHJlY3Vyc2lvbiBwb2ludFxyXG4gICAgICAgIG1pZE9yaWdpbmFsQXJyWzBdID0gMDtcclxuICAgICAgICBtaWRNb2RpZmllZEFyclswXSA9IDA7XHJcbiAgICAgICAgLy8gQ2xlYXIgb3V0IHRoZSBoaXN0b3J5XHJcbiAgICAgICAgdGhpcy5tX2ZvcndhcmRIaXN0b3J5ID0gW107XHJcbiAgICAgICAgdGhpcy5tX3JldmVyc2VIaXN0b3J5ID0gW107XHJcbiAgICAgICAgLy8gRWFjaCBjZWxsIGluIHRoZSB0d28gYXJyYXlzIGNvcnJlc3BvbmRzIHRvIGEgZGlhZ29uYWwgaW4gdGhlIGVkaXQgZ3JhcGguXHJcbiAgICAgICAgLy8gVGhlIGludGVnZXIgdmFsdWUgaW4gdGhlIGNlbGwgcmVwcmVzZW50cyB0aGUgb3JpZ2luYWxJbmRleCBvZiB0aGUgZnVydGhlc3RcclxuICAgICAgICAvLyByZWFjaGluZyBwb2ludCBmb3VuZCBzbyBmYXIgdGhhdCBlbmRzIGluIHRoYXQgZGlhZ29uYWwuXHJcbiAgICAgICAgLy8gVGhlIG1vZGlmaWVkSW5kZXggY2FuIGJlIGNvbXB1dGVkIG1hdGhlbWF0aWNhbGx5IGZyb20gdGhlIG9yaWdpbmFsSW5kZXggYW5kIHRoZSBkaWFnb25hbCBudW1iZXIuXHJcbiAgICAgICAgY29uc3QgbWF4RGlmZmVyZW5jZXMgPSAob3JpZ2luYWxFbmQgLSBvcmlnaW5hbFN0YXJ0KSArIChtb2RpZmllZEVuZCAtIG1vZGlmaWVkU3RhcnQpO1xyXG4gICAgICAgIGNvbnN0IG51bURpYWdvbmFscyA9IG1heERpZmZlcmVuY2VzICsgMTtcclxuICAgICAgICBjb25zdCBmb3J3YXJkUG9pbnRzID0gbmV3IEludDMyQXJyYXkobnVtRGlhZ29uYWxzKTtcclxuICAgICAgICBjb25zdCByZXZlcnNlUG9pbnRzID0gbmV3IEludDMyQXJyYXkobnVtRGlhZ29uYWxzKTtcclxuICAgICAgICAvLyBkaWFnb25hbEZvcndhcmRCYXNlOiBJbmRleCBpbnRvIGZvcndhcmRQb2ludHMgb2YgdGhlIGRpYWdvbmFsIHdoaWNoIHBhc3NlcyB0aHJvdWdoIChvcmlnaW5hbFN0YXJ0LCBtb2RpZmllZFN0YXJ0KVxyXG4gICAgICAgIC8vIGRpYWdvbmFsUmV2ZXJzZUJhc2U6IEluZGV4IGludG8gcmV2ZXJzZVBvaW50cyBvZiB0aGUgZGlhZ29uYWwgd2hpY2ggcGFzc2VzIHRocm91Z2ggKG9yaWdpbmFsRW5kLCBtb2RpZmllZEVuZClcclxuICAgICAgICBjb25zdCBkaWFnb25hbEZvcndhcmRCYXNlID0gKG1vZGlmaWVkRW5kIC0gbW9kaWZpZWRTdGFydCk7XHJcbiAgICAgICAgY29uc3QgZGlhZ29uYWxSZXZlcnNlQmFzZSA9IChvcmlnaW5hbEVuZCAtIG9yaWdpbmFsU3RhcnQpO1xyXG4gICAgICAgIC8vIGRpYWdvbmFsRm9yd2FyZE9mZnNldDogR2VvbWV0cmljIG9mZnNldCB3aGljaCBhbGxvd3MgbW9kaWZpZWRJbmRleCB0byBiZSBjb21wdXRlZCBmcm9tIG9yaWdpbmFsSW5kZXggYW5kIHRoZVxyXG4gICAgICAgIC8vICAgIGRpYWdvbmFsIG51bWJlciAocmVsYXRpdmUgdG8gZGlhZ29uYWxGb3J3YXJkQmFzZSlcclxuICAgICAgICAvLyBkaWFnb25hbFJldmVyc2VPZmZzZXQ6IEdlb21ldHJpYyBvZmZzZXQgd2hpY2ggYWxsb3dzIG1vZGlmaWVkSW5kZXggdG8gYmUgY29tcHV0ZWQgZnJvbSBvcmlnaW5hbEluZGV4IGFuZCB0aGVcclxuICAgICAgICAvLyAgICBkaWFnb25hbCBudW1iZXIgKHJlbGF0aXZlIHRvIGRpYWdvbmFsUmV2ZXJzZUJhc2UpXHJcbiAgICAgICAgY29uc3QgZGlhZ29uYWxGb3J3YXJkT2Zmc2V0ID0gKG9yaWdpbmFsU3RhcnQgLSBtb2RpZmllZFN0YXJ0KTtcclxuICAgICAgICBjb25zdCBkaWFnb25hbFJldmVyc2VPZmZzZXQgPSAob3JpZ2luYWxFbmQgLSBtb2RpZmllZEVuZCk7XHJcbiAgICAgICAgLy8gZGVsdGE6IFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGVuZCBkaWFnb25hbCBhbmQgdGhlIHN0YXJ0IGRpYWdvbmFsLiBUaGlzIGlzIHVzZWQgdG8gcmVsYXRlIGRpYWdvbmFsIG51bWJlcnNcclxuICAgICAgICAvLyAgIHJlbGF0aXZlIHRvIHRoZSBzdGFydCBkaWFnb25hbCB3aXRoIGRpYWdvbmFsIG51bWJlcnMgcmVsYXRpdmUgdG8gdGhlIGVuZCBkaWFnb25hbC5cclxuICAgICAgICAvLyBUaGUgRXZlbi9PZGRuLW5lc3Mgb2YgdGhpcyBkZWx0YSBpcyBpbXBvcnRhbnQgZm9yIGRldGVybWluaW5nIHdoZW4gd2Ugc2hvdWxkIGNoZWNrIGZvciBvdmVybGFwXHJcbiAgICAgICAgY29uc3QgZGVsdGEgPSBkaWFnb25hbFJldmVyc2VCYXNlIC0gZGlhZ29uYWxGb3J3YXJkQmFzZTtcclxuICAgICAgICBjb25zdCBkZWx0YUlzRXZlbiA9IChkZWx0YSAlIDIgPT09IDApO1xyXG4gICAgICAgIC8vIEhlcmUgd2Ugc2V0IHVwIHRoZSBzdGFydCBhbmQgZW5kIHBvaW50cyBhcyB0aGUgZnVydGhlc3QgcG9pbnRzIGZvdW5kIHNvIGZhclxyXG4gICAgICAgIC8vIGluIGJvdGggdGhlIGZvcndhcmQgYW5kIHJldmVyc2UgZGlyZWN0aW9ucywgcmVzcGVjdGl2ZWx5XHJcbiAgICAgICAgZm9yd2FyZFBvaW50c1tkaWFnb25hbEZvcndhcmRCYXNlXSA9IG9yaWdpbmFsU3RhcnQ7XHJcbiAgICAgICAgcmV2ZXJzZVBvaW50c1tkaWFnb25hbFJldmVyc2VCYXNlXSA9IG9yaWdpbmFsRW5kO1xyXG4gICAgICAgIC8vIFJlbWVtYmVyIGlmIHdlIHF1aXQgZWFybHksIGFuZCB0aHVzIG5lZWQgdG8gZG8gYSBiZXN0LWVmZm9ydCByZXN1bHQgaW5zdGVhZCBvZiBhIHJlYWwgcmVzdWx0LlxyXG4gICAgICAgIHF1aXRFYXJseUFyclswXSA9IGZhbHNlO1xyXG4gICAgICAgIC8vIEEgY291cGxlIG9mIHBvaW50czpcclxuICAgICAgICAvLyAtLVdpdGggdGhpcyBtZXRob2QsIHdlIGl0ZXJhdGUgb24gdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRoZSB0d28gc2VxdWVuY2VzLlxyXG4gICAgICAgIC8vICAgVGhlIG1vcmUgZGlmZmVyZW5jZXMgdGhlcmUgYWN0dWFsbHkgYXJlLCB0aGUgbG9uZ2VyIHRoaXMgd2lsbCB0YWtlLlxyXG4gICAgICAgIC8vIC0tQWxzbywgYXMgdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlcyBpbmNyZWFzZXMsIHdlIGhhdmUgdG8gc2VhcmNoIG9uIGRpYWdvbmFscyBmdXJ0aGVyXHJcbiAgICAgICAgLy8gICBhd2F5IGZyb20gdGhlIHJlZmVyZW5jZSBkaWFnb25hbCAod2hpY2ggaXMgZGlhZ29uYWxGb3J3YXJkQmFzZSBmb3IgZm9yd2FyZCwgZGlhZ29uYWxSZXZlcnNlQmFzZSBmb3IgcmV2ZXJzZSkuXHJcbiAgICAgICAgLy8gLS1XZSBleHRlbmQgb24gZXZlbiBkaWFnb25hbHMgKHJlbGF0aXZlIHRvIHRoZSByZWZlcmVuY2UgZGlhZ29uYWwpIG9ubHkgd2hlbiBudW1EaWZmZXJlbmNlc1xyXG4gICAgICAgIC8vICAgaXMgZXZlbiBhbmQgb2RkIGRpYWdvbmFscyBvbmx5IHdoZW4gbnVtRGlmZmVyZW5jZXMgaXMgb2RkLlxyXG4gICAgICAgIGZvciAobGV0IG51bURpZmZlcmVuY2VzID0gMTsgbnVtRGlmZmVyZW5jZXMgPD0gKG1heERpZmZlcmVuY2VzIC8gMikgKyAxOyBudW1EaWZmZXJlbmNlcysrKSB7XHJcbiAgICAgICAgICAgIGxldCBmdXJ0aGVzdE9yaWdpbmFsSW5kZXggPSAwO1xyXG4gICAgICAgICAgICBsZXQgZnVydGhlc3RNb2RpZmllZEluZGV4ID0gMDtcclxuICAgICAgICAgICAgLy8gUnVuIHRoZSBhbGdvcml0aG0gaW4gdGhlIGZvcndhcmQgZGlyZWN0aW9uXHJcbiAgICAgICAgICAgIGRpYWdvbmFsRm9yd2FyZFN0YXJ0ID0gdGhpcy5DbGlwRGlhZ29uYWxCb3VuZChkaWFnb25hbEZvcndhcmRCYXNlIC0gbnVtRGlmZmVyZW5jZXMsIG51bURpZmZlcmVuY2VzLCBkaWFnb25hbEZvcndhcmRCYXNlLCBudW1EaWFnb25hbHMpO1xyXG4gICAgICAgICAgICBkaWFnb25hbEZvcndhcmRFbmQgPSB0aGlzLkNsaXBEaWFnb25hbEJvdW5kKGRpYWdvbmFsRm9yd2FyZEJhc2UgKyBudW1EaWZmZXJlbmNlcywgbnVtRGlmZmVyZW5jZXMsIGRpYWdvbmFsRm9yd2FyZEJhc2UsIG51bURpYWdvbmFscyk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGRpYWdvbmFsID0gZGlhZ29uYWxGb3J3YXJkU3RhcnQ7IGRpYWdvbmFsIDw9IGRpYWdvbmFsRm9yd2FyZEVuZDsgZGlhZ29uYWwgKz0gMikge1xyXG4gICAgICAgICAgICAgICAgLy8gU1RFUCAxOiBXZSBleHRlbmQgdGhlIGZ1cnRoZXN0IHJlYWNoaW5nIHBvaW50IGluIHRoZSBwcmVzZW50IGRpYWdvbmFsXHJcbiAgICAgICAgICAgICAgICAvLyBieSBsb29raW5nIGF0IHRoZSBkaWFnb25hbHMgYWJvdmUgYW5kIGJlbG93IGFuZCBwaWNraW5nIHRoZSBvbmUgd2hvc2UgcG9pbnRcclxuICAgICAgICAgICAgICAgIC8vIGlzIGZ1cnRoZXIgYXdheSBmcm9tIHRoZSBzdGFydCBwb2ludCAob3JpZ2luYWxTdGFydCwgbW9kaWZpZWRTdGFydClcclxuICAgICAgICAgICAgICAgIGlmIChkaWFnb25hbCA9PT0gZGlhZ29uYWxGb3J3YXJkU3RhcnQgfHwgKGRpYWdvbmFsIDwgZGlhZ29uYWxGb3J3YXJkRW5kICYmIGZvcndhcmRQb2ludHNbZGlhZ29uYWwgLSAxXSA8IGZvcndhcmRQb2ludHNbZGlhZ29uYWwgKyAxXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4ID0gZm9yd2FyZFBvaW50c1tkaWFnb25hbCArIDFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxJbmRleCA9IGZvcndhcmRQb2ludHNbZGlhZ29uYWwgLSAxXSArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4ID0gb3JpZ2luYWxJbmRleCAtIChkaWFnb25hbCAtIGRpYWdvbmFsRm9yd2FyZEJhc2UpIC0gZGlhZ29uYWxGb3J3YXJkT2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgY3VycmVudCBvcmlnaW5hbEluZGV4IHNvIHdlIGNhbiB0ZXN0IGZvciBmYWxzZSBvdmVybGFwIGluIHN0ZXAgM1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcE9yaWdpbmFsSW5kZXggPSBvcmlnaW5hbEluZGV4O1xyXG4gICAgICAgICAgICAgICAgLy8gU1RFUCAyOiBXZSBjYW4gY29udGludWUgdG8gZXh0ZW5kIHRoZSBmdXJ0aGVzdCByZWFjaGluZyBwb2ludCBpbiB0aGUgcHJlc2VudCBkaWFnb25hbFxyXG4gICAgICAgICAgICAgICAgLy8gc28gbG9uZyBhcyB0aGUgZWxlbWVudHMgYXJlIGVxdWFsLlxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG9yaWdpbmFsSW5kZXggPCBvcmlnaW5hbEVuZCAmJiBtb2RpZmllZEluZGV4IDwgbW9kaWZpZWRFbmQgJiYgdGhpcy5FbGVtZW50c0FyZUVxdWFsKG9yaWdpbmFsSW5kZXggKyAxLCBtb2RpZmllZEluZGV4ICsgMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRJbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yd2FyZFBvaW50c1tkaWFnb25hbF0gPSBvcmlnaW5hbEluZGV4O1xyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsSW5kZXggKyBtb2RpZmllZEluZGV4ID4gZnVydGhlc3RPcmlnaW5hbEluZGV4ICsgZnVydGhlc3RNb2RpZmllZEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVydGhlc3RPcmlnaW5hbEluZGV4ID0gb3JpZ2luYWxJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBmdXJ0aGVzdE1vZGlmaWVkSW5kZXggPSBtb2RpZmllZEluZGV4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gU1RFUCAzOiBJZiBkZWx0YSBpcyBvZGQgKG92ZXJsYXAgZmlyc3QgaGFwcGVucyBvbiBmb3J3YXJkIHdoZW4gZGVsdGEgaXMgb2RkKVxyXG4gICAgICAgICAgICAgICAgLy8gYW5kIGRpYWdvbmFsIGlzIGluIHRoZSByYW5nZSBvZiByZXZlcnNlIGRpYWdvbmFscyBjb21wdXRlZCBmb3IgbnVtRGlmZmVyZW5jZXMtMVxyXG4gICAgICAgICAgICAgICAgLy8gKHRoZSBwcmV2aW91cyBpdGVyYXRpb247IHdlIGhhdmVuJ3QgY29tcHV0ZWQgcmV2ZXJzZSBkaWFnb25hbHMgZm9yIG51bURpZmZlcmVuY2VzIHlldClcclxuICAgICAgICAgICAgICAgIC8vIHRoZW4gY2hlY2sgZm9yIG92ZXJsYXAuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWRlbHRhSXNFdmVuICYmIE1hdGguYWJzKGRpYWdvbmFsIC0gZGlhZ29uYWxSZXZlcnNlQmFzZSkgPD0gKG51bURpZmZlcmVuY2VzIC0gMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxJbmRleCA+PSByZXZlcnNlUG9pbnRzW2RpYWdvbmFsXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRPcmlnaW5hbEFyclswXSA9IG9yaWdpbmFsSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZE1vZGlmaWVkQXJyWzBdID0gbW9kaWZpZWRJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBPcmlnaW5hbEluZGV4IDw9IHJldmVyc2VQb2ludHNbZGlhZ29uYWxdICYmIDE0NDcgLyogTWF4RGlmZmVyZW5jZXNIaXN0b3J5ICovID4gMCAmJiBudW1EaWZmZXJlbmNlcyA8PSAoMTQ0NyAvKiBNYXhEaWZmZXJlbmNlc0hpc3RvcnkgKi8gKyAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQklOR08hIFdlIG92ZXJsYXBwZWQsIGFuZCB3ZSBoYXZlIHRoZSBmdWxsIHRyYWNlIGluIG1lbW9yeSFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLldBTEtUUkFDRShkaWFnb25hbEZvcndhcmRCYXNlLCBkaWFnb25hbEZvcndhcmRTdGFydCwgZGlhZ29uYWxGb3J3YXJkRW5kLCBkaWFnb25hbEZvcndhcmRPZmZzZXQsIGRpYWdvbmFsUmV2ZXJzZUJhc2UsIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0LCBkaWFnb25hbFJldmVyc2VFbmQsIGRpYWdvbmFsUmV2ZXJzZU9mZnNldCwgZm9yd2FyZFBvaW50cywgcmV2ZXJzZVBvaW50cywgb3JpZ2luYWxJbmRleCwgb3JpZ2luYWxFbmQsIG1pZE9yaWdpbmFsQXJyLCBtb2RpZmllZEluZGV4LCBtb2RpZmllZEVuZCwgbWlkTW9kaWZpZWRBcnIsIGRlbHRhSXNFdmVuLCBxdWl0RWFybHlBcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWl0aGVyIGZhbHNlIG92ZXJsYXAsIG9yIHdlIGRpZG4ndCBoYXZlIGVub3VnaCBtZW1vcnkgZm9yIHRoZSBmdWxsIHRyYWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgcmVjdXJzaW9uIHBvaW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2Ugc2hvdWxkIGJlIHF1aXR0aW5nIGVhcmx5LCBiZWZvcmUgbW92aW5nIG9uIHRvIHRoZSBuZXh0IGl0ZXJhdGlvbi5cclxuICAgICAgICAgICAgY29uc3QgbWF0Y2hMZW5ndGhPZkxvbmdlc3QgPSAoKGZ1cnRoZXN0T3JpZ2luYWxJbmRleCAtIG9yaWdpbmFsU3RhcnQpICsgKGZ1cnRoZXN0TW9kaWZpZWRJbmRleCAtIG1vZGlmaWVkU3RhcnQpIC0gbnVtRGlmZmVyZW5jZXMpIC8gMjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuQ29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlICE9PSBudWxsICYmICF0aGlzLkNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZShmdXJ0aGVzdE9yaWdpbmFsSW5kZXgsIG1hdGNoTGVuZ3RoT2ZMb25nZXN0KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuJ3QgZmluaXNoLCBzbyBza2lwIGFoZWFkIHRvIGdlbmVyYXRpbmcgYSByZXN1bHQgZnJvbSB3aGF0IHdlIGhhdmUuXHJcbiAgICAgICAgICAgICAgICBxdWl0RWFybHlBcnJbMF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBmdXJ0aGVzdCBkaXN0YW5jZSB3ZSBnb3QgaW4gdGhlIGZvcndhcmQgZGlyZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgbWlkT3JpZ2luYWxBcnJbMF0gPSBmdXJ0aGVzdE9yaWdpbmFsSW5kZXg7XHJcbiAgICAgICAgICAgICAgICBtaWRNb2RpZmllZEFyclswXSA9IGZ1cnRoZXN0TW9kaWZpZWRJbmRleDtcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaExlbmd0aE9mTG9uZ2VzdCA+IDAgJiYgMTQ0NyAvKiBNYXhEaWZmZXJlbmNlc0hpc3RvcnkgKi8gPiAwICYmIG51bURpZmZlcmVuY2VzIDw9ICgxNDQ3IC8qIE1heERpZmZlcmVuY2VzSGlzdG9yeSAqLyArIDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5vdWdoIG9mIHRoZSBoaXN0b3J5IGlzIGluIG1lbW9yeSB0byB3YWxrIGl0IGJhY2t3YXJkc1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLldBTEtUUkFDRShkaWFnb25hbEZvcndhcmRCYXNlLCBkaWFnb25hbEZvcndhcmRTdGFydCwgZGlhZ29uYWxGb3J3YXJkRW5kLCBkaWFnb25hbEZvcndhcmRPZmZzZXQsIGRpYWdvbmFsUmV2ZXJzZUJhc2UsIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0LCBkaWFnb25hbFJldmVyc2VFbmQsIGRpYWdvbmFsUmV2ZXJzZU9mZnNldCwgZm9yd2FyZFBvaW50cywgcmV2ZXJzZVBvaW50cywgb3JpZ2luYWxJbmRleCwgb3JpZ2luYWxFbmQsIG1pZE9yaWdpbmFsQXJyLCBtb2RpZmllZEluZGV4LCBtb2RpZmllZEVuZCwgbWlkTW9kaWZpZWRBcnIsIGRlbHRhSXNFdmVuLCBxdWl0RWFybHlBcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZGlkbid0IGFjdHVhbGx5IHJlbWVtYmVyIGVub3VnaCBvZiB0aGUgaGlzdG9yeS5cclxuICAgICAgICAgICAgICAgICAgICAvL1NpbmNlIHdlIGFyZSBxdWl0aW5nIHRoZSBkaWZmIGVhcmx5LCB3ZSBuZWVkIHRvIHNoaWZ0IGJhY2sgdGhlIG9yaWdpbmFsU3RhcnQgYW5kIG1vZGlmaWVkIHN0YXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgLy9iYWNrIGludG8gdGhlIGJvdW5kYXJ5IGxpbWl0cyBzaW5jZSB3ZSBkZWNyZW1lbnRlZCB0aGVpciB2YWx1ZSBhYm92ZSBiZXlvbmQgdGhlIGJvdW5kYXJ5IGxpbWl0LlxyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RhcnQrKztcclxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZFN0YXJ0Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERpZmZDaGFuZ2Uob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxFbmQgLSBvcmlnaW5hbFN0YXJ0ICsgMSwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRFbmQgLSBtb2RpZmllZFN0YXJ0ICsgMSlcclxuICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFJ1biB0aGUgYWxnb3JpdGhtIGluIHRoZSByZXZlcnNlIGRpcmVjdGlvblxyXG4gICAgICAgICAgICBkaWFnb25hbFJldmVyc2VTdGFydCA9IHRoaXMuQ2xpcERpYWdvbmFsQm91bmQoZGlhZ29uYWxSZXZlcnNlQmFzZSAtIG51bURpZmZlcmVuY2VzLCBudW1EaWZmZXJlbmNlcywgZGlhZ29uYWxSZXZlcnNlQmFzZSwgbnVtRGlhZ29uYWxzKTtcclxuICAgICAgICAgICAgZGlhZ29uYWxSZXZlcnNlRW5kID0gdGhpcy5DbGlwRGlhZ29uYWxCb3VuZChkaWFnb25hbFJldmVyc2VCYXNlICsgbnVtRGlmZmVyZW5jZXMsIG51bURpZmZlcmVuY2VzLCBkaWFnb25hbFJldmVyc2VCYXNlLCBudW1EaWFnb25hbHMpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBkaWFnb25hbCA9IGRpYWdvbmFsUmV2ZXJzZVN0YXJ0OyBkaWFnb25hbCA8PSBkaWFnb25hbFJldmVyc2VFbmQ7IGRpYWdvbmFsICs9IDIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNURVAgMTogV2UgZXh0ZW5kIHRoZSBmdXJ0aGVzdCByZWFjaGluZyBwb2ludCBpbiB0aGUgcHJlc2VudCBkaWFnb25hbFxyXG4gICAgICAgICAgICAgICAgLy8gYnkgbG9va2luZyBhdCB0aGUgZGlhZ29uYWxzIGFib3ZlIGFuZCBiZWxvdyBhbmQgcGlja2luZyB0aGUgb25lIHdob3NlIHBvaW50XHJcbiAgICAgICAgICAgICAgICAvLyBpcyBmdXJ0aGVyIGF3YXkgZnJvbSB0aGUgc3RhcnQgcG9pbnQgKG9yaWdpbmFsRW5kLCBtb2RpZmllZEVuZClcclxuICAgICAgICAgICAgICAgIGlmIChkaWFnb25hbCA9PT0gZGlhZ29uYWxSZXZlcnNlU3RhcnQgfHwgKGRpYWdvbmFsIDwgZGlhZ29uYWxSZXZlcnNlRW5kICYmIHJldmVyc2VQb2ludHNbZGlhZ29uYWwgLSAxXSA+PSByZXZlcnNlUG9pbnRzW2RpYWdvbmFsICsgMV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxJbmRleCA9IHJldmVyc2VQb2ludHNbZGlhZ29uYWwgKyAxXSAtIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4ID0gcmV2ZXJzZVBvaW50c1tkaWFnb25hbCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbW9kaWZpZWRJbmRleCA9IG9yaWdpbmFsSW5kZXggLSAoZGlhZ29uYWwgLSBkaWFnb25hbFJldmVyc2VCYXNlKSAtIGRpYWdvbmFsUmV2ZXJzZU9mZnNldDtcclxuICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgb3JpZ2luYWxJbmRleCBzbyB3ZSBjYW4gdGVzdCBmb3IgZmFsc2Ugb3ZlcmxhcFxyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcE9yaWdpbmFsSW5kZXggPSBvcmlnaW5hbEluZGV4O1xyXG4gICAgICAgICAgICAgICAgLy8gU1RFUCAyOiBXZSBjYW4gY29udGludWUgdG8gZXh0ZW5kIHRoZSBmdXJ0aGVzdCByZWFjaGluZyBwb2ludCBpbiB0aGUgcHJlc2VudCBkaWFnb25hbFxyXG4gICAgICAgICAgICAgICAgLy8gYXMgbG9uZyBhcyB0aGUgZWxlbWVudHMgYXJlIGVxdWFsLlxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG9yaWdpbmFsSW5kZXggPiBvcmlnaW5hbFN0YXJ0ICYmIG1vZGlmaWVkSW5kZXggPiBtb2RpZmllZFN0YXJ0ICYmIHRoaXMuRWxlbWVudHNBcmVFcXVhbChvcmlnaW5hbEluZGV4LCBtb2RpZmllZEluZGV4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXgtLTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4LS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXZlcnNlUG9pbnRzW2RpYWdvbmFsXSA9IG9yaWdpbmFsSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAvLyBTVEVQIDQ6IElmIGRlbHRhIGlzIGV2ZW4gKG92ZXJsYXAgZmlyc3QgaGFwcGVucyBvbiByZXZlcnNlIHdoZW4gZGVsdGEgaXMgZXZlbilcclxuICAgICAgICAgICAgICAgIC8vIGFuZCBkaWFnb25hbCBpcyBpbiB0aGUgcmFuZ2Ugb2YgZm9yd2FyZCBkaWFnb25hbHMgY29tcHV0ZWQgZm9yIG51bURpZmZlcmVuY2VzXHJcbiAgICAgICAgICAgICAgICAvLyB0aGVuIGNoZWNrIGZvciBvdmVybGFwLlxyXG4gICAgICAgICAgICAgICAgaWYgKGRlbHRhSXNFdmVuICYmIE1hdGguYWJzKGRpYWdvbmFsIC0gZGlhZ29uYWxGb3J3YXJkQmFzZSkgPD0gbnVtRGlmZmVyZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxJbmRleCA8PSBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRPcmlnaW5hbEFyclswXSA9IG9yaWdpbmFsSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZE1vZGlmaWVkQXJyWzBdID0gbW9kaWZpZWRJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBPcmlnaW5hbEluZGV4ID49IGZvcndhcmRQb2ludHNbZGlhZ29uYWxdICYmIDE0NDcgLyogTWF4RGlmZmVyZW5jZXNIaXN0b3J5ICovID4gMCAmJiBudW1EaWZmZXJlbmNlcyA8PSAoMTQ0NyAvKiBNYXhEaWZmZXJlbmNlc0hpc3RvcnkgKi8gKyAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQklOR08hIFdlIG92ZXJsYXBwZWQsIGFuZCB3ZSBoYXZlIHRoZSBmdWxsIHRyYWNlIGluIG1lbW9yeSFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLldBTEtUUkFDRShkaWFnb25hbEZvcndhcmRCYXNlLCBkaWFnb25hbEZvcndhcmRTdGFydCwgZGlhZ29uYWxGb3J3YXJkRW5kLCBkaWFnb25hbEZvcndhcmRPZmZzZXQsIGRpYWdvbmFsUmV2ZXJzZUJhc2UsIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0LCBkaWFnb25hbFJldmVyc2VFbmQsIGRpYWdvbmFsUmV2ZXJzZU9mZnNldCwgZm9yd2FyZFBvaW50cywgcmV2ZXJzZVBvaW50cywgb3JpZ2luYWxJbmRleCwgb3JpZ2luYWxFbmQsIG1pZE9yaWdpbmFsQXJyLCBtb2RpZmllZEluZGV4LCBtb2RpZmllZEVuZCwgbWlkTW9kaWZpZWRBcnIsIGRlbHRhSXNFdmVuLCBxdWl0RWFybHlBcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWl0aGVyIGZhbHNlIG92ZXJsYXAsIG9yIHdlIGRpZG4ndCBoYXZlIGVub3VnaCBtZW1vcnkgZm9yIHRoZSBmdWxsIHRyYWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgcmVjdXJzaW9uIHBvaW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTYXZlIGN1cnJlbnQgdmVjdG9ycyB0byBoaXN0b3J5IGJlZm9yZSB0aGUgbmV4dCBpdGVyYXRpb25cclxuICAgICAgICAgICAgaWYgKG51bURpZmZlcmVuY2VzIDw9IDE0NDcgLyogTWF4RGlmZmVyZW5jZXNIaXN0b3J5ICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBhcmUgYWxsb2NhdGluZyBzcGFjZSBmb3Igb25lIGV4dHJhIGludCwgd2hpY2ggd2UgZmlsbCB3aXRoXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgaW5kZXggb2YgdGhlIGRpYWdvbmFsIGJhc2UgaW5kZXhcclxuICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gbmV3IEludDMyQXJyYXkoZGlhZ29uYWxGb3J3YXJkRW5kIC0gZGlhZ29uYWxGb3J3YXJkU3RhcnQgKyAyKTtcclxuICAgICAgICAgICAgICAgIHRlbXBbMF0gPSBkaWFnb25hbEZvcndhcmRCYXNlIC0gZGlhZ29uYWxGb3J3YXJkU3RhcnQgKyAxO1xyXG4gICAgICAgICAgICAgICAgTXlBcnJheS5Db3B5Mihmb3J3YXJkUG9pbnRzLCBkaWFnb25hbEZvcndhcmRTdGFydCwgdGVtcCwgMSwgZGlhZ29uYWxGb3J3YXJkRW5kIC0gZGlhZ29uYWxGb3J3YXJkU3RhcnQgKyAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9mb3J3YXJkSGlzdG9yeS5wdXNoKHRlbXApO1xyXG4gICAgICAgICAgICAgICAgdGVtcCA9IG5ldyBJbnQzMkFycmF5KGRpYWdvbmFsUmV2ZXJzZUVuZCAtIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0ICsgMik7XHJcbiAgICAgICAgICAgICAgICB0ZW1wWzBdID0gZGlhZ29uYWxSZXZlcnNlQmFzZSAtIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0ICsgMTtcclxuICAgICAgICAgICAgICAgIE15QXJyYXkuQ29weTIocmV2ZXJzZVBvaW50cywgZGlhZ29uYWxSZXZlcnNlU3RhcnQsIHRlbXAsIDEsIGRpYWdvbmFsUmV2ZXJzZUVuZCAtIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0ICsgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fcmV2ZXJzZUhpc3RvcnkucHVzaCh0ZW1wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiB3ZSBnb3QgaGVyZSwgdGhlbiB3ZSBoYXZlIHRoZSBmdWxsIHRyYWNlIGluIGhpc3RvcnkuIFdlIGp1c3QgaGF2ZSB0byBjb252ZXJ0IGl0IHRvIGEgY2hhbmdlIGxpc3RcclxuICAgICAgICAvLyBOT1RFOiBUaGlzIHBhcnQgaXMgYSBiaXQgbWVzc3lcclxuICAgICAgICByZXR1cm4gdGhpcy5XQUxLVFJBQ0UoZGlhZ29uYWxGb3J3YXJkQmFzZSwgZGlhZ29uYWxGb3J3YXJkU3RhcnQsIGRpYWdvbmFsRm9yd2FyZEVuZCwgZGlhZ29uYWxGb3J3YXJkT2Zmc2V0LCBkaWFnb25hbFJldmVyc2VCYXNlLCBkaWFnb25hbFJldmVyc2VTdGFydCwgZGlhZ29uYWxSZXZlcnNlRW5kLCBkaWFnb25hbFJldmVyc2VPZmZzZXQsIGZvcndhcmRQb2ludHMsIHJldmVyc2VQb2ludHMsIG9yaWdpbmFsSW5kZXgsIG9yaWdpbmFsRW5kLCBtaWRPcmlnaW5hbEFyciwgbW9kaWZpZWRJbmRleCwgbW9kaWZpZWRFbmQsIG1pZE1vZGlmaWVkQXJyLCBkZWx0YUlzRXZlbiwgcXVpdEVhcmx5QXJyKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2hpZnRzIHRoZSBnaXZlbiBjaGFuZ2VzIHRvIHByb3ZpZGUgYSBtb3JlIGludHVpdGl2ZSBkaWZmLlxyXG4gICAgICogV2hpbGUgdGhlIGZpcnN0IGVsZW1lbnQgaW4gYSBkaWZmIG1hdGNoZXMgdGhlIGZpcnN0IGVsZW1lbnQgYWZ0ZXIgdGhlIGRpZmYsXHJcbiAgICAgKiB3ZSBzaGlmdCB0aGUgZGlmZiBkb3duLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjaGFuZ2VzIFRoZSBsaXN0IG9mIGNoYW5nZXMgdG8gc2hpZnRcclxuICAgICAqIEByZXR1cm5zIFRoZSBzaGlmdGVkIGNoYW5nZXNcclxuICAgICAqL1xyXG4gICAgUHJldHRpZnlDaGFuZ2VzKGNoYW5nZXMpIHtcclxuICAgICAgICAvLyBTaGlmdCBhbGwgdGhlIGNoYW5nZXMgZG93biBmaXJzdFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhbmdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjaGFuZ2UgPSBjaGFuZ2VzW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFN0b3AgPSAoaSA8IGNoYW5nZXMubGVuZ3RoIC0gMSkgPyBjaGFuZ2VzW2kgKyAxXS5vcmlnaW5hbFN0YXJ0IDogdGhpcy5fb3JpZ2luYWxFbGVtZW50c09ySGFzaC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkU3RvcCA9IChpIDwgY2hhbmdlcy5sZW5ndGggLSAxKSA/IGNoYW5nZXNbaSArIDFdLm1vZGlmaWVkU3RhcnQgOiB0aGlzLl9tb2RpZmllZEVsZW1lbnRzT3JIYXNoLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgY2hlY2tPcmlnaW5hbCA9IGNoYW5nZS5vcmlnaW5hbExlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrTW9kaWZpZWQgPSBjaGFuZ2UubW9kaWZpZWRMZW5ndGggPiAwO1xyXG4gICAgICAgICAgICB3aGlsZSAoY2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBjaGFuZ2Uub3JpZ2luYWxMZW5ndGggPCBvcmlnaW5hbFN0b3AgJiZcclxuICAgICAgICAgICAgICAgIGNoYW5nZS5tb2RpZmllZFN0YXJ0ICsgY2hhbmdlLm1vZGlmaWVkTGVuZ3RoIDwgbW9kaWZpZWRTdG9wICYmXHJcbiAgICAgICAgICAgICAgICAoIWNoZWNrT3JpZ2luYWwgfHwgdGhpcy5PcmlnaW5hbEVsZW1lbnRzQXJlRXF1YWwoY2hhbmdlLm9yaWdpbmFsU3RhcnQsIGNoYW5nZS5vcmlnaW5hbFN0YXJ0ICsgY2hhbmdlLm9yaWdpbmFsTGVuZ3RoKSkgJiZcclxuICAgICAgICAgICAgICAgICghY2hlY2tNb2RpZmllZCB8fCB0aGlzLk1vZGlmaWVkRWxlbWVudHNBcmVFcXVhbChjaGFuZ2UubW9kaWZpZWRTdGFydCwgY2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBjaGFuZ2UubW9kaWZpZWRMZW5ndGgpKSkge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlLm9yaWdpbmFsU3RhcnQrKztcclxuICAgICAgICAgICAgICAgIGNoYW5nZS5tb2RpZmllZFN0YXJ0Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG1lcmdlZENoYW5nZUFyciA9IFtudWxsXTtcclxuICAgICAgICAgICAgaWYgKGkgPCBjaGFuZ2VzLmxlbmd0aCAtIDEgJiYgdGhpcy5DaGFuZ2VzT3ZlcmxhcChjaGFuZ2VzW2ldLCBjaGFuZ2VzW2kgKyAxXSwgbWVyZ2VkQ2hhbmdlQXJyKSkge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlc1tpXSA9IG1lcmdlZENoYW5nZUFyclswXTtcclxuICAgICAgICAgICAgICAgIGNoYW5nZXMuc3BsaWNlKGkgKyAxLCAxKTtcclxuICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNoaWZ0IGNoYW5nZXMgYmFjayB1cCB1bnRpbCB3ZSBoaXQgZW1wdHkgb3Igd2hpdGVzcGFjZS1vbmx5IGxpbmVzXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IGNoYW5nZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgY29uc3QgY2hhbmdlID0gY2hhbmdlc1tpXTtcclxuICAgICAgICAgICAgbGV0IG9yaWdpbmFsU3RvcCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBtb2RpZmllZFN0b3AgPSAwO1xyXG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZDaGFuZ2UgPSBjaGFuZ2VzW2kgLSAxXTtcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RvcCA9IHByZXZDaGFuZ2Uub3JpZ2luYWxTdGFydCArIHByZXZDaGFuZ2Uub3JpZ2luYWxMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBtb2RpZmllZFN0b3AgPSBwcmV2Q2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBwcmV2Q2hhbmdlLm1vZGlmaWVkTGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrT3JpZ2luYWwgPSBjaGFuZ2Uub3JpZ2luYWxMZW5ndGggPiAwO1xyXG4gICAgICAgICAgICBjb25zdCBjaGVja01vZGlmaWVkID0gY2hhbmdlLm1vZGlmaWVkTGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgbGV0IGJlc3REZWx0YSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBiZXN0U2NvcmUgPSB0aGlzLl9ib3VuZGFyeVNjb3JlKGNoYW5nZS5vcmlnaW5hbFN0YXJ0LCBjaGFuZ2Uub3JpZ2luYWxMZW5ndGgsIGNoYW5nZS5tb2RpZmllZFN0YXJ0LCBjaGFuZ2UubW9kaWZpZWRMZW5ndGgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBkZWx0YSA9IDE7OyBkZWx0YSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFN0YXJ0ID0gY2hhbmdlLm9yaWdpbmFsU3RhcnQgLSBkZWx0YTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkU3RhcnQgPSBjaGFuZ2UubW9kaWZpZWRTdGFydCAtIGRlbHRhO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsU3RhcnQgPCBvcmlnaW5hbFN0b3AgfHwgbW9kaWZpZWRTdGFydCA8IG1vZGlmaWVkU3RvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrT3JpZ2luYWwgJiYgIXRoaXMuT3JpZ2luYWxFbGVtZW50c0FyZUVxdWFsKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsU3RhcnQgKyBjaGFuZ2Uub3JpZ2luYWxMZW5ndGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tNb2RpZmllZCAmJiAhdGhpcy5Nb2RpZmllZEVsZW1lbnRzQXJlRXF1YWwobW9kaWZpZWRTdGFydCwgbW9kaWZpZWRTdGFydCArIGNoYW5nZS5tb2RpZmllZExlbmd0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvdWNoaW5nUHJldmlvdXNDaGFuZ2UgPSAob3JpZ2luYWxTdGFydCA9PT0gb3JpZ2luYWxTdG9wICYmIG1vZGlmaWVkU3RhcnQgPT09IG1vZGlmaWVkU3RvcCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9ICgodG91Y2hpbmdQcmV2aW91c0NoYW5nZSA/IDUgOiAwKVxyXG4gICAgICAgICAgICAgICAgICAgICsgdGhpcy5fYm91bmRhcnlTY29yZShvcmlnaW5hbFN0YXJ0LCBjaGFuZ2Uub3JpZ2luYWxMZW5ndGgsIG1vZGlmaWVkU3RhcnQsIGNoYW5nZS5tb2RpZmllZExlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlID4gYmVzdFNjb3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVzdFNjb3JlID0gc2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVzdERlbHRhID0gZGVsdGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hhbmdlLm9yaWdpbmFsU3RhcnQgLT0gYmVzdERlbHRhO1xyXG4gICAgICAgICAgICBjaGFuZ2UubW9kaWZpZWRTdGFydCAtPSBiZXN0RGVsdGE7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZENoYW5nZUFyciA9IFtudWxsXTtcclxuICAgICAgICAgICAgaWYgKGkgPiAwICYmIHRoaXMuQ2hhbmdlc092ZXJsYXAoY2hhbmdlc1tpIC0gMV0sIGNoYW5nZXNbaV0sIG1lcmdlZENoYW5nZUFycikpIHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZXNbaSAtIDFdID0gbWVyZ2VkQ2hhbmdlQXJyWzBdO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUaGVyZSBjb3VsZCBiZSBtdWx0aXBsZSBsb25nZXN0IGNvbW1vbiBzdWJzdHJpbmdzLlxyXG4gICAgICAgIC8vIEdpdmUgcHJlZmVyZW5jZSB0byB0aGUgb25lcyBjb250YWluaW5nIGxvbmdlciBsaW5lc1xyXG4gICAgICAgIGlmICh0aGlzLl9oYXNTdHJpbmdzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxLCBsZW4gPSBjaGFuZ2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhQ2hhbmdlID0gY2hhbmdlc1tpIC0gMV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBiQ2hhbmdlID0gY2hhbmdlc1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZWRMZW5ndGggPSBiQ2hhbmdlLm9yaWdpbmFsU3RhcnQgLSBhQ2hhbmdlLm9yaWdpbmFsU3RhcnQgLSBhQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYU9yaWdpbmFsU3RhcnQgPSBhQ2hhbmdlLm9yaWdpbmFsU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBiT3JpZ2luYWxFbmQgPSBiQ2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBiQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWJPcmlnaW5hbExlbmd0aCA9IGJPcmlnaW5hbEVuZCAtIGFPcmlnaW5hbFN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYU1vZGlmaWVkU3RhcnQgPSBhQ2hhbmdlLm1vZGlmaWVkU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBiTW9kaWZpZWRFbmQgPSBiQ2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBiQ2hhbmdlLm1vZGlmaWVkTGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWJNb2RpZmllZExlbmd0aCA9IGJNb2RpZmllZEVuZCAtIGFNb2RpZmllZFN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgLy8gQXZvaWQgd2FzdGluZyBhIGxvdCBvZiB0aW1lIHdpdGggdGhlc2Ugc2VhcmNoZXNcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkTGVuZ3RoIDwgNSAmJiBhYk9yaWdpbmFsTGVuZ3RoIDwgMjAgJiYgYWJNb2RpZmllZExlbmd0aCA8IDIwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuX2ZpbmRCZXR0ZXJDb250aWd1b3VzU2VxdWVuY2UoYU9yaWdpbmFsU3RhcnQsIGFiT3JpZ2luYWxMZW5ndGgsIGFNb2RpZmllZFN0YXJ0LCBhYk1vZGlmaWVkTGVuZ3RoLCBtYXRjaGVkTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbb3JpZ2luYWxNYXRjaFN0YXJ0LCBtb2RpZmllZE1hdGNoU3RhcnRdID0gdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsTWF0Y2hTdGFydCAhPT0gYUNoYW5nZS5vcmlnaW5hbFN0YXJ0ICsgYUNoYW5nZS5vcmlnaW5hbExlbmd0aCB8fCBtb2RpZmllZE1hdGNoU3RhcnQgIT09IGFDaGFuZ2UubW9kaWZpZWRTdGFydCArIGFDaGFuZ2UubW9kaWZpZWRMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN3aXRjaCB0byBhbm90aGVyIHNlcXVlbmNlIHRoYXQgaGFzIGEgYmV0dGVyIHNjb3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoID0gb3JpZ2luYWxNYXRjaFN0YXJ0IC0gYUNoYW5nZS5vcmlnaW5hbFN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYUNoYW5nZS5tb2RpZmllZExlbmd0aCA9IG1vZGlmaWVkTWF0Y2hTdGFydCAtIGFDaGFuZ2UubW9kaWZpZWRTdGFydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJDaGFuZ2Uub3JpZ2luYWxTdGFydCA9IG9yaWdpbmFsTWF0Y2hTdGFydCArIG1hdGNoZWRMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiQ2hhbmdlLm1vZGlmaWVkU3RhcnQgPSBtb2RpZmllZE1hdGNoU3RhcnQgKyBtYXRjaGVkTGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYkNoYW5nZS5vcmlnaW5hbExlbmd0aCA9IGJPcmlnaW5hbEVuZCAtIGJDaGFuZ2Uub3JpZ2luYWxTdGFydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJDaGFuZ2UubW9kaWZpZWRMZW5ndGggPSBiTW9kaWZpZWRFbmQgLSBiQ2hhbmdlLm1vZGlmaWVkU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNoYW5nZXM7XHJcbiAgICB9XHJcbiAgICBfZmluZEJldHRlckNvbnRpZ3VvdXNTZXF1ZW5jZShvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbExlbmd0aCwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRMZW5ndGgsIGRlc2lyZWRMZW5ndGgpIHtcclxuICAgICAgICBpZiAob3JpZ2luYWxMZW5ndGggPCBkZXNpcmVkTGVuZ3RoIHx8IG1vZGlmaWVkTGVuZ3RoIDwgZGVzaXJlZExlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxNYXggPSBvcmlnaW5hbFN0YXJ0ICsgb3JpZ2luYWxMZW5ndGggLSBkZXNpcmVkTGVuZ3RoICsgMTtcclxuICAgICAgICBjb25zdCBtb2RpZmllZE1heCA9IG1vZGlmaWVkU3RhcnQgKyBtb2RpZmllZExlbmd0aCAtIGRlc2lyZWRMZW5ndGggKyAxO1xyXG4gICAgICAgIGxldCBiZXN0U2NvcmUgPSAwO1xyXG4gICAgICAgIGxldCBiZXN0T3JpZ2luYWxTdGFydCA9IDA7XHJcbiAgICAgICAgbGV0IGJlc3RNb2RpZmllZFN0YXJ0ID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gb3JpZ2luYWxTdGFydDsgaSA8IG9yaWdpbmFsTWF4OyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IG1vZGlmaWVkU3RhcnQ7IGogPCBtb2RpZmllZE1heDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9IHRoaXMuX2NvbnRpZ3VvdXNTZXF1ZW5jZVNjb3JlKGksIGosIGRlc2lyZWRMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlID4gMCAmJiBzY29yZSA+IGJlc3RTY29yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJlc3RTY29yZSA9IHNjb3JlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJlc3RPcmlnaW5hbFN0YXJ0ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBiZXN0TW9kaWZpZWRTdGFydCA9IGo7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJlc3RTY29yZSA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtiZXN0T3JpZ2luYWxTdGFydCwgYmVzdE1vZGlmaWVkU3RhcnRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIF9jb250aWd1b3VzU2VxdWVuY2VTY29yZShvcmlnaW5hbFN0YXJ0LCBtb2RpZmllZFN0YXJ0LCBsZW5ndGgpIHtcclxuICAgICAgICBsZXQgc2NvcmUgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGwgPSAwOyBsIDwgbGVuZ3RoOyBsKyspIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLkVsZW1lbnRzQXJlRXF1YWwob3JpZ2luYWxTdGFydCArIGwsIG1vZGlmaWVkU3RhcnQgKyBsKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2NvcmUgKz0gdGhpcy5fb3JpZ2luYWxTdHJpbmdFbGVtZW50c1tvcmlnaW5hbFN0YXJ0ICsgbF0ubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2NvcmU7XHJcbiAgICB9XHJcbiAgICBfT3JpZ2luYWxJc0JvdW5kYXJ5KGluZGV4KSB7XHJcbiAgICAgICAgaWYgKGluZGV4IDw9IDAgfHwgaW5kZXggPj0gdGhpcy5fb3JpZ2luYWxFbGVtZW50c09ySGFzaC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKHRoaXMuX2hhc1N0cmluZ3MgJiYgL15cXHMqJC8udGVzdCh0aGlzLl9vcmlnaW5hbFN0cmluZ0VsZW1lbnRzW2luZGV4XSkpO1xyXG4gICAgfVxyXG4gICAgX09yaWdpbmFsUmVnaW9uSXNCb3VuZGFyeShvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbExlbmd0aCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9PcmlnaW5hbElzQm91bmRhcnkob3JpZ2luYWxTdGFydCkgfHwgdGhpcy5fT3JpZ2luYWxJc0JvdW5kYXJ5KG9yaWdpbmFsU3RhcnQgLSAxKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9yaWdpbmFsTGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbEVuZCA9IG9yaWdpbmFsU3RhcnQgKyBvcmlnaW5hbExlbmd0aDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX09yaWdpbmFsSXNCb3VuZGFyeShvcmlnaW5hbEVuZCAtIDEpIHx8IHRoaXMuX09yaWdpbmFsSXNCb3VuZGFyeShvcmlnaW5hbEVuZCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIF9Nb2RpZmllZElzQm91bmRhcnkoaW5kZXgpIHtcclxuICAgICAgICBpZiAoaW5kZXggPD0gMCB8fCBpbmRleCA+PSB0aGlzLl9tb2RpZmllZEVsZW1lbnRzT3JIYXNoLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAodGhpcy5faGFzU3RyaW5ncyAmJiAvXlxccyokLy50ZXN0KHRoaXMuX21vZGlmaWVkU3RyaW5nRWxlbWVudHNbaW5kZXhdKSk7XHJcbiAgICB9XHJcbiAgICBfTW9kaWZpZWRSZWdpb25Jc0JvdW5kYXJ5KG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkTGVuZ3RoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX01vZGlmaWVkSXNCb3VuZGFyeShtb2RpZmllZFN0YXJ0KSB8fCB0aGlzLl9Nb2RpZmllZElzQm91bmRhcnkobW9kaWZpZWRTdGFydCAtIDEpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobW9kaWZpZWRMZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkRW5kID0gbW9kaWZpZWRTdGFydCArIG1vZGlmaWVkTGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fTW9kaWZpZWRJc0JvdW5kYXJ5KG1vZGlmaWVkRW5kIC0gMSkgfHwgdGhpcy5fTW9kaWZpZWRJc0JvdW5kYXJ5KG1vZGlmaWVkRW5kKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgX2JvdW5kYXJ5U2NvcmUob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxMZW5ndGgsIG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkTGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxTY29yZSA9ICh0aGlzLl9PcmlnaW5hbFJlZ2lvbklzQm91bmRhcnkob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxMZW5ndGgpID8gMSA6IDApO1xyXG4gICAgICAgIGNvbnN0IG1vZGlmaWVkU2NvcmUgPSAodGhpcy5fTW9kaWZpZWRSZWdpb25Jc0JvdW5kYXJ5KG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkTGVuZ3RoKSA/IDEgOiAwKTtcclxuICAgICAgICByZXR1cm4gKG9yaWdpbmFsU2NvcmUgKyBtb2RpZmllZFNjb3JlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29uY2F0ZW5hdGVzIHRoZSB0d28gaW5wdXQgRGlmZkNoYW5nZSBsaXN0cyBhbmQgcmV0dXJucyB0aGUgcmVzdWx0aW5nXHJcbiAgICAgKiBsaXN0LlxyXG4gICAgICogQHBhcmFtIFRoZSBsZWZ0IGNoYW5nZXNcclxuICAgICAqIEBwYXJhbSBUaGUgcmlnaHQgY2hhbmdlc1xyXG4gICAgICogQHJldHVybnMgVGhlIGNvbmNhdGVuYXRlZCBsaXN0XHJcbiAgICAgKi9cclxuICAgIENvbmNhdGVuYXRlQ2hhbmdlcyhsZWZ0LCByaWdodCkge1xyXG4gICAgICAgIGxldCBtZXJnZWRDaGFuZ2VBcnIgPSBbXTtcclxuICAgICAgICBpZiAobGVmdC5sZW5ndGggPT09IDAgfHwgcmlnaHQubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAocmlnaHQubGVuZ3RoID4gMCkgPyByaWdodCA6IGxlZnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuQ2hhbmdlc092ZXJsYXAobGVmdFtsZWZ0Lmxlbmd0aCAtIDFdLCByaWdodFswXSwgbWVyZ2VkQ2hhbmdlQXJyKSkge1xyXG4gICAgICAgICAgICAvLyBTaW5jZSB3ZSBicmVhayB0aGUgcHJvYmxlbSBkb3duIHJlY3Vyc2l2ZWx5LCBpdCBpcyBwb3NzaWJsZSB0aGF0IHdlXHJcbiAgICAgICAgICAgIC8vIG1pZ2h0IHJlY3Vyc2UgaW4gdGhlIG1pZGRsZSBvZiBhIGNoYW5nZSB0aGVyZWJ5IHNwbGl0dGluZyBpdCBpbnRvXHJcbiAgICAgICAgICAgIC8vIHR3byBjaGFuZ2VzLiBIZXJlIGluIHRoZSBjb21iaW5pbmcgc3RhZ2UsIHdlIGRldGVjdCBhbmQgZnVzZSB0aG9zZVxyXG4gICAgICAgICAgICAvLyBjaGFuZ2VzIGJhY2sgdG9nZXRoZXJcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5KGxlZnQubGVuZ3RoICsgcmlnaHQubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIE15QXJyYXkuQ29weShsZWZ0LCAwLCByZXN1bHQsIDAsIGxlZnQubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIHJlc3VsdFtsZWZ0Lmxlbmd0aCAtIDFdID0gbWVyZ2VkQ2hhbmdlQXJyWzBdO1xyXG4gICAgICAgICAgICBNeUFycmF5LkNvcHkocmlnaHQsIDEsIHJlc3VsdCwgbGVmdC5sZW5ndGgsIHJpZ2h0Lmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5KGxlZnQubGVuZ3RoICsgcmlnaHQubGVuZ3RoKTtcclxuICAgICAgICAgICAgTXlBcnJheS5Db3B5KGxlZnQsIDAsIHJlc3VsdCwgMCwgbGVmdC5sZW5ndGgpO1xyXG4gICAgICAgICAgICBNeUFycmF5LkNvcHkocmlnaHQsIDAsIHJlc3VsdCwgbGVmdC5sZW5ndGgsIHJpZ2h0Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHR3byBjaGFuZ2VzIG92ZXJsYXAgYW5kIGNhbiBiZSBtZXJnZWQgaW50byBhIHNpbmdsZVxyXG4gICAgICogY2hhbmdlXHJcbiAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjaGFuZ2VcclxuICAgICAqIEBwYXJhbSByaWdodCBUaGUgcmlnaHQgY2hhbmdlXHJcbiAgICAgKiBAcGFyYW0gbWVyZ2VkQ2hhbmdlIFRoZSBtZXJnZWQgY2hhbmdlIGlmIHRoZSB0d28gb3ZlcmxhcCwgbnVsbCBvdGhlcndpc2VcclxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHR3byBjaGFuZ2VzIG92ZXJsYXBcclxuICAgICAqL1xyXG4gICAgQ2hhbmdlc092ZXJsYXAobGVmdCwgcmlnaHQsIG1lcmdlZENoYW5nZUFycikge1xyXG4gICAgICAgIERlYnVnLkFzc2VydChsZWZ0Lm9yaWdpbmFsU3RhcnQgPD0gcmlnaHQub3JpZ2luYWxTdGFydCwgJ0xlZnQgY2hhbmdlIGlzIG5vdCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gcmlnaHQgY2hhbmdlJyk7XHJcbiAgICAgICAgRGVidWcuQXNzZXJ0KGxlZnQubW9kaWZpZWRTdGFydCA8PSByaWdodC5tb2RpZmllZFN0YXJ0LCAnTGVmdCBjaGFuZ2UgaXMgbm90IGxlc3MgdGhhbiBvciBlcXVhbCB0byByaWdodCBjaGFuZ2UnKTtcclxuICAgICAgICBpZiAobGVmdC5vcmlnaW5hbFN0YXJ0ICsgbGVmdC5vcmlnaW5hbExlbmd0aCA+PSByaWdodC5vcmlnaW5hbFN0YXJ0IHx8IGxlZnQubW9kaWZpZWRTdGFydCArIGxlZnQubW9kaWZpZWRMZW5ndGggPj0gcmlnaHQubW9kaWZpZWRTdGFydCkge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFN0YXJ0ID0gbGVmdC5vcmlnaW5hbFN0YXJ0O1xyXG4gICAgICAgICAgICBsZXQgb3JpZ2luYWxMZW5ndGggPSBsZWZ0Lm9yaWdpbmFsTGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBtb2RpZmllZFN0YXJ0ID0gbGVmdC5tb2RpZmllZFN0YXJ0O1xyXG4gICAgICAgICAgICBsZXQgbW9kaWZpZWRMZW5ndGggPSBsZWZ0Lm1vZGlmaWVkTGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAobGVmdC5vcmlnaW5hbFN0YXJ0ICsgbGVmdC5vcmlnaW5hbExlbmd0aCA+PSByaWdodC5vcmlnaW5hbFN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbExlbmd0aCA9IHJpZ2h0Lm9yaWdpbmFsU3RhcnQgKyByaWdodC5vcmlnaW5hbExlbmd0aCAtIGxlZnQub3JpZ2luYWxTdGFydDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobGVmdC5tb2RpZmllZFN0YXJ0ICsgbGVmdC5tb2RpZmllZExlbmd0aCA+PSByaWdodC5tb2RpZmllZFN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICBtb2RpZmllZExlbmd0aCA9IHJpZ2h0Lm1vZGlmaWVkU3RhcnQgKyByaWdodC5tb2RpZmllZExlbmd0aCAtIGxlZnQubW9kaWZpZWRTdGFydDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtZXJnZWRDaGFuZ2VBcnJbMF0gPSBuZXcgRGlmZkNoYW5nZShvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbExlbmd0aCwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRMZW5ndGgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1lcmdlZENoYW5nZUFyclswXSA9IG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBtZXRob2QgdXNlZCB0byBjbGlwIGEgZGlhZ29uYWwgaW5kZXggdG8gdGhlIHJhbmdlIG9mIHZhbGlkXHJcbiAgICAgKiBkaWFnb25hbHMuIFRoaXMgYWxzbyBkZWNpZGVzIHdoZXRoZXIgb3Igbm90IHRoZSBkaWFnb25hbCBpbmRleCxcclxuICAgICAqIGlmIGl0IGV4Y2VlZHMgdGhlIGJvdW5kYXJ5LCBzaG91bGQgYmUgY2xpcHBlZCB0byB0aGUgYm91bmRhcnkgb3IgY2xpcHBlZFxyXG4gICAgICogb25lIGluc2lkZSB0aGUgYm91bmRhcnkgZGVwZW5kaW5nIG9uIHRoZSBFdmVuL09kZCBzdGF0dXMgb2YgdGhlIGJvdW5kYXJ5XHJcbiAgICAgKiBhbmQgbnVtRGlmZmVyZW5jZXMuXHJcbiAgICAgKiBAcGFyYW0gZGlhZ29uYWwgVGhlIGluZGV4IG9mIHRoZSBkaWFnb25hbCB0byBjbGlwLlxyXG4gICAgICogQHBhcmFtIG51bURpZmZlcmVuY2VzIFRoZSBjdXJyZW50IG51bWJlciBvZiBkaWZmZXJlbmNlcyBiZWluZyBpdGVyYXRlZCB1cG9uLlxyXG4gICAgICogQHBhcmFtIGRpYWdvbmFsQmFzZUluZGV4IFRoZSBiYXNlIHJlZmVyZW5jZSBkaWFnb25hbC5cclxuICAgICAqIEBwYXJhbSBudW1EaWFnb25hbHMgVGhlIHRvdGFsIG51bWJlciBvZiBkaWFnb25hbHMuXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgY2xpcHBlZCBkaWFnb25hbCBpbmRleC5cclxuICAgICAqL1xyXG4gICAgQ2xpcERpYWdvbmFsQm91bmQoZGlhZ29uYWwsIG51bURpZmZlcmVuY2VzLCBkaWFnb25hbEJhc2VJbmRleCwgbnVtRGlhZ29uYWxzKSB7XHJcbiAgICAgICAgaWYgKGRpYWdvbmFsID49IDAgJiYgZGlhZ29uYWwgPCBudW1EaWFnb25hbHMpIHtcclxuICAgICAgICAgICAgLy8gTm90aGluZyB0byBjbGlwLCBpdHMgaW4gcmFuZ2VcclxuICAgICAgICAgICAgcmV0dXJuIGRpYWdvbmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBkaWFnb25hbHNCZWxvdzogVGhlIG51bWJlciBvZiBkaWFnb25hbHMgYmVsb3cgdGhlIHJlZmVyZW5jZSBkaWFnb25hbFxyXG4gICAgICAgIC8vIGRpYWdvbmFsc0Fib3ZlOiBUaGUgbnVtYmVyIG9mIGRpYWdvbmFscyBhYm92ZSB0aGUgcmVmZXJlbmNlIGRpYWdvbmFsXHJcbiAgICAgICAgY29uc3QgZGlhZ29uYWxzQmVsb3cgPSBkaWFnb25hbEJhc2VJbmRleDtcclxuICAgICAgICBjb25zdCBkaWFnb25hbHNBYm92ZSA9IG51bURpYWdvbmFscyAtIGRpYWdvbmFsQmFzZUluZGV4IC0gMTtcclxuICAgICAgICBjb25zdCBkaWZmRXZlbiA9IChudW1EaWZmZXJlbmNlcyAlIDIgPT09IDApO1xyXG4gICAgICAgIGlmIChkaWFnb25hbCA8IDApIHtcclxuICAgICAgICAgICAgY29uc3QgbG93ZXJCb3VuZEV2ZW4gPSAoZGlhZ29uYWxzQmVsb3cgJSAyID09PSAwKTtcclxuICAgICAgICAgICAgcmV0dXJuIChkaWZmRXZlbiA9PT0gbG93ZXJCb3VuZEV2ZW4pID8gMCA6IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB1cHBlckJvdW5kRXZlbiA9IChkaWFnb25hbHNBYm92ZSAlIDIgPT09IDApO1xyXG4gICAgICAgICAgICByZXR1cm4gKGRpZmZFdmVuID09PSB1cHBlckJvdW5kRXZlbikgPyBudW1EaWFnb25hbHMgLSAxIDogbnVtRGlhZ29uYWxzIC0gMjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5pbXBvcnQgeyBpc1dpbmRvd3MsIGlzTWFjaW50b3NoLCBzZXRJbW1lZGlhdGUsIGdsb2JhbHMgfSBmcm9tICcuL3BsYXRmb3JtLmpzJztcclxubGV0IHNhZmVQcm9jZXNzO1xyXG4vLyBOYXRpdmUgc2FuZGJveCBlbnZpcm9ubWVudFxyXG5pZiAodHlwZW9mIGdsb2JhbHMudnNjb2RlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZ2xvYmFscy52c2NvZGUucHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIGNvbnN0IHNhbmRib3hQcm9jZXNzID0gZ2xvYmFscy52c2NvZGUucHJvY2VzcztcclxuICAgIHNhZmVQcm9jZXNzID0ge1xyXG4gICAgICAgIGdldCBwbGF0Zm9ybSgpIHsgcmV0dXJuIHNhbmRib3hQcm9jZXNzLnBsYXRmb3JtOyB9LFxyXG4gICAgICAgIGdldCBlbnYoKSB7IHJldHVybiBzYW5kYm94UHJvY2Vzcy5lbnY7IH0sXHJcbiAgICAgICAgY3dkKCkgeyByZXR1cm4gc2FuZGJveFByb2Nlc3MuY3dkKCk7IH0sXHJcbiAgICAgICAgbmV4dFRpY2soY2FsbGJhY2spIHsgcmV0dXJuIHNldEltbWVkaWF0ZShjYWxsYmFjayk7IH1cclxuICAgIH07XHJcbn1cclxuLy8gTmF0aXZlIG5vZGUuanMgZW52aXJvbm1lbnRcclxuZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICBzYWZlUHJvY2VzcyA9IHtcclxuICAgICAgICBnZXQgcGxhdGZvcm0oKSB7IHJldHVybiBwcm9jZXNzLnBsYXRmb3JtOyB9LFxyXG4gICAgICAgIGdldCBlbnYoKSB7IHJldHVybiBwcm9jZXNzLmVudjsgfSxcclxuICAgICAgICBjd2QoKSB7IHJldHVybiBwcm9jZXNzLmVudlsnVlNDT0RFX0NXRCddIHx8IHByb2Nlc3MuY3dkKCk7IH0sXHJcbiAgICAgICAgbmV4dFRpY2soY2FsbGJhY2spIHsgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soY2FsbGJhY2spOyB9XHJcbiAgICB9O1xyXG59XHJcbi8vIFdlYiBlbnZpcm9ubWVudFxyXG5lbHNlIHtcclxuICAgIHNhZmVQcm9jZXNzID0ge1xyXG4gICAgICAgIC8vIFN1cHBvcnRlZFxyXG4gICAgICAgIGdldCBwbGF0Zm9ybSgpIHsgcmV0dXJuIGlzV2luZG93cyA/ICd3aW4zMicgOiBpc01hY2ludG9zaCA/ICdkYXJ3aW4nIDogJ2xpbnV4JzsgfSxcclxuICAgICAgICBuZXh0VGljayhjYWxsYmFjaykgeyByZXR1cm4gc2V0SW1tZWRpYXRlKGNhbGxiYWNrKTsgfSxcclxuICAgICAgICAvLyBVbnN1cHBvcnRlZFxyXG4gICAgICAgIGdldCBlbnYoKSB7IHJldHVybiB7fTsgfSxcclxuICAgICAgICBjd2QoKSB7IHJldHVybiAnLyc7IH1cclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIFByb3ZpZGVzIHNhZmUgYWNjZXNzIHRvIHRoZSBgY3dkYCBwcm9wZXJ0eSBpbiBub2RlLmpzLCBzYW5kYm94ZWQgb3Igd2ViXHJcbiAqIGVudmlyb25tZW50cy5cclxuICpcclxuICogTm90ZTogaW4gd2ViLCB0aGlzIHByb3BlcnR5IGlzIGhhcmRjb2RlZCB0byBiZSBgL2AuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY3dkID0gc2FmZVByb2Nlc3MuY3dkO1xyXG4vKipcclxuICogUHJvdmlkZXMgc2FmZSBhY2Nlc3MgdG8gdGhlIGBlbnZgIHByb3BlcnR5IGluIG5vZGUuanMsIHNhbmRib3hlZCBvciB3ZWJcclxuICogZW52aXJvbm1lbnRzLlxyXG4gKlxyXG4gKiBOb3RlOiBpbiB3ZWIsIHRoaXMgcHJvcGVydHkgaXMgaGFyZGNvZGVkIHRvIGJlIGB7fWAuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZW52ID0gc2FmZVByb2Nlc3MuZW52O1xyXG4vKipcclxuICogUHJvdmlkZXMgc2FmZSBhY2Nlc3MgdG8gdGhlIGBwbGF0Zm9ybWAgcHJvcGVydHkgaW4gbm9kZS5qcywgc2FuZGJveGVkIG9yIHdlYlxyXG4gKiBlbnZpcm9ubWVudHMuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcGxhdGZvcm0gPSBzYWZlUHJvY2Vzcy5wbGF0Zm9ybTtcclxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4vLyBOT1RFOiBWU0NvZGUncyBjb3B5IG9mIG5vZGVqcyBwYXRoIGxpYnJhcnkgdG8gYmUgdXNhYmxlIGluIGNvbW1vbiAobm9uLW5vZGUpIG5hbWVzcGFjZVxyXG4vLyBDb3BpZWQgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvdjEyLjguMS9saWIvcGF0aC5qc1xyXG4vKipcclxuICogQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXHJcbiAqXHJcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXHJcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcclxuICogXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXHJcbiAqIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcclxuICogZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxyXG4gKiBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcclxuICogZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcbiAqXHJcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXHJcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG4gKlxyXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXHJcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0ZcclxuICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxyXG4gKiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcclxuICogREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXHJcbiAqIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcclxuICogVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cclxuICovXHJcbmltcG9ydCAqIGFzIHByb2Nlc3MgZnJvbSAnLi9wcm9jZXNzLmpzJztcclxuY29uc3QgQ0hBUl9VUFBFUkNBU0VfQSA9IDY1OyAvKiBBICovXHJcbmNvbnN0IENIQVJfTE9XRVJDQVNFX0EgPSA5NzsgLyogYSAqL1xyXG5jb25zdCBDSEFSX1VQUEVSQ0FTRV9aID0gOTA7IC8qIFogKi9cclxuY29uc3QgQ0hBUl9MT1dFUkNBU0VfWiA9IDEyMjsgLyogeiAqL1xyXG5jb25zdCBDSEFSX0RPVCA9IDQ2OyAvKiAuICovXHJcbmNvbnN0IENIQVJfRk9SV0FSRF9TTEFTSCA9IDQ3OyAvKiAvICovXHJcbmNvbnN0IENIQVJfQkFDS1dBUkRfU0xBU0ggPSA5MjsgLyogXFwgKi9cclxuY29uc3QgQ0hBUl9DT0xPTiA9IDU4OyAvKiA6ICovXHJcbmNvbnN0IENIQVJfUVVFU1RJT05fTUFSSyA9IDYzOyAvKiA/ICovXHJcbmNsYXNzIEVycm9ySW52YWxpZEFyZ1R5cGUgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBleHBlY3RlZCwgYWN0dWFsKSB7XHJcbiAgICAgICAgLy8gZGV0ZXJtaW5lcjogJ211c3QgYmUnIG9yICdtdXN0IG5vdCBiZSdcclxuICAgICAgICBsZXQgZGV0ZXJtaW5lcjtcclxuICAgICAgICBpZiAodHlwZW9mIGV4cGVjdGVkID09PSAnc3RyaW5nJyAmJiBleHBlY3RlZC5pbmRleE9mKCdub3QgJykgPT09IDApIHtcclxuICAgICAgICAgICAgZGV0ZXJtaW5lciA9ICdtdXN0IG5vdCBiZSc7XHJcbiAgICAgICAgICAgIGV4cGVjdGVkID0gZXhwZWN0ZWQucmVwbGFjZSgvXm5vdCAvLCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkZXRlcm1pbmVyID0gJ211c3QgYmUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0eXBlID0gbmFtZS5pbmRleE9mKCcuJykgIT09IC0xID8gJ3Byb3BlcnR5JyA6ICdhcmd1bWVudCc7XHJcbiAgICAgICAgbGV0IG1zZyA9IGBUaGUgXCIke25hbWV9XCIgJHt0eXBlfSAke2RldGVybWluZXJ9IG9mIHR5cGUgJHtleHBlY3RlZH1gO1xyXG4gICAgICAgIG1zZyArPSBgLiBSZWNlaXZlZCB0eXBlICR7dHlwZW9mIGFjdHVhbH1gO1xyXG4gICAgICAgIHN1cGVyKG1zZyk7XHJcbiAgICAgICAgdGhpcy5jb2RlID0gJ0VSUl9JTlZBTElEX0FSR19UWVBFJztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZVN0cmluZyh2YWx1ZSwgbmFtZSkge1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3JJbnZhbGlkQXJnVHlwZShuYW1lLCAnc3RyaW5nJywgdmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzUGF0aFNlcGFyYXRvcihjb2RlKSB7XHJcbiAgICByZXR1cm4gY29kZSA9PT0gQ0hBUl9GT1JXQVJEX1NMQVNIIHx8IGNvZGUgPT09IENIQVJfQkFDS1dBUkRfU0xBU0g7XHJcbn1cclxuZnVuY3Rpb24gaXNQb3NpeFBhdGhTZXBhcmF0b3IoY29kZSkge1xyXG4gICAgcmV0dXJuIGNvZGUgPT09IENIQVJfRk9SV0FSRF9TTEFTSDtcclxufVxyXG5mdW5jdGlvbiBpc1dpbmRvd3NEZXZpY2VSb290KGNvZGUpIHtcclxuICAgIHJldHVybiBjb2RlID49IENIQVJfVVBQRVJDQVNFX0EgJiYgY29kZSA8PSBDSEFSX1VQUEVSQ0FTRV9aIHx8XHJcbiAgICAgICAgY29kZSA+PSBDSEFSX0xPV0VSQ0FTRV9BICYmIGNvZGUgPD0gQ0hBUl9MT1dFUkNBU0VfWjtcclxufVxyXG4vLyBSZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggd2l0aCBkaXJlY3RvcnkgbmFtZXNcclxuZnVuY3Rpb24gbm9ybWFsaXplU3RyaW5nKHBhdGgsIGFsbG93QWJvdmVSb290LCBzZXBhcmF0b3IsIGlzUGF0aFNlcGFyYXRvcikge1xyXG4gICAgbGV0IHJlcyA9ICcnO1xyXG4gICAgbGV0IGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcclxuICAgIGxldCBsYXN0U2xhc2ggPSAtMTtcclxuICAgIGxldCBkb3RzID0gMDtcclxuICAgIGxldCBjb2RlID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHBhdGgubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICBpZiAoaSA8IHBhdGgubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzUGF0aFNlcGFyYXRvcihjb2RlKSkge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvZGUgPSBDSEFSX0ZPUldBUkRfU0xBU0g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IoY29kZSkpIHtcclxuICAgICAgICAgICAgaWYgKGxhc3RTbGFzaCA9PT0gaSAtIDEgfHwgZG90cyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTk9PUFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRvdHMgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoIDwgMiB8fCBsYXN0U2VnbWVudExlbmd0aCAhPT0gMiB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5jaGFyQ29kZUF0KHJlcy5sZW5ndGggLSAxKSAhPT0gQ0hBUl9ET1QgfHxcclxuICAgICAgICAgICAgICAgICAgICByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMikgIT09IENIQVJfRE9UKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RTbGFzaEluZGV4ID0gcmVzLmxhc3RJbmRleE9mKHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzLnNsaWNlKDAsIGxhc3RTbGFzaEluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gcmVzLmxlbmd0aCAtIDEgLSByZXMubGFzdEluZGV4T2Yoc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb3RzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlcy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG90cyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyArPSByZXMubGVuZ3RoID4gMCA/IGAke3NlcGFyYXRvcn0uLmAgOiAnLi4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyArPSBgJHtzZXBhcmF0b3J9JHtwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpfWA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMgPSBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSBpIC0gbGFzdFNsYXNoIC0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xyXG4gICAgICAgICAgICBkb3RzID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gQ0hBUl9ET1QgJiYgZG90cyAhPT0gLTEpIHtcclxuICAgICAgICAgICAgKytkb3RzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG90cyA9IC0xO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gX2Zvcm1hdChzZXAsIHBhdGhPYmplY3QpIHtcclxuICAgIGlmIChwYXRoT2JqZWN0ID09PSBudWxsIHx8IHR5cGVvZiBwYXRoT2JqZWN0ICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvckludmFsaWRBcmdUeXBlKCdwYXRoT2JqZWN0JywgJ09iamVjdCcsIHBhdGhPYmplY3QpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGlyID0gcGF0aE9iamVjdC5kaXIgfHwgcGF0aE9iamVjdC5yb290O1xyXG4gICAgY29uc3QgYmFzZSA9IHBhdGhPYmplY3QuYmFzZSB8fFxyXG4gICAgICAgIGAke3BhdGhPYmplY3QubmFtZSB8fCAnJ30ke3BhdGhPYmplY3QuZXh0IHx8ICcnfWA7XHJcbiAgICBpZiAoIWRpcikge1xyXG4gICAgICAgIHJldHVybiBiYXNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRpciA9PT0gcGF0aE9iamVjdC5yb290ID8gYCR7ZGlyfSR7YmFzZX1gIDogYCR7ZGlyfSR7c2VwfSR7YmFzZX1gO1xyXG59XHJcbmV4cG9ydCBjb25zdCB3aW4zMiA9IHtcclxuICAgIC8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcclxuICAgIHJlc29sdmUoLi4ucGF0aFNlZ21lbnRzKSB7XHJcbiAgICAgICAgbGV0IHJlc29sdmVkRGV2aWNlID0gJyc7XHJcbiAgICAgICAgbGV0IHJlc29sdmVkVGFpbCA9ICcnO1xyXG4gICAgICAgIGxldCByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHBhdGhTZWdtZW50cy5sZW5ndGggLSAxOyBpID49IC0xOyBpLS0pIHtcclxuICAgICAgICAgICAgbGV0IHBhdGg7XHJcbiAgICAgICAgICAgIGlmIChpID49IDApIHtcclxuICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoU2VnbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZVN0cmluZyhwYXRoLCAncGF0aCcpO1xyXG4gICAgICAgICAgICAgICAgLy8gU2tpcCBlbXB0eSBlbnRyaWVzXHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChyZXNvbHZlZERldmljZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHBhdGggPSBwcm9jZXNzLmN3ZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gV2luZG93cyBoYXMgdGhlIGNvbmNlcHQgb2YgZHJpdmUtc3BlY2lmaWMgY3VycmVudCB3b3JraW5nXHJcbiAgICAgICAgICAgICAgICAvLyBkaXJlY3Rvcmllcy4gSWYgd2UndmUgcmVzb2x2ZWQgYSBkcml2ZSBsZXR0ZXIgYnV0IG5vdCB5ZXQgYW5cclxuICAgICAgICAgICAgICAgIC8vIGFic29sdXRlIHBhdGgsIGdldCBjd2QgZm9yIHRoYXQgZHJpdmUsIG9yIHRoZSBwcm9jZXNzIGN3ZCBpZlxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGRyaXZlIGN3ZCBpcyBub3QgYXZhaWxhYmxlLiBXZSdyZSBzdXJlIHRoZSBkZXZpY2UgaXMgbm90XHJcbiAgICAgICAgICAgICAgICAvLyBhIFVOQyBwYXRoIGF0IHRoaXMgcG9pbnRzLCBiZWNhdXNlIFVOQyBwYXRocyBhcmUgYWx3YXlzIGFic29sdXRlLlxyXG4gICAgICAgICAgICAgICAgcGF0aCA9IHByb2Nlc3MuZW52W2A9JHtyZXNvbHZlZERldmljZX1gXSB8fCBwcm9jZXNzLmN3ZCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gVmVyaWZ5IHRoYXQgYSBjd2Qgd2FzIGZvdW5kIGFuZCB0aGF0IGl0IGFjdHVhbGx5IHBvaW50c1xyXG4gICAgICAgICAgICAgICAgLy8gdG8gb3VyIGRyaXZlLiBJZiBub3QsIGRlZmF1bHQgdG8gdGhlIGRyaXZlJ3Mgcm9vdC5cclxuICAgICAgICAgICAgICAgIGlmIChwYXRoID09PSB1bmRlZmluZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoLnNsaWNlKDAsIDIpLnRvTG93ZXJDYXNlKCkgIT09IHJlc29sdmVkRGV2aWNlLnRvTG93ZXJDYXNlKCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC5jaGFyQ29kZUF0KDIpID09PSBDSEFSX0JBQ0tXQVJEX1NMQVNIKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IGAke3Jlc29sdmVkRGV2aWNlfVxcXFxgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IHBhdGgubGVuZ3RoO1xyXG4gICAgICAgICAgICBsZXQgcm9vdEVuZCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBkZXZpY2UgPSAnJztcclxuICAgICAgICAgICAgbGV0IGlzQWJzb2x1dGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcclxuICAgICAgICAgICAgLy8gVHJ5IHRvIG1hdGNoIGEgcm9vdFxyXG4gICAgICAgICAgICBpZiAobGVuID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNQYXRoU2VwYXJhdG9yKGNvZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYHBhdGhgIGNvbnRhaW5zIGp1c3QgYSBwYXRoIHNlcGFyYXRvclxyXG4gICAgICAgICAgICAgICAgICAgIHJvb3RFbmQgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQWJzb2x1dGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUGF0aFNlcGFyYXRvcihjb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gUG9zc2libGUgVU5DIHJvb3RcclxuICAgICAgICAgICAgICAgIC8vIElmIHdlIHN0YXJ0ZWQgd2l0aCBhIHNlcGFyYXRvciwgd2Uga25vdyB3ZSBhdCBsZWFzdCBoYXZlIGFuXHJcbiAgICAgICAgICAgICAgICAvLyBhYnNvbHV0ZSBwYXRoIG9mIHNvbWUga2luZCAoVU5DIG9yIG90aGVyd2lzZSlcclxuICAgICAgICAgICAgICAgIGlzQWJzb2x1dGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoMSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2hlZCBkb3VibGUgcGF0aCBzZXBhcmF0b3IgYXQgYmVnaW5uaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGogPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gajtcclxuICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaCAxIG9yIG1vcmUgbm9uLXBhdGggc2VwYXJhdG9yc1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgbGVuICYmICFpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KGopKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChqIDwgbGVuICYmIGogIT09IGxhc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RQYXJ0ID0gcGF0aC5zbGljZShsYXN0LCBqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2hlZCFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdCA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoIDEgb3IgbW9yZSBwYXRoIHNlcGFyYXRvcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGogPCBsZW4gJiYgaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdChqKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGorKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiA8IGxlbiAmJiBqICE9PSBsYXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaGVkIVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdCA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaCAxIG9yIG1vcmUgbm9uLXBhdGggc2VwYXJhdG9yc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGogPCBsZW4gJiYgIWlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoaikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPT09IGxlbiB8fCBqICE9PSBsYXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbWF0Y2hlZCBhIFVOQyByb290XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlID0gYFxcXFxcXFxcJHtmaXJzdFBhcnR9XFxcXCR7cGF0aC5zbGljZShsYXN0LCBqKX1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RFbmQgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdEVuZCA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNXaW5kb3dzRGV2aWNlUm9vdChjb2RlKSAmJlxyXG4gICAgICAgICAgICAgICAgcGF0aC5jaGFyQ29kZUF0KDEpID09PSBDSEFSX0NPTE9OKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQb3NzaWJsZSBkZXZpY2Ugcm9vdFxyXG4gICAgICAgICAgICAgICAgZGV2aWNlID0gcGF0aC5zbGljZSgwLCAyKTtcclxuICAgICAgICAgICAgICAgIHJvb3RFbmQgPSAyO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IDIgJiYgaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdCgyKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUcmVhdCBzZXBhcmF0b3IgZm9sbG93aW5nIGRyaXZlIG5hbWUgYXMgYW4gYWJzb2x1dGUgcGF0aFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluZGljYXRvclxyXG4gICAgICAgICAgICAgICAgICAgIGlzQWJzb2x1dGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvb3RFbmQgPSAzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkZXZpY2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdmVkRGV2aWNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGV2aWNlLnRvTG93ZXJDYXNlKCkgIT09IHJlc29sdmVkRGV2aWNlLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBwYXRoIHBvaW50cyB0byBhbm90aGVyIGRldmljZSBzbyBpdCBpcyBub3QgYXBwbGljYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZERldmljZSA9IGRldmljZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmVzb2x2ZWRBYnNvbHV0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdmVkRGV2aWNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVkVGFpbCA9IGAke3BhdGguc2xpY2Uocm9vdEVuZCl9XFxcXCR7cmVzb2x2ZWRUYWlsfWA7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlZEFic29sdXRlID0gaXNBYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0Fic29sdXRlICYmIHJlc29sdmVkRGV2aWNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCxcclxuICAgICAgICAvLyBidXQgaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKClcclxuICAgICAgICAvLyBmYWlscylcclxuICAgICAgICAvLyBOb3JtYWxpemUgdGhlIHRhaWwgcGF0aFxyXG4gICAgICAgIHJlc29sdmVkVGFpbCA9IG5vcm1hbGl6ZVN0cmluZyhyZXNvbHZlZFRhaWwsICFyZXNvbHZlZEFic29sdXRlLCAnXFxcXCcsIGlzUGF0aFNlcGFyYXRvcik7XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkQWJzb2x1dGUgP1xyXG4gICAgICAgICAgICBgJHtyZXNvbHZlZERldmljZX1cXFxcJHtyZXNvbHZlZFRhaWx9YCA6XHJcbiAgICAgICAgICAgIGAke3Jlc29sdmVkRGV2aWNlfSR7cmVzb2x2ZWRUYWlsfWAgfHwgJy4nO1xyXG4gICAgfSxcclxuICAgIG5vcm1hbGl6ZShwYXRoKSB7XHJcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcocGF0aCwgJ3BhdGgnKTtcclxuICAgICAgICBjb25zdCBsZW4gPSBwYXRoLmxlbmd0aDtcclxuICAgICAgICBpZiAobGVuID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnLic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByb290RW5kID0gMDtcclxuICAgICAgICBsZXQgZGV2aWNlO1xyXG4gICAgICAgIGxldCBpc0Fic29sdXRlID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcclxuICAgICAgICAvLyBUcnkgdG8gbWF0Y2ggYSByb290XHJcbiAgICAgICAgaWYgKGxlbiA9PT0gMSkge1xyXG4gICAgICAgICAgICAvLyBgcGF0aGAgY29udGFpbnMganVzdCBhIHNpbmdsZSBjaGFyLCBleGl0IGVhcmx5IHRvIGF2b2lkXHJcbiAgICAgICAgICAgIC8vIHVubmVjZXNzYXJ5IHdvcmtcclxuICAgICAgICAgICAgcmV0dXJuIGlzUG9zaXhQYXRoU2VwYXJhdG9yKGNvZGUpID8gJ1xcXFwnIDogcGF0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzUGF0aFNlcGFyYXRvcihjb2RlKSkge1xyXG4gICAgICAgICAgICAvLyBQb3NzaWJsZSBVTkMgcm9vdFxyXG4gICAgICAgICAgICAvLyBJZiB3ZSBzdGFydGVkIHdpdGggYSBzZXBhcmF0b3IsIHdlIGtub3cgd2UgYXQgbGVhc3QgaGF2ZSBhbiBhYnNvbHV0ZVxyXG4gICAgICAgICAgICAvLyBwYXRoIG9mIHNvbWUga2luZCAoVU5DIG9yIG90aGVyd2lzZSlcclxuICAgICAgICAgICAgaXNBYnNvbHV0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KDEpKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTWF0Y2hlZCBkb3VibGUgcGF0aCBzZXBhcmF0b3IgYXQgYmVnaW5uaW5nXHJcbiAgICAgICAgICAgICAgICBsZXQgaiA9IDI7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGFzdCA9IGo7XHJcbiAgICAgICAgICAgICAgICAvLyBNYXRjaCAxIG9yIG1vcmUgbm9uLXBhdGggc2VwYXJhdG9yc1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGogPCBsZW4gJiYgIWlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoaikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaisrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGogPCBsZW4gJiYgaiAhPT0gbGFzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0UGFydCA9IHBhdGguc2xpY2UobGFzdCwgaik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2hlZCFcclxuICAgICAgICAgICAgICAgICAgICBsYXN0ID0gajtcclxuICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaCAxIG9yIG1vcmUgcGF0aCBzZXBhcmF0b3JzXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGogPCBsZW4gJiYgaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdChqKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA8IGxlbiAmJiBqICE9PSBsYXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoZWQhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3QgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaCAxIG9yIG1vcmUgbm9uLXBhdGggc2VwYXJhdG9yc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaiA8IGxlbiAmJiAhaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdChqKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGorKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gbGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBtYXRjaGVkIGEgVU5DIHJvb3Qgb25seVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBub3JtYWxpemVkIHZlcnNpb24gb2YgdGhlIFVOQyByb290IHNpbmNlIHRoZXJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpcyBub3RoaW5nIGxlZnQgdG8gcHJvY2Vzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcXFxcXFxcXCR7Zmlyc3RQYXJ0fVxcXFwke3BhdGguc2xpY2UobGFzdCl9XFxcXGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogIT09IGxhc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG1hdGNoZWQgYSBVTkMgcm9vdCB3aXRoIGxlZnRvdmVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlID0gYFxcXFxcXFxcJHtmaXJzdFBhcnR9XFxcXCR7cGF0aC5zbGljZShsYXN0LCBqKX1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdEVuZCA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByb290RW5kID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1dpbmRvd3NEZXZpY2VSb290KGNvZGUpICYmIHBhdGguY2hhckNvZGVBdCgxKSA9PT0gQ0hBUl9DT0xPTikge1xyXG4gICAgICAgICAgICAvLyBQb3NzaWJsZSBkZXZpY2Ugcm9vdFxyXG4gICAgICAgICAgICBkZXZpY2UgPSBwYXRoLnNsaWNlKDAsIDIpO1xyXG4gICAgICAgICAgICByb290RW5kID0gMjtcclxuICAgICAgICAgICAgaWYgKGxlbiA+IDIgJiYgaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdCgyKSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRyZWF0IHNlcGFyYXRvciBmb2xsb3dpbmcgZHJpdmUgbmFtZSBhcyBhbiBhYnNvbHV0ZSBwYXRoXHJcbiAgICAgICAgICAgICAgICAvLyBpbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgIGlzQWJzb2x1dGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcm9vdEVuZCA9IDM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRhaWwgPSByb290RW5kIDwgbGVuID9cclxuICAgICAgICAgICAgbm9ybWFsaXplU3RyaW5nKHBhdGguc2xpY2Uocm9vdEVuZCksICFpc0Fic29sdXRlLCAnXFxcXCcsIGlzUGF0aFNlcGFyYXRvcikgOlxyXG4gICAgICAgICAgICAnJztcclxuICAgICAgICBpZiAodGFpbC5sZW5ndGggPT09IDAgJiYgIWlzQWJzb2x1dGUpIHtcclxuICAgICAgICAgICAgdGFpbCA9ICcuJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRhaWwubGVuZ3RoID4gMCAmJiBpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KGxlbiAtIDEpKSkge1xyXG4gICAgICAgICAgICB0YWlsICs9ICdcXFxcJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRldmljZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0Fic29sdXRlID8gYFxcXFwke3RhaWx9YCA6IHRhaWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpc0Fic29sdXRlID8gYCR7ZGV2aWNlfVxcXFwke3RhaWx9YCA6IGAke2RldmljZX0ke3RhaWx9YDtcclxuICAgIH0sXHJcbiAgICBpc0Fic29sdXRlKHBhdGgpIHtcclxuICAgICAgICB2YWxpZGF0ZVN0cmluZyhwYXRoLCAncGF0aCcpO1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IHBhdGgubGVuZ3RoO1xyXG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KDApO1xyXG4gICAgICAgIHJldHVybiBpc1BhdGhTZXBhcmF0b3IoY29kZSkgfHxcclxuICAgICAgICAgICAgLy8gUG9zc2libGUgZGV2aWNlIHJvb3RcclxuICAgICAgICAgICAgbGVuID4gMiAmJlxyXG4gICAgICAgICAgICAgICAgaXNXaW5kb3dzRGV2aWNlUm9vdChjb2RlKSAmJlxyXG4gICAgICAgICAgICAgICAgcGF0aC5jaGFyQ29kZUF0KDEpID09PSBDSEFSX0NPTE9OICYmXHJcbiAgICAgICAgICAgICAgICBpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KDIpKTtcclxuICAgIH0sXHJcbiAgICBqb2luKC4uLnBhdGhzKSB7XHJcbiAgICAgICAgaWYgKHBhdGhzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJy4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgam9pbmVkO1xyXG4gICAgICAgIGxldCBmaXJzdFBhcnQ7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCBhcmcgPSBwYXRoc1tpXTtcclxuICAgICAgICAgICAgdmFsaWRhdGVTdHJpbmcoYXJnLCAncGF0aCcpO1xyXG4gICAgICAgICAgICBpZiAoYXJnLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChqb2luZWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpvaW5lZCA9IGZpcnN0UGFydCA9IGFyZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGpvaW5lZCArPSBgXFxcXCR7YXJnfWA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGpvaW5lZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnLic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBqb2luZWQgcGF0aCBkb2Vzbid0IHN0YXJ0IHdpdGggdHdvIHNsYXNoZXMsIGJlY2F1c2VcclxuICAgICAgICAvLyBub3JtYWxpemUoKSB3aWxsIG1pc3Rha2UgaXQgZm9yIGFuIFVOQyBwYXRoIHRoZW4uXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBUaGlzIHN0ZXAgaXMgc2tpcHBlZCB3aGVuIGl0IGlzIHZlcnkgY2xlYXIgdGhhdCB0aGUgdXNlciBhY3R1YWxseVxyXG4gICAgICAgIC8vIGludGVuZGVkIHRvIHBvaW50IGF0IGFuIFVOQyBwYXRoLiBUaGlzIGlzIGFzc3VtZWQgd2hlbiB0aGUgZmlyc3RcclxuICAgICAgICAvLyBub24tZW1wdHkgc3RyaW5nIGFyZ3VtZW50cyBzdGFydHMgd2l0aCBleGFjdGx5IHR3byBzbGFzaGVzIGZvbGxvd2VkIGJ5XHJcbiAgICAgICAgLy8gYXQgbGVhc3Qgb25lIG1vcmUgbm9uLXNsYXNoIGNoYXJhY3Rlci5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIE5vdGUgdGhhdCBmb3Igbm9ybWFsaXplKCkgdG8gdHJlYXQgYSBwYXRoIGFzIGFuIFVOQyBwYXRoIGl0IG5lZWRzIHRvXHJcbiAgICAgICAgLy8gaGF2ZSBhdCBsZWFzdCAyIGNvbXBvbmVudHMsIHNvIHdlIGRvbid0IGZpbHRlciBmb3IgdGhhdCBoZXJlLlxyXG4gICAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB0aGUgdXNlciBjYW4gdXNlIGpvaW4gdG8gY29uc3RydWN0IFVOQyBwYXRocyBmcm9tXHJcbiAgICAgICAgLy8gYSBzZXJ2ZXIgbmFtZSBhbmQgYSBzaGFyZSBuYW1lOyBmb3IgZXhhbXBsZTpcclxuICAgICAgICAvLyAgIHBhdGguam9pbignLy9zZXJ2ZXInLCAnc2hhcmUnKSAtPiAnXFxcXFxcXFxzZXJ2ZXJcXFxcc2hhcmVcXFxcJylcclxuICAgICAgICBsZXQgbmVlZHNSZXBsYWNlID0gdHJ1ZTtcclxuICAgICAgICBsZXQgc2xhc2hDb3VudCA9IDA7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmaXJzdFBhcnQgPT09ICdzdHJpbmcnICYmIGlzUGF0aFNlcGFyYXRvcihmaXJzdFBhcnQuY2hhckNvZGVBdCgwKSkpIHtcclxuICAgICAgICAgICAgKytzbGFzaENvdW50O1xyXG4gICAgICAgICAgICBjb25zdCBmaXJzdExlbiA9IGZpcnN0UGFydC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmIChmaXJzdExlbiA+IDEgJiYgaXNQYXRoU2VwYXJhdG9yKGZpcnN0UGFydC5jaGFyQ29kZUF0KDEpKSkge1xyXG4gICAgICAgICAgICAgICAgKytzbGFzaENvdW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0TGVuID4gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IoZmlyc3RQYXJ0LmNoYXJDb2RlQXQoMikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsrc2xhc2hDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG1hdGNoZWQgYSBVTkMgcGF0aCBpbiB0aGUgZmlyc3QgcGFydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZWVkc1JlcGxhY2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5lZWRzUmVwbGFjZSkge1xyXG4gICAgICAgICAgICAvLyBGaW5kIGFueSBtb3JlIGNvbnNlY3V0aXZlIHNsYXNoZXMgd2UgbmVlZCB0byByZXBsYWNlXHJcbiAgICAgICAgICAgIHdoaWxlIChzbGFzaENvdW50IDwgam9pbmVkLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgaXNQYXRoU2VwYXJhdG9yKGpvaW5lZC5jaGFyQ29kZUF0KHNsYXNoQ291bnQpKSkge1xyXG4gICAgICAgICAgICAgICAgc2xhc2hDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIHNsYXNoZXMgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgIGlmIChzbGFzaENvdW50ID49IDIpIHtcclxuICAgICAgICAgICAgICAgIGpvaW5lZCA9IGBcXFxcJHtqb2luZWQuc2xpY2Uoc2xhc2hDb3VudCl9YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd2luMzIubm9ybWFsaXplKGpvaW5lZCk7XHJcbiAgICB9LFxyXG4gICAgLy8gSXQgd2lsbCBzb2x2ZSB0aGUgcmVsYXRpdmUgcGF0aCBmcm9tIGBmcm9tYCB0byBgdG9gLCBmb3IgaW5zdGFuY2U6XHJcbiAgICAvLyAgZnJvbSA9ICdDOlxcXFxvcmFuZGVhXFxcXHRlc3RcXFxcYWFhJ1xyXG4gICAgLy8gIHRvID0gJ0M6XFxcXG9yYW5kZWFcXFxcaW1wbFxcXFxiYmInXHJcbiAgICAvLyBUaGUgb3V0cHV0IG9mIHRoZSBmdW5jdGlvbiBzaG91bGQgYmU6ICcuLlxcXFwuLlxcXFxpbXBsXFxcXGJiYidcclxuICAgIHJlbGF0aXZlKGZyb20sIHRvKSB7XHJcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcoZnJvbSwgJ2Zyb20nKTtcclxuICAgICAgICB2YWxpZGF0ZVN0cmluZyh0bywgJ3RvJyk7XHJcbiAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZnJvbU9yaWcgPSB3aW4zMi5yZXNvbHZlKGZyb20pO1xyXG4gICAgICAgIGNvbnN0IHRvT3JpZyA9IHdpbjMyLnJlc29sdmUodG8pO1xyXG4gICAgICAgIGlmIChmcm9tT3JpZyA9PT0gdG9PcmlnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZnJvbSA9IGZyb21PcmlnLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgdG8gPSB0b09yaWcudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAoZnJvbSA9PT0gdG8pIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUcmltIGFueSBsZWFkaW5nIGJhY2tzbGFzaGVzXHJcbiAgICAgICAgbGV0IGZyb21TdGFydCA9IDA7XHJcbiAgICAgICAgd2hpbGUgKGZyb21TdGFydCA8IGZyb20ubGVuZ3RoICYmXHJcbiAgICAgICAgICAgIGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQpID09PSBDSEFSX0JBQ0tXQVJEX1NMQVNIKSB7XHJcbiAgICAgICAgICAgIGZyb21TdGFydCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUcmltIHRyYWlsaW5nIGJhY2tzbGFzaGVzIChhcHBsaWNhYmxlIHRvIFVOQyBwYXRocyBvbmx5KVxyXG4gICAgICAgIGxldCBmcm9tRW5kID0gZnJvbS5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGZyb21FbmQgLSAxID4gZnJvbVN0YXJ0ICYmXHJcbiAgICAgICAgICAgIGZyb20uY2hhckNvZGVBdChmcm9tRW5kIC0gMSkgPT09IENIQVJfQkFDS1dBUkRfU0xBU0gpIHtcclxuICAgICAgICAgICAgZnJvbUVuZC0tO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmcm9tTGVuID0gZnJvbUVuZCAtIGZyb21TdGFydDtcclxuICAgICAgICAvLyBUcmltIGFueSBsZWFkaW5nIGJhY2tzbGFzaGVzXHJcbiAgICAgICAgbGV0IHRvU3RhcnQgPSAwO1xyXG4gICAgICAgIHdoaWxlICh0b1N0YXJ0IDwgdG8ubGVuZ3RoICYmXHJcbiAgICAgICAgICAgIHRvLmNoYXJDb2RlQXQodG9TdGFydCkgPT09IENIQVJfQkFDS1dBUkRfU0xBU0gpIHtcclxuICAgICAgICAgICAgdG9TdGFydCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUcmltIHRyYWlsaW5nIGJhY2tzbGFzaGVzIChhcHBsaWNhYmxlIHRvIFVOQyBwYXRocyBvbmx5KVxyXG4gICAgICAgIGxldCB0b0VuZCA9IHRvLmxlbmd0aDtcclxuICAgICAgICB3aGlsZSAodG9FbmQgLSAxID4gdG9TdGFydCAmJlxyXG4gICAgICAgICAgICB0by5jaGFyQ29kZUF0KHRvRW5kIC0gMSkgPT09IENIQVJfQkFDS1dBUkRfU0xBU0gpIHtcclxuICAgICAgICAgICAgdG9FbmQtLTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdG9MZW4gPSB0b0VuZCAtIHRvU3RhcnQ7XHJcbiAgICAgICAgLy8gQ29tcGFyZSBwYXRocyB0byBmaW5kIHRoZSBsb25nZXN0IGNvbW1vbiBwYXRoIGZyb20gcm9vdFxyXG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGZyb21MZW4gPCB0b0xlbiA/IGZyb21MZW4gOiB0b0xlbjtcclxuICAgICAgICBsZXQgbGFzdENvbW1vblNlcCA9IC0xO1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZyb21Db2RlID0gZnJvbS5jaGFyQ29kZUF0KGZyb21TdGFydCArIGkpO1xyXG4gICAgICAgICAgICBpZiAoZnJvbUNvZGUgIT09IHRvLmNoYXJDb2RlQXQodG9TdGFydCArIGkpKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChmcm9tQ29kZSA9PT0gQ0hBUl9CQUNLV0FSRF9TTEFTSCkge1xyXG4gICAgICAgICAgICAgICAgbGFzdENvbW1vblNlcCA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gV2UgZm91bmQgYSBtaXNtYXRjaCBiZWZvcmUgdGhlIGZpcnN0IGNvbW1vbiBwYXRoIHNlcGFyYXRvciB3YXMgc2Vlbiwgc29cclxuICAgICAgICAvLyByZXR1cm4gdGhlIG9yaWdpbmFsIGB0b2AuXHJcbiAgICAgICAgaWYgKGkgIT09IGxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAobGFzdENvbW1vblNlcCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b09yaWc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0b0xlbiA+IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRvLmNoYXJDb2RlQXQodG9TdGFydCArIGkpID09PSBDSEFSX0JBQ0tXQVJEX1NMQVNIKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYGZyb21gIGlzIHRoZSBleGFjdCBiYXNlIHBhdGggZm9yIGB0b2AuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209J0M6XFxcXGZvb1xcXFxiYXInOyB0bz0nQzpcXFxcZm9vXFxcXGJhclxcXFxiYXonXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvT3JpZy5zbGljZSh0b1N0YXJ0ICsgaSArIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgZnJvbWAgaXMgdGhlIGRldmljZSByb290LlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPSdDOlxcXFwnOyB0bz0nQzpcXFxcZm9vJ1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b09yaWcuc2xpY2UodG9TdGFydCArIGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmcm9tTGVuID4gbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZnJvbS5jaGFyQ29kZUF0KGZyb21TdGFydCArIGkpID09PSBDSEFSX0JBQ0tXQVJEX1NMQVNIKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYHRvYCBpcyB0aGUgZXhhY3QgYmFzZSBwYXRoIGZvciBgZnJvbWAuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209J0M6XFxcXGZvb1xcXFxiYXInOyB0bz0nQzpcXFxcZm9vJ1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RDb21tb25TZXAgPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGdldCBoZXJlIGlmIGB0b2AgaXMgdGhlIGRldmljZSByb290LlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPSdDOlxcXFxmb29cXFxcYmFyJzsgdG89J0M6XFxcXCdcclxuICAgICAgICAgICAgICAgICAgICBsYXN0Q29tbW9uU2VwID0gMztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobGFzdENvbW1vblNlcCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxhc3RDb21tb25TZXAgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBvdXQgPSAnJztcclxuICAgICAgICAvLyBHZW5lcmF0ZSB0aGUgcmVsYXRpdmUgcGF0aCBiYXNlZCBvbiB0aGUgcGF0aCBkaWZmZXJlbmNlIGJldHdlZW4gYHRvYCBhbmRcclxuICAgICAgICAvLyBgZnJvbWBcclxuICAgICAgICBmb3IgKGkgPSBmcm9tU3RhcnQgKyBsYXN0Q29tbW9uU2VwICsgMTsgaSA8PSBmcm9tRW5kOyArK2kpIHtcclxuICAgICAgICAgICAgaWYgKGkgPT09IGZyb21FbmQgfHwgZnJvbS5jaGFyQ29kZUF0KGkpID09PSBDSEFSX0JBQ0tXQVJEX1NMQVNIKSB7XHJcbiAgICAgICAgICAgICAgICBvdXQgKz0gb3V0Lmxlbmd0aCA9PT0gMCA/ICcuLicgOiAnXFxcXC4uJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0b1N0YXJ0ICs9IGxhc3RDb21tb25TZXA7XHJcbiAgICAgICAgLy8gTGFzdGx5LCBhcHBlbmQgdGhlIHJlc3Qgb2YgdGhlIGRlc3RpbmF0aW9uIChgdG9gKSBwYXRoIHRoYXQgY29tZXMgYWZ0ZXJcclxuICAgICAgICAvLyB0aGUgY29tbW9uIHBhdGggcGFydHNcclxuICAgICAgICBpZiAob3V0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke291dH0ke3RvT3JpZy5zbGljZSh0b1N0YXJ0LCB0b0VuZCl9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRvT3JpZy5jaGFyQ29kZUF0KHRvU3RhcnQpID09PSBDSEFSX0JBQ0tXQVJEX1NMQVNIKSB7XHJcbiAgICAgICAgICAgICsrdG9TdGFydDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRvT3JpZy5zbGljZSh0b1N0YXJ0LCB0b0VuZCk7XHJcbiAgICB9LFxyXG4gICAgdG9OYW1lc3BhY2VkUGF0aChwYXRoKSB7XHJcbiAgICAgICAgLy8gTm90ZTogdGhpcyB3aWxsICpwcm9iYWJseSogdGhyb3cgc29tZXdoZXJlLlxyXG4gICAgICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc29sdmVkUGF0aCA9IHdpbjMyLnJlc29sdmUocGF0aCk7XHJcbiAgICAgICAgaWYgKHJlc29sdmVkUGF0aC5sZW5ndGggPD0gMikge1xyXG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlc29sdmVkUGF0aC5jaGFyQ29kZUF0KDApID09PSBDSEFSX0JBQ0tXQVJEX1NMQVNIKSB7XHJcbiAgICAgICAgICAgIC8vIFBvc3NpYmxlIFVOQyByb290XHJcbiAgICAgICAgICAgIGlmIChyZXNvbHZlZFBhdGguY2hhckNvZGVBdCgxKSA9PT0gQ0hBUl9CQUNLV0FSRF9TTEFTSCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29kZSA9IHJlc29sdmVkUGF0aC5jaGFyQ29kZUF0KDIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGUgIT09IENIQVJfUVVFU1RJT05fTUFSSyAmJiBjb2RlICE9PSBDSEFSX0RPVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoZWQgbm9uLWxvbmcgVU5DIHJvb3QsIGNvbnZlcnQgdGhlIHBhdGggdG8gYSBsb25nIFVOQyBwYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcXFxcXFxcXD9cXFxcVU5DXFxcXCR7cmVzb2x2ZWRQYXRoLnNsaWNlKDIpfWA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNXaW5kb3dzRGV2aWNlUm9vdChyZXNvbHZlZFBhdGguY2hhckNvZGVBdCgwKSkgJiZcclxuICAgICAgICAgICAgcmVzb2x2ZWRQYXRoLmNoYXJDb2RlQXQoMSkgPT09IENIQVJfQ09MT04gJiZcclxuICAgICAgICAgICAgcmVzb2x2ZWRQYXRoLmNoYXJDb2RlQXQoMikgPT09IENIQVJfQkFDS1dBUkRfU0xBU0gpIHtcclxuICAgICAgICAgICAgLy8gTWF0Y2hlZCBkZXZpY2Ugcm9vdCwgY29udmVydCB0aGUgcGF0aCB0byBhIGxvbmcgVU5DIHBhdGhcclxuICAgICAgICAgICAgcmV0dXJuIGBcXFxcXFxcXD9cXFxcJHtyZXNvbHZlZFBhdGh9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhdGg7XHJcbiAgICB9LFxyXG4gICAgZGlybmFtZShwYXRoKSB7XHJcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcocGF0aCwgJ3BhdGgnKTtcclxuICAgICAgICBjb25zdCBsZW4gPSBwYXRoLmxlbmd0aDtcclxuICAgICAgICBpZiAobGVuID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnLic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByb290RW5kID0gLTE7XHJcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XHJcbiAgICAgICAgY29uc3QgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcclxuICAgICAgICBpZiAobGVuID09PSAxKSB7XHJcbiAgICAgICAgICAgIC8vIGBwYXRoYCBjb250YWlucyBqdXN0IGEgcGF0aCBzZXBhcmF0b3IsIGV4aXQgZWFybHkgdG8gYXZvaWRcclxuICAgICAgICAgICAgLy8gdW5uZWNlc3Nhcnkgd29yayBvciBhIGRvdC5cclxuICAgICAgICAgICAgcmV0dXJuIGlzUGF0aFNlcGFyYXRvcihjb2RlKSA/IHBhdGggOiAnLic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRyeSB0byBtYXRjaCBhIHJvb3RcclxuICAgICAgICBpZiAoaXNQYXRoU2VwYXJhdG9yKGNvZGUpKSB7XHJcbiAgICAgICAgICAgIC8vIFBvc3NpYmxlIFVOQyByb290XHJcbiAgICAgICAgICAgIHJvb3RFbmQgPSBvZmZzZXQgPSAxO1xyXG4gICAgICAgICAgICBpZiAoaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdCgxKSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIE1hdGNoZWQgZG91YmxlIHBhdGggc2VwYXJhdG9yIGF0IGJlZ2lubmluZ1xyXG4gICAgICAgICAgICAgICAgbGV0IGogPSAyO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3QgPSBqO1xyXG4gICAgICAgICAgICAgICAgLy8gTWF0Y2ggMSBvciBtb3JlIG5vbi1wYXRoIHNlcGFyYXRvcnNcclxuICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgbGVuICYmICFpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KGopKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGorKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChqIDwgbGVuICYmIGogIT09IGxhc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaGVkIVxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3QgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoIDEgb3IgbW9yZSBwYXRoIHNlcGFyYXRvcnNcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaiA8IGxlbiAmJiBpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KGopKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChqIDwgbGVuICYmIGogIT09IGxhc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2hlZCFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdCA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoIDEgb3IgbW9yZSBub24tcGF0aCBzZXBhcmF0b3JzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgbGVuICYmICFpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KGopKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09PSBsZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG1hdGNoZWQgYSBVTkMgcm9vdCBvbmx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGF0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiAhPT0gbGFzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbWF0Y2hlZCBhIFVOQyByb290IHdpdGggbGVmdG92ZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPZmZzZXQgYnkgMSB0byBpbmNsdWRlIHRoZSBzZXBhcmF0b3IgYWZ0ZXIgdGhlIFVOQyByb290IHRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmVhdCBpdCBhcyBhIFwibm9ybWFsIHJvb3RcIiBvbiB0b3Agb2YgYSAoVU5DKSByb290XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290RW5kID0gb2Zmc2V0ID0gaiArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUG9zc2libGUgZGV2aWNlIHJvb3RcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNXaW5kb3dzRGV2aWNlUm9vdChjb2RlKSAmJiBwYXRoLmNoYXJDb2RlQXQoMSkgPT09IENIQVJfQ09MT04pIHtcclxuICAgICAgICAgICAgcm9vdEVuZCA9IGxlbiA+IDIgJiYgaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdCgyKSkgPyAzIDogMjtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gcm9vdEVuZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGVuZCA9IC0xO1xyXG4gICAgICAgIGxldCBtYXRjaGVkU2xhc2ggPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBsZW4gLSAxOyBpID49IG9mZnNldDsgLS1pKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KGkpKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmQgPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3JcclxuICAgICAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbmQgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGlmIChyb290RW5kID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcuJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbmQgPSByb290RW5kO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGF0aC5zbGljZSgwLCBlbmQpO1xyXG4gICAgfSxcclxuICAgIGJhc2VuYW1lKHBhdGgsIGV4dCkge1xyXG4gICAgICAgIGlmIChleHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB2YWxpZGF0ZVN0cmluZyhleHQsICdleHQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcocGF0aCwgJ3BhdGgnKTtcclxuICAgICAgICBsZXQgc3RhcnQgPSAwO1xyXG4gICAgICAgIGxldCBlbmQgPSAtMTtcclxuICAgICAgICBsZXQgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcclxuICAgICAgICBsZXQgaTtcclxuICAgICAgICAvLyBDaGVjayBmb3IgYSBkcml2ZSBsZXR0ZXIgcHJlZml4IHNvIGFzIG5vdCB0byBtaXN0YWtlIHRoZSBmb2xsb3dpbmdcclxuICAgICAgICAvLyBwYXRoIHNlcGFyYXRvciBhcyBhbiBleHRyYSBzZXBhcmF0b3IgYXQgdGhlIGVuZCBvZiB0aGUgcGF0aCB0aGF0IGNhbiBiZVxyXG4gICAgICAgIC8vIGRpc3JlZ2FyZGVkXHJcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID49IDIgJiZcclxuICAgICAgICAgICAgaXNXaW5kb3dzRGV2aWNlUm9vdChwYXRoLmNoYXJDb2RlQXQoMCkpICYmXHJcbiAgICAgICAgICAgIHBhdGguY2hhckNvZGVBdCgxKSA9PT0gQ0hBUl9DT0xPTikge1xyXG4gICAgICAgICAgICBzdGFydCA9IDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChleHQgIT09IHVuZGVmaW5lZCAmJiBleHQubGVuZ3RoID4gMCAmJiBleHQubGVuZ3RoIDw9IHBhdGgubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmIChleHQgPT09IHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgZXh0SWR4ID0gZXh0Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIGxldCBmaXJzdE5vblNsYXNoRW5kID0gLTE7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSBzdGFydDsgLS1pKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUGF0aFNlcGFyYXRvcihjb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0Tm9uU2xhc2hFbmQgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yLCByZW1lbWJlciB0aGlzIGluZGV4IGluIGNhc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgbmVlZCBpdCBpZiB0aGUgZXh0ZW5zaW9uIGVuZHMgdXAgbm90IG1hdGNoaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdE5vblNsYXNoRW5kID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRJZHggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gbWF0Y2ggdGhlIGV4cGxpY2l0IGV4dGVuc2lvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gZXh0LmNoYXJDb2RlQXQoZXh0SWR4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0tZXh0SWR4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIGV4dGVuc2lvbiwgc28gbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyIHBhdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21wb25lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0ZW5zaW9uIGRvZXMgbm90IG1hdGNoLCBzbyBvdXIgcmVzdWx0IGlzIHRoZSBlbnRpcmUgcGF0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRJZHggPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGZpcnN0Tm9uU2xhc2hFbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0YXJ0ID09PSBlbmQpIHtcclxuICAgICAgICAgICAgICAgIGVuZCA9IGZpcnN0Tm9uU2xhc2hFbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZW5kID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgZW5kID0gcGF0aC5sZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHBhdGguc2xpY2Uoc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSBzdGFydDsgLS1pKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KGkpKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcclxuICAgICAgICAgICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGVuZCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yLCBtYXJrIHRoaXMgYXMgdGhlIGVuZCBvZiBvdXJcclxuICAgICAgICAgICAgICAgIC8vIHBhdGggY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGVuZCA9IGkgKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbmQgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhdGguc2xpY2Uoc3RhcnQsIGVuZCk7XHJcbiAgICB9LFxyXG4gICAgZXh0bmFtZShwYXRoKSB7XHJcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcocGF0aCwgJ3BhdGgnKTtcclxuICAgICAgICBsZXQgc3RhcnQgPSAwO1xyXG4gICAgICAgIGxldCBzdGFydERvdCA9IC0xO1xyXG4gICAgICAgIGxldCBzdGFydFBhcnQgPSAwO1xyXG4gICAgICAgIGxldCBlbmQgPSAtMTtcclxuICAgICAgICBsZXQgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcclxuICAgICAgICAvLyBUcmFjayB0aGUgc3RhdGUgb2YgY2hhcmFjdGVycyAoaWYgYW55KSB3ZSBzZWUgYmVmb3JlIG91ciBmaXJzdCBkb3QgYW5kXHJcbiAgICAgICAgLy8gYWZ0ZXIgYW55IHBhdGggc2VwYXJhdG9yIHdlIGZpbmRcclxuICAgICAgICBsZXQgcHJlRG90U3RhdGUgPSAwO1xyXG4gICAgICAgIC8vIENoZWNrIGZvciBhIGRyaXZlIGxldHRlciBwcmVmaXggc28gYXMgbm90IHRvIG1pc3Rha2UgdGhlIGZvbGxvd2luZ1xyXG4gICAgICAgIC8vIHBhdGggc2VwYXJhdG9yIGFzIGFuIGV4dHJhIHNlcGFyYXRvciBhdCB0aGUgZW5kIG9mIHRoZSBwYXRoIHRoYXQgY2FuIGJlXHJcbiAgICAgICAgLy8gZGlzcmVnYXJkZWRcclxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPj0gMiAmJlxyXG4gICAgICAgICAgICBwYXRoLmNoYXJDb2RlQXQoMSkgPT09IENIQVJfQ09MT04gJiZcclxuICAgICAgICAgICAgaXNXaW5kb3dzRGV2aWNlUm9vdChwYXRoLmNoYXJDb2RlQXQoMCkpKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnRQYXJ0ID0gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSBzdGFydDsgLS1pKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IoY29kZSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXHJcbiAgICAgICAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcclxuICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRQYXJ0ID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZW5kID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91clxyXG4gICAgICAgICAgICAgICAgLy8gZXh0ZW5zaW9uXHJcbiAgICAgICAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGVuZCA9IGkgKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb2RlID09PSBDSEFSX0RPVCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBvdXIgZmlyc3QgZG90LCBtYXJrIGl0IGFzIHRoZSBzdGFydCBvZiBvdXIgZXh0ZW5zaW9uXHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnREb3QgPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJlRG90U3RhdGUgIT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVEb3RTdGF0ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhcnREb3QgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBzYXcgYSBub24tZG90IGFuZCBub24tcGF0aCBzZXBhcmF0b3IgYmVmb3JlIG91ciBkb3QsIHNvIHdlIHNob3VsZFxyXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBhIGdvb2QgY2hhbmNlIGF0IGhhdmluZyBhIG5vbi1lbXB0eSBleHRlbnNpb25cclxuICAgICAgICAgICAgICAgIHByZURvdFN0YXRlID0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0YXJ0RG90ID09PSAtMSB8fFxyXG4gICAgICAgICAgICBlbmQgPT09IC0xIHx8XHJcbiAgICAgICAgICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgY2hhcmFjdGVyIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgZG90XHJcbiAgICAgICAgICAgIHByZURvdFN0YXRlID09PSAwIHx8XHJcbiAgICAgICAgICAgIC8vIFRoZSAocmlnaHQtbW9zdCkgdHJpbW1lZCBwYXRoIGNvbXBvbmVudCBpcyBleGFjdGx5ICcuLidcclxuICAgICAgICAgICAgKHByZURvdFN0YXRlID09PSAxICYmXHJcbiAgICAgICAgICAgICAgICBzdGFydERvdCA9PT0gZW5kIC0gMSAmJlxyXG4gICAgICAgICAgICAgICAgc3RhcnREb3QgPT09IHN0YXJ0UGFydCArIDEpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhdGguc2xpY2Uoc3RhcnREb3QsIGVuZCk7XHJcbiAgICB9LFxyXG4gICAgZm9ybWF0OiBfZm9ybWF0LmJpbmQobnVsbCwgJ1xcXFwnKSxcclxuICAgIHBhcnNlKHBhdGgpIHtcclxuICAgICAgICB2YWxpZGF0ZVN0cmluZyhwYXRoLCAncGF0aCcpO1xyXG4gICAgICAgIGNvbnN0IHJldCA9IHsgcm9vdDogJycsIGRpcjogJycsIGJhc2U6ICcnLCBleHQ6ICcnLCBuYW1lOiAnJyB9O1xyXG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsZW4gPSBwYXRoLmxlbmd0aDtcclxuICAgICAgICBsZXQgcm9vdEVuZCA9IDA7XHJcbiAgICAgICAgbGV0IGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoMCk7XHJcbiAgICAgICAgaWYgKGxlbiA9PT0gMSkge1xyXG4gICAgICAgICAgICBpZiAoaXNQYXRoU2VwYXJhdG9yKGNvZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBgcGF0aGAgY29udGFpbnMganVzdCBhIHBhdGggc2VwYXJhdG9yLCBleGl0IGVhcmx5IHRvIGF2b2lkXHJcbiAgICAgICAgICAgICAgICAvLyB1bm5lY2Vzc2FyeSB3b3JrXHJcbiAgICAgICAgICAgICAgICByZXQucm9vdCA9IHJldC5kaXIgPSBwYXRoO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXQuYmFzZSA9IHJldC5uYW1lID0gcGF0aDtcclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVHJ5IHRvIG1hdGNoIGEgcm9vdFxyXG4gICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IoY29kZSkpIHtcclxuICAgICAgICAgICAgLy8gUG9zc2libGUgVU5DIHJvb3RcclxuICAgICAgICAgICAgcm9vdEVuZCA9IDE7XHJcbiAgICAgICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KDEpKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTWF0Y2hlZCBkb3VibGUgcGF0aCBzZXBhcmF0b3IgYXQgYmVnaW5uaW5nXHJcbiAgICAgICAgICAgICAgICBsZXQgaiA9IDI7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGFzdCA9IGo7XHJcbiAgICAgICAgICAgICAgICAvLyBNYXRjaCAxIG9yIG1vcmUgbm9uLXBhdGggc2VwYXJhdG9yc1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGogPCBsZW4gJiYgIWlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoaikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaisrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGogPCBsZW4gJiYgaiAhPT0gbGFzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoZWQhXHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdCA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2ggMSBvciBtb3JlIHBhdGggc2VwYXJhdG9yc1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgbGVuICYmIGlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoaikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGorKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPCBsZW4gJiYgaiAhPT0gbGFzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaGVkIVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0ID0gajtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2ggMSBvciBtb3JlIG5vbi1wYXRoIHNlcGFyYXRvcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGogPCBsZW4gJiYgIWlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoaikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPT09IGxlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbWF0Y2hlZCBhIFVOQyByb290IG9ubHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RFbmQgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGogIT09IGxhc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG1hdGNoZWQgYSBVTkMgcm9vdCB3aXRoIGxlZnRvdmVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdEVuZCA9IGogKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzV2luZG93c0RldmljZVJvb3QoY29kZSkgJiYgcGF0aC5jaGFyQ29kZUF0KDEpID09PSBDSEFSX0NPTE9OKSB7XHJcbiAgICAgICAgICAgIC8vIFBvc3NpYmxlIGRldmljZSByb290XHJcbiAgICAgICAgICAgIGlmIChsZW4gPD0gMikge1xyXG4gICAgICAgICAgICAgICAgLy8gYHBhdGhgIGNvbnRhaW5zIGp1c3QgYSBkcml2ZSByb290LCBleGl0IGVhcmx5IHRvIGF2b2lkXHJcbiAgICAgICAgICAgICAgICAvLyB1bm5lY2Vzc2FyeSB3b3JrXHJcbiAgICAgICAgICAgICAgICByZXQucm9vdCA9IHJldC5kaXIgPSBwYXRoO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByb290RW5kID0gMjtcclxuICAgICAgICAgICAgaWYgKGlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoMikpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVuID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYHBhdGhgIGNvbnRhaW5zIGp1c3QgYSBkcml2ZSByb290LCBleGl0IGVhcmx5IHRvIGF2b2lkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdW5uZWNlc3Nhcnkgd29ya1xyXG4gICAgICAgICAgICAgICAgICAgIHJldC5yb290ID0gcmV0LmRpciA9IHBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJvb3RFbmQgPSAzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyb290RW5kID4gMCkge1xyXG4gICAgICAgICAgICByZXQucm9vdCA9IHBhdGguc2xpY2UoMCwgcm9vdEVuZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzdGFydERvdCA9IC0xO1xyXG4gICAgICAgIGxldCBzdGFydFBhcnQgPSByb290RW5kO1xyXG4gICAgICAgIGxldCBlbmQgPSAtMTtcclxuICAgICAgICBsZXQgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcclxuICAgICAgICBsZXQgaSA9IHBhdGgubGVuZ3RoIC0gMTtcclxuICAgICAgICAvLyBUcmFjayB0aGUgc3RhdGUgb2YgY2hhcmFjdGVycyAoaWYgYW55KSB3ZSBzZWUgYmVmb3JlIG91ciBmaXJzdCBkb3QgYW5kXHJcbiAgICAgICAgLy8gYWZ0ZXIgYW55IHBhdGggc2VwYXJhdG9yIHdlIGZpbmRcclxuICAgICAgICBsZXQgcHJlRG90U3RhdGUgPSAwO1xyXG4gICAgICAgIC8vIEdldCBub24tZGlyIGluZm9cclxuICAgICAgICBmb3IgKDsgaSA+PSByb290RW5kOyAtLWkpIHtcclxuICAgICAgICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcclxuICAgICAgICAgICAgaWYgKGlzUGF0aFNlcGFyYXRvcihjb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcclxuICAgICAgICAgICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFBhcnQgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbmQgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXHJcbiAgICAgICAgICAgICAgICAvLyBleHRlbnNpb25cclxuICAgICAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZW5kID0gaSArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvZGUgPT09IENIQVJfRE9UKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cclxuICAgICAgICAgICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydERvdCA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcmVEb3RTdGF0ZSAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZURvdFN0YXRlID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgYW5kIG5vbi1wYXRoIHNlcGFyYXRvciBiZWZvcmUgb3VyIGRvdCwgc28gd2Ugc2hvdWxkXHJcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGEgZ29vZCBjaGFuY2UgYXQgaGF2aW5nIGEgbm9uLWVtcHR5IGV4dGVuc2lvblxyXG4gICAgICAgICAgICAgICAgcHJlRG90U3RhdGUgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZW5kICE9PSAtMSkge1xyXG4gICAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xIHx8XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBzYXcgYSBub24tZG90IGNoYXJhY3RlciBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGRvdFxyXG4gICAgICAgICAgICAgICAgcHJlRG90U3RhdGUgPT09IDAgfHxcclxuICAgICAgICAgICAgICAgIC8vIFRoZSAocmlnaHQtbW9zdCkgdHJpbW1lZCBwYXRoIGNvbXBvbmVudCBpcyBleGFjdGx5ICcuLidcclxuICAgICAgICAgICAgICAgIChwcmVEb3RTdGF0ZSA9PT0gMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RG90ID09PSBlbmQgLSAxICYmXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnREb3QgPT09IHN0YXJ0UGFydCArIDEpKSB7XHJcbiAgICAgICAgICAgICAgICByZXQuYmFzZSA9IHJldC5uYW1lID0gcGF0aC5zbGljZShzdGFydFBhcnQsIGVuZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXQubmFtZSA9IHBhdGguc2xpY2Uoc3RhcnRQYXJ0LCBzdGFydERvdCk7XHJcbiAgICAgICAgICAgICAgICByZXQuYmFzZSA9IHBhdGguc2xpY2Uoc3RhcnRQYXJ0LCBlbmQpO1xyXG4gICAgICAgICAgICAgICAgcmV0LmV4dCA9IHBhdGguc2xpY2Uoc3RhcnREb3QsIGVuZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgdGhlIGRpcmVjdG9yeSBpcyB0aGUgcm9vdCwgdXNlIHRoZSBlbnRpcmUgcm9vdCBhcyB0aGUgYGRpcmAgaW5jbHVkaW5nXHJcbiAgICAgICAgLy8gdGhlIHRyYWlsaW5nIHNsYXNoIGlmIGFueSAoYEM6XFxhYmNgIC0+IGBDOlxcYCkuIE90aGVyd2lzZSwgc3RyaXAgb3V0IHRoZVxyXG4gICAgICAgIC8vIHRyYWlsaW5nIHNsYXNoIChgQzpcXGFiY1xcZGVmYCAtPiBgQzpcXGFiY2ApLlxyXG4gICAgICAgIGlmIChzdGFydFBhcnQgPiAwICYmIHN0YXJ0UGFydCAhPT0gcm9vdEVuZCkge1xyXG4gICAgICAgICAgICByZXQuZGlyID0gcGF0aC5zbGljZSgwLCBzdGFydFBhcnQgLSAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldC5kaXIgPSByZXQucm9vdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH0sXHJcbiAgICBzZXA6ICdcXFxcJyxcclxuICAgIGRlbGltaXRlcjogJzsnLFxyXG4gICAgd2luMzI6IG51bGwsXHJcbiAgICBwb3NpeDogbnVsbFxyXG59O1xyXG5leHBvcnQgY29uc3QgcG9zaXggPSB7XHJcbiAgICAvLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXHJcbiAgICByZXNvbHZlKC4uLnBhdGhTZWdtZW50cykge1xyXG4gICAgICAgIGxldCByZXNvbHZlZFBhdGggPSAnJztcclxuICAgICAgICBsZXQgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBwYXRoU2VnbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBpID49IDAgPyBwYXRoU2VnbWVudHNbaV0gOiBwcm9jZXNzLmN3ZCgpO1xyXG4gICAgICAgICAgICB2YWxpZGF0ZVN0cmluZyhwYXRoLCAncGF0aCcpO1xyXG4gICAgICAgICAgICAvLyBTa2lwIGVtcHR5IGVudHJpZXNcclxuICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNvbHZlZFBhdGggPSBgJHtwYXRofS8ke3Jlc29sdmVkUGF0aH1gO1xyXG4gICAgICAgICAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQ29kZUF0KDApID09PSBDSEFSX0ZPUldBUkRfU0xBU0g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcclxuICAgICAgICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcclxuICAgICAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcclxuICAgICAgICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVTdHJpbmcocmVzb2x2ZWRQYXRoLCAhcmVzb2x2ZWRBYnNvbHV0ZSwgJy8nLCBpc1Bvc2l4UGF0aFNlcGFyYXRvcik7XHJcbiAgICAgICAgaWYgKHJlc29sdmVkQWJzb2x1dGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAvJHtyZXNvbHZlZFBhdGh9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkUGF0aC5sZW5ndGggPiAwID8gcmVzb2x2ZWRQYXRoIDogJy4nO1xyXG4gICAgfSxcclxuICAgIG5vcm1hbGl6ZShwYXRoKSB7XHJcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcocGF0aCwgJ3BhdGgnKTtcclxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICcuJztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaXNBYnNvbHV0ZSA9IHBhdGguY2hhckNvZGVBdCgwKSA9PT0gQ0hBUl9GT1JXQVJEX1NMQVNIO1xyXG4gICAgICAgIGNvbnN0IHRyYWlsaW5nU2VwYXJhdG9yID0gcGF0aC5jaGFyQ29kZUF0KHBhdGgubGVuZ3RoIC0gMSkgPT09IENIQVJfRk9SV0FSRF9TTEFTSDtcclxuICAgICAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcclxuICAgICAgICBwYXRoID0gbm9ybWFsaXplU3RyaW5nKHBhdGgsICFpc0Fic29sdXRlLCAnLycsIGlzUG9zaXhQYXRoU2VwYXJhdG9yKTtcclxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgaWYgKGlzQWJzb2x1dGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnLyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRyYWlsaW5nU2VwYXJhdG9yID8gJy4vJyA6ICcuJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRyYWlsaW5nU2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgIHBhdGggKz0gJy8nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXNBYnNvbHV0ZSA/IGAvJHtwYXRofWAgOiBwYXRoO1xyXG4gICAgfSxcclxuICAgIGlzQWJzb2x1dGUocGF0aCkge1xyXG4gICAgICAgIHZhbGlkYXRlU3RyaW5nKHBhdGgsICdwYXRoJyk7XHJcbiAgICAgICAgcmV0dXJuIHBhdGgubGVuZ3RoID4gMCAmJiBwYXRoLmNoYXJDb2RlQXQoMCkgPT09IENIQVJfRk9SV0FSRF9TTEFTSDtcclxuICAgIH0sXHJcbiAgICBqb2luKC4uLnBhdGhzKSB7XHJcbiAgICAgICAgaWYgKHBhdGhzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJy4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgam9pbmVkO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgYXJnID0gcGF0aHNbaV07XHJcbiAgICAgICAgICAgIHZhbGlkYXRlU3RyaW5nKGFyZywgJ3BhdGgnKTtcclxuICAgICAgICAgICAgaWYgKGFyZy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoam9pbmVkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBqb2luZWQgPSBhcmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBqb2luZWQgKz0gYC8ke2FyZ31gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChqb2luZWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJy4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcG9zaXgubm9ybWFsaXplKGpvaW5lZCk7XHJcbiAgICB9LFxyXG4gICAgcmVsYXRpdmUoZnJvbSwgdG8pIHtcclxuICAgICAgICB2YWxpZGF0ZVN0cmluZyhmcm9tLCAnZnJvbScpO1xyXG4gICAgICAgIHZhbGlkYXRlU3RyaW5nKHRvLCAndG8nKTtcclxuICAgICAgICBpZiAoZnJvbSA9PT0gdG8pIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUcmltIGxlYWRpbmcgZm9yd2FyZCBzbGFzaGVzLlxyXG4gICAgICAgIGZyb20gPSBwb3NpeC5yZXNvbHZlKGZyb20pO1xyXG4gICAgICAgIHRvID0gcG9zaXgucmVzb2x2ZSh0byk7XHJcbiAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZnJvbVN0YXJ0ID0gMTtcclxuICAgICAgICBjb25zdCBmcm9tRW5kID0gZnJvbS5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgZnJvbUxlbiA9IGZyb21FbmQgLSBmcm9tU3RhcnQ7XHJcbiAgICAgICAgY29uc3QgdG9TdGFydCA9IDE7XHJcbiAgICAgICAgY29uc3QgdG9MZW4gPSB0by5sZW5ndGggLSB0b1N0YXJ0O1xyXG4gICAgICAgIC8vIENvbXBhcmUgcGF0aHMgdG8gZmluZCB0aGUgbG9uZ2VzdCBjb21tb24gcGF0aCBmcm9tIHJvb3RcclxuICAgICAgICBjb25zdCBsZW5ndGggPSAoZnJvbUxlbiA8IHRvTGVuID8gZnJvbUxlbiA6IHRvTGVuKTtcclxuICAgICAgICBsZXQgbGFzdENvbW1vblNlcCA9IC0xO1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZyb21Db2RlID0gZnJvbS5jaGFyQ29kZUF0KGZyb21TdGFydCArIGkpO1xyXG4gICAgICAgICAgICBpZiAoZnJvbUNvZGUgIT09IHRvLmNoYXJDb2RlQXQodG9TdGFydCArIGkpKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChmcm9tQ29kZSA9PT0gQ0hBUl9GT1JXQVJEX1NMQVNIKSB7XHJcbiAgICAgICAgICAgICAgICBsYXN0Q29tbW9uU2VwID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaSA9PT0gbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmICh0b0xlbiA+IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRvLmNoYXJDb2RlQXQodG9TdGFydCArIGkpID09PSBDSEFSX0ZPUldBUkRfU0xBU0gpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgZnJvbWAgaXMgdGhlIGV4YWN0IGJhc2UgcGF0aCBmb3IgYHRvYC5cclxuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgZXhhbXBsZTogZnJvbT0nL2Zvby9iYXInOyB0bz0nL2Zvby9iYXIvYmF6J1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0by5zbGljZSh0b1N0YXJ0ICsgaSArIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgZnJvbWAgaXMgdGhlIHJvb3RcclxuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgZXhhbXBsZTogZnJvbT0nLyc7IHRvPScvZm9vJ1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0by5zbGljZSh0b1N0YXJ0ICsgaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZnJvbUxlbiA+IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQgKyBpKSA9PT0gQ0hBUl9GT1JXQVJEX1NMQVNIKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYHRvYCBpcyB0aGUgZXhhY3QgYmFzZSBwYXRoIGZvciBgZnJvbWAuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209Jy9mb28vYmFyL2Jheic7IHRvPScvZm9vL2JhcidcclxuICAgICAgICAgICAgICAgICAgICBsYXN0Q29tbW9uU2VwID0gaTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgdG9gIGlzIHRoZSByb290LlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvZm9vL2Jhcic7IHRvPScvJ1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RDb21tb25TZXAgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBvdXQgPSAnJztcclxuICAgICAgICAvLyBHZW5lcmF0ZSB0aGUgcmVsYXRpdmUgcGF0aCBiYXNlZCBvbiB0aGUgcGF0aCBkaWZmZXJlbmNlIGJldHdlZW4gYHRvYFxyXG4gICAgICAgIC8vIGFuZCBgZnJvbWAuXHJcbiAgICAgICAgZm9yIChpID0gZnJvbVN0YXJ0ICsgbGFzdENvbW1vblNlcCArIDE7IGkgPD0gZnJvbUVuZDsgKytpKSB7XHJcbiAgICAgICAgICAgIGlmIChpID09PSBmcm9tRW5kIHx8IGZyb20uY2hhckNvZGVBdChpKSA9PT0gQ0hBUl9GT1JXQVJEX1NMQVNIKSB7XHJcbiAgICAgICAgICAgICAgICBvdXQgKz0gb3V0Lmxlbmd0aCA9PT0gMCA/ICcuLicgOiAnLy4uJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMYXN0bHksIGFwcGVuZCB0aGUgcmVzdCBvZiB0aGUgZGVzdGluYXRpb24gKGB0b2ApIHBhdGggdGhhdCBjb21lcyBhZnRlclxyXG4gICAgICAgIC8vIHRoZSBjb21tb24gcGF0aCBwYXJ0cy5cclxuICAgICAgICByZXR1cm4gYCR7b3V0fSR7dG8uc2xpY2UodG9TdGFydCArIGxhc3RDb21tb25TZXApfWA7XHJcbiAgICB9LFxyXG4gICAgdG9OYW1lc3BhY2VkUGF0aChwYXRoKSB7XHJcbiAgICAgICAgLy8gTm9uLW9wIG9uIHBvc2l4IHN5c3RlbXNcclxuICAgICAgICByZXR1cm4gcGF0aDtcclxuICAgIH0sXHJcbiAgICBkaXJuYW1lKHBhdGgpIHtcclxuICAgICAgICB2YWxpZGF0ZVN0cmluZyhwYXRoLCAncGF0aCcpO1xyXG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJy4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBoYXNSb290ID0gcGF0aC5jaGFyQ29kZUF0KDApID09PSBDSEFSX0ZPUldBUkRfU0xBU0g7XHJcbiAgICAgICAgbGV0IGVuZCA9IC0xO1xyXG4gICAgICAgIGxldCBtYXRjaGVkU2xhc2ggPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMTsgLS1pKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXRoLmNoYXJDb2RlQXQoaSkgPT09IENIQVJfRk9SV0FSRF9TTEFTSCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmQgPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3JcclxuICAgICAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbmQgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoYXNSb290ID8gJy8nIDogJy4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaGFzUm9vdCAmJiBlbmQgPT09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcvLyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIGVuZCk7XHJcbiAgICB9LFxyXG4gICAgYmFzZW5hbWUocGF0aCwgZXh0KSB7XHJcbiAgICAgICAgaWYgKGV4dCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRlU3RyaW5nKGV4dCwgJ2V4dCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YWxpZGF0ZVN0cmluZyhwYXRoLCAncGF0aCcpO1xyXG4gICAgICAgIGxldCBzdGFydCA9IDA7XHJcbiAgICAgICAgbGV0IGVuZCA9IC0xO1xyXG4gICAgICAgIGxldCBtYXRjaGVkU2xhc2ggPSB0cnVlO1xyXG4gICAgICAgIGxldCBpO1xyXG4gICAgICAgIGlmIChleHQgIT09IHVuZGVmaW5lZCAmJiBleHQubGVuZ3RoID4gMCAmJiBleHQubGVuZ3RoIDw9IHBhdGgubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmIChleHQgPT09IHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgZXh0SWR4ID0gZXh0Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIGxldCBmaXJzdE5vblNsYXNoRW5kID0gLTE7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gQ0hBUl9GT1JXQVJEX1NMQVNIKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3ROb25TbGFzaEVuZCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIHJlbWVtYmVyIHRoaXMgaW5kZXggaW4gY2FzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIGl0IGlmIHRoZSBleHRlbnNpb24gZW5kcyB1cCBub3QgbWF0Y2hpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0Tm9uU2xhc2hFbmQgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4dElkeCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBtYXRjaCB0aGUgZXhwbGljaXQgZXh0ZW5zaW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSBleHQuY2hhckNvZGVBdChleHRJZHgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoLS1leHRJZHggPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbWF0Y2hlZCB0aGUgZXh0ZW5zaW9uLCBzbyBtYXJrIHRoaXMgYXMgdGhlIGVuZCBvZiBvdXIgcGF0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRlbnNpb24gZG9lcyBub3QgbWF0Y2gsIHNvIG91ciByZXN1bHQgaXMgdGhlIGVudGlyZSBwYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21wb25lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dElkeCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gZmlyc3ROb25TbGFzaEVuZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RhcnQgPT09IGVuZCkge1xyXG4gICAgICAgICAgICAgICAgZW5kID0gZmlyc3ROb25TbGFzaEVuZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChlbmQgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBlbmQgPSBwYXRoLmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydCwgZW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xyXG4gICAgICAgICAgICBpZiAocGF0aC5jaGFyQ29kZUF0KGkpID09PSBDSEFSX0ZPUldBUkRfU0xBU0gpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXHJcbiAgICAgICAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcclxuICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChlbmQgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXHJcbiAgICAgICAgICAgICAgICAvLyBwYXRoIGNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBlbmQgPSBpICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZW5kID09PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0LCBlbmQpO1xyXG4gICAgfSxcclxuICAgIGV4dG5hbWUocGF0aCkge1xyXG4gICAgICAgIHZhbGlkYXRlU3RyaW5nKHBhdGgsICdwYXRoJyk7XHJcbiAgICAgICAgbGV0IHN0YXJ0RG90ID0gLTE7XHJcbiAgICAgICAgbGV0IHN0YXJ0UGFydCA9IDA7XHJcbiAgICAgICAgbGV0IGVuZCA9IC0xO1xyXG4gICAgICAgIGxldCBtYXRjaGVkU2xhc2ggPSB0cnVlO1xyXG4gICAgICAgIC8vIFRyYWNrIHRoZSBzdGF0ZSBvZiBjaGFyYWN0ZXJzIChpZiBhbnkpIHdlIHNlZSBiZWZvcmUgb3VyIGZpcnN0IGRvdCBhbmRcclxuICAgICAgICAvLyBhZnRlciBhbnkgcGF0aCBzZXBhcmF0b3Igd2UgZmluZFxyXG4gICAgICAgIGxldCBwcmVEb3RTdGF0ZSA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcclxuICAgICAgICAgICAgY29uc3QgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcclxuICAgICAgICAgICAgaWYgKGNvZGUgPT09IENIQVJfRk9SV0FSRF9TTEFTSCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcclxuICAgICAgICAgICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFBhcnQgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbmQgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXHJcbiAgICAgICAgICAgICAgICAvLyBleHRlbnNpb25cclxuICAgICAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZW5kID0gaSArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvZGUgPT09IENIQVJfRE9UKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cclxuICAgICAgICAgICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydERvdCA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcmVEb3RTdGF0ZSAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZURvdFN0YXRlID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgYW5kIG5vbi1wYXRoIHNlcGFyYXRvciBiZWZvcmUgb3VyIGRvdCwgc28gd2Ugc2hvdWxkXHJcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGEgZ29vZCBjaGFuY2UgYXQgaGF2aW5nIGEgbm9uLWVtcHR5IGV4dGVuc2lvblxyXG4gICAgICAgICAgICAgICAgcHJlRG90U3RhdGUgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xIHx8XHJcbiAgICAgICAgICAgIGVuZCA9PT0gLTEgfHxcclxuICAgICAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBjaGFyYWN0ZXIgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBkb3RcclxuICAgICAgICAgICAgcHJlRG90U3RhdGUgPT09IDAgfHxcclxuICAgICAgICAgICAgLy8gVGhlIChyaWdodC1tb3N0KSB0cmltbWVkIHBhdGggY29tcG9uZW50IGlzIGV4YWN0bHkgJy4uJ1xyXG4gICAgICAgICAgICAocHJlRG90U3RhdGUgPT09IDEgJiZcclxuICAgICAgICAgICAgICAgIHN0YXJ0RG90ID09PSBlbmQgLSAxICYmXHJcbiAgICAgICAgICAgICAgICBzdGFydERvdCA9PT0gc3RhcnRQYXJ0ICsgMSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydERvdCwgZW5kKTtcclxuICAgIH0sXHJcbiAgICBmb3JtYXQ6IF9mb3JtYXQuYmluZChudWxsLCAnLycpLFxyXG4gICAgcGFyc2UocGF0aCkge1xyXG4gICAgICAgIHZhbGlkYXRlU3RyaW5nKHBhdGgsICdwYXRoJyk7XHJcbiAgICAgICAgY29uc3QgcmV0ID0geyByb290OiAnJywgZGlyOiAnJywgYmFzZTogJycsIGV4dDogJycsIG5hbWU6ICcnIH07XHJcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGlzQWJzb2x1dGUgPSBwYXRoLmNoYXJDb2RlQXQoMCkgPT09IENIQVJfRk9SV0FSRF9TTEFTSDtcclxuICAgICAgICBsZXQgc3RhcnQ7XHJcbiAgICAgICAgaWYgKGlzQWJzb2x1dGUpIHtcclxuICAgICAgICAgICAgcmV0LnJvb3QgPSAnLyc7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHN0YXJ0RG90ID0gLTE7XHJcbiAgICAgICAgbGV0IHN0YXJ0UGFydCA9IDA7XHJcbiAgICAgICAgbGV0IGVuZCA9IC0xO1xyXG4gICAgICAgIGxldCBtYXRjaGVkU2xhc2ggPSB0cnVlO1xyXG4gICAgICAgIGxldCBpID0gcGF0aC5sZW5ndGggLSAxO1xyXG4gICAgICAgIC8vIFRyYWNrIHRoZSBzdGF0ZSBvZiBjaGFyYWN0ZXJzIChpZiBhbnkpIHdlIHNlZSBiZWZvcmUgb3VyIGZpcnN0IGRvdCBhbmRcclxuICAgICAgICAvLyBhZnRlciBhbnkgcGF0aCBzZXBhcmF0b3Igd2UgZmluZFxyXG4gICAgICAgIGxldCBwcmVEb3RTdGF0ZSA9IDA7XHJcbiAgICAgICAgLy8gR2V0IG5vbi1kaXIgaW5mb1xyXG4gICAgICAgIGZvciAoOyBpID49IHN0YXJ0OyAtLWkpIHtcclxuICAgICAgICAgICAgY29uc3QgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcclxuICAgICAgICAgICAgaWYgKGNvZGUgPT09IENIQVJfRk9SV0FSRF9TTEFTSCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcclxuICAgICAgICAgICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFBhcnQgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbmQgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXHJcbiAgICAgICAgICAgICAgICAvLyBleHRlbnNpb25cclxuICAgICAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZW5kID0gaSArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvZGUgPT09IENIQVJfRE9UKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cclxuICAgICAgICAgICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydERvdCA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcmVEb3RTdGF0ZSAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZURvdFN0YXRlID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgYW5kIG5vbi1wYXRoIHNlcGFyYXRvciBiZWZvcmUgb3VyIGRvdCwgc28gd2Ugc2hvdWxkXHJcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGEgZ29vZCBjaGFuY2UgYXQgaGF2aW5nIGEgbm9uLWVtcHR5IGV4dGVuc2lvblxyXG4gICAgICAgICAgICAgICAgcHJlRG90U3RhdGUgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZW5kICE9PSAtMSkge1xyXG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IHN0YXJ0UGFydCA9PT0gMCAmJiBpc0Fic29sdXRlID8gMSA6IHN0YXJ0UGFydDtcclxuICAgICAgICAgICAgaWYgKHN0YXJ0RG90ID09PSAtMSB8fFxyXG4gICAgICAgICAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBjaGFyYWN0ZXIgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBkb3RcclxuICAgICAgICAgICAgICAgIHByZURvdFN0YXRlID09PSAwIHx8XHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgKHJpZ2h0LW1vc3QpIHRyaW1tZWQgcGF0aCBjb21wb25lbnQgaXMgZXhhY3RseSAnLi4nXHJcbiAgICAgICAgICAgICAgICAocHJlRG90U3RhdGUgPT09IDEgJiZcclxuICAgICAgICAgICAgICAgICAgICBzdGFydERvdCA9PT0gZW5kIC0gMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RG90ID09PSBzdGFydFBhcnQgKyAxKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0LmJhc2UgPSByZXQubmFtZSA9IHBhdGguc2xpY2Uoc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXQubmFtZSA9IHBhdGguc2xpY2Uoc3RhcnQsIHN0YXJ0RG90KTtcclxuICAgICAgICAgICAgICAgIHJldC5iYXNlID0gcGF0aC5zbGljZShzdGFydCwgZW5kKTtcclxuICAgICAgICAgICAgICAgIHJldC5leHQgPSBwYXRoLnNsaWNlKHN0YXJ0RG90LCBlbmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdGFydFBhcnQgPiAwKSB7XHJcbiAgICAgICAgICAgIHJldC5kaXIgPSBwYXRoLnNsaWNlKDAsIHN0YXJ0UGFydCAtIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc0Fic29sdXRlKSB7XHJcbiAgICAgICAgICAgIHJldC5kaXIgPSAnLyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9LFxyXG4gICAgc2VwOiAnLycsXHJcbiAgICBkZWxpbWl0ZXI6ICc6JyxcclxuICAgIHdpbjMyOiBudWxsLFxyXG4gICAgcG9zaXg6IG51bGxcclxufTtcclxucG9zaXgud2luMzIgPSB3aW4zMi53aW4zMiA9IHdpbjMyO1xyXG5wb3NpeC5wb3NpeCA9IHdpbjMyLnBvc2l4ID0gcG9zaXg7XHJcbmV4cG9ydCBjb25zdCBub3JtYWxpemUgPSAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJyA/IHdpbjMyLm5vcm1hbGl6ZSA6IHBvc2l4Lm5vcm1hbGl6ZSk7XHJcbmV4cG9ydCBjb25zdCByZXNvbHZlID0gKHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicgPyB3aW4zMi5yZXNvbHZlIDogcG9zaXgucmVzb2x2ZSk7XHJcbmV4cG9ydCBjb25zdCByZWxhdGl2ZSA9IChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInID8gd2luMzIucmVsYXRpdmUgOiBwb3NpeC5yZWxhdGl2ZSk7XHJcbmV4cG9ydCBjb25zdCBkaXJuYW1lID0gKHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicgPyB3aW4zMi5kaXJuYW1lIDogcG9zaXguZGlybmFtZSk7XHJcbmV4cG9ydCBjb25zdCBiYXNlbmFtZSA9IChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInID8gd2luMzIuYmFzZW5hbWUgOiBwb3NpeC5iYXNlbmFtZSk7XHJcbmV4cG9ydCBjb25zdCBleHRuYW1lID0gKHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicgPyB3aW4zMi5leHRuYW1lIDogcG9zaXguZXh0bmFtZSk7XHJcbmV4cG9ydCBjb25zdCBzZXAgPSAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJyA/IHdpbjMyLnNlcCA6IHBvc2l4LnNlcCk7XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuaW1wb3J0IHsgaXNXaW5kb3dzIH0gZnJvbSAnLi9wbGF0Zm9ybS5qcyc7XHJcbmltcG9ydCAqIGFzIHBhdGhzIGZyb20gJy4vcGF0aC5qcyc7XHJcbmNvbnN0IF9zY2hlbWVQYXR0ZXJuID0gL15cXHdbXFx3XFxkKy4tXSokLztcclxuY29uc3QgX3NpbmdsZVNsYXNoU3RhcnQgPSAvXlxcLy87XHJcbmNvbnN0IF9kb3VibGVTbGFzaFN0YXJ0ID0gL15cXC9cXC8vO1xyXG5mdW5jdGlvbiBfdmFsaWRhdGVVcmkocmV0LCBfc3RyaWN0KSB7XHJcbiAgICAvLyBzY2hlbWUsIG11c3QgYmUgc2V0XHJcbiAgICBpZiAoIXJldC5zY2hlbWUgJiYgX3N0cmljdCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgW1VyaUVycm9yXTogU2NoZW1lIGlzIG1pc3Npbmc6IHtzY2hlbWU6IFwiXCIsIGF1dGhvcml0eTogXCIke3JldC5hdXRob3JpdHl9XCIsIHBhdGg6IFwiJHtyZXQucGF0aH1cIiwgcXVlcnk6IFwiJHtyZXQucXVlcnl9XCIsIGZyYWdtZW50OiBcIiR7cmV0LmZyYWdtZW50fVwifWApO1xyXG4gICAgfVxyXG4gICAgLy8gc2NoZW1lLCBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuMVxyXG4gICAgLy8gQUxQSEEgKiggQUxQSEEgLyBESUdJVCAvIFwiK1wiIC8gXCItXCIgLyBcIi5cIiApXHJcbiAgICBpZiAocmV0LnNjaGVtZSAmJiAhX3NjaGVtZVBhdHRlcm4udGVzdChyZXQuc2NoZW1lKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW1VyaUVycm9yXTogU2NoZW1lIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycy4nKTtcclxuICAgIH1cclxuICAgIC8vIHBhdGgsIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjNcclxuICAgIC8vIElmIGEgVVJJIGNvbnRhaW5zIGFuIGF1dGhvcml0eSBjb21wb25lbnQsIHRoZW4gdGhlIHBhdGggY29tcG9uZW50XHJcbiAgICAvLyBtdXN0IGVpdGhlciBiZSBlbXB0eSBvciBiZWdpbiB3aXRoIGEgc2xhc2ggKFwiL1wiKSBjaGFyYWN0ZXIuICBJZiBhIFVSSVxyXG4gICAgLy8gZG9lcyBub3QgY29udGFpbiBhbiBhdXRob3JpdHkgY29tcG9uZW50LCB0aGVuIHRoZSBwYXRoIGNhbm5vdCBiZWdpblxyXG4gICAgLy8gd2l0aCB0d28gc2xhc2ggY2hhcmFjdGVycyAoXCIvL1wiKS5cclxuICAgIGlmIChyZXQucGF0aCkge1xyXG4gICAgICAgIGlmIChyZXQuYXV0aG9yaXR5KSB7XHJcbiAgICAgICAgICAgIGlmICghX3NpbmdsZVNsYXNoU3RhcnQudGVzdChyZXQucGF0aCkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1VyaUVycm9yXTogSWYgYSBVUkkgY29udGFpbnMgYW4gYXV0aG9yaXR5IGNvbXBvbmVudCwgdGhlbiB0aGUgcGF0aCBjb21wb25lbnQgbXVzdCBlaXRoZXIgYmUgZW1wdHkgb3IgYmVnaW4gd2l0aCBhIHNsYXNoIChcIi9cIikgY2hhcmFjdGVyJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChfZG91YmxlU2xhc2hTdGFydC50ZXN0KHJldC5wYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbVXJpRXJyb3JdOiBJZiBhIFVSSSBkb2VzIG5vdCBjb250YWluIGFuIGF1dGhvcml0eSBjb21wb25lbnQsIHRoZW4gdGhlIHBhdGggY2Fubm90IGJlZ2luIHdpdGggdHdvIHNsYXNoIGNoYXJhY3RlcnMgKFwiLy9cIiknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyBmb3IgYSB3aGlsZSB3ZSBhbGxvd2VkIHVyaXMgKndpdGhvdXQqIHNjaGVtZXMgYW5kIHRoaXMgaXMgdGhlIG1pZ3JhdGlvblxyXG4vLyBmb3IgdGhlbSwgZS5nLiBhbiB1cmkgd2l0aG91dCBzY2hlbWUgYW5kIHdpdGhvdXQgc3RyaWN0LW1vZGUgd2FybnMgYW5kIGZhbGxzXHJcbi8vIGJhY2sgdG8gdGhlIGZpbGUtc2NoZW1lLiB0aGF0IHNob3VsZCBjYXVzZSB0aGUgbGVhc3QgY2FybmFnZSBhbmQgc3RpbGwgYmUgYVxyXG4vLyBjbGVhciB3YXJuaW5nXHJcbmZ1bmN0aW9uIF9zY2hlbWVGaXgoc2NoZW1lLCBfc3RyaWN0KSB7XHJcbiAgICBpZiAoIXNjaGVtZSAmJiAhX3N0cmljdCkge1xyXG4gICAgICAgIHJldHVybiAnZmlsZSc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2NoZW1lO1xyXG59XHJcbi8vIGltcGxlbWVudHMgYSBiaXQgb2YgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi01XHJcbmZ1bmN0aW9uIF9yZWZlcmVuY2VSZXNvbHV0aW9uKHNjaGVtZSwgcGF0aCkge1xyXG4gICAgLy8gdGhlIHNsYXNoLWNoYXJhY3RlciBpcyBvdXIgJ2RlZmF1bHQgYmFzZScgYXMgd2UgZG9uJ3RcclxuICAgIC8vIHN1cHBvcnQgY29uc3RydWN0aW5nIFVSSXMgcmVsYXRpdmUgdG8gb3RoZXIgVVJJcy4gVGhpc1xyXG4gICAgLy8gYWxzbyBtZWFucyB0aGF0IHdlIGFsdGVyIGFuZCBwb3RlbnRpYWxseSBicmVhayBwYXRocy5cclxuICAgIC8vIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTUuMS40XHJcbiAgICBzd2l0Y2ggKHNjaGVtZSkge1xyXG4gICAgICAgIGNhc2UgJ2h0dHBzJzpcclxuICAgICAgICBjYXNlICdodHRwJzpcclxuICAgICAgICBjYXNlICdmaWxlJzpcclxuICAgICAgICAgICAgaWYgKCFwYXRoKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRoID0gX3NsYXNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHBhdGhbMF0gIT09IF9zbGFzaCkge1xyXG4gICAgICAgICAgICAgICAgcGF0aCA9IF9zbGFzaCArIHBhdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGF0aDtcclxufVxyXG5jb25zdCBfZW1wdHkgPSAnJztcclxuY29uc3QgX3NsYXNoID0gJy8nO1xyXG5jb25zdCBfcmVnZXhwID0gL14oKFteOi8/I10rPyk6KT8oXFwvXFwvKFteLz8jXSopKT8oW14/I10qKShcXD8oW14jXSopKT8oIyguKikpPy87XHJcbi8qKlxyXG4gKiBVbmlmb3JtIFJlc291cmNlIElkZW50aWZpZXIgKFVSSSkgaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4Ni5cclxuICogVGhpcyBjbGFzcyBpcyBhIHNpbXBsZSBwYXJzZXIgd2hpY2ggY3JlYXRlcyB0aGUgYmFzaWMgY29tcG9uZW50IHBhcnRzXHJcbiAqIChodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMykgd2l0aCBtaW5pbWFsIHZhbGlkYXRpb25cclxuICogYW5kIGVuY29kaW5nLlxyXG4gKlxyXG4gKiBgYGB0eHRcclxuICogICAgICAgZm9vOi8vZXhhbXBsZS5jb206ODA0Mi9vdmVyL3RoZXJlP25hbWU9ZmVycmV0I25vc2VcclxuICogICAgICAgXFxfLyAgIFxcX19fX19fX19fX19fX18vXFxfX19fX19fX18vIFxcX19fX19fX19fLyBcXF9fL1xyXG4gKiAgICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgIHwgICAgICAgICAgICB8ICAgICAgICB8XHJcbiAqICAgICBzY2hlbWUgICAgIGF1dGhvcml0eSAgICAgICBwYXRoICAgICAgICBxdWVyeSAgIGZyYWdtZW50XHJcbiAqICAgICAgICB8ICAgX19fX19fX19fX19fX19fX19fX19ffF9fXHJcbiAqICAgICAgIC8gXFwgLyAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAqICAgICAgIHVybjpleGFtcGxlOmFuaW1hbDpmZXJyZXQ6bm9zZVxyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBVUkkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Ioc2NoZW1lT3JEYXRhLCBhdXRob3JpdHksIHBhdGgsIHF1ZXJ5LCBmcmFnbWVudCwgX3N0cmljdCA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWVPckRhdGEgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NoZW1lID0gc2NoZW1lT3JEYXRhLnNjaGVtZSB8fCBfZW1wdHk7XHJcbiAgICAgICAgICAgIHRoaXMuYXV0aG9yaXR5ID0gc2NoZW1lT3JEYXRhLmF1dGhvcml0eSB8fCBfZW1wdHk7XHJcbiAgICAgICAgICAgIHRoaXMucGF0aCA9IHNjaGVtZU9yRGF0YS5wYXRoIHx8IF9lbXB0eTtcclxuICAgICAgICAgICAgdGhpcy5xdWVyeSA9IHNjaGVtZU9yRGF0YS5xdWVyeSB8fCBfZW1wdHk7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnQgPSBzY2hlbWVPckRhdGEuZnJhZ21lbnQgfHwgX2VtcHR5O1xyXG4gICAgICAgICAgICAvLyBubyB2YWxpZGF0aW9uIGJlY2F1c2UgaXQncyB0aGlzIFVSSVxyXG4gICAgICAgICAgICAvLyB0aGF0IGNyZWF0ZXMgdXJpIGNvbXBvbmVudHMuXHJcbiAgICAgICAgICAgIC8vIF92YWxpZGF0ZVVyaSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NoZW1lID0gX3NjaGVtZUZpeChzY2hlbWVPckRhdGEsIF9zdHJpY3QpO1xyXG4gICAgICAgICAgICB0aGlzLmF1dGhvcml0eSA9IGF1dGhvcml0eSB8fCBfZW1wdHk7XHJcbiAgICAgICAgICAgIHRoaXMucGF0aCA9IF9yZWZlcmVuY2VSZXNvbHV0aW9uKHRoaXMuc2NoZW1lLCBwYXRoIHx8IF9lbXB0eSk7XHJcbiAgICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeSB8fCBfZW1wdHk7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnQgPSBmcmFnbWVudCB8fCBfZW1wdHk7XHJcbiAgICAgICAgICAgIF92YWxpZGF0ZVVyaSh0aGlzLCBfc3RyaWN0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgaXNVcmkodGhpbmcpIHtcclxuICAgICAgICBpZiAodGhpbmcgaW5zdGFuY2VvZiBVUkkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHlwZW9mIHRoaW5nLmF1dGhvcml0eSA9PT0gJ3N0cmluZydcclxuICAgICAgICAgICAgJiYgdHlwZW9mIHRoaW5nLmZyYWdtZW50ID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcucGF0aCA9PT0gJ3N0cmluZydcclxuICAgICAgICAgICAgJiYgdHlwZW9mIHRoaW5nLnF1ZXJ5ID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcuc2NoZW1lID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcuZnNQYXRoID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcud2l0aCA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcudG9TdHJpbmcgPT09ICdmdW5jdGlvbic7XHJcbiAgICB9XHJcbiAgICAvLyAtLS0tIGZpbGVzeXN0ZW0gcGF0aCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY29ycmVzcG9uZGluZyBmaWxlIHN5c3RlbSBwYXRoIG9mIHRoaXMgVVJJLlxyXG4gICAgICogV2lsbCBoYW5kbGUgVU5DIHBhdGhzLCBub3JtYWxpemVzIHdpbmRvd3MgZHJpdmUgbGV0dGVycyB0byBsb3dlci1jYXNlLCBhbmQgdXNlcyB0aGVcclxuICAgICAqIHBsYXRmb3JtIHNwZWNpZmljIHBhdGggc2VwYXJhdG9yLlxyXG4gICAgICpcclxuICAgICAqICogV2lsbCAqbm90KiB2YWxpZGF0ZSB0aGUgcGF0aCBmb3IgaW52YWxpZCBjaGFyYWN0ZXJzIGFuZCBzZW1hbnRpY3MuXHJcbiAgICAgKiAqIFdpbGwgKm5vdCogbG9vayBhdCB0aGUgc2NoZW1lIG9mIHRoaXMgVVJJLlxyXG4gICAgICogKiBUaGUgcmVzdWx0IHNoYWxsICpub3QqIGJlIHVzZWQgZm9yIGRpc3BsYXkgcHVycG9zZXMgYnV0IGZvciBhY2Nlc3NpbmcgYSBmaWxlIG9uIGRpc2suXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIFRoZSAqZGlmZmVyZW5jZSogdG8gYFVSSSNwYXRoYCBpcyB0aGUgdXNlIG9mIHRoZSBwbGF0Zm9ybSBzcGVjaWZpYyBzZXBhcmF0b3IgYW5kIHRoZSBoYW5kbGluZ1xyXG4gICAgICogb2YgVU5DIHBhdGhzLiBTZWUgdGhlIGJlbG93IHNhbXBsZSBvZiBhIGZpbGUtdXJpIHdpdGggYW4gYXV0aG9yaXR5IChVTkMgcGF0aCkuXHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAgICBjb25zdCB1ID0gVVJJLnBhcnNlKCdmaWxlOi8vc2VydmVyL2MkL2ZvbGRlci9maWxlLnR4dCcpXHJcbiAgICAgICAgdS5hdXRob3JpdHkgPT09ICdzZXJ2ZXInXHJcbiAgICAgICAgdS5wYXRoID09PSAnL3NoYXJlcy9jJC9maWxlLnR4dCdcclxuICAgICAgICB1LmZzUGF0aCA9PT0gJ1xcXFxzZXJ2ZXJcXGMkXFxmb2xkZXJcXGZpbGUudHh0J1xyXG4gICAgYGBgXHJcbiAgICAgKlxyXG4gICAgICogVXNpbmcgYFVSSSNwYXRoYCB0byByZWFkIGEgZmlsZSAodXNpbmcgZnMtYXBpcykgd291bGQgbm90IGJlIGVub3VnaCBiZWNhdXNlIHBhcnRzIG9mIHRoZSBwYXRoLFxyXG4gICAgICogbmFtZWx5IHRoZSBzZXJ2ZXIgbmFtZSwgd291bGQgYmUgbWlzc2luZy4gVGhlcmVmb3JlIGBVUkkjZnNQYXRoYCBleGlzdHMgLSBpdCdzIHN1Z2FyIHRvIGVhc2Ugd29ya2luZ1xyXG4gICAgICogd2l0aCBVUklzIHRoYXQgcmVwcmVzZW50IGZpbGVzIG9uIGRpc2sgKGBmaWxlYCBzY2hlbWUpLlxyXG4gICAgICovXHJcbiAgICBnZXQgZnNQYXRoKCkge1xyXG4gICAgICAgIC8vIGlmICh0aGlzLnNjaGVtZSAhPT0gJ2ZpbGUnKSB7XHJcbiAgICAgICAgLy8gXHRjb25zb2xlLndhcm4oYFtVcmlFcnJvcl0gY2FsbGluZyBmc1BhdGggd2l0aCBzY2hlbWUgJHt0aGlzLnNjaGVtZX1gKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgcmV0dXJuIHVyaVRvRnNQYXRoKHRoaXMsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIC8vIC0tLS0gbW9kaWZ5IHRvIG5ldyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICB3aXRoKGNoYW5nZSkge1xyXG4gICAgICAgIGlmICghY2hhbmdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgeyBzY2hlbWUsIGF1dGhvcml0eSwgcGF0aCwgcXVlcnksIGZyYWdtZW50IH0gPSBjaGFuZ2U7XHJcbiAgICAgICAgaWYgKHNjaGVtZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHNjaGVtZSA9IHRoaXMuc2NoZW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzY2hlbWUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgc2NoZW1lID0gX2VtcHR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXV0aG9yaXR5ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgYXV0aG9yaXR5ID0gdGhpcy5hdXRob3JpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGF1dGhvcml0eSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBhdXRob3JpdHkgPSBfZW1wdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYXRoID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcGF0aCA9IHRoaXMucGF0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocGF0aCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBwYXRoID0gX2VtcHR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocXVlcnkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBxdWVyeSA9IHRoaXMucXVlcnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHF1ZXJ5ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHF1ZXJ5ID0gX2VtcHR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZnJhZ21lbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBmcmFnbWVudCA9IHRoaXMuZnJhZ21lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZyYWdtZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGZyYWdtZW50ID0gX2VtcHR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2NoZW1lID09PSB0aGlzLnNjaGVtZVxyXG4gICAgICAgICAgICAmJiBhdXRob3JpdHkgPT09IHRoaXMuYXV0aG9yaXR5XHJcbiAgICAgICAgICAgICYmIHBhdGggPT09IHRoaXMucGF0aFxyXG4gICAgICAgICAgICAmJiBxdWVyeSA9PT0gdGhpcy5xdWVyeVxyXG4gICAgICAgICAgICAmJiBmcmFnbWVudCA9PT0gdGhpcy5mcmFnbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVcmkoc2NoZW1lLCBhdXRob3JpdHksIHBhdGgsIHF1ZXJ5LCBmcmFnbWVudCk7XHJcbiAgICB9XHJcbiAgICAvLyAtLS0tIHBhcnNlICYgdmFsaWRhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgVVJJIGZyb20gYSBzdHJpbmcsIGUuZy4gYGh0dHA6Ly93d3cubXNmdC5jb20vc29tZS9wYXRoYCxcclxuICAgICAqIGBmaWxlOi8vL3Vzci9ob21lYCwgb3IgYHNjaGVtZTp3aXRoL3BhdGhgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWx1ZSBBIHN0cmluZyB3aGljaCByZXByZXNlbnRzIGFuIFVSSSAoc2VlIGBVUkkjdG9TdHJpbmdgKS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHBhcnNlKHZhbHVlLCBfc3RyaWN0ID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCBtYXRjaCA9IF9yZWdleHAuZXhlYyh2YWx1ZSk7XHJcbiAgICAgICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFVyaShfZW1wdHksIF9lbXB0eSwgX2VtcHR5LCBfZW1wdHksIF9lbXB0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVXJpKG1hdGNoWzJdIHx8IF9lbXB0eSwgcGVyY2VudERlY29kZShtYXRjaFs0XSB8fCBfZW1wdHkpLCBwZXJjZW50RGVjb2RlKG1hdGNoWzVdIHx8IF9lbXB0eSksIHBlcmNlbnREZWNvZGUobWF0Y2hbN10gfHwgX2VtcHR5KSwgcGVyY2VudERlY29kZShtYXRjaFs5XSB8fCBfZW1wdHkpLCBfc3RyaWN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBVUkkgZnJvbSBhIGZpbGUgc3lzdGVtIHBhdGgsIGUuZy4gYGM6XFxteVxcZmlsZXNgLFxyXG4gICAgICogYC91c3IvaG9tZWAsIG9yIGBcXFxcc2VydmVyXFxzaGFyZVxcc29tZVxccGF0aGAuXHJcbiAgICAgKlxyXG4gICAgICogVGhlICpkaWZmZXJlbmNlKiBiZXR3ZWVuIGBVUkkjcGFyc2VgIGFuZCBgVVJJI2ZpbGVgIGlzIHRoYXQgdGhlIGxhdHRlciB0cmVhdHMgdGhlIGFyZ3VtZW50XHJcbiAgICAgKiBhcyBwYXRoLCBub3QgYXMgc3RyaW5naWZpZWQtdXJpLiBFLmcuIGBVUkkuZmlsZShwYXRoKWAgaXMgKipub3QgdGhlIHNhbWUgYXMqKlxyXG4gICAgICogYFVSSS5wYXJzZSgnZmlsZTovLycgKyBwYXRoKWAgYmVjYXVzZSB0aGUgcGF0aCBtaWdodCBjb250YWluIGNoYXJhY3RlcnMgdGhhdCBhcmVcclxuICAgICAqIGludGVycHJldGVkICgjIGFuZCA/KS4gU2VlIHRoZSBmb2xsb3dpbmcgc2FtcGxlOlxyXG4gICAgICogYGBgdHNcclxuICAgIGNvbnN0IGdvb2QgPSBVUkkuZmlsZSgnL2NvZGluZy9jIy9wcm9qZWN0MScpO1xyXG4gICAgZ29vZC5zY2hlbWUgPT09ICdmaWxlJztcclxuICAgIGdvb2QucGF0aCA9PT0gJy9jb2RpbmcvYyMvcHJvamVjdDEnO1xyXG4gICAgZ29vZC5mcmFnbWVudCA9PT0gJyc7XHJcbiAgICBjb25zdCBiYWQgPSBVUkkucGFyc2UoJ2ZpbGU6Ly8nICsgJy9jb2RpbmcvYyMvcHJvamVjdDEnKTtcclxuICAgIGJhZC5zY2hlbWUgPT09ICdmaWxlJztcclxuICAgIGJhZC5wYXRoID09PSAnL2NvZGluZy9jJzsgLy8gcGF0aCBpcyBub3cgYnJva2VuXHJcbiAgICBiYWQuZnJhZ21lbnQgPT09ICcvcHJvamVjdDEnO1xyXG4gICAgYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBhdGggQSBmaWxlIHN5c3RlbSBwYXRoIChzZWUgYFVSSSNmc1BhdGhgKVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZmlsZShwYXRoKSB7XHJcbiAgICAgICAgbGV0IGF1dGhvcml0eSA9IF9lbXB0eTtcclxuICAgICAgICAvLyBub3JtYWxpemUgdG8gZndkLXNsYXNoZXMgb24gd2luZG93cyxcclxuICAgICAgICAvLyBvbiBvdGhlciBzeXN0ZW1zIGJ3ZC1zbGFzaGVzIGFyZSB2YWxpZFxyXG4gICAgICAgIC8vIGZpbGVuYW1lIGNoYXJhY3RlciwgZWcgL2ZcXG9vL2JhXFxyLnR4dFxyXG4gICAgICAgIGlmIChpc1dpbmRvd3MpIHtcclxuICAgICAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXFxcXC9nLCBfc2xhc2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjaGVjayBmb3IgYXV0aG9yaXR5IGFzIHVzZWQgaW4gVU5DIHNoYXJlc1xyXG4gICAgICAgIC8vIG9yIHVzZSB0aGUgcGF0aCBhcyBnaXZlblxyXG4gICAgICAgIGlmIChwYXRoWzBdID09PSBfc2xhc2ggJiYgcGF0aFsxXSA9PT0gX3NsYXNoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlkeCA9IHBhdGguaW5kZXhPZihfc2xhc2gsIDIpO1xyXG4gICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXR5ID0gcGF0aC5zdWJzdHJpbmcoMik7XHJcbiAgICAgICAgICAgICAgICBwYXRoID0gX3NsYXNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXR5ID0gcGF0aC5zdWJzdHJpbmcoMiwgaWR4KTtcclxuICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoLnN1YnN0cmluZyhpZHgpIHx8IF9zbGFzaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFVyaSgnZmlsZScsIGF1dGhvcml0eSwgcGF0aCwgX2VtcHR5LCBfZW1wdHkpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGZyb20oY29tcG9uZW50cykge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBVcmkoY29tcG9uZW50cy5zY2hlbWUsIGNvbXBvbmVudHMuYXV0aG9yaXR5LCBjb21wb25lbnRzLnBhdGgsIGNvbXBvbmVudHMucXVlcnksIGNvbXBvbmVudHMuZnJhZ21lbnQpO1xyXG4gICAgICAgIF92YWxpZGF0ZVVyaShyZXN1bHQsIHRydWUpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEpvaW4gYSBVUkkgcGF0aCB3aXRoIHBhdGggZnJhZ21lbnRzIGFuZCBub3JtYWxpemVzIHRoZSByZXN1bHRpbmcgcGF0aC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdXJpIFRoZSBpbnB1dCBVUkkuXHJcbiAgICAgKiBAcGFyYW0gcGF0aEZyYWdtZW50IFRoZSBwYXRoIGZyYWdtZW50IHRvIGFkZCB0byB0aGUgVVJJIHBhdGguXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzdWx0aW5nIFVSSS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGpvaW5QYXRoKHVyaSwgLi4ucGF0aEZyYWdtZW50KSB7XHJcbiAgICAgICAgaWYgKCF1cmkucGF0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtVcmlFcnJvcl06IGNhbm5vdCBjYWxsIGpvaW5QYXRoIG9uIFVSSSB3aXRob3V0IHBhdGhgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG5ld1BhdGg7XHJcbiAgICAgICAgaWYgKGlzV2luZG93cyAmJiB1cmkuc2NoZW1lID09PSAnZmlsZScpIHtcclxuICAgICAgICAgICAgbmV3UGF0aCA9IFVSSS5maWxlKHBhdGhzLndpbjMyLmpvaW4odXJpVG9Gc1BhdGgodXJpLCB0cnVlKSwgLi4ucGF0aEZyYWdtZW50KSkucGF0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5ld1BhdGggPSBwYXRocy5wb3NpeC5qb2luKHVyaS5wYXRoLCAuLi5wYXRoRnJhZ21lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJpLndpdGgoeyBwYXRoOiBuZXdQYXRoIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gLS0tLSBwcmludGluZy9leHRlcm5hbGl6ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBmb3IgdGhpcyBVUkkuIEl0J3MgZ3VhcmFudGVlZCB0aGF0IGNhbGxpbmdcclxuICAgICAqIGBVUkkucGFyc2VgIHdpdGggdGhlIHJlc3VsdCBvZiB0aGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYW4gVVJJIHdoaWNoIGlzIGVxdWFsXHJcbiAgICAgKiB0byB0aGlzIFVSSS5cclxuICAgICAqXHJcbiAgICAgKiAqIFRoZSByZXN1bHQgc2hhbGwgKm5vdCogYmUgdXNlZCBmb3IgZGlzcGxheSBwdXJwb3NlcyBidXQgZm9yIGV4dGVybmFsaXphdGlvbiBvciB0cmFuc3BvcnQuXHJcbiAgICAgKiAqIFRoZSByZXN1bHQgd2lsbCBiZSBlbmNvZGVkIHVzaW5nIHRoZSBwZXJjZW50YWdlIGVuY29kaW5nIGFuZCBlbmNvZGluZyBoYXBwZW5zIG1vc3RseVxyXG4gICAgICogaWdub3JlIHRoZSBzY2hlbWUtc3BlY2lmaWMgZW5jb2RpbmcgcnVsZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNraXBFbmNvZGluZyBEbyBub3QgZW5jb2RlIHRoZSByZXN1bHQsIGRlZmF1bHQgaXMgYGZhbHNlYFxyXG4gICAgICovXHJcbiAgICB0b1N0cmluZyhza2lwRW5jb2RpbmcgPSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybiBfYXNGb3JtYXR0ZWQodGhpcywgc2tpcEVuY29kaW5nKTtcclxuICAgIH1cclxuICAgIHRvSlNPTigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIHN0YXRpYyByZXZpdmUoZGF0YSkge1xyXG4gICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIFVSSSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBVcmkoZGF0YSk7XHJcbiAgICAgICAgICAgIHJlc3VsdC5fZm9ybWF0dGVkID0gZGF0YS5leHRlcm5hbDtcclxuICAgICAgICAgICAgcmVzdWx0Ll9mc1BhdGggPSBkYXRhLl9zZXAgPT09IF9wYXRoU2VwTWFya2VyID8gZGF0YS5mc1BhdGggOiBudWxsO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jb25zdCBfcGF0aFNlcE1hcmtlciA9IGlzV2luZG93cyA/IDEgOiB1bmRlZmluZWQ7XHJcbi8vIFRoaXMgY2xhc3MgZXhpc3RzIHNvIHRoYXQgVVJJIGlzIGNvbXBhdGliaWxlIHdpdGggdnNjb2RlLlVyaSAoQVBJKS5cclxuY2xhc3MgVXJpIGV4dGVuZHMgVVJJIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgdGhpcy5fZm9ybWF0dGVkID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9mc1BhdGggPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZ2V0IGZzUGF0aCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2ZzUGF0aCkge1xyXG4gICAgICAgICAgICB0aGlzLl9mc1BhdGggPSB1cmlUb0ZzUGF0aCh0aGlzLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9mc1BhdGg7XHJcbiAgICB9XHJcbiAgICB0b1N0cmluZyhza2lwRW5jb2RpbmcgPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICghc2tpcEVuY29kaW5nKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fZm9ybWF0dGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9mb3JtYXR0ZWQgPSBfYXNGb3JtYXR0ZWQodGhpcywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb3JtYXR0ZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjYWNoZSB0aGF0XHJcbiAgICAgICAgICAgIHJldHVybiBfYXNGb3JtYXR0ZWQodGhpcywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdG9KU09OKCkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IHtcclxuICAgICAgICAgICAgJG1pZDogMVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gY2FjaGVkIHN0YXRlXHJcbiAgICAgICAgaWYgKHRoaXMuX2ZzUGF0aCkge1xyXG4gICAgICAgICAgICByZXMuZnNQYXRoID0gdGhpcy5fZnNQYXRoO1xyXG4gICAgICAgICAgICByZXMuX3NlcCA9IF9wYXRoU2VwTWFya2VyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fZm9ybWF0dGVkKSB7XHJcbiAgICAgICAgICAgIHJlcy5leHRlcm5hbCA9IHRoaXMuX2Zvcm1hdHRlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdXJpIGNvbXBvbmVudHNcclxuICAgICAgICBpZiAodGhpcy5wYXRoKSB7XHJcbiAgICAgICAgICAgIHJlcy5wYXRoID0gdGhpcy5wYXRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zY2hlbWUpIHtcclxuICAgICAgICAgICAgcmVzLnNjaGVtZSA9IHRoaXMuc2NoZW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5hdXRob3JpdHkpIHtcclxuICAgICAgICAgICAgcmVzLmF1dGhvcml0eSA9IHRoaXMuYXV0aG9yaXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5xdWVyeSkge1xyXG4gICAgICAgICAgICByZXMucXVlcnkgPSB0aGlzLnF1ZXJ5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5mcmFnbWVudCkge1xyXG4gICAgICAgICAgICByZXMuZnJhZ21lbnQgPSB0aGlzLmZyYWdtZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG59XHJcbi8vIHJlc2VydmVkIGNoYXJhY3RlcnM6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMi4yXHJcbmNvbnN0IGVuY29kZVRhYmxlID0ge1xyXG4gICAgWzU4IC8qIENvbG9uICovXTogJyUzQScsXHJcbiAgICBbNDcgLyogU2xhc2ggKi9dOiAnJTJGJyxcclxuICAgIFs2MyAvKiBRdWVzdGlvbk1hcmsgKi9dOiAnJTNGJyxcclxuICAgIFszNSAvKiBIYXNoICovXTogJyUyMycsXHJcbiAgICBbOTEgLyogT3BlblNxdWFyZUJyYWNrZXQgKi9dOiAnJTVCJyxcclxuICAgIFs5MyAvKiBDbG9zZVNxdWFyZUJyYWNrZXQgKi9dOiAnJTVEJyxcclxuICAgIFs2NCAvKiBBdFNpZ24gKi9dOiAnJTQwJyxcclxuICAgIFszMyAvKiBFeGNsYW1hdGlvbk1hcmsgKi9dOiAnJTIxJyxcclxuICAgIFszNiAvKiBEb2xsYXJTaWduICovXTogJyUyNCcsXHJcbiAgICBbMzggLyogQW1wZXJzYW5kICovXTogJyUyNicsXHJcbiAgICBbMzkgLyogU2luZ2xlUXVvdGUgKi9dOiAnJTI3JyxcclxuICAgIFs0MCAvKiBPcGVuUGFyZW4gKi9dOiAnJTI4JyxcclxuICAgIFs0MSAvKiBDbG9zZVBhcmVuICovXTogJyUyOScsXHJcbiAgICBbNDIgLyogQXN0ZXJpc2sgKi9dOiAnJTJBJyxcclxuICAgIFs0MyAvKiBQbHVzICovXTogJyUyQicsXHJcbiAgICBbNDQgLyogQ29tbWEgKi9dOiAnJTJDJyxcclxuICAgIFs1OSAvKiBTZW1pY29sb24gKi9dOiAnJTNCJyxcclxuICAgIFs2MSAvKiBFcXVhbHMgKi9dOiAnJTNEJyxcclxuICAgIFszMiAvKiBTcGFjZSAqL106ICclMjAnLFxyXG59O1xyXG5mdW5jdGlvbiBlbmNvZGVVUklDb21wb25lbnRGYXN0KHVyaUNvbXBvbmVudCwgYWxsb3dTbGFzaCkge1xyXG4gICAgbGV0IHJlcyA9IHVuZGVmaW5lZDtcclxuICAgIGxldCBuYXRpdmVFbmNvZGVQb3MgPSAtMTtcclxuICAgIGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IHVyaUNvbXBvbmVudC5sZW5ndGg7IHBvcysrKSB7XHJcbiAgICAgICAgY29uc3QgY29kZSA9IHVyaUNvbXBvbmVudC5jaGFyQ29kZUF0KHBvcyk7XHJcbiAgICAgICAgLy8gdW5yZXNlcnZlZCBjaGFyYWN0ZXJzOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTIuM1xyXG4gICAgICAgIGlmICgoY29kZSA+PSA5NyAvKiBhICovICYmIGNvZGUgPD0gMTIyIC8qIHogKi8pXHJcbiAgICAgICAgICAgIHx8IChjb2RlID49IDY1IC8qIEEgKi8gJiYgY29kZSA8PSA5MCAvKiBaICovKVxyXG4gICAgICAgICAgICB8fCAoY29kZSA+PSA0OCAvKiBEaWdpdDAgKi8gJiYgY29kZSA8PSA1NyAvKiBEaWdpdDkgKi8pXHJcbiAgICAgICAgICAgIHx8IGNvZGUgPT09IDQ1IC8qIERhc2ggKi9cclxuICAgICAgICAgICAgfHwgY29kZSA9PT0gNDYgLyogUGVyaW9kICovXHJcbiAgICAgICAgICAgIHx8IGNvZGUgPT09IDk1IC8qIFVuZGVybGluZSAqL1xyXG4gICAgICAgICAgICB8fCBjb2RlID09PSAxMjYgLyogVGlsZGUgKi9cclxuICAgICAgICAgICAgfHwgKGFsbG93U2xhc2ggJiYgY29kZSA9PT0gNDcgLyogU2xhc2ggKi8pKSB7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIGFyZSBkZWxheWluZyBuYXRpdmUgZW5jb2RlXHJcbiAgICAgICAgICAgIGlmIChuYXRpdmVFbmNvZGVQb3MgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXMgKz0gZW5jb2RlVVJJQ29tcG9uZW50KHVyaUNvbXBvbmVudC5zdWJzdHJpbmcobmF0aXZlRW5jb2RlUG9zLCBwb3MpKTtcclxuICAgICAgICAgICAgICAgIG5hdGl2ZUVuY29kZVBvcyA9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIHdyaXRlIGludG8gYSBuZXcgc3RyaW5nIChieSBkZWZhdWx0IHdlIHRyeSB0byByZXR1cm4gdGhlIHBhcmFtKVxyXG4gICAgICAgICAgICBpZiAocmVzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJlcyArPSB1cmlDb21wb25lbnQuY2hhckF0KHBvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGVuY29kaW5nIG5lZWRlZCwgd2UgbmVlZCB0byBhbGxvY2F0ZSBhIG5ldyBzdHJpbmdcclxuICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXMgPSB1cmlDb21wb25lbnQuc3Vic3RyKDAsIHBvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY2hlY2sgd2l0aCBkZWZhdWx0IHRhYmxlIGZpcnN0XHJcbiAgICAgICAgICAgIGNvbnN0IGVzY2FwZWQgPSBlbmNvZGVUYWJsZVtjb2RlXTtcclxuICAgICAgICAgICAgaWYgKGVzY2FwZWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgYXJlIGRlbGF5aW5nIG5hdGl2ZSBlbmNvZGVcclxuICAgICAgICAgICAgICAgIGlmIChuYXRpdmVFbmNvZGVQb3MgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzICs9IGVuY29kZVVSSUNvbXBvbmVudCh1cmlDb21wb25lbnQuc3Vic3RyaW5nKG5hdGl2ZUVuY29kZVBvcywgcG9zKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlRW5jb2RlUG9zID0gLTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBhcHBlbmQgZXNjYXBlZCB2YXJpYW50IHRvIHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgcmVzICs9IGVzY2FwZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobmF0aXZlRW5jb2RlUG9zID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdXNlIG5hdGl2ZSBlbmNvZGUgb25seSB3aGVuIG5lZWRlZFxyXG4gICAgICAgICAgICAgICAgbmF0aXZlRW5jb2RlUG9zID0gcG9zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG5hdGl2ZUVuY29kZVBvcyAhPT0gLTEpIHtcclxuICAgICAgICByZXMgKz0gZW5jb2RlVVJJQ29tcG9uZW50KHVyaUNvbXBvbmVudC5zdWJzdHJpbmcobmF0aXZlRW5jb2RlUG9zKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzICE9PSB1bmRlZmluZWQgPyByZXMgOiB1cmlDb21wb25lbnQ7XHJcbn1cclxuZnVuY3Rpb24gZW5jb2RlVVJJQ29tcG9uZW50TWluaW1hbChwYXRoKSB7XHJcbiAgICBsZXQgcmVzID0gdW5kZWZpbmVkO1xyXG4gICAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgcGF0aC5sZW5ndGg7IHBvcysrKSB7XHJcbiAgICAgICAgY29uc3QgY29kZSA9IHBhdGguY2hhckNvZGVBdChwb3MpO1xyXG4gICAgICAgIGlmIChjb2RlID09PSAzNSAvKiBIYXNoICovIHx8IGNvZGUgPT09IDYzIC8qIFF1ZXN0aW9uTWFyayAqLykge1xyXG4gICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJlcyA9IHBhdGguc3Vic3RyKDAsIHBvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzICs9IGVuY29kZVRhYmxlW2NvZGVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHJlcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXMgKz0gcGF0aFtwb3NdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcyAhPT0gdW5kZWZpbmVkID8gcmVzIDogcGF0aDtcclxufVxyXG4vKipcclxuICogQ29tcHV0ZSBgZnNQYXRoYCBmb3IgdGhlIGdpdmVuIHVyaVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHVyaVRvRnNQYXRoKHVyaSwga2VlcERyaXZlTGV0dGVyQ2FzaW5nKSB7XHJcbiAgICBsZXQgdmFsdWU7XHJcbiAgICBpZiAodXJpLmF1dGhvcml0eSAmJiB1cmkucGF0aC5sZW5ndGggPiAxICYmIHVyaS5zY2hlbWUgPT09ICdmaWxlJykge1xyXG4gICAgICAgIC8vIHVuYyBwYXRoOiBmaWxlOi8vc2hhcmVzL2MkL2Zhci9ib29cclxuICAgICAgICB2YWx1ZSA9IGAvLyR7dXJpLmF1dGhvcml0eX0ke3VyaS5wYXRofWA7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh1cmkucGF0aC5jaGFyQ29kZUF0KDApID09PSA0NyAvKiBTbGFzaCAqL1xyXG4gICAgICAgICYmICh1cmkucGF0aC5jaGFyQ29kZUF0KDEpID49IDY1IC8qIEEgKi8gJiYgdXJpLnBhdGguY2hhckNvZGVBdCgxKSA8PSA5MCAvKiBaICovIHx8IHVyaS5wYXRoLmNoYXJDb2RlQXQoMSkgPj0gOTcgLyogYSAqLyAmJiB1cmkucGF0aC5jaGFyQ29kZUF0KDEpIDw9IDEyMiAvKiB6ICovKVxyXG4gICAgICAgICYmIHVyaS5wYXRoLmNoYXJDb2RlQXQoMikgPT09IDU4IC8qIENvbG9uICovKSB7XHJcbiAgICAgICAgaWYgKCFrZWVwRHJpdmVMZXR0ZXJDYXNpbmcpIHtcclxuICAgICAgICAgICAgLy8gd2luZG93cyBkcml2ZSBsZXR0ZXI6IGZpbGU6Ly8vYzovZmFyL2Jvb1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHVyaS5wYXRoWzFdLnRvTG93ZXJDYXNlKCkgKyB1cmkucGF0aC5zdWJzdHIoMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHVyaS5wYXRoLnN1YnN0cigxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBvdGhlciBwYXRoXHJcbiAgICAgICAgdmFsdWUgPSB1cmkucGF0aDtcclxuICAgIH1cclxuICAgIGlmIChpc1dpbmRvd3MpIHtcclxuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcLy9nLCAnXFxcXCcpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgdGhlIGV4dGVybmFsIHZlcnNpb24gb2YgYSB1cmlcclxuICovXHJcbmZ1bmN0aW9uIF9hc0Zvcm1hdHRlZCh1cmksIHNraXBFbmNvZGluZykge1xyXG4gICAgY29uc3QgZW5jb2RlciA9ICFza2lwRW5jb2RpbmdcclxuICAgICAgICA/IGVuY29kZVVSSUNvbXBvbmVudEZhc3RcclxuICAgICAgICA6IGVuY29kZVVSSUNvbXBvbmVudE1pbmltYWw7XHJcbiAgICBsZXQgcmVzID0gJyc7XHJcbiAgICBsZXQgeyBzY2hlbWUsIGF1dGhvcml0eSwgcGF0aCwgcXVlcnksIGZyYWdtZW50IH0gPSB1cmk7XHJcbiAgICBpZiAoc2NoZW1lKSB7XHJcbiAgICAgICAgcmVzICs9IHNjaGVtZTtcclxuICAgICAgICByZXMgKz0gJzonO1xyXG4gICAgfVxyXG4gICAgaWYgKGF1dGhvcml0eSB8fCBzY2hlbWUgPT09ICdmaWxlJykge1xyXG4gICAgICAgIHJlcyArPSBfc2xhc2g7XHJcbiAgICAgICAgcmVzICs9IF9zbGFzaDtcclxuICAgIH1cclxuICAgIGlmIChhdXRob3JpdHkpIHtcclxuICAgICAgICBsZXQgaWR4ID0gYXV0aG9yaXR5LmluZGV4T2YoJ0AnKTtcclxuICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAvLyA8dXNlcj5APGF1dGg+XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJpbmZvID0gYXV0aG9yaXR5LnN1YnN0cigwLCBpZHgpO1xyXG4gICAgICAgICAgICBhdXRob3JpdHkgPSBhdXRob3JpdHkuc3Vic3RyKGlkeCArIDEpO1xyXG4gICAgICAgICAgICBpZHggPSB1c2VyaW5mby5pbmRleE9mKCc6Jyk7XHJcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXMgKz0gZW5jb2Rlcih1c2VyaW5mbywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gPHVzZXI+OjxwYXNzPkA8YXV0aD5cclxuICAgICAgICAgICAgICAgIHJlcyArPSBlbmNvZGVyKHVzZXJpbmZvLnN1YnN0cigwLCBpZHgpLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICByZXMgKz0gJzonO1xyXG4gICAgICAgICAgICAgICAgcmVzICs9IGVuY29kZXIodXNlcmluZm8uc3Vic3RyKGlkeCArIDEpLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzICs9ICdAJztcclxuICAgICAgICB9XHJcbiAgICAgICAgYXV0aG9yaXR5ID0gYXV0aG9yaXR5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWR4ID0gYXV0aG9yaXR5LmluZGV4T2YoJzonKTtcclxuICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICAgICAgICByZXMgKz0gZW5jb2RlcihhdXRob3JpdHksIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIDxhdXRoPjo8cG9ydD5cclxuICAgICAgICAgICAgcmVzICs9IGVuY29kZXIoYXV0aG9yaXR5LnN1YnN0cigwLCBpZHgpLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHJlcyArPSBhdXRob3JpdHkuc3Vic3RyKGlkeCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHBhdGgpIHtcclxuICAgICAgICAvLyBsb3dlci1jYXNlIHdpbmRvd3MgZHJpdmUgbGV0dGVycyBpbiAvQzovZmZmIG9yIEM6L2ZmZlxyXG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA+PSAzICYmIHBhdGguY2hhckNvZGVBdCgwKSA9PT0gNDcgLyogU2xhc2ggKi8gJiYgcGF0aC5jaGFyQ29kZUF0KDIpID09PSA1OCAvKiBDb2xvbiAqLykge1xyXG4gICAgICAgICAgICBjb25zdCBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KDEpO1xyXG4gICAgICAgICAgICBpZiAoY29kZSA+PSA2NSAvKiBBICovICYmIGNvZGUgPD0gOTAgLyogWiAqLykge1xyXG4gICAgICAgICAgICAgICAgcGF0aCA9IGAvJHtTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUgKyAzMil9OiR7cGF0aC5zdWJzdHIoMyl9YDsgLy8gXCIvYzpcIi5sZW5ndGggPT09IDNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwYXRoLmxlbmd0aCA+PSAyICYmIHBhdGguY2hhckNvZGVBdCgxKSA9PT0gNTggLyogQ29sb24gKi8pIHtcclxuICAgICAgICAgICAgY29uc3QgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcclxuICAgICAgICAgICAgaWYgKGNvZGUgPj0gNjUgLyogQSAqLyAmJiBjb2RlIDw9IDkwIC8qIFogKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGggPSBgJHtTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUgKyAzMil9OiR7cGF0aC5zdWJzdHIoMil9YDsgLy8gXCIvYzpcIi5sZW5ndGggPT09IDNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBlbmNvZGUgdGhlIHJlc3Qgb2YgdGhlIHBhdGhcclxuICAgICAgICByZXMgKz0gZW5jb2RlcihwYXRoLCB0cnVlKTtcclxuICAgIH1cclxuICAgIGlmIChxdWVyeSkge1xyXG4gICAgICAgIHJlcyArPSAnPyc7XHJcbiAgICAgICAgcmVzICs9IGVuY29kZXIocXVlcnksIGZhbHNlKTtcclxuICAgIH1cclxuICAgIGlmIChmcmFnbWVudCkge1xyXG4gICAgICAgIHJlcyArPSAnIyc7XHJcbiAgICAgICAgcmVzICs9ICFza2lwRW5jb2RpbmcgPyBlbmNvZGVVUklDb21wb25lbnRGYXN0KGZyYWdtZW50LCBmYWxzZSkgOiBmcmFnbWVudDtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuLy8gLS0tIGRlY29kZVxyXG5mdW5jdGlvbiBkZWNvZGVVUklDb21wb25lbnRHcmFjZWZ1bChzdHIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHIpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKF9hKSB7XHJcbiAgICAgICAgaWYgKHN0ci5sZW5ndGggPiAzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHIuc3Vic3RyKDAsIDMpICsgZGVjb2RlVVJJQ29tcG9uZW50R3JhY2VmdWwoc3RyLnN1YnN0cigzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jb25zdCBfckVuY29kZWRBc0hleCA9IC8oJVswLTlBLVphLXpdWzAtOUEtWmEtel0pKy9nO1xyXG5mdW5jdGlvbiBwZXJjZW50RGVjb2RlKHN0cikge1xyXG4gICAgaWYgKCFzdHIubWF0Y2goX3JFbmNvZGVkQXNIZXgpKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuICAgIHJldHVybiBzdHIucmVwbGFjZShfckVuY29kZWRBc0hleCwgKG1hdGNoKSA9PiBkZWNvZGVVUklDb21wb25lbnRHcmFjZWZ1bChtYXRjaCkpO1xyXG59XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuLyoqXHJcbiAqIEEgcG9zaXRpb24gaW4gdGhlIGVkaXRvci5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQb3NpdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihsaW5lTnVtYmVyLCBjb2x1bW4pIHtcclxuICAgICAgICB0aGlzLmxpbmVOdW1iZXIgPSBsaW5lTnVtYmVyO1xyXG4gICAgICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgcG9zaXRpb24gZnJvbSB0aGlzIHBvc2l0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuZXdMaW5lTnVtYmVyIG5ldyBsaW5lIG51bWJlclxyXG4gICAgICogQHBhcmFtIG5ld0NvbHVtbiBuZXcgY29sdW1uXHJcbiAgICAgKi9cclxuICAgIHdpdGgobmV3TGluZU51bWJlciA9IHRoaXMubGluZU51bWJlciwgbmV3Q29sdW1uID0gdGhpcy5jb2x1bW4pIHtcclxuICAgICAgICBpZiAobmV3TGluZU51bWJlciA9PT0gdGhpcy5saW5lTnVtYmVyICYmIG5ld0NvbHVtbiA9PT0gdGhpcy5jb2x1bW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKG5ld0xpbmVOdW1iZXIsIG5ld0NvbHVtbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXJpdmUgYSBuZXcgcG9zaXRpb24gZnJvbSB0aGlzIHBvc2l0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkZWx0YUxpbmVOdW1iZXIgbGluZSBudW1iZXIgZGVsdGFcclxuICAgICAqIEBwYXJhbSBkZWx0YUNvbHVtbiBjb2x1bW4gZGVsdGFcclxuICAgICAqL1xyXG4gICAgZGVsdGEoZGVsdGFMaW5lTnVtYmVyID0gMCwgZGVsdGFDb2x1bW4gPSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aCh0aGlzLmxpbmVOdW1iZXIgKyBkZWx0YUxpbmVOdW1iZXIsIHRoaXMuY29sdW1uICsgZGVsdGFDb2x1bW4pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGlmIHRoaXMgcG9zaXRpb24gZXF1YWxzIG90aGVyIHBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIGVxdWFscyhvdGhlcikge1xyXG4gICAgICAgIHJldHVybiBQb3NpdGlvbi5lcXVhbHModGhpcywgb3RoZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGlmIHBvc2l0aW9uIGBhYCBlcXVhbHMgcG9zaXRpb24gYGJgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBlcXVhbHMoYSwgYikge1xyXG4gICAgICAgIGlmICghYSAmJiAhYikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICghIWEgJiZcclxuICAgICAgICAgICAgISFiICYmXHJcbiAgICAgICAgICAgIGEubGluZU51bWJlciA9PT0gYi5saW5lTnVtYmVyICYmXHJcbiAgICAgICAgICAgIGEuY29sdW1uID09PSBiLmNvbHVtbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgaWYgdGhpcyBwb3NpdGlvbiBpcyBiZWZvcmUgb3RoZXIgcG9zaXRpb24uXHJcbiAgICAgKiBJZiB0aGUgdHdvIHBvc2l0aW9ucyBhcmUgZXF1YWwsIHRoZSByZXN1bHQgd2lsbCBiZSBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgaXNCZWZvcmUob3RoZXIpIHtcclxuICAgICAgICByZXR1cm4gUG9zaXRpb24uaXNCZWZvcmUodGhpcywgb3RoZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGlmIHBvc2l0aW9uIGBhYCBpcyBiZWZvcmUgcG9zaXRpb24gYGJgLlxyXG4gICAgICogSWYgdGhlIHR3byBwb3NpdGlvbnMgYXJlIGVxdWFsLCB0aGUgcmVzdWx0IHdpbGwgYmUgZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc0JlZm9yZShhLCBiKSB7XHJcbiAgICAgICAgaWYgKGEubGluZU51bWJlciA8IGIubGluZU51bWJlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGIubGluZU51bWJlciA8IGEubGluZU51bWJlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhLmNvbHVtbiA8IGIuY29sdW1uO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGlmIHRoaXMgcG9zaXRpb24gaXMgYmVmb3JlIG90aGVyIHBvc2l0aW9uLlxyXG4gICAgICogSWYgdGhlIHR3byBwb3NpdGlvbnMgYXJlIGVxdWFsLCB0aGUgcmVzdWx0IHdpbGwgYmUgdHJ1ZS5cclxuICAgICAqL1xyXG4gICAgaXNCZWZvcmVPckVxdWFsKG90aGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIFBvc2l0aW9uLmlzQmVmb3JlT3JFcXVhbCh0aGlzLCBvdGhlcik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgaWYgcG9zaXRpb24gYGFgIGlzIGJlZm9yZSBwb3NpdGlvbiBgYmAuXHJcbiAgICAgKiBJZiB0aGUgdHdvIHBvc2l0aW9ucyBhcmUgZXF1YWwsIHRoZSByZXN1bHQgd2lsbCBiZSB0cnVlLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgaXNCZWZvcmVPckVxdWFsKGEsIGIpIHtcclxuICAgICAgICBpZiAoYS5saW5lTnVtYmVyIDwgYi5saW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYi5saW5lTnVtYmVyIDwgYS5saW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGEuY29sdW1uIDw9IGIuY29sdW1uO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgY29tcGFyZXMgcG9zaXRpb25zLCB1c2VmdWwgZm9yIHNvcnRpbmdcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNvbXBhcmUoYSwgYikge1xyXG4gICAgICAgIGxldCBhTGluZU51bWJlciA9IGEubGluZU51bWJlciB8IDA7XHJcbiAgICAgICAgbGV0IGJMaW5lTnVtYmVyID0gYi5saW5lTnVtYmVyIHwgMDtcclxuICAgICAgICBpZiAoYUxpbmVOdW1iZXIgPT09IGJMaW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGxldCBhQ29sdW1uID0gYS5jb2x1bW4gfCAwO1xyXG4gICAgICAgICAgICBsZXQgYkNvbHVtbiA9IGIuY29sdW1uIHwgMDtcclxuICAgICAgICAgICAgcmV0dXJuIGFDb2x1bW4gLSBiQ29sdW1uO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYUxpbmVOdW1iZXIgLSBiTGluZU51bWJlcjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2xvbmUgdGhpcyBwb3NpdGlvbi5cclxuICAgICAqL1xyXG4gICAgY2xvbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbih0aGlzLmxpbmVOdW1iZXIsIHRoaXMuY29sdW1uKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydCB0byBhIGh1bWFuLXJlYWRhYmxlIHJlcHJlc2VudGF0aW9uLlxyXG4gICAgICovXHJcbiAgICB0b1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gJygnICsgdGhpcy5saW5lTnVtYmVyICsgJywnICsgdGhpcy5jb2x1bW4gKyAnKSc7XHJcbiAgICB9XHJcbiAgICAvLyAtLS1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgYFBvc2l0aW9uYCBmcm9tIGFuIGBJUG9zaXRpb25gLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbGlmdChwb3MpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKHBvcy5saW5lTnVtYmVyLCBwb3MuY29sdW1uKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGVzdCBpZiBgb2JqYCBpcyBhbiBgSVBvc2l0aW9uYC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGlzSVBvc2l0aW9uKG9iaikge1xyXG4gICAgICAgIHJldHVybiAob2JqXHJcbiAgICAgICAgICAgICYmICh0eXBlb2Ygb2JqLmxpbmVOdW1iZXIgPT09ICdudW1iZXInKVxyXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5jb2x1bW4gPT09ICdudW1iZXInKSk7XHJcbiAgICB9XHJcbn1cclxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4vcG9zaXRpb24uanMnO1xyXG4vKipcclxuICogQSByYW5nZSBpbiB0aGUgZWRpdG9yLiAoc3RhcnRMaW5lTnVtYmVyLHN0YXJ0Q29sdW1uKSBpcyA8PSAoZW5kTGluZU51bWJlcixlbmRDb2x1bW4pXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUmFuZ2Uge1xyXG4gICAgY29uc3RydWN0b3Ioc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgZW5kTGluZU51bWJlciwgZW5kQ29sdW1uKSB7XHJcbiAgICAgICAgaWYgKChzdGFydExpbmVOdW1iZXIgPiBlbmRMaW5lTnVtYmVyKSB8fCAoc3RhcnRMaW5lTnVtYmVyID09PSBlbmRMaW5lTnVtYmVyICYmIHN0YXJ0Q29sdW1uID4gZW5kQ29sdW1uKSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0TGluZU51bWJlciA9IGVuZExpbmVOdW1iZXI7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRDb2x1bW4gPSBlbmRDb2x1bW47XHJcbiAgICAgICAgICAgIHRoaXMuZW5kTGluZU51bWJlciA9IHN0YXJ0TGluZU51bWJlcjtcclxuICAgICAgICAgICAgdGhpcy5lbmRDb2x1bW4gPSBzdGFydENvbHVtbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRMaW5lTnVtYmVyID0gc3RhcnRMaW5lTnVtYmVyO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0Q29sdW1uID0gc3RhcnRDb2x1bW47XHJcbiAgICAgICAgICAgIHRoaXMuZW5kTGluZU51bWJlciA9IGVuZExpbmVOdW1iZXI7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kQ29sdW1uID0gZW5kQ29sdW1uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGVzdCBpZiB0aGlzIHJhbmdlIGlzIGVtcHR5LlxyXG4gICAgICovXHJcbiAgICBpc0VtcHR5KCkge1xyXG4gICAgICAgIHJldHVybiBSYW5nZS5pc0VtcHR5KHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGlmIGByYW5nZWAgaXMgZW1wdHkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc0VtcHR5KHJhbmdlKSB7XHJcbiAgICAgICAgcmV0dXJuIChyYW5nZS5zdGFydExpbmVOdW1iZXIgPT09IHJhbmdlLmVuZExpbmVOdW1iZXIgJiYgcmFuZ2Uuc3RhcnRDb2x1bW4gPT09IHJhbmdlLmVuZENvbHVtbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgaWYgcG9zaXRpb24gaXMgaW4gdGhpcyByYW5nZS4gSWYgdGhlIHBvc2l0aW9uIGlzIGF0IHRoZSBlZGdlcywgd2lsbCByZXR1cm4gdHJ1ZS5cclxuICAgICAqL1xyXG4gICAgY29udGFpbnNQb3NpdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIHJldHVybiBSYW5nZS5jb250YWluc1Bvc2l0aW9uKHRoaXMsIHBvc2l0aW9uKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGVzdCBpZiBgcG9zaXRpb25gIGlzIGluIGByYW5nZWAuIElmIHRoZSBwb3NpdGlvbiBpcyBhdCB0aGUgZWRnZXMsIHdpbGwgcmV0dXJuIHRydWUuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjb250YWluc1Bvc2l0aW9uKHJhbmdlLCBwb3NpdGlvbikge1xyXG4gICAgICAgIGlmIChwb3NpdGlvbi5saW5lTnVtYmVyIDwgcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIHx8IHBvc2l0aW9uLmxpbmVOdW1iZXIgPiByYW5nZS5lbmRMaW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uLmxpbmVOdW1iZXIgPT09IHJhbmdlLnN0YXJ0TGluZU51bWJlciAmJiBwb3NpdGlvbi5jb2x1bW4gPCByYW5nZS5zdGFydENvbHVtbikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwb3NpdGlvbi5saW5lTnVtYmVyID09PSByYW5nZS5lbmRMaW5lTnVtYmVyICYmIHBvc2l0aW9uLmNvbHVtbiA+IHJhbmdlLmVuZENvbHVtbikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGlmIHJhbmdlIGlzIGluIHRoaXMgcmFuZ2UuIElmIHRoZSByYW5nZSBpcyBlcXVhbCB0byB0aGlzIHJhbmdlLCB3aWxsIHJldHVybiB0cnVlLlxyXG4gICAgICovXHJcbiAgICBjb250YWluc1JhbmdlKHJhbmdlKSB7XHJcbiAgICAgICAgcmV0dXJuIFJhbmdlLmNvbnRhaW5zUmFuZ2UodGhpcywgcmFuZ2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGlmIGBvdGhlclJhbmdlYCBpcyBpbiBgcmFuZ2VgLiBJZiB0aGUgcmFuZ2VzIGFyZSBlcXVhbCwgd2lsbCByZXR1cm4gdHJ1ZS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNvbnRhaW5zUmFuZ2UocmFuZ2UsIG90aGVyUmFuZ2UpIHtcclxuICAgICAgICBpZiAob3RoZXJSYW5nZS5zdGFydExpbmVOdW1iZXIgPCByYW5nZS5zdGFydExpbmVOdW1iZXIgfHwgb3RoZXJSYW5nZS5lbmRMaW5lTnVtYmVyIDwgcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG90aGVyUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID4gcmFuZ2UuZW5kTGluZU51bWJlciB8fCBvdGhlclJhbmdlLmVuZExpbmVOdW1iZXIgPiByYW5nZS5lbmRMaW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG90aGVyUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID09PSByYW5nZS5zdGFydExpbmVOdW1iZXIgJiYgb3RoZXJSYW5nZS5zdGFydENvbHVtbiA8IHJhbmdlLnN0YXJ0Q29sdW1uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG90aGVyUmFuZ2UuZW5kTGluZU51bWJlciA9PT0gcmFuZ2UuZW5kTGluZU51bWJlciAmJiBvdGhlclJhbmdlLmVuZENvbHVtbiA+IHJhbmdlLmVuZENvbHVtbikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGlmIGByYW5nZWAgaXMgc3RyaWN0bHkgaW4gdGhpcyByYW5nZS4gYHJhbmdlYCBtdXN0IHN0YXJ0IGFmdGVyIGFuZCBlbmQgYmVmb3JlIHRoaXMgcmFuZ2UgZm9yIHRoZSByZXN1bHQgdG8gYmUgdHJ1ZS5cclxuICAgICAqL1xyXG4gICAgc3RyaWN0Q29udGFpbnNSYW5nZShyYW5nZSkge1xyXG4gICAgICAgIHJldHVybiBSYW5nZS5zdHJpY3RDb250YWluc1JhbmdlKHRoaXMsIHJhbmdlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGVzdCBpZiBgb3RoZXJSYW5nZWAgaXMgc3RyaW5jdGx5IGluIGByYW5nZWAgKG11c3Qgc3RhcnQgYWZ0ZXIsIGFuZCBlbmQgYmVmb3JlKS4gSWYgdGhlIHJhbmdlcyBhcmUgZXF1YWwsIHdpbGwgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc3RyaWN0Q29udGFpbnNSYW5nZShyYW5nZSwgb3RoZXJSYW5nZSkge1xyXG4gICAgICAgIGlmIChvdGhlclJhbmdlLnN0YXJ0TGluZU51bWJlciA8IHJhbmdlLnN0YXJ0TGluZU51bWJlciB8fCBvdGhlclJhbmdlLmVuZExpbmVOdW1iZXIgPCByYW5nZS5zdGFydExpbmVOdW1iZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3RoZXJSYW5nZS5zdGFydExpbmVOdW1iZXIgPiByYW5nZS5lbmRMaW5lTnVtYmVyIHx8IG90aGVyUmFuZ2UuZW5kTGluZU51bWJlciA+IHJhbmdlLmVuZExpbmVOdW1iZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3RoZXJSYW5nZS5zdGFydExpbmVOdW1iZXIgPT09IHJhbmdlLnN0YXJ0TGluZU51bWJlciAmJiBvdGhlclJhbmdlLnN0YXJ0Q29sdW1uIDw9IHJhbmdlLnN0YXJ0Q29sdW1uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG90aGVyUmFuZ2UuZW5kTGluZU51bWJlciA9PT0gcmFuZ2UuZW5kTGluZU51bWJlciAmJiBvdGhlclJhbmdlLmVuZENvbHVtbiA+PSByYW5nZS5lbmRDb2x1bW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQSByZXVuaW9uIG9mIHRoZSB0d28gcmFuZ2VzLlxyXG4gICAgICogVGhlIHNtYWxsZXN0IHBvc2l0aW9uIHdpbGwgYmUgdXNlZCBhcyB0aGUgc3RhcnQgcG9pbnQsIGFuZCB0aGUgbGFyZ2VzdCBvbmUgYXMgdGhlIGVuZCBwb2ludC5cclxuICAgICAqL1xyXG4gICAgcGx1c1JhbmdlKHJhbmdlKSB7XHJcbiAgICAgICAgcmV0dXJuIFJhbmdlLnBsdXNSYW5nZSh0aGlzLCByYW5nZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEEgcmV1bmlvbiBvZiB0aGUgdHdvIHJhbmdlcy5cclxuICAgICAqIFRoZSBzbWFsbGVzdCBwb3NpdGlvbiB3aWxsIGJlIHVzZWQgYXMgdGhlIHN0YXJ0IHBvaW50LCBhbmQgdGhlIGxhcmdlc3Qgb25lIGFzIHRoZSBlbmQgcG9pbnQuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBwbHVzUmFuZ2UoYSwgYikge1xyXG4gICAgICAgIGxldCBzdGFydExpbmVOdW1iZXI7XHJcbiAgICAgICAgbGV0IHN0YXJ0Q29sdW1uO1xyXG4gICAgICAgIGxldCBlbmRMaW5lTnVtYmVyO1xyXG4gICAgICAgIGxldCBlbmRDb2x1bW47XHJcbiAgICAgICAgaWYgKGIuc3RhcnRMaW5lTnVtYmVyIDwgYS5zdGFydExpbmVOdW1iZXIpIHtcclxuICAgICAgICAgICAgc3RhcnRMaW5lTnVtYmVyID0gYi5zdGFydExpbmVOdW1iZXI7XHJcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gYi5zdGFydENvbHVtbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYi5zdGFydExpbmVOdW1iZXIgPT09IGEuc3RhcnRMaW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlciA9IGIuc3RhcnRMaW5lTnVtYmVyO1xyXG4gICAgICAgICAgICBzdGFydENvbHVtbiA9IE1hdGgubWluKGIuc3RhcnRDb2x1bW4sIGEuc3RhcnRDb2x1bW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc3RhcnRMaW5lTnVtYmVyID0gYS5zdGFydExpbmVOdW1iZXI7XHJcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gYS5zdGFydENvbHVtbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGIuZW5kTGluZU51bWJlciA+IGEuZW5kTGluZU51bWJlcikge1xyXG4gICAgICAgICAgICBlbmRMaW5lTnVtYmVyID0gYi5lbmRMaW5lTnVtYmVyO1xyXG4gICAgICAgICAgICBlbmRDb2x1bW4gPSBiLmVuZENvbHVtbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYi5lbmRMaW5lTnVtYmVyID09PSBhLmVuZExpbmVOdW1iZXIpIHtcclxuICAgICAgICAgICAgZW5kTGluZU51bWJlciA9IGIuZW5kTGluZU51bWJlcjtcclxuICAgICAgICAgICAgZW5kQ29sdW1uID0gTWF0aC5tYXgoYi5lbmRDb2x1bW4sIGEuZW5kQ29sdW1uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVuZExpbmVOdW1iZXIgPSBhLmVuZExpbmVOdW1iZXI7XHJcbiAgICAgICAgICAgIGVuZENvbHVtbiA9IGEuZW5kQ29sdW1uO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEEgaW50ZXJzZWN0aW9uIG9mIHRoZSB0d28gcmFuZ2VzLlxyXG4gICAgICovXHJcbiAgICBpbnRlcnNlY3RSYW5nZXMocmFuZ2UpIHtcclxuICAgICAgICByZXR1cm4gUmFuZ2UuaW50ZXJzZWN0UmFuZ2VzKHRoaXMsIHJhbmdlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQSBpbnRlcnNlY3Rpb24gb2YgdGhlIHR3byByYW5nZXMuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpbnRlcnNlY3RSYW5nZXMoYSwgYikge1xyXG4gICAgICAgIGxldCByZXN1bHRTdGFydExpbmVOdW1iZXIgPSBhLnN0YXJ0TGluZU51bWJlcjtcclxuICAgICAgICBsZXQgcmVzdWx0U3RhcnRDb2x1bW4gPSBhLnN0YXJ0Q29sdW1uO1xyXG4gICAgICAgIGxldCByZXN1bHRFbmRMaW5lTnVtYmVyID0gYS5lbmRMaW5lTnVtYmVyO1xyXG4gICAgICAgIGxldCByZXN1bHRFbmRDb2x1bW4gPSBhLmVuZENvbHVtbjtcclxuICAgICAgICBsZXQgb3RoZXJTdGFydExpbmVOdW1iZXIgPSBiLnN0YXJ0TGluZU51bWJlcjtcclxuICAgICAgICBsZXQgb3RoZXJTdGFydENvbHVtbiA9IGIuc3RhcnRDb2x1bW47XHJcbiAgICAgICAgbGV0IG90aGVyRW5kTGluZU51bWJlciA9IGIuZW5kTGluZU51bWJlcjtcclxuICAgICAgICBsZXQgb3RoZXJFbmRDb2x1bW4gPSBiLmVuZENvbHVtbjtcclxuICAgICAgICBpZiAocmVzdWx0U3RhcnRMaW5lTnVtYmVyIDwgb3RoZXJTdGFydExpbmVOdW1iZXIpIHtcclxuICAgICAgICAgICAgcmVzdWx0U3RhcnRMaW5lTnVtYmVyID0gb3RoZXJTdGFydExpbmVOdW1iZXI7XHJcbiAgICAgICAgICAgIHJlc3VsdFN0YXJ0Q29sdW1uID0gb3RoZXJTdGFydENvbHVtbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocmVzdWx0U3RhcnRMaW5lTnVtYmVyID09PSBvdGhlclN0YXJ0TGluZU51bWJlcikge1xyXG4gICAgICAgICAgICByZXN1bHRTdGFydENvbHVtbiA9IE1hdGgubWF4KHJlc3VsdFN0YXJ0Q29sdW1uLCBvdGhlclN0YXJ0Q29sdW1uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlc3VsdEVuZExpbmVOdW1iZXIgPiBvdGhlckVuZExpbmVOdW1iZXIpIHtcclxuICAgICAgICAgICAgcmVzdWx0RW5kTGluZU51bWJlciA9IG90aGVyRW5kTGluZU51bWJlcjtcclxuICAgICAgICAgICAgcmVzdWx0RW5kQ29sdW1uID0gb3RoZXJFbmRDb2x1bW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdEVuZExpbmVOdW1iZXIgPT09IG90aGVyRW5kTGluZU51bWJlcikge1xyXG4gICAgICAgICAgICByZXN1bHRFbmRDb2x1bW4gPSBNYXRoLm1pbihyZXN1bHRFbmRDb2x1bW4sIG90aGVyRW5kQ29sdW1uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgc2VsZWN0aW9uIGlzIG5vdyBlbXB0eVxyXG4gICAgICAgIGlmIChyZXN1bHRTdGFydExpbmVOdW1iZXIgPiByZXN1bHRFbmRMaW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVzdWx0U3RhcnRMaW5lTnVtYmVyID09PSByZXN1bHRFbmRMaW5lTnVtYmVyICYmIHJlc3VsdFN0YXJ0Q29sdW1uID4gcmVzdWx0RW5kQ29sdW1uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHJlc3VsdFN0YXJ0TGluZU51bWJlciwgcmVzdWx0U3RhcnRDb2x1bW4sIHJlc3VsdEVuZExpbmVOdW1iZXIsIHJlc3VsdEVuZENvbHVtbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgaWYgdGhpcyByYW5nZSBlcXVhbHMgb3RoZXIuXHJcbiAgICAgKi9cclxuICAgIGVxdWFsc1JhbmdlKG90aGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIFJhbmdlLmVxdWFsc1JhbmdlKHRoaXMsIG90aGVyKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGVzdCBpZiByYW5nZSBgYWAgZXF1YWxzIGBiYC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGVxdWFsc1JhbmdlKGEsIGIpIHtcclxuICAgICAgICByZXR1cm4gKCEhYSAmJlxyXG4gICAgICAgICAgICAhIWIgJiZcclxuICAgICAgICAgICAgYS5zdGFydExpbmVOdW1iZXIgPT09IGIuc3RhcnRMaW5lTnVtYmVyICYmXHJcbiAgICAgICAgICAgIGEuc3RhcnRDb2x1bW4gPT09IGIuc3RhcnRDb2x1bW4gJiZcclxuICAgICAgICAgICAgYS5lbmRMaW5lTnVtYmVyID09PSBiLmVuZExpbmVOdW1iZXIgJiZcclxuICAgICAgICAgICAgYS5lbmRDb2x1bW4gPT09IGIuZW5kQ29sdW1uKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBlbmQgcG9zaXRpb24gKHdoaWNoIHdpbGwgYmUgYWZ0ZXIgb3IgZXF1YWwgdG8gdGhlIHN0YXJ0IHBvc2l0aW9uKVxyXG4gICAgICovXHJcbiAgICBnZXRFbmRQb3NpdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gUmFuZ2UuZ2V0RW5kUG9zaXRpb24odGhpcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0aGUgZW5kIHBvc2l0aW9uICh3aGljaCB3aWxsIGJlIGFmdGVyIG9yIGVxdWFsIHRvIHRoZSBzdGFydCBwb3NpdGlvbilcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldEVuZFBvc2l0aW9uKHJhbmdlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbihyYW5nZS5lbmRMaW5lTnVtYmVyLCByYW5nZS5lbmRDb2x1bW4pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gdGhlIHN0YXJ0IHBvc2l0aW9uICh3aGljaCB3aWxsIGJlIGJlZm9yZSBvciBlcXVhbCB0byB0aGUgZW5kIHBvc2l0aW9uKVxyXG4gICAgICovXHJcbiAgICBnZXRTdGFydFBvc2l0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBSYW5nZS5nZXRTdGFydFBvc2l0aW9uKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gdGhlIHN0YXJ0IHBvc2l0aW9uICh3aGljaCB3aWxsIGJlIGJlZm9yZSBvciBlcXVhbCB0byB0aGUgZW5kIHBvc2l0aW9uKVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0U3RhcnRQb3NpdGlvbihyYW5nZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24ocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCByYW5nZS5zdGFydENvbHVtbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSB0byBhIHVzZXIgcHJlc2VudGFibGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxyXG4gICAgICovXHJcbiAgICB0b1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gJ1snICsgdGhpcy5zdGFydExpbmVOdW1iZXIgKyAnLCcgKyB0aGlzLnN0YXJ0Q29sdW1uICsgJyAtPiAnICsgdGhpcy5lbmRMaW5lTnVtYmVyICsgJywnICsgdGhpcy5lbmRDb2x1bW4gKyAnXSc7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyByYW5nZSB1c2luZyB0aGlzIHJhbmdlJ3Mgc3RhcnQgcG9zaXRpb24sIGFuZCB1c2luZyBlbmRMaW5lTnVtYmVyIGFuZCBlbmRDb2x1bW4gYXMgdGhlIGVuZCBwb3NpdGlvbi5cclxuICAgICAqL1xyXG4gICAgc2V0RW5kUG9zaXRpb24oZW5kTGluZU51bWJlciwgZW5kQ29sdW1uKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0TGluZU51bWJlciwgdGhpcy5zdGFydENvbHVtbiwgZW5kTGluZU51bWJlciwgZW5kQ29sdW1uKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IHJhbmdlIHVzaW5nIHRoaXMgcmFuZ2UncyBlbmQgcG9zaXRpb24sIGFuZCB1c2luZyBzdGFydExpbmVOdW1iZXIgYW5kIHN0YXJ0Q29sdW1uIGFzIHRoZSBzdGFydCBwb3NpdGlvbi5cclxuICAgICAqL1xyXG4gICAgc2V0U3RhcnRQb3NpdGlvbihzdGFydExpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydExpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uLCB0aGlzLmVuZExpbmVOdW1iZXIsIHRoaXMuZW5kQ29sdW1uKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IGVtcHR5IHJhbmdlIHVzaW5nIHRoaXMgcmFuZ2UncyBzdGFydCBwb3NpdGlvbi5cclxuICAgICAqL1xyXG4gICAgY29sbGFwc2VUb1N0YXJ0KCkge1xyXG4gICAgICAgIHJldHVybiBSYW5nZS5jb2xsYXBzZVRvU3RhcnQodGhpcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBlbXB0eSByYW5nZSB1c2luZyB0aGlzIHJhbmdlJ3Mgc3RhcnQgcG9zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjb2xsYXBzZVRvU3RhcnQocmFuZ2UpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLnN0YXJ0TGluZU51bWJlciwgcmFuZ2Uuc3RhcnRDb2x1bW4sIHJhbmdlLnN0YXJ0TGluZU51bWJlciwgcmFuZ2Uuc3RhcnRDb2x1bW4pO1xyXG4gICAgfVxyXG4gICAgLy8gLS0tXHJcbiAgICBzdGF0aWMgZnJvbVBvc2l0aW9ucyhzdGFydCwgZW5kID0gc3RhcnQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LmxpbmVOdW1iZXIsIHN0YXJ0LmNvbHVtbiwgZW5kLmxpbmVOdW1iZXIsIGVuZC5jb2x1bW4pO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGxpZnQocmFuZ2UpIHtcclxuICAgICAgICBpZiAoIXJhbmdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLnN0YXJ0TGluZU51bWJlciwgcmFuZ2Uuc3RhcnRDb2x1bW4sIHJhbmdlLmVuZExpbmVOdW1iZXIsIHJhbmdlLmVuZENvbHVtbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgaWYgYG9iamAgaXMgYW4gYElSYW5nZWAuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc0lSYW5nZShvYmopIHtcclxuICAgICAgICByZXR1cm4gKG9ialxyXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5zdGFydExpbmVOdW1iZXIgPT09ICdudW1iZXInKVxyXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5zdGFydENvbHVtbiA9PT0gJ251bWJlcicpXHJcbiAgICAgICAgICAgICYmICh0eXBlb2Ygb2JqLmVuZExpbmVOdW1iZXIgPT09ICdudW1iZXInKVxyXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5lbmRDb2x1bW4gPT09ICdudW1iZXInKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgaWYgdGhlIHR3byByYW5nZXMgYXJlIHRvdWNoaW5nIGluIGFueSB3YXkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhcmVJbnRlcnNlY3RpbmdPclRvdWNoaW5nKGEsIGIpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiBgYWAgaXMgYmVmb3JlIGBiYFxyXG4gICAgICAgIGlmIChhLmVuZExpbmVOdW1iZXIgPCBiLnN0YXJ0TGluZU51bWJlciB8fCAoYS5lbmRMaW5lTnVtYmVyID09PSBiLnN0YXJ0TGluZU51bWJlciAmJiBhLmVuZENvbHVtbiA8IGIuc3RhcnRDb2x1bW4pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgYGJgIGlzIGJlZm9yZSBgYWBcclxuICAgICAgICBpZiAoYi5lbmRMaW5lTnVtYmVyIDwgYS5zdGFydExpbmVOdW1iZXIgfHwgKGIuZW5kTGluZU51bWJlciA9PT0gYS5zdGFydExpbmVOdW1iZXIgJiYgYi5lbmRDb2x1bW4gPCBhLnN0YXJ0Q29sdW1uKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRoZXNlIHJhbmdlcyBtdXN0IGludGVyc2VjdFxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGlmIHRoZSB0d28gcmFuZ2VzIGFyZSBpbnRlcnNlY3RpbmcuIElmIHRoZSByYW5nZXMgYXJlIHRvdWNoaW5nIGl0IHJldHVybnMgdHJ1ZS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFyZUludGVyc2VjdGluZyhhLCBiKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgYGFgIGlzIGJlZm9yZSBgYmBcclxuICAgICAgICBpZiAoYS5lbmRMaW5lTnVtYmVyIDwgYi5zdGFydExpbmVOdW1iZXIgfHwgKGEuZW5kTGluZU51bWJlciA9PT0gYi5zdGFydExpbmVOdW1iZXIgJiYgYS5lbmRDb2x1bW4gPD0gYi5zdGFydENvbHVtbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBpZiBgYmAgaXMgYmVmb3JlIGBhYFxyXG4gICAgICAgIGlmIChiLmVuZExpbmVOdW1iZXIgPCBhLnN0YXJ0TGluZU51bWJlciB8fCAoYi5lbmRMaW5lTnVtYmVyID09PSBhLnN0YXJ0TGluZU51bWJlciAmJiBiLmVuZENvbHVtbiA8PSBhLnN0YXJ0Q29sdW1uKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRoZXNlIHJhbmdlcyBtdXN0IGludGVyc2VjdFxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgY29tcGFyZXMgcmFuZ2VzLCB1c2VmdWwgZm9yIHNvcnRpbmcgcmFuZ2VzXHJcbiAgICAgKiBJdCB3aWxsIGZpcnN0IGNvbXBhcmUgcmFuZ2VzIG9uIHRoZSBzdGFydFBvc2l0aW9uIGFuZCB0aGVuIG9uIHRoZSBlbmRQb3NpdGlvblxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY29tcGFyZVJhbmdlc1VzaW5nU3RhcnRzKGEsIGIpIHtcclxuICAgICAgICBpZiAoYSAmJiBiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFTdGFydExpbmVOdW1iZXIgPSBhLnN0YXJ0TGluZU51bWJlciB8IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGJTdGFydExpbmVOdW1iZXIgPSBiLnN0YXJ0TGluZU51bWJlciB8IDA7XHJcbiAgICAgICAgICAgIGlmIChhU3RhcnRMaW5lTnVtYmVyID09PSBiU3RhcnRMaW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhU3RhcnRDb2x1bW4gPSBhLnN0YXJ0Q29sdW1uIHwgMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJTdGFydENvbHVtbiA9IGIuc3RhcnRDb2x1bW4gfCAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFTdGFydENvbHVtbiA9PT0gYlN0YXJ0Q29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYUVuZExpbmVOdW1iZXIgPSBhLmVuZExpbmVOdW1iZXIgfCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJFbmRMaW5lTnVtYmVyID0gYi5lbmRMaW5lTnVtYmVyIHwgMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYUVuZExpbmVOdW1iZXIgPT09IGJFbmRMaW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFFbmRDb2x1bW4gPSBhLmVuZENvbHVtbiB8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJFbmRDb2x1bW4gPSBiLmVuZENvbHVtbiB8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhRW5kQ29sdW1uIC0gYkVuZENvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFFbmRMaW5lTnVtYmVyIC0gYkVuZExpbmVOdW1iZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYVN0YXJ0Q29sdW1uIC0gYlN0YXJ0Q29sdW1uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhU3RhcnRMaW5lTnVtYmVyIC0gYlN0YXJ0TGluZU51bWJlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYUV4aXN0cyA9IChhID8gMSA6IDApO1xyXG4gICAgICAgIGNvbnN0IGJFeGlzdHMgPSAoYiA/IDEgOiAwKTtcclxuICAgICAgICByZXR1cm4gYUV4aXN0cyAtIGJFeGlzdHM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEEgZnVuY3Rpb24gdGhhdCBjb21wYXJlcyByYW5nZXMsIHVzZWZ1bCBmb3Igc29ydGluZyByYW5nZXNcclxuICAgICAqIEl0IHdpbGwgZmlyc3QgY29tcGFyZSByYW5nZXMgb24gdGhlIGVuZFBvc2l0aW9uIGFuZCB0aGVuIG9uIHRoZSBzdGFydFBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjb21wYXJlUmFuZ2VzVXNpbmdFbmRzKGEsIGIpIHtcclxuICAgICAgICBpZiAoYS5lbmRMaW5lTnVtYmVyID09PSBiLmVuZExpbmVOdW1iZXIpIHtcclxuICAgICAgICAgICAgaWYgKGEuZW5kQ29sdW1uID09PSBiLmVuZENvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGEuc3RhcnRMaW5lTnVtYmVyID09PSBiLnN0YXJ0TGluZU51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhLnN0YXJ0Q29sdW1uIC0gYi5zdGFydENvbHVtbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBhLnN0YXJ0TGluZU51bWJlciAtIGIuc3RhcnRMaW5lTnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhLmVuZENvbHVtbiAtIGIuZW5kQ29sdW1uO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYS5lbmRMaW5lTnVtYmVyIC0gYi5lbmRMaW5lTnVtYmVyO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGlmIHRoZSByYW5nZSBzcGFucyBtdWx0aXBsZSBsaW5lcy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNwYW5zTXVsdGlwbGVMaW5lcyhyYW5nZSkge1xyXG4gICAgICAgIHJldHVybiByYW5nZS5lbmRMaW5lTnVtYmVyID4gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyO1xyXG4gICAgfVxyXG59XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuaW1wb3J0IHsgTGNzRGlmZiB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2RpZmYvZGlmZi5qcyc7XHJcbmltcG9ydCAqIGFzIHN0cmluZ3MgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vc3RyaW5ncy5qcyc7XHJcbmNvbnN0IE1JTklNVU1fTUFUQ0hJTkdfQ0hBUkFDVEVSX0xFTkdUSCA9IDM7XHJcbmZ1bmN0aW9uIGNvbXB1dGVEaWZmKG9yaWdpbmFsU2VxdWVuY2UsIG1vZGlmaWVkU2VxdWVuY2UsIGNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSwgcHJldHR5KSB7XHJcbiAgICBjb25zdCBkaWZmQWxnbyA9IG5ldyBMY3NEaWZmKG9yaWdpbmFsU2VxdWVuY2UsIG1vZGlmaWVkU2VxdWVuY2UsIGNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSk7XHJcbiAgICByZXR1cm4gZGlmZkFsZ28uQ29tcHV0ZURpZmYocHJldHR5KTtcclxufVxyXG5jbGFzcyBMaW5lU2VxdWVuY2Uge1xyXG4gICAgY29uc3RydWN0b3IobGluZXMpIHtcclxuICAgICAgICBjb25zdCBzdGFydENvbHVtbnMgPSBbXTtcclxuICAgICAgICBjb25zdCBlbmRDb2x1bW5zID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGxpbmVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uc1tpXSA9IGdldEZpcnN0Tm9uQmxhbmtDb2x1bW4obGluZXNbaV0sIDEpO1xyXG4gICAgICAgICAgICBlbmRDb2x1bW5zW2ldID0gZ2V0TGFzdE5vbkJsYW5rQ29sdW1uKGxpbmVzW2ldLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5saW5lcyA9IGxpbmVzO1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0Q29sdW1ucyA9IHN0YXJ0Q29sdW1ucztcclxuICAgICAgICB0aGlzLl9lbmRDb2x1bW5zID0gZW5kQ29sdW1ucztcclxuICAgIH1cclxuICAgIGdldEVsZW1lbnRzKCkge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMubGluZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgZWxlbWVudHNbaV0gPSB0aGlzLmxpbmVzW2ldLnN1YnN0cmluZyh0aGlzLl9zdGFydENvbHVtbnNbaV0gLSAxLCB0aGlzLl9lbmRDb2x1bW5zW2ldIC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbGVtZW50cztcclxuICAgIH1cclxuICAgIGdldFN0YXJ0TGluZU51bWJlcihpKSB7XHJcbiAgICAgICAgcmV0dXJuIGkgKyAxO1xyXG4gICAgfVxyXG4gICAgZ2V0RW5kTGluZU51bWJlcihpKSB7XHJcbiAgICAgICAgcmV0dXJuIGkgKyAxO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlQ2hhclNlcXVlbmNlKHNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlLCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xyXG4gICAgICAgIGNvbnN0IGNoYXJDb2RlcyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGxpbmVOdW1iZXJzID0gW107XHJcbiAgICAgICAgY29uc3QgY29sdW1ucyA9IFtdO1xyXG4gICAgICAgIGxldCBsZW4gPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gc3RhcnRJbmRleDsgaW5kZXggPD0gZW5kSW5kZXg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgY29uc3QgbGluZUNvbnRlbnQgPSB0aGlzLmxpbmVzW2luZGV4XTtcclxuICAgICAgICAgICAgY29uc3Qgc3RhcnRDb2x1bW4gPSAoc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UgPyB0aGlzLl9zdGFydENvbHVtbnNbaW5kZXhdIDogMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZENvbHVtbiA9IChzaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSA/IHRoaXMuX2VuZENvbHVtbnNbaW5kZXhdIDogbGluZUNvbnRlbnQubGVuZ3RoICsgMSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IHN0YXJ0Q29sdW1uOyBjb2wgPCBlbmRDb2x1bW47IGNvbCsrKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFyQ29kZXNbbGVuXSA9IGxpbmVDb250ZW50LmNoYXJDb2RlQXQoY29sIC0gMSk7XHJcbiAgICAgICAgICAgICAgICBsaW5lTnVtYmVyc1tsZW5dID0gaW5kZXggKyAxO1xyXG4gICAgICAgICAgICAgICAgY29sdW1uc1tsZW5dID0gY29sO1xyXG4gICAgICAgICAgICAgICAgbGVuKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFyU2VxdWVuY2UoY2hhckNvZGVzLCBsaW5lTnVtYmVycywgY29sdW1ucyk7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgQ2hhclNlcXVlbmNlIHtcclxuICAgIGNvbnN0cnVjdG9yKGNoYXJDb2RlcywgbGluZU51bWJlcnMsIGNvbHVtbnMpIHtcclxuICAgICAgICB0aGlzLl9jaGFyQ29kZXMgPSBjaGFyQ29kZXM7XHJcbiAgICAgICAgdGhpcy5fbGluZU51bWJlcnMgPSBsaW5lTnVtYmVycztcclxuICAgICAgICB0aGlzLl9jb2x1bW5zID0gY29sdW1ucztcclxuICAgIH1cclxuICAgIGdldEVsZW1lbnRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jaGFyQ29kZXM7XHJcbiAgICB9XHJcbiAgICBnZXRTdGFydExpbmVOdW1iZXIoaSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lTnVtYmVyc1tpXTtcclxuICAgIH1cclxuICAgIGdldFN0YXJ0Q29sdW1uKGkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29sdW1uc1tpXTtcclxuICAgIH1cclxuICAgIGdldEVuZExpbmVOdW1iZXIoaSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lTnVtYmVyc1tpXTtcclxuICAgIH1cclxuICAgIGdldEVuZENvbHVtbihpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbHVtbnNbaV0gKyAxO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIENoYXJDaGFuZ2Uge1xyXG4gICAgY29uc3RydWN0b3Iob3JpZ2luYWxTdGFydExpbmVOdW1iZXIsIG9yaWdpbmFsU3RhcnRDb2x1bW4sIG9yaWdpbmFsRW5kTGluZU51bWJlciwgb3JpZ2luYWxFbmRDb2x1bW4sIG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyLCBtb2RpZmllZFN0YXJ0Q29sdW1uLCBtb2RpZmllZEVuZExpbmVOdW1iZXIsIG1vZGlmaWVkRW5kQ29sdW1uKSB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbFN0YXJ0TGluZU51bWJlciA9IG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyO1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxTdGFydENvbHVtbiA9IG9yaWdpbmFsU3RhcnRDb2x1bW47XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEVuZExpbmVOdW1iZXIgPSBvcmlnaW5hbEVuZExpbmVOdW1iZXI7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEVuZENvbHVtbiA9IG9yaWdpbmFsRW5kQ29sdW1uO1xyXG4gICAgICAgIHRoaXMubW9kaWZpZWRTdGFydExpbmVOdW1iZXIgPSBtb2RpZmllZFN0YXJ0TGluZU51bWJlcjtcclxuICAgICAgICB0aGlzLm1vZGlmaWVkU3RhcnRDb2x1bW4gPSBtb2RpZmllZFN0YXJ0Q29sdW1uO1xyXG4gICAgICAgIHRoaXMubW9kaWZpZWRFbmRMaW5lTnVtYmVyID0gbW9kaWZpZWRFbmRMaW5lTnVtYmVyO1xyXG4gICAgICAgIHRoaXMubW9kaWZpZWRFbmRDb2x1bW4gPSBtb2RpZmllZEVuZENvbHVtbjtcclxuICAgIH1cclxuICAgIHN0YXRpYyBjcmVhdGVGcm9tRGlmZkNoYW5nZShkaWZmQ2hhbmdlLCBvcmlnaW5hbENoYXJTZXF1ZW5jZSwgbW9kaWZpZWRDaGFyU2VxdWVuY2UpIHtcclxuICAgICAgICBsZXQgb3JpZ2luYWxTdGFydExpbmVOdW1iZXI7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsU3RhcnRDb2x1bW47XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsRW5kTGluZU51bWJlcjtcclxuICAgICAgICBsZXQgb3JpZ2luYWxFbmRDb2x1bW47XHJcbiAgICAgICAgbGV0IG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyO1xyXG4gICAgICAgIGxldCBtb2RpZmllZFN0YXJ0Q29sdW1uO1xyXG4gICAgICAgIGxldCBtb2RpZmllZEVuZExpbmVOdW1iZXI7XHJcbiAgICAgICAgbGV0IG1vZGlmaWVkRW5kQ29sdW1uO1xyXG4gICAgICAgIGlmIChkaWZmQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyID0gMDtcclxuICAgICAgICAgICAgb3JpZ2luYWxTdGFydENvbHVtbiA9IDA7XHJcbiAgICAgICAgICAgIG9yaWdpbmFsRW5kTGluZU51bWJlciA9IDA7XHJcbiAgICAgICAgICAgIG9yaWdpbmFsRW5kQ29sdW1uID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyID0gb3JpZ2luYWxDaGFyU2VxdWVuY2UuZ2V0U3RhcnRMaW5lTnVtYmVyKGRpZmZDaGFuZ2Uub3JpZ2luYWxTdGFydCk7XHJcbiAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRDb2x1bW4gPSBvcmlnaW5hbENoYXJTZXF1ZW5jZS5nZXRTdGFydENvbHVtbihkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQpO1xyXG4gICAgICAgICAgICBvcmlnaW5hbEVuZExpbmVOdW1iZXIgPSBvcmlnaW5hbENoYXJTZXF1ZW5jZS5nZXRFbmRMaW5lTnVtYmVyKGRpZmZDaGFuZ2Uub3JpZ2luYWxTdGFydCArIGRpZmZDaGFuZ2Uub3JpZ2luYWxMZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgb3JpZ2luYWxFbmRDb2x1bW4gPSBvcmlnaW5hbENoYXJTZXF1ZW5jZS5nZXRFbmRDb2x1bW4oZGlmZkNoYW5nZS5vcmlnaW5hbFN0YXJ0ICsgZGlmZkNoYW5nZS5vcmlnaW5hbExlbmd0aCAtIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlmZkNoYW5nZS5tb2RpZmllZExlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBtb2RpZmllZFN0YXJ0TGluZU51bWJlciA9IDA7XHJcbiAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRDb2x1bW4gPSAwO1xyXG4gICAgICAgICAgICBtb2RpZmllZEVuZExpbmVOdW1iZXIgPSAwO1xyXG4gICAgICAgICAgICBtb2RpZmllZEVuZENvbHVtbiA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtb2RpZmllZFN0YXJ0TGluZU51bWJlciA9IG1vZGlmaWVkQ2hhclNlcXVlbmNlLmdldFN0YXJ0TGluZU51bWJlcihkaWZmQ2hhbmdlLm1vZGlmaWVkU3RhcnQpO1xyXG4gICAgICAgICAgICBtb2RpZmllZFN0YXJ0Q29sdW1uID0gbW9kaWZpZWRDaGFyU2VxdWVuY2UuZ2V0U3RhcnRDb2x1bW4oZGlmZkNoYW5nZS5tb2RpZmllZFN0YXJ0KTtcclxuICAgICAgICAgICAgbW9kaWZpZWRFbmRMaW5lTnVtYmVyID0gbW9kaWZpZWRDaGFyU2VxdWVuY2UuZ2V0RW5kTGluZU51bWJlcihkaWZmQ2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBkaWZmQ2hhbmdlLm1vZGlmaWVkTGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIG1vZGlmaWVkRW5kQ29sdW1uID0gbW9kaWZpZWRDaGFyU2VxdWVuY2UuZ2V0RW5kQ29sdW1uKGRpZmZDaGFuZ2UubW9kaWZpZWRTdGFydCArIGRpZmZDaGFuZ2UubW9kaWZpZWRMZW5ndGggLSAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFyQ2hhbmdlKG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyLCBvcmlnaW5hbFN0YXJ0Q29sdW1uLCBvcmlnaW5hbEVuZExpbmVOdW1iZXIsIG9yaWdpbmFsRW5kQ29sdW1uLCBtb2RpZmllZFN0YXJ0TGluZU51bWJlciwgbW9kaWZpZWRTdGFydENvbHVtbiwgbW9kaWZpZWRFbmRMaW5lTnVtYmVyLCBtb2RpZmllZEVuZENvbHVtbik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcG9zdFByb2Nlc3NDaGFyQ2hhbmdlcyhyYXdDaGFuZ2VzKSB7XHJcbiAgICBpZiAocmF3Q2hhbmdlcy5sZW5ndGggPD0gMSkge1xyXG4gICAgICAgIHJldHVybiByYXdDaGFuZ2VzO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmVzdWx0ID0gW3Jhd0NoYW5nZXNbMF1dO1xyXG4gICAgbGV0IHByZXZDaGFuZ2UgPSByZXN1bHRbMF07XHJcbiAgICBmb3IgKGxldCBpID0gMSwgbGVuID0gcmF3Q2hhbmdlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGN1cnJDaGFuZ2UgPSByYXdDaGFuZ2VzW2ldO1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTWF0Y2hpbmdMZW5ndGggPSBjdXJyQ2hhbmdlLm9yaWdpbmFsU3RhcnQgLSAocHJldkNoYW5nZS5vcmlnaW5hbFN0YXJ0ICsgcHJldkNoYW5nZS5vcmlnaW5hbExlbmd0aCk7XHJcbiAgICAgICAgY29uc3QgbW9kaWZpZWRNYXRjaGluZ0xlbmd0aCA9IGN1cnJDaGFuZ2UubW9kaWZpZWRTdGFydCAtIChwcmV2Q2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBwcmV2Q2hhbmdlLm1vZGlmaWVkTGVuZ3RoKTtcclxuICAgICAgICAvLyBCb3RoIG9mIHRoZSBhYm92ZSBzaG91bGQgYmUgZXF1YWwsIGJ1dCB0aGUgY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlIG1heSBwcmV2ZW50IHRoaXMgZnJvbSBiZWluZyB0cnVlXHJcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdMZW5ndGggPSBNYXRoLm1pbihvcmlnaW5hbE1hdGNoaW5nTGVuZ3RoLCBtb2RpZmllZE1hdGNoaW5nTGVuZ3RoKTtcclxuICAgICAgICBpZiAobWF0Y2hpbmdMZW5ndGggPCBNSU5JTVVNX01BVENISU5HX0NIQVJBQ1RFUl9MRU5HVEgpIHtcclxuICAgICAgICAgICAgLy8gTWVyZ2UgdGhlIGN1cnJlbnQgY2hhbmdlIGludG8gdGhlIHByZXZpb3VzIG9uZVxyXG4gICAgICAgICAgICBwcmV2Q2hhbmdlLm9yaWdpbmFsTGVuZ3RoID0gKGN1cnJDaGFuZ2Uub3JpZ2luYWxTdGFydCArIGN1cnJDaGFuZ2Uub3JpZ2luYWxMZW5ndGgpIC0gcHJldkNoYW5nZS5vcmlnaW5hbFN0YXJ0O1xyXG4gICAgICAgICAgICBwcmV2Q2hhbmdlLm1vZGlmaWVkTGVuZ3RoID0gKGN1cnJDaGFuZ2UubW9kaWZpZWRTdGFydCArIGN1cnJDaGFuZ2UubW9kaWZpZWRMZW5ndGgpIC0gcHJldkNoYW5nZS5tb2RpZmllZFN0YXJ0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBjdXJyZW50IGNoYW5nZVxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChjdXJyQ2hhbmdlKTtcclxuICAgICAgICAgICAgcHJldkNoYW5nZSA9IGN1cnJDaGFuZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5jbGFzcyBMaW5lQ2hhbmdlIHtcclxuICAgIGNvbnN0cnVjdG9yKG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyLCBvcmlnaW5hbEVuZExpbmVOdW1iZXIsIG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyLCBtb2RpZmllZEVuZExpbmVOdW1iZXIsIGNoYXJDaGFuZ2VzKSB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbFN0YXJ0TGluZU51bWJlciA9IG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyO1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxFbmRMaW5lTnVtYmVyID0gb3JpZ2luYWxFbmRMaW5lTnVtYmVyO1xyXG4gICAgICAgIHRoaXMubW9kaWZpZWRTdGFydExpbmVOdW1iZXIgPSBtb2RpZmllZFN0YXJ0TGluZU51bWJlcjtcclxuICAgICAgICB0aGlzLm1vZGlmaWVkRW5kTGluZU51bWJlciA9IG1vZGlmaWVkRW5kTGluZU51bWJlcjtcclxuICAgICAgICB0aGlzLmNoYXJDaGFuZ2VzID0gY2hhckNoYW5nZXM7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgY3JlYXRlRnJvbURpZmZSZXN1bHQoc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UsIGRpZmZDaGFuZ2UsIG9yaWdpbmFsTGluZVNlcXVlbmNlLCBtb2RpZmllZExpbmVTZXF1ZW5jZSwgY29udGludWVDaGFyRGlmZiwgc2hvdWxkQ29tcHV0ZUNoYXJDaGFuZ2VzLCBzaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzKSB7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyO1xyXG4gICAgICAgIGxldCBvcmlnaW5hbEVuZExpbmVOdW1iZXI7XHJcbiAgICAgICAgbGV0IG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyO1xyXG4gICAgICAgIGxldCBtb2RpZmllZEVuZExpbmVOdW1iZXI7XHJcbiAgICAgICAgbGV0IGNoYXJDaGFuZ2VzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChkaWZmQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyID0gb3JpZ2luYWxMaW5lU2VxdWVuY2UuZ2V0U3RhcnRMaW5lTnVtYmVyKGRpZmZDaGFuZ2Uub3JpZ2luYWxTdGFydCkgLSAxO1xyXG4gICAgICAgICAgICBvcmlnaW5hbEVuZExpbmVOdW1iZXIgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb3JpZ2luYWxTdGFydExpbmVOdW1iZXIgPSBvcmlnaW5hbExpbmVTZXF1ZW5jZS5nZXRTdGFydExpbmVOdW1iZXIoZGlmZkNoYW5nZS5vcmlnaW5hbFN0YXJ0KTtcclxuICAgICAgICAgICAgb3JpZ2luYWxFbmRMaW5lTnVtYmVyID0gb3JpZ2luYWxMaW5lU2VxdWVuY2UuZ2V0RW5kTGluZU51bWJlcihkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBkaWZmQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaWZmQ2hhbmdlLm1vZGlmaWVkTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyID0gbW9kaWZpZWRMaW5lU2VxdWVuY2UuZ2V0U3RhcnRMaW5lTnVtYmVyKGRpZmZDaGFuZ2UubW9kaWZpZWRTdGFydCkgLSAxO1xyXG4gICAgICAgICAgICBtb2RpZmllZEVuZExpbmVOdW1iZXIgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbW9kaWZpZWRTdGFydExpbmVOdW1iZXIgPSBtb2RpZmllZExpbmVTZXF1ZW5jZS5nZXRTdGFydExpbmVOdW1iZXIoZGlmZkNoYW5nZS5tb2RpZmllZFN0YXJ0KTtcclxuICAgICAgICAgICAgbW9kaWZpZWRFbmRMaW5lTnVtYmVyID0gbW9kaWZpZWRMaW5lU2VxdWVuY2UuZ2V0RW5kTGluZU51bWJlcihkaWZmQ2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBkaWZmQ2hhbmdlLm1vZGlmaWVkTGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaG91bGRDb21wdXRlQ2hhckNoYW5nZXMgJiYgZGlmZkNoYW5nZS5vcmlnaW5hbExlbmd0aCA+IDAgJiYgZGlmZkNoYW5nZS5vcmlnaW5hbExlbmd0aCA8IDIwICYmIGRpZmZDaGFuZ2UubW9kaWZpZWRMZW5ndGggPiAwICYmIGRpZmZDaGFuZ2UubW9kaWZpZWRMZW5ndGggPCAyMCAmJiBjb250aW51ZUNoYXJEaWZmKCkpIHtcclxuICAgICAgICAgICAgLy8gQ29tcHV0ZSBjaGFyYWN0ZXIgY2hhbmdlcyBmb3IgZGlmZiBjaHVua3Mgb2YgYXQgbW9zdCAyMCBsaW5lcy4uLlxyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbENoYXJTZXF1ZW5jZSA9IG9yaWdpbmFsTGluZVNlcXVlbmNlLmNyZWF0ZUNoYXJTZXF1ZW5jZShzaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSwgZGlmZkNoYW5nZS5vcmlnaW5hbFN0YXJ0LCBkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBkaWZmQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkQ2hhclNlcXVlbmNlID0gbW9kaWZpZWRMaW5lU2VxdWVuY2UuY3JlYXRlQ2hhclNlcXVlbmNlKHNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlLCBkaWZmQ2hhbmdlLm1vZGlmaWVkU3RhcnQsIGRpZmZDaGFuZ2UubW9kaWZpZWRTdGFydCArIGRpZmZDaGFuZ2UubW9kaWZpZWRMZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgbGV0IHJhd0NoYW5nZXMgPSBjb21wdXRlRGlmZihvcmlnaW5hbENoYXJTZXF1ZW5jZSwgbW9kaWZpZWRDaGFyU2VxdWVuY2UsIGNvbnRpbnVlQ2hhckRpZmYsIHRydWUpLmNoYW5nZXM7XHJcbiAgICAgICAgICAgIGlmIChzaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICByYXdDaGFuZ2VzID0gcG9zdFByb2Nlc3NDaGFyQ2hhbmdlcyhyYXdDaGFuZ2VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaGFyQ2hhbmdlcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gcmF3Q2hhbmdlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY2hhckNoYW5nZXMucHVzaChDaGFyQ2hhbmdlLmNyZWF0ZUZyb21EaWZmQ2hhbmdlKHJhd0NoYW5nZXNbaV0sIG9yaWdpbmFsQ2hhclNlcXVlbmNlLCBtb2RpZmllZENoYXJTZXF1ZW5jZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgTGluZUNoYW5nZShvcmlnaW5hbFN0YXJ0TGluZU51bWJlciwgb3JpZ2luYWxFbmRMaW5lTnVtYmVyLCBtb2RpZmllZFN0YXJ0TGluZU51bWJlciwgbW9kaWZpZWRFbmRMaW5lTnVtYmVyLCBjaGFyQ2hhbmdlcyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIERpZmZDb21wdXRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcmlnaW5hbExpbmVzLCBtb2RpZmllZExpbmVzLCBvcHRzKSB7XHJcbiAgICAgICAgdGhpcy5zaG91bGRDb21wdXRlQ2hhckNoYW5nZXMgPSBvcHRzLnNob3VsZENvbXB1dGVDaGFyQ2hhbmdlcztcclxuICAgICAgICB0aGlzLnNob3VsZFBvc3RQcm9jZXNzQ2hhckNoYW5nZXMgPSBvcHRzLnNob3VsZFBvc3RQcm9jZXNzQ2hhckNoYW5nZXM7XHJcbiAgICAgICAgdGhpcy5zaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSA9IG9wdHMuc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2U7XHJcbiAgICAgICAgdGhpcy5zaG91bGRNYWtlUHJldHR5RGlmZiA9IG9wdHMuc2hvdWxkTWFrZVByZXR0eURpZmY7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbExpbmVzID0gb3JpZ2luYWxMaW5lcztcclxuICAgICAgICB0aGlzLm1vZGlmaWVkTGluZXMgPSBtb2RpZmllZExpbmVzO1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWwgPSBuZXcgTGluZVNlcXVlbmNlKG9yaWdpbmFsTGluZXMpO1xyXG4gICAgICAgIHRoaXMubW9kaWZpZWQgPSBuZXcgTGluZVNlcXVlbmNlKG1vZGlmaWVkTGluZXMpO1xyXG4gICAgICAgIHRoaXMuY29udGludWVMaW5lRGlmZiA9IGNyZWF0ZUNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZShvcHRzLm1heENvbXB1dGF0aW9uVGltZSk7XHJcbiAgICAgICAgdGhpcy5jb250aW51ZUNoYXJEaWZmID0gY3JlYXRlQ29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlKG9wdHMubWF4Q29tcHV0YXRpb25UaW1lID09PSAwID8gMCA6IE1hdGgubWluKG9wdHMubWF4Q29tcHV0YXRpb25UaW1lLCA1MDAwKSk7IC8vIG5ldmVyIHJ1biBhZnRlciA1cyBmb3IgY2hhcmFjdGVyIGNoYW5nZXMuLi5cclxuICAgIH1cclxuICAgIGNvbXB1dGVEaWZmKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9yaWdpbmFsLmxpbmVzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLm9yaWdpbmFsLmxpbmVzWzBdLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAvLyBlbXB0eSBvcmlnaW5hbCA9PiBmYXN0IHBhdGhcclxuICAgICAgICAgICAgaWYgKHRoaXMubW9kaWZpZWQubGluZXMubGVuZ3RoID09PSAxICYmIHRoaXMubW9kaWZpZWQubGluZXNbMF0ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1aXRFYXJseTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlczogW11cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHF1aXRFYXJseTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFN0YXJ0TGluZU51bWJlcjogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFbmRMaW5lTnVtYmVyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZFN0YXJ0TGluZU51bWJlcjogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRFbmRMaW5lTnVtYmVyOiB0aGlzLm1vZGlmaWVkLmxpbmVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhckNoYW5nZXM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRFbmRDb2x1bW46IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRFbmRMaW5lTnVtYmVyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRDb2x1bW46IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRTdGFydExpbmVOdW1iZXI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFbmRDb2x1bW46IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFbmRMaW5lTnVtYmVyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRDb2x1bW46IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTdGFydExpbmVOdW1iZXI6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubW9kaWZpZWQubGluZXMubGVuZ3RoID09PSAxICYmIHRoaXMubW9kaWZpZWQubGluZXNbMF0ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIGVtcHR5IG1vZGlmaWVkID0+IGZhc3QgcGF0aFxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcXVpdEVhcmx5OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNoYW5nZXM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVuZExpbmVOdW1iZXI6IHRoaXMub3JpZ2luYWwubGluZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZFN0YXJ0TGluZU51bWJlcjogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRFbmRMaW5lTnVtYmVyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyQ2hhbmdlczogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEVuZENvbHVtbjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEVuZExpbmVOdW1iZXI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRTdGFydENvbHVtbjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZFN0YXJ0TGluZU51bWJlcjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVuZENvbHVtbjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVuZExpbmVOdW1iZXI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTdGFydENvbHVtbjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFN0YXJ0TGluZU51bWJlcjogMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkaWZmUmVzdWx0ID0gY29tcHV0ZURpZmYodGhpcy5vcmlnaW5hbCwgdGhpcy5tb2RpZmllZCwgdGhpcy5jb250aW51ZUxpbmVEaWZmLCB0aGlzLnNob3VsZE1ha2VQcmV0dHlEaWZmKTtcclxuICAgICAgICBjb25zdCByYXdDaGFuZ2VzID0gZGlmZlJlc3VsdC5jaGFuZ2VzO1xyXG4gICAgICAgIGNvbnN0IHF1aXRFYXJseSA9IGRpZmZSZXN1bHQucXVpdEVhcmx5O1xyXG4gICAgICAgIC8vIFRoZSBkaWZmIGlzIGFsd2F5cyBjb21wdXRlZCB3aXRoIGlnbm9yaW5nIHRyaW0gd2hpdGVzcGFjZVxyXG4gICAgICAgIC8vIFRoaXMgZW5zdXJlcyB3ZSBnZXQgdGhlIHByZXR0aWVzdCBkaWZmXHJcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UpIHtcclxuICAgICAgICAgICAgY29uc3QgbGluZUNoYW5nZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHJhd0NoYW5nZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxpbmVDaGFuZ2VzLnB1c2goTGluZUNoYW5nZS5jcmVhdGVGcm9tRGlmZlJlc3VsdCh0aGlzLnNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlLCByYXdDaGFuZ2VzW2ldLCB0aGlzLm9yaWdpbmFsLCB0aGlzLm1vZGlmaWVkLCB0aGlzLmNvbnRpbnVlQ2hhckRpZmYsIHRoaXMuc2hvdWxkQ29tcHV0ZUNoYXJDaGFuZ2VzLCB0aGlzLnNob3VsZFBvc3RQcm9jZXNzQ2hhckNoYW5nZXMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcXVpdEVhcmx5OiBxdWl0RWFybHksXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiBsaW5lQ2hhbmdlc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBOZWVkIHRvIHBvc3QtcHJvY2VzcyBhbmQgaW50cm9kdWNlIGNoYW5nZXMgd2hlcmUgdGhlIHRyaW0gd2hpdGVzcGFjZSBpcyBkaWZmZXJlbnRcclxuICAgICAgICAvLyBOb3RlIHRoYXQgd2UgYXJlIGxvb3Bpbmcgc3RhcnRpbmcgYXQgLTEgdG8gYWxzbyBjb3ZlciB0aGUgbGluZXMgYmVmb3JlIHRoZSBmaXJzdCBjaGFuZ2VcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcclxuICAgICAgICBsZXQgb3JpZ2luYWxMaW5lSW5kZXggPSAwO1xyXG4gICAgICAgIGxldCBtb2RpZmllZExpbmVJbmRleCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IC0xIC8qICEhISEgKi8sIGxlbiA9IHJhd0NoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbmV4dENoYW5nZSA9IChpICsgMSA8IGxlbiA/IHJhd0NoYW5nZXNbaSArIDFdIDogbnVsbCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IChuZXh0Q2hhbmdlID8gbmV4dENoYW5nZS5vcmlnaW5hbFN0YXJ0IDogdGhpcy5vcmlnaW5hbExpbmVzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkU3RvcCA9IChuZXh0Q2hhbmdlID8gbmV4dENoYW5nZS5tb2RpZmllZFN0YXJ0IDogdGhpcy5tb2RpZmllZExpbmVzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHdoaWxlIChvcmlnaW5hbExpbmVJbmRleCA8IG9yaWdpbmFsU3RvcCAmJiBtb2RpZmllZExpbmVJbmRleCA8IG1vZGlmaWVkU3RvcCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxMaW5lID0gdGhpcy5vcmlnaW5hbExpbmVzW29yaWdpbmFsTGluZUluZGV4XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkTGluZSA9IHRoaXMubW9kaWZpZWRMaW5lc1ttb2RpZmllZExpbmVJbmRleF07XHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxMaW5lICE9PSBtb2RpZmllZExpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVzZSBsaW5lcyBkaWZmZXIgb25seSBpbiB0cmltIHdoaXRlc3BhY2VcclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGUgbGVhZGluZyB3aGl0ZXNwYWNlXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3JpZ2luYWxTdGFydENvbHVtbiA9IGdldEZpcnN0Tm9uQmxhbmtDb2x1bW4ob3JpZ2luYWxMaW5lLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vZGlmaWVkU3RhcnRDb2x1bW4gPSBnZXRGaXJzdE5vbkJsYW5rQ29sdW1uKG1vZGlmaWVkTGluZSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChvcmlnaW5hbFN0YXJ0Q29sdW1uID4gMSAmJiBtb2RpZmllZFN0YXJ0Q29sdW1uID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxDaGFyID0gb3JpZ2luYWxMaW5lLmNoYXJDb2RlQXQob3JpZ2luYWxTdGFydENvbHVtbiAtIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRDaGFyID0gbW9kaWZpZWRMaW5lLmNoYXJDb2RlQXQobW9kaWZpZWRTdGFydENvbHVtbiAtIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsQ2hhciAhPT0gbW9kaWZpZWRDaGFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFN0YXJ0Q29sdW1uLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZFN0YXJ0Q29sdW1uLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsU3RhcnRDb2x1bW4gPiAxIHx8IG1vZGlmaWVkU3RhcnRDb2x1bW4gPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wdXNoVHJpbVdoaXRlc3BhY2VDaGFyQ2hhbmdlKHJlc3VsdCwgb3JpZ2luYWxMaW5lSW5kZXggKyAxLCAxLCBvcmlnaW5hbFN0YXJ0Q29sdW1uLCBtb2RpZmllZExpbmVJbmRleCArIDEsIDEsIG1vZGlmaWVkU3RhcnRDb2x1bW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoZSB0cmFpbGluZyB3aGl0ZXNwYWNlXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3JpZ2luYWxFbmRDb2x1bW4gPSBnZXRMYXN0Tm9uQmxhbmtDb2x1bW4ob3JpZ2luYWxMaW5lLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vZGlmaWVkRW5kQ29sdW1uID0gZ2V0TGFzdE5vbkJsYW5rQ29sdW1uKG1vZGlmaWVkTGluZSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsTWF4Q29sdW1uID0gb3JpZ2luYWxMaW5lLmxlbmd0aCArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkTWF4Q29sdW1uID0gbW9kaWZpZWRMaW5lLmxlbmd0aCArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChvcmlnaW5hbEVuZENvbHVtbiA8IG9yaWdpbmFsTWF4Q29sdW1uICYmIG1vZGlmaWVkRW5kQ29sdW1uIDwgbW9kaWZpZWRNYXhDb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsQ2hhciA9IG9yaWdpbmFsTGluZS5jaGFyQ29kZUF0KG9yaWdpbmFsRW5kQ29sdW1uIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RpZmllZENoYXIgPSBvcmlnaW5hbExpbmUuY2hhckNvZGVBdChtb2RpZmllZEVuZENvbHVtbiAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsQ2hhciAhPT0gbW9kaWZpZWRDaGFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVuZENvbHVtbisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRFbmRDb2x1bW4rKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxFbmRDb2x1bW4gPCBvcmlnaW5hbE1heENvbHVtbiB8fCBtb2RpZmllZEVuZENvbHVtbiA8IG1vZGlmaWVkTWF4Q29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wdXNoVHJpbVdoaXRlc3BhY2VDaGFyQ2hhbmdlKHJlc3VsdCwgb3JpZ2luYWxMaW5lSW5kZXggKyAxLCBvcmlnaW5hbEVuZENvbHVtbiwgb3JpZ2luYWxNYXhDb2x1bW4sIG1vZGlmaWVkTGluZUluZGV4ICsgMSwgbW9kaWZpZWRFbmRDb2x1bW4sIG1vZGlmaWVkTWF4Q29sdW1uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsTGluZUluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICBtb2RpZmllZExpbmVJbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuZXh0Q2hhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBFbWl0IHRoZSBhY3R1YWwgY2hhbmdlXHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChMaW5lQ2hhbmdlLmNyZWF0ZUZyb21EaWZmUmVzdWx0KHRoaXMuc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UsIG5leHRDaGFuZ2UsIHRoaXMub3JpZ2luYWwsIHRoaXMubW9kaWZpZWQsIHRoaXMuY29udGludWVDaGFyRGlmZiwgdGhpcy5zaG91bGRDb21wdXRlQ2hhckNoYW5nZXMsIHRoaXMuc2hvdWxkUG9zdFByb2Nlc3NDaGFyQ2hhbmdlcykpO1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxMaW5lSW5kZXggKz0gbmV4dENoYW5nZS5vcmlnaW5hbExlbmd0aDtcclxuICAgICAgICAgICAgICAgIG1vZGlmaWVkTGluZUluZGV4ICs9IG5leHRDaGFuZ2UubW9kaWZpZWRMZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcXVpdEVhcmx5OiBxdWl0RWFybHksXHJcbiAgICAgICAgICAgIGNoYW5nZXM6IHJlc3VsdFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBfcHVzaFRyaW1XaGl0ZXNwYWNlQ2hhckNoYW5nZShyZXN1bHQsIG9yaWdpbmFsTGluZU51bWJlciwgb3JpZ2luYWxTdGFydENvbHVtbiwgb3JpZ2luYWxFbmRDb2x1bW4sIG1vZGlmaWVkTGluZU51bWJlciwgbW9kaWZpZWRTdGFydENvbHVtbiwgbW9kaWZpZWRFbmRDb2x1bW4pIHtcclxuICAgICAgICBpZiAodGhpcy5fbWVyZ2VUcmltV2hpdGVzcGFjZUNoYXJDaGFuZ2UocmVzdWx0LCBvcmlnaW5hbExpbmVOdW1iZXIsIG9yaWdpbmFsU3RhcnRDb2x1bW4sIG9yaWdpbmFsRW5kQ29sdW1uLCBtb2RpZmllZExpbmVOdW1iZXIsIG1vZGlmaWVkU3RhcnRDb2x1bW4sIG1vZGlmaWVkRW5kQ29sdW1uKSkge1xyXG4gICAgICAgICAgICAvLyBNZXJnZWQgaW50byBwcmV2aW91c1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjaGFyQ2hhbmdlcyA9IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAodGhpcy5zaG91bGRDb21wdXRlQ2hhckNoYW5nZXMpIHtcclxuICAgICAgICAgICAgY2hhckNoYW5nZXMgPSBbbmV3IENoYXJDaGFuZ2Uob3JpZ2luYWxMaW5lTnVtYmVyLCBvcmlnaW5hbFN0YXJ0Q29sdW1uLCBvcmlnaW5hbExpbmVOdW1iZXIsIG9yaWdpbmFsRW5kQ29sdW1uLCBtb2RpZmllZExpbmVOdW1iZXIsIG1vZGlmaWVkU3RhcnRDb2x1bW4sIG1vZGlmaWVkTGluZU51bWJlciwgbW9kaWZpZWRFbmRDb2x1bW4pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpbmVDaGFuZ2Uob3JpZ2luYWxMaW5lTnVtYmVyLCBvcmlnaW5hbExpbmVOdW1iZXIsIG1vZGlmaWVkTGluZU51bWJlciwgbW9kaWZpZWRMaW5lTnVtYmVyLCBjaGFyQ2hhbmdlcykpO1xyXG4gICAgfVxyXG4gICAgX21lcmdlVHJpbVdoaXRlc3BhY2VDaGFyQ2hhbmdlKHJlc3VsdCwgb3JpZ2luYWxMaW5lTnVtYmVyLCBvcmlnaW5hbFN0YXJ0Q29sdW1uLCBvcmlnaW5hbEVuZENvbHVtbiwgbW9kaWZpZWRMaW5lTnVtYmVyLCBtb2RpZmllZFN0YXJ0Q29sdW1uLCBtb2RpZmllZEVuZENvbHVtbikge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IHJlc3VsdC5sZW5ndGg7XHJcbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHByZXZDaGFuZ2UgPSByZXN1bHRbbGVuIC0gMV07XHJcbiAgICAgICAgaWYgKHByZXZDaGFuZ2Uub3JpZ2luYWxFbmRMaW5lTnVtYmVyID09PSAwIHx8IHByZXZDaGFuZ2UubW9kaWZpZWRFbmRMaW5lTnVtYmVyID09PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIERvbid0IG1lcmdlIHdpdGggaW5zZXJ0cy9kZWxldGVzXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByZXZDaGFuZ2Uub3JpZ2luYWxFbmRMaW5lTnVtYmVyICsgMSA9PT0gb3JpZ2luYWxMaW5lTnVtYmVyICYmIHByZXZDaGFuZ2UubW9kaWZpZWRFbmRMaW5lTnVtYmVyICsgMSA9PT0gbW9kaWZpZWRMaW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHByZXZDaGFuZ2Uub3JpZ2luYWxFbmRMaW5lTnVtYmVyID0gb3JpZ2luYWxMaW5lTnVtYmVyO1xyXG4gICAgICAgICAgICBwcmV2Q2hhbmdlLm1vZGlmaWVkRW5kTGluZU51bWJlciA9IG1vZGlmaWVkTGluZU51bWJlcjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvdWxkQ29tcHV0ZUNoYXJDaGFuZ2VzICYmIHByZXZDaGFuZ2UuY2hhckNoYW5nZXMpIHtcclxuICAgICAgICAgICAgICAgIHByZXZDaGFuZ2UuY2hhckNoYW5nZXMucHVzaChuZXcgQ2hhckNoYW5nZShvcmlnaW5hbExpbmVOdW1iZXIsIG9yaWdpbmFsU3RhcnRDb2x1bW4sIG9yaWdpbmFsTGluZU51bWJlciwgb3JpZ2luYWxFbmRDb2x1bW4sIG1vZGlmaWVkTGluZU51bWJlciwgbW9kaWZpZWRTdGFydENvbHVtbiwgbW9kaWZpZWRMaW5lTnVtYmVyLCBtb2RpZmllZEVuZENvbHVtbikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0Rmlyc3ROb25CbGFua0NvbHVtbih0eHQsIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgY29uc3QgciA9IHN0cmluZ3MuZmlyc3ROb25XaGl0ZXNwYWNlSW5kZXgodHh0KTtcclxuICAgIGlmIChyID09PSAtMSkge1xyXG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gciArIDE7XHJcbn1cclxuZnVuY3Rpb24gZ2V0TGFzdE5vbkJsYW5rQ29sdW1uKHR4dCwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICBjb25zdCByID0gc3RyaW5ncy5sYXN0Tm9uV2hpdGVzcGFjZUluZGV4KHR4dCk7XHJcbiAgICBpZiAociA9PT0gLTEpIHtcclxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHIgKyAyO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZShtYXhpbXVtUnVudGltZSkge1xyXG4gICAgaWYgKG1heGltdW1SdW50aW1lID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHRydWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSA8IG1heGltdW1SdW50aW1lO1xyXG4gICAgfTtcclxufVxyXG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbmV4cG9ydCBmdW5jdGlvbiB0b1VpbnQ4KHYpIHtcclxuICAgIGlmICh2IDwgMCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgaWYgKHYgPiAyNTUgLyogTUFYX1VJTlRfOCAqLykge1xyXG4gICAgICAgIHJldHVybiAyNTUgLyogTUFYX1VJTlRfOCAqLztcclxuICAgIH1cclxuICAgIHJldHVybiB2IHwgMDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gdG9VaW50MzIodikge1xyXG4gICAgaWYgKHYgPCAwKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBpZiAodiA+IDQyOTQ5NjcyOTUgLyogTUFYX1VJTlRfMzIgKi8pIHtcclxuICAgICAgICByZXR1cm4gNDI5NDk2NzI5NSAvKiBNQVhfVUlOVF8zMiAqLztcclxuICAgIH1cclxuICAgIHJldHVybiB2IHwgMDtcclxufVxyXG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbmltcG9ydCB7IHRvVWludDMyIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdWludC5qcyc7XHJcbmV4cG9ydCBjbGFzcyBQcmVmaXhTdW1JbmRleE9mUmVzdWx0IHtcclxuICAgIGNvbnN0cnVjdG9yKGluZGV4LCByZW1haW5kZXIpIHtcclxuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgdGhpcy5yZW1haW5kZXIgPSByZW1haW5kZXI7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIFByZWZpeFN1bUNvbXB1dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHZhbHVlcykge1xyXG4gICAgICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xyXG4gICAgICAgIHRoaXMucHJlZml4U3VtID0gbmV3IFVpbnQzMkFycmF5KHZhbHVlcy5sZW5ndGgpO1xyXG4gICAgICAgIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleCA9IG5ldyBJbnQzMkFycmF5KDEpO1xyXG4gICAgICAgIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSA9IC0xO1xyXG4gICAgfVxyXG4gICAgaW5zZXJ0VmFsdWVzKGluc2VydEluZGV4LCBpbnNlcnRWYWx1ZXMpIHtcclxuICAgICAgICBpbnNlcnRJbmRleCA9IHRvVWludDMyKGluc2VydEluZGV4KTtcclxuICAgICAgICBjb25zdCBvbGRWYWx1ZXMgPSB0aGlzLnZhbHVlcztcclxuICAgICAgICBjb25zdCBvbGRQcmVmaXhTdW0gPSB0aGlzLnByZWZpeFN1bTtcclxuICAgICAgICBjb25zdCBpbnNlcnRWYWx1ZXNMZW4gPSBpbnNlcnRWYWx1ZXMubGVuZ3RoO1xyXG4gICAgICAgIGlmIChpbnNlcnRWYWx1ZXNMZW4gPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnZhbHVlcyA9IG5ldyBVaW50MzJBcnJheShvbGRWYWx1ZXMubGVuZ3RoICsgaW5zZXJ0VmFsdWVzTGVuKTtcclxuICAgICAgICB0aGlzLnZhbHVlcy5zZXQob2xkVmFsdWVzLnN1YmFycmF5KDAsIGluc2VydEluZGV4KSwgMCk7XHJcbiAgICAgICAgdGhpcy52YWx1ZXMuc2V0KG9sZFZhbHVlcy5zdWJhcnJheShpbnNlcnRJbmRleCksIGluc2VydEluZGV4ICsgaW5zZXJ0VmFsdWVzTGVuKTtcclxuICAgICAgICB0aGlzLnZhbHVlcy5zZXQoaW5zZXJ0VmFsdWVzLCBpbnNlcnRJbmRleCk7XHJcbiAgICAgICAgaWYgKGluc2VydEluZGV4IC0gMSA8IHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSkge1xyXG4gICAgICAgICAgICB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0gPSBpbnNlcnRJbmRleCAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJlZml4U3VtID0gbmV3IFVpbnQzMkFycmF5KHRoaXMudmFsdWVzLmxlbmd0aCk7XHJcbiAgICAgICAgaWYgKHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJlZml4U3VtLnNldChvbGRQcmVmaXhTdW0uc3ViYXJyYXkoMCwgdGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdICsgMSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNoYW5nZVZhbHVlKGluZGV4LCB2YWx1ZSkge1xyXG4gICAgICAgIGluZGV4ID0gdG9VaW50MzIoaW5kZXgpO1xyXG4gICAgICAgIHZhbHVlID0gdG9VaW50MzIodmFsdWUpO1xyXG4gICAgICAgIGlmICh0aGlzLnZhbHVlc1tpbmRleF0gPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy52YWx1ZXNbaW5kZXhdID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKGluZGV4IC0gMSA8IHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSkge1xyXG4gICAgICAgICAgICB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0gPSBpbmRleCAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlVmFsdWVzKHN0YXJ0SW5kZXgsIGNudCkge1xyXG4gICAgICAgIHN0YXJ0SW5kZXggPSB0b1VpbnQzMihzdGFydEluZGV4KTtcclxuICAgICAgICBjbnQgPSB0b1VpbnQzMihjbnQpO1xyXG4gICAgICAgIGNvbnN0IG9sZFZhbHVlcyA9IHRoaXMudmFsdWVzO1xyXG4gICAgICAgIGNvbnN0IG9sZFByZWZpeFN1bSA9IHRoaXMucHJlZml4U3VtO1xyXG4gICAgICAgIGlmIChzdGFydEluZGV4ID49IG9sZFZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbWF4Q250ID0gb2xkVmFsdWVzLmxlbmd0aCAtIHN0YXJ0SW5kZXg7XHJcbiAgICAgICAgaWYgKGNudCA+PSBtYXhDbnQpIHtcclxuICAgICAgICAgICAgY250ID0gbWF4Q250O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY250ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy52YWx1ZXMgPSBuZXcgVWludDMyQXJyYXkob2xkVmFsdWVzLmxlbmd0aCAtIGNudCk7XHJcbiAgICAgICAgdGhpcy52YWx1ZXMuc2V0KG9sZFZhbHVlcy5zdWJhcnJheSgwLCBzdGFydEluZGV4KSwgMCk7XHJcbiAgICAgICAgdGhpcy52YWx1ZXMuc2V0KG9sZFZhbHVlcy5zdWJhcnJheShzdGFydEluZGV4ICsgY250KSwgc3RhcnRJbmRleCk7XHJcbiAgICAgICAgdGhpcy5wcmVmaXhTdW0gPSBuZXcgVWludDMyQXJyYXkodGhpcy52YWx1ZXMubGVuZ3RoKTtcclxuICAgICAgICBpZiAoc3RhcnRJbmRleCAtIDEgPCB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0pIHtcclxuICAgICAgICAgICAgdGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdID0gc3RhcnRJbmRleCAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0gPj0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnByZWZpeFN1bS5zZXQob2xkUHJlZml4U3VtLnN1YmFycmF5KDAsIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSArIDEpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBnZXRUb3RhbFZhbHVlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnZhbHVlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRBY2N1bXVsYXRlZFZhbHVlKHRoaXMudmFsdWVzLmxlbmd0aCAtIDEpO1xyXG4gICAgfVxyXG4gICAgZ2V0QWNjdW11bGF0ZWRWYWx1ZShpbmRleCkge1xyXG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZGV4ID0gdG9VaW50MzIoaW5kZXgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRBY2N1bXVsYXRlZFZhbHVlKGluZGV4KTtcclxuICAgIH1cclxuICAgIF9nZXRBY2N1bXVsYXRlZFZhbHVlKGluZGV4KSB7XHJcbiAgICAgICAgaWYgKGluZGV4IDw9IHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVmaXhTdW1baW5kZXhdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc3RhcnRJbmRleCA9IHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSArIDE7XHJcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5wcmVmaXhTdW1bMF0gPSB0aGlzLnZhbHVlc1swXTtcclxuICAgICAgICAgICAgc3RhcnRJbmRleCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5kZXggPj0gdGhpcy52YWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy52YWx1ZXMubGVuZ3RoIC0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPD0gaW5kZXg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnByZWZpeFN1bVtpXSA9IHRoaXMucHJlZml4U3VtW2kgLSAxXSArIHRoaXMudmFsdWVzW2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0gPSBNYXRoLm1heCh0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0sIGluZGV4KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcmVmaXhTdW1baW5kZXhdO1xyXG4gICAgfVxyXG4gICAgZ2V0SW5kZXhPZihhY2N1bXVsYXRlZFZhbHVlKSB7XHJcbiAgICAgICAgYWNjdW11bGF0ZWRWYWx1ZSA9IE1hdGguZmxvb3IoYWNjdW11bGF0ZWRWYWx1ZSk7IC8vQHBlcmZcclxuICAgICAgICAvLyBDb21wdXRlIGFsbCBzdW1zICh0byBnZXQgYSBmdWxseSB2YWxpZCBwcmVmaXhTdW0pXHJcbiAgICAgICAgdGhpcy5nZXRUb3RhbFZhbHVlKCk7XHJcbiAgICAgICAgbGV0IGxvdyA9IDA7XHJcbiAgICAgICAgbGV0IGhpZ2ggPSB0aGlzLnZhbHVlcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIGxldCBtaWQgPSAwO1xyXG4gICAgICAgIGxldCBtaWRTdG9wID0gMDtcclxuICAgICAgICBsZXQgbWlkU3RhcnQgPSAwO1xyXG4gICAgICAgIHdoaWxlIChsb3cgPD0gaGlnaCkge1xyXG4gICAgICAgICAgICBtaWQgPSBsb3cgKyAoKGhpZ2ggLSBsb3cpIC8gMikgfCAwO1xyXG4gICAgICAgICAgICBtaWRTdG9wID0gdGhpcy5wcmVmaXhTdW1bbWlkXTtcclxuICAgICAgICAgICAgbWlkU3RhcnQgPSBtaWRTdG9wIC0gdGhpcy52YWx1ZXNbbWlkXTtcclxuICAgICAgICAgICAgaWYgKGFjY3VtdWxhdGVkVmFsdWUgPCBtaWRTdGFydCkge1xyXG4gICAgICAgICAgICAgICAgaGlnaCA9IG1pZCAtIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYWNjdW11bGF0ZWRWYWx1ZSA+PSBtaWRTdG9wKSB7XHJcbiAgICAgICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcmVmaXhTdW1JbmRleE9mUmVzdWx0KG1pZCwgYWNjdW11bGF0ZWRWYWx1ZSAtIG1pZFN0YXJ0KTtcclxuICAgIH1cclxufVxyXG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbmltcG9ydCB7IHNwbGl0TGluZXMgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9zdHJpbmdzLmpzJztcclxuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tICcuLi9jb3JlL3Bvc2l0aW9uLmpzJztcclxuaW1wb3J0IHsgUHJlZml4U3VtQ29tcHV0ZXIgfSBmcm9tICcuLi92aWV3TW9kZWwvcHJlZml4U3VtQ29tcHV0ZXIuanMnO1xyXG5leHBvcnQgY2xhc3MgTWlycm9yVGV4dE1vZGVsIHtcclxuICAgIGNvbnN0cnVjdG9yKHVyaSwgbGluZXMsIGVvbCwgdmVyc2lvbklkKSB7XHJcbiAgICAgICAgdGhpcy5fdXJpID0gdXJpO1xyXG4gICAgICAgIHRoaXMuX2xpbmVzID0gbGluZXM7XHJcbiAgICAgICAgdGhpcy5fZW9sID0gZW9sO1xyXG4gICAgICAgIHRoaXMuX3ZlcnNpb25JZCA9IHZlcnNpb25JZDtcclxuICAgICAgICB0aGlzLl9saW5lU3RhcnRzID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9jYWNoZWRUZXh0VmFsdWUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9saW5lcy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG4gICAgZ2V0IHZlcnNpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcnNpb25JZDtcclxuICAgIH1cclxuICAgIGdldFRleHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZFRleHRWYWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRUZXh0VmFsdWUgPSB0aGlzLl9saW5lcy5qb2luKHRoaXMuX2VvbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRUZXh0VmFsdWU7XHJcbiAgICB9XHJcbiAgICBvbkV2ZW50cyhlKSB7XHJcbiAgICAgICAgaWYgKGUuZW9sICYmIGUuZW9sICE9PSB0aGlzLl9lb2wpIHtcclxuICAgICAgICAgICAgdGhpcy5fZW9sID0gZS5lb2w7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdGFydHMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBVcGRhdGUgbXkgbGluZXNcclxuICAgICAgICBjb25zdCBjaGFuZ2VzID0gZS5jaGFuZ2VzO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hhbmdlIG9mIGNoYW5nZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fYWNjZXB0RGVsZXRlUmFuZ2UoY2hhbmdlLnJhbmdlKTtcclxuICAgICAgICAgICAgdGhpcy5fYWNjZXB0SW5zZXJ0VGV4dChuZXcgUG9zaXRpb24oY2hhbmdlLnJhbmdlLnN0YXJ0TGluZU51bWJlciwgY2hhbmdlLnJhbmdlLnN0YXJ0Q29sdW1uKSwgY2hhbmdlLnRleHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl92ZXJzaW9uSWQgPSBlLnZlcnNpb25JZDtcclxuICAgICAgICB0aGlzLl9jYWNoZWRUZXh0VmFsdWUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgX2Vuc3VyZUxpbmVTdGFydHMoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9saW5lU3RhcnRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVvbExlbmd0aCA9IHRoaXMuX2VvbC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzTGVuZ3RoID0gdGhpcy5fbGluZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBsaW5lU3RhcnRWYWx1ZXMgPSBuZXcgVWludDMyQXJyYXkobGluZXNMZW5ndGgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxpbmVTdGFydFZhbHVlc1tpXSA9IHRoaXMuX2xpbmVzW2ldLmxlbmd0aCArIGVvbExlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9saW5lU3RhcnRzID0gbmV3IFByZWZpeFN1bUNvbXB1dGVyKGxpbmVTdGFydFZhbHVlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBbGwgY2hhbmdlcyB0byBhIGxpbmUncyB0ZXh0IGdvIHRocm91Z2ggdGhpcyBtZXRob2RcclxuICAgICAqL1xyXG4gICAgX3NldExpbmVUZXh0KGxpbmVJbmRleCwgbmV3VmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9saW5lc1tsaW5lSW5kZXhdID0gbmV3VmFsdWU7XHJcbiAgICAgICAgaWYgKHRoaXMuX2xpbmVTdGFydHMpIHtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIHByZWZpeCBzdW1cclxuICAgICAgICAgICAgdGhpcy5fbGluZVN0YXJ0cy5jaGFuZ2VWYWx1ZShsaW5lSW5kZXgsIHRoaXMuX2xpbmVzW2xpbmVJbmRleF0ubGVuZ3RoICsgdGhpcy5fZW9sLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2FjY2VwdERlbGV0ZVJhbmdlKHJhbmdlKSB7XHJcbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0TGluZU51bWJlciA9PT0gcmFuZ2UuZW5kTGluZU51bWJlcikge1xyXG4gICAgICAgICAgICBpZiAocmFuZ2Uuc3RhcnRDb2x1bW4gPT09IHJhbmdlLmVuZENvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgLy8gTm90aGluZyB0byBkZWxldGVcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBEZWxldGUgdGV4dCBvbiB0aGUgYWZmZWN0ZWQgbGluZVxyXG4gICAgICAgICAgICB0aGlzLl9zZXRMaW5lVGV4dChyYW5nZS5zdGFydExpbmVOdW1iZXIgLSAxLCB0aGlzLl9saW5lc1tyYW5nZS5zdGFydExpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcoMCwgcmFuZ2Uuc3RhcnRDb2x1bW4gLSAxKVxyXG4gICAgICAgICAgICAgICAgKyB0aGlzLl9saW5lc1tyYW5nZS5zdGFydExpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcocmFuZ2UuZW5kQ29sdW1uIC0gMSkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRha2UgcmVtYWluaW5nIHRleHQgb24gbGFzdCBsaW5lIGFuZCBhcHBlbmQgaXQgdG8gcmVtYWluaW5nIHRleHQgb24gZmlyc3QgbGluZVxyXG4gICAgICAgIHRoaXMuX3NldExpbmVUZXh0KHJhbmdlLnN0YXJ0TGluZU51bWJlciAtIDEsIHRoaXMuX2xpbmVzW3JhbmdlLnN0YXJ0TGluZU51bWJlciAtIDFdLnN1YnN0cmluZygwLCByYW5nZS5zdGFydENvbHVtbiAtIDEpXHJcbiAgICAgICAgICAgICsgdGhpcy5fbGluZXNbcmFuZ2UuZW5kTGluZU51bWJlciAtIDFdLnN1YnN0cmluZyhyYW5nZS5lbmRDb2x1bW4gLSAxKSk7XHJcbiAgICAgICAgLy8gRGVsZXRlIG1pZGRsZSBsaW5lc1xyXG4gICAgICAgIHRoaXMuX2xpbmVzLnNwbGljZShyYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLmVuZExpbmVOdW1iZXIgLSByYW5nZS5zdGFydExpbmVOdW1iZXIpO1xyXG4gICAgICAgIGlmICh0aGlzLl9saW5lU3RhcnRzKSB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBwcmVmaXggc3VtXHJcbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdGFydHMucmVtb3ZlVmFsdWVzKHJhbmdlLnN0YXJ0TGluZU51bWJlciwgcmFuZ2UuZW5kTGluZU51bWJlciAtIHJhbmdlLnN0YXJ0TGluZU51bWJlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2FjY2VwdEluc2VydFRleHQocG9zaXRpb24sIGluc2VydFRleHQpIHtcclxuICAgICAgICBpZiAoaW5zZXJ0VGV4dC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgLy8gTm90aGluZyB0byBpbnNlcnRcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaW5zZXJ0TGluZXMgPSBzcGxpdExpbmVzKGluc2VydFRleHQpO1xyXG4gICAgICAgIGlmIChpbnNlcnRMaW5lcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgLy8gSW5zZXJ0aW5nIHRleHQgb24gb25lIGxpbmVcclxuICAgICAgICAgICAgdGhpcy5fc2V0TGluZVRleHQocG9zaXRpb24ubGluZU51bWJlciAtIDEsIHRoaXMuX2xpbmVzW3Bvc2l0aW9uLmxpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcoMCwgcG9zaXRpb24uY29sdW1uIC0gMSlcclxuICAgICAgICAgICAgICAgICsgaW5zZXJ0TGluZXNbMF1cclxuICAgICAgICAgICAgICAgICsgdGhpcy5fbGluZXNbcG9zaXRpb24ubGluZU51bWJlciAtIDFdLnN1YnN0cmluZyhwb3NpdGlvbi5jb2x1bW4gLSAxKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXBwZW5kIG92ZXJmbG93aW5nIHRleHQgZnJvbSBmaXJzdCBsaW5lIHRvIHRoZSBlbmQgb2YgdGV4dCB0byBpbnNlcnRcclxuICAgICAgICBpbnNlcnRMaW5lc1tpbnNlcnRMaW5lcy5sZW5ndGggLSAxXSArPSB0aGlzLl9saW5lc1twb3NpdGlvbi5saW5lTnVtYmVyIC0gMV0uc3Vic3RyaW5nKHBvc2l0aW9uLmNvbHVtbiAtIDEpO1xyXG4gICAgICAgIC8vIERlbGV0ZSBvdmVyZmxvd2luZyB0ZXh0IGZyb20gZmlyc3QgbGluZSBhbmQgaW5zZXJ0IHRleHQgb24gZmlyc3QgbGluZVxyXG4gICAgICAgIHRoaXMuX3NldExpbmVUZXh0KHBvc2l0aW9uLmxpbmVOdW1iZXIgLSAxLCB0aGlzLl9saW5lc1twb3NpdGlvbi5saW5lTnVtYmVyIC0gMV0uc3Vic3RyaW5nKDAsIHBvc2l0aW9uLmNvbHVtbiAtIDEpXHJcbiAgICAgICAgICAgICsgaW5zZXJ0TGluZXNbMF0pO1xyXG4gICAgICAgIC8vIEluc2VydCBuZXcgbGluZXMgJiBzdG9yZSBsZW5ndGhzXHJcbiAgICAgICAgbGV0IG5ld0xlbmd0aHMgPSBuZXcgVWludDMyQXJyYXkoaW5zZXJ0TGluZXMubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBpbnNlcnRMaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLl9saW5lcy5zcGxpY2UocG9zaXRpb24ubGluZU51bWJlciArIGkgLSAxLCAwLCBpbnNlcnRMaW5lc1tpXSk7XHJcbiAgICAgICAgICAgIG5ld0xlbmd0aHNbaSAtIDFdID0gaW5zZXJ0TGluZXNbaV0ubGVuZ3RoICsgdGhpcy5fZW9sLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2xpbmVTdGFydHMpIHtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIHByZWZpeCBzdW1cclxuICAgICAgICAgICAgdGhpcy5fbGluZVN0YXJ0cy5pbnNlcnRWYWx1ZXMocG9zaXRpb24ubGluZU51bWJlciwgbmV3TGVuZ3Rocyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuZXhwb3J0IGNvbnN0IFVTVUFMX1dPUkRfU0VQQVJBVE9SUyA9ICdgfiFAIyQlXiYqKCktPStbe119XFxcXHw7OlxcJ1wiLC48Pi8/JztcclxuLyoqXHJcbiAqIENyZWF0ZSBhIHdvcmQgZGVmaW5pdGlvbiByZWd1bGFyIGV4cHJlc3Npb24gYmFzZWQgb24gZGVmYXVsdCB3b3JkIHNlcGFyYXRvcnMuXHJcbiAqIE9wdGlvbmFsbHkgcHJvdmlkZSBhbGxvd2VkIHNlcGFyYXRvcnMgdGhhdCBzaG91bGQgYmUgaW5jbHVkZWQgaW4gd29yZHMuXHJcbiAqXHJcbiAqIFRoZSBkZWZhdWx0IHdvdWxkIGxvb2sgbGlrZSB0aGlzOlxyXG4gKiAvKC0/XFxkKlxcLlxcZFxcdyopfChbXlxcYFxcflxcIVxcQFxcI1xcJFxcJVxcXlxcJlxcKlxcKFxcKVxcLVxcPVxcK1xcW1xce1xcXVxcfVxcXFxcXHxcXDtcXDpcXCdcXFwiXFwsXFwuXFw8XFw+XFwvXFw/XFxzXSspL2dcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVdvcmRSZWdFeHAoYWxsb3dJbldvcmRzID0gJycpIHtcclxuICAgIGxldCBzb3VyY2UgPSAnKC0/XFxcXGQqXFxcXC5cXFxcZFxcXFx3Kil8KFteJztcclxuICAgIGZvciAoY29uc3Qgc2VwIG9mIFVTVUFMX1dPUkRfU0VQQVJBVE9SUykge1xyXG4gICAgICAgIGlmIChhbGxvd0luV29yZHMuaW5kZXhPZihzZXApID49IDApIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNvdXJjZSArPSAnXFxcXCcgKyBzZXA7XHJcbiAgICB9XHJcbiAgICBzb3VyY2UgKz0gJ1xcXFxzXSspJztcclxuICAgIHJldHVybiBuZXcgUmVnRXhwKHNvdXJjZSwgJ2cnKTtcclxufVxyXG4vLyBjYXRjaGVzIG51bWJlcnMgKGluY2x1ZGluZyBmbG9hdGluZyBudW1iZXJzKSBpbiB0aGUgZmlyc3QgZ3JvdXAsIGFuZCBhbHBoYW51bSBpbiB0aGUgc2Vjb25kXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1dPUkRfUkVHRVhQID0gY3JlYXRlV29yZFJlZ0V4cCgpO1xyXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlVmFsaWRXb3JkRGVmaW5pdGlvbih3b3JkRGVmaW5pdGlvbikge1xyXG4gICAgbGV0IHJlc3VsdCA9IERFRkFVTFRfV09SRF9SRUdFWFA7XHJcbiAgICBpZiAod29yZERlZmluaXRpb24gJiYgKHdvcmREZWZpbml0aW9uIGluc3RhbmNlb2YgUmVnRXhwKSkge1xyXG4gICAgICAgIGlmICghd29yZERlZmluaXRpb24uZ2xvYmFsKSB7XHJcbiAgICAgICAgICAgIGxldCBmbGFncyA9ICdnJztcclxuICAgICAgICAgICAgaWYgKHdvcmREZWZpbml0aW9uLmlnbm9yZUNhc2UpIHtcclxuICAgICAgICAgICAgICAgIGZsYWdzICs9ICdpJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAod29yZERlZmluaXRpb24ubXVsdGlsaW5lKSB7XHJcbiAgICAgICAgICAgICAgICBmbGFncyArPSAnbSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHdvcmREZWZpbml0aW9uLnVuaWNvZGUpIHtcclxuICAgICAgICAgICAgICAgIGZsYWdzICs9ICd1JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgUmVnRXhwKHdvcmREZWZpbml0aW9uLnNvdXJjZSwgZmxhZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gd29yZERlZmluaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVzdWx0Lmxhc3RJbmRleCA9IDA7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmNvbnN0IF9kZWZhdWx0Q29uZmlnID0ge1xyXG4gICAgbWF4TGVuOiAxMDAwLFxyXG4gICAgd2luZG93U2l6ZTogMTUsXHJcbiAgICB0aW1lQnVkZ2V0OiAxNTBcclxufTtcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFdvcmRBdFRleHQoY29sdW1uLCB3b3JkRGVmaW5pdGlvbiwgdGV4dCwgdGV4dE9mZnNldCwgY29uZmlnID0gX2RlZmF1bHRDb25maWcpIHtcclxuICAgIGlmICh0ZXh0Lmxlbmd0aCA+IGNvbmZpZy5tYXhMZW4pIHtcclxuICAgICAgICAvLyBkb24ndCB0aHJvdyBzdHJpbmdzIHRoYXQgbG9uZyBhdCB0aGUgcmVnZXhwXHJcbiAgICAgICAgLy8gYnV0IHVzZSBhIHN1Yi1zdHJpbmcgaW4gd2hpY2ggYSB3b3JkIG11c3Qgb2NjdXJcclxuICAgICAgICBsZXQgc3RhcnQgPSBjb2x1bW4gLSBjb25maWcubWF4TGVuIC8gMjtcclxuICAgICAgICBpZiAoc3RhcnQgPCAwKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRleHRPZmZzZXQgKz0gc3RhcnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZyhzdGFydCwgY29sdW1uICsgY29uZmlnLm1heExlbiAvIDIpO1xyXG4gICAgICAgIHJldHVybiBnZXRXb3JkQXRUZXh0KGNvbHVtbiwgd29yZERlZmluaXRpb24sIHRleHQsIHRleHRPZmZzZXQsIGNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB0MSA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCBwb3MgPSBjb2x1bW4gLSAxIC0gdGV4dE9mZnNldDtcclxuICAgIGxldCBwcmV2UmVnZXhJbmRleCA9IC0xO1xyXG4gICAgbGV0IG1hdGNoID0gbnVsbDtcclxuICAgIGZvciAobGV0IGkgPSAxOzsgaSsrKSB7XHJcbiAgICAgICAgLy8gY2hlY2sgdGltZSBidWRnZXRcclxuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHQxID49IGNvbmZpZy50aW1lQnVkZ2V0KSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZXNldCB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIHJlZ2V4cCBzaG91bGQgc3RhcnQgbWF0Y2hpbmcsIGFsc28ga25vdyB3aGVyZSBpdFxyXG4gICAgICAgIC8vIHNob3VsZCBzdG9wIHNvIHRoYXQgc3Vic2VxdWVudCBzZWFyY2ggZG9uJ3QgcmVwZWF0IHByZXZpb3VzIHNlYXJjaGVzXHJcbiAgICAgICAgY29uc3QgcmVnZXhJbmRleCA9IHBvcyAtIGNvbmZpZy53aW5kb3dTaXplICogaTtcclxuICAgICAgICB3b3JkRGVmaW5pdGlvbi5sYXN0SW5kZXggPSBNYXRoLm1heCgwLCByZWdleEluZGV4KTtcclxuICAgICAgICBjb25zdCB0aGlzTWF0Y2ggPSBfZmluZFJlZ2V4TWF0Y2hFbmNsb3NpbmdQb3NpdGlvbih3b3JkRGVmaW5pdGlvbiwgdGV4dCwgcG9zLCBwcmV2UmVnZXhJbmRleCk7XHJcbiAgICAgICAgaWYgKCF0aGlzTWF0Y2ggJiYgbWF0Y2gpIHtcclxuICAgICAgICAgICAgLy8gc3RvcDogd2UgaGF2ZSBzb21ldGhpbmdcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1hdGNoID0gdGhpc01hdGNoO1xyXG4gICAgICAgIC8vIHN0b3A6IHNlYXJjaGVkIGF0IHN0YXJ0XHJcbiAgICAgICAgaWYgKHJlZ2V4SW5kZXggPD0gMCkge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJldlJlZ2V4SW5kZXggPSByZWdleEluZGV4O1xyXG4gICAgfVxyXG4gICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgd29yZDogbWF0Y2hbMF0sXHJcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiB0ZXh0T2Zmc2V0ICsgMSArIG1hdGNoLmluZGV4LFxyXG4gICAgICAgICAgICBlbmRDb2x1bW46IHRleHRPZmZzZXQgKyAxICsgbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGhcclxuICAgICAgICB9O1xyXG4gICAgICAgIHdvcmREZWZpbml0aW9uLmxhc3RJbmRleCA9IDA7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIF9maW5kUmVnZXhNYXRjaEVuY2xvc2luZ1Bvc2l0aW9uKHdvcmREZWZpbml0aW9uLCB0ZXh0LCBwb3MsIHN0b3BQb3MpIHtcclxuICAgIGxldCBtYXRjaDtcclxuICAgIHdoaWxlIChtYXRjaCA9IHdvcmREZWZpbml0aW9uLmV4ZWModGV4dCkpIHtcclxuICAgICAgICBjb25zdCBtYXRjaEluZGV4ID0gbWF0Y2guaW5kZXggfHwgMDtcclxuICAgICAgICBpZiAobWF0Y2hJbmRleCA8PSBwb3MgJiYgd29yZERlZmluaXRpb24ubGFzdEluZGV4ID49IHBvcykge1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHN0b3BQb3MgPiAwICYmIG1hdGNoSW5kZXggPiBzdG9wUG9zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuaW1wb3J0IHsgdG9VaW50OCB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3VpbnQuanMnO1xyXG4vKipcclxuICogQSBmYXN0IGNoYXJhY3RlciBjbGFzc2lmaWVyIHRoYXQgdXNlcyBhIGNvbXBhY3QgYXJyYXkgZm9yIEFTQ0lJIHZhbHVlcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJDbGFzc2lmaWVyIHtcclxuICAgIGNvbnN0cnVjdG9yKF9kZWZhdWx0VmFsdWUpIHtcclxuICAgICAgICBsZXQgZGVmYXVsdFZhbHVlID0gdG9VaW50OChfZGVmYXVsdFZhbHVlKTtcclxuICAgICAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgdGhpcy5fYXNjaWlNYXAgPSBDaGFyYWN0ZXJDbGFzc2lmaWVyLl9jcmVhdGVBc2NpaU1hcChkZWZhdWx0VmFsdWUpO1xyXG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBfY3JlYXRlQXNjaWlNYXAoZGVmYXVsdFZhbHVlKSB7XHJcbiAgICAgICAgbGV0IGFzY2lpTWFwID0gbmV3IFVpbnQ4QXJyYXkoMjU2KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFzY2lpTWFwW2ldID0gZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXNjaWlNYXA7XHJcbiAgICB9XHJcbiAgICBzZXQoY2hhckNvZGUsIF92YWx1ZSkge1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IHRvVWludDgoX3ZhbHVlKTtcclxuICAgICAgICBpZiAoY2hhckNvZGUgPj0gMCAmJiBjaGFyQ29kZSA8IDI1Nikge1xyXG4gICAgICAgICAgICB0aGlzLl9hc2NpaU1hcFtjaGFyQ29kZV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21hcC5zZXQoY2hhckNvZGUsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQoY2hhckNvZGUpIHtcclxuICAgICAgICBpZiAoY2hhckNvZGUgPj0gMCAmJiBjaGFyQ29kZSA8IDI1Nikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXNjaWlNYXBbY2hhckNvZGVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9tYXAuZ2V0KGNoYXJDb2RlKSB8fCB0aGlzLl9kZWZhdWx0VmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyU2V0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX2FjdHVhbCA9IG5ldyBDaGFyYWN0ZXJDbGFzc2lmaWVyKDAgLyogRmFsc2UgKi8pO1xyXG4gICAgfVxyXG4gICAgYWRkKGNoYXJDb2RlKSB7XHJcbiAgICAgICAgdGhpcy5fYWN0dWFsLnNldChjaGFyQ29kZSwgMSAvKiBUcnVlICovKTtcclxuICAgIH1cclxuICAgIGhhcyhjaGFyQ29kZSkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5fYWN0dWFsLmdldChjaGFyQ29kZSkgPT09IDEgLyogVHJ1ZSAqLyk7XHJcbiAgICB9XHJcbn1cclxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5pbXBvcnQgeyBDaGFyYWN0ZXJDbGFzc2lmaWVyIH0gZnJvbSAnLi4vY29yZS9jaGFyYWN0ZXJDbGFzc2lmaWVyLmpzJztcclxuZXhwb3J0IGNsYXNzIFVpbnQ4TWF0cml4IHtcclxuICAgIGNvbnN0cnVjdG9yKHJvd3MsIGNvbHMsIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShyb3dzICogY29scyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHJvd3MgKiBjb2xzOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgZGF0YVtpXSA9IGRlZmF1bHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5yb3dzID0gcm93cztcclxuICAgICAgICB0aGlzLmNvbHMgPSBjb2xzO1xyXG4gICAgfVxyXG4gICAgZ2V0KHJvdywgY29sKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbcm93ICogdGhpcy5jb2xzICsgY29sXTtcclxuICAgIH1cclxuICAgIHNldChyb3csIGNvbCwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9kYXRhW3JvdyAqIHRoaXMuY29scyArIGNvbF0gPSB2YWx1ZTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgU3RhdGVNYWNoaW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGVkZ2VzKSB7XHJcbiAgICAgICAgbGV0IG1heENoYXJDb2RlID0gMDtcclxuICAgICAgICBsZXQgbWF4U3RhdGUgPSAwIC8qIEludmFsaWQgKi87XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGVkZ2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBbZnJvbSwgY2hDb2RlLCB0b10gPSBlZGdlc1tpXTtcclxuICAgICAgICAgICAgaWYgKGNoQ29kZSA+IG1heENoYXJDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBtYXhDaGFyQ29kZSA9IGNoQ29kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZnJvbSA+IG1heFN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBtYXhTdGF0ZSA9IGZyb207XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRvID4gbWF4U3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIG1heFN0YXRlID0gdG87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbWF4Q2hhckNvZGUrKztcclxuICAgICAgICBtYXhTdGF0ZSsrO1xyXG4gICAgICAgIGxldCBzdGF0ZXMgPSBuZXcgVWludDhNYXRyaXgobWF4U3RhdGUsIG1heENoYXJDb2RlLCAwIC8qIEludmFsaWQgKi8pO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBlZGdlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgW2Zyb20sIGNoQ29kZSwgdG9dID0gZWRnZXNbaV07XHJcbiAgICAgICAgICAgIHN0YXRlcy5zZXQoZnJvbSwgY2hDb2RlLCB0byk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3N0YXRlcyA9IHN0YXRlcztcclxuICAgICAgICB0aGlzLl9tYXhDaGFyQ29kZSA9IG1heENoYXJDb2RlO1xyXG4gICAgfVxyXG4gICAgbmV4dFN0YXRlKGN1cnJlbnRTdGF0ZSwgY2hDb2RlKSB7XHJcbiAgICAgICAgaWYgKGNoQ29kZSA8IDAgfHwgY2hDb2RlID49IHRoaXMuX21heENoYXJDb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwIC8qIEludmFsaWQgKi87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZXMuZ2V0KGN1cnJlbnRTdGF0ZSwgY2hDb2RlKTtcclxuICAgIH1cclxufVxyXG4vLyBTdGF0ZSBtYWNoaW5lIGZvciBodHRwOi8vIG9yIGh0dHBzOi8vIG9yIGZpbGU6Ly9cclxubGV0IF9zdGF0ZU1hY2hpbmUgPSBudWxsO1xyXG5mdW5jdGlvbiBnZXRTdGF0ZU1hY2hpbmUoKSB7XHJcbiAgICBpZiAoX3N0YXRlTWFjaGluZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIF9zdGF0ZU1hY2hpbmUgPSBuZXcgU3RhdGVNYWNoaW5lKFtcclxuICAgICAgICAgICAgWzEgLyogU3RhcnQgKi8sIDEwNCAvKiBoICovLCAyIC8qIEggKi9dLFxyXG4gICAgICAgICAgICBbMSAvKiBTdGFydCAqLywgNzIgLyogSCAqLywgMiAvKiBIICovXSxcclxuICAgICAgICAgICAgWzEgLyogU3RhcnQgKi8sIDEwMiAvKiBmICovLCA2IC8qIEYgKi9dLFxyXG4gICAgICAgICAgICBbMSAvKiBTdGFydCAqLywgNzAgLyogRiAqLywgNiAvKiBGICovXSxcclxuICAgICAgICAgICAgWzIgLyogSCAqLywgMTE2IC8qIHQgKi8sIDMgLyogSFQgKi9dLFxyXG4gICAgICAgICAgICBbMiAvKiBIICovLCA4NCAvKiBUICovLCAzIC8qIEhUICovXSxcclxuICAgICAgICAgICAgWzMgLyogSFQgKi8sIDExNiAvKiB0ICovLCA0IC8qIEhUVCAqL10sXHJcbiAgICAgICAgICAgIFszIC8qIEhUICovLCA4NCAvKiBUICovLCA0IC8qIEhUVCAqL10sXHJcbiAgICAgICAgICAgIFs0IC8qIEhUVCAqLywgMTEyIC8qIHAgKi8sIDUgLyogSFRUUCAqL10sXHJcbiAgICAgICAgICAgIFs0IC8qIEhUVCAqLywgODAgLyogUCAqLywgNSAvKiBIVFRQICovXSxcclxuICAgICAgICAgICAgWzUgLyogSFRUUCAqLywgMTE1IC8qIHMgKi8sIDkgLyogQmVmb3JlQ29sb24gKi9dLFxyXG4gICAgICAgICAgICBbNSAvKiBIVFRQICovLCA4MyAvKiBTICovLCA5IC8qIEJlZm9yZUNvbG9uICovXSxcclxuICAgICAgICAgICAgWzUgLyogSFRUUCAqLywgNTggLyogQ29sb24gKi8sIDEwIC8qIEFmdGVyQ29sb24gKi9dLFxyXG4gICAgICAgICAgICBbNiAvKiBGICovLCAxMDUgLyogaSAqLywgNyAvKiBGSSAqL10sXHJcbiAgICAgICAgICAgIFs2IC8qIEYgKi8sIDczIC8qIEkgKi8sIDcgLyogRkkgKi9dLFxyXG4gICAgICAgICAgICBbNyAvKiBGSSAqLywgMTA4IC8qIGwgKi8sIDggLyogRklMICovXSxcclxuICAgICAgICAgICAgWzcgLyogRkkgKi8sIDc2IC8qIEwgKi8sIDggLyogRklMICovXSxcclxuICAgICAgICAgICAgWzggLyogRklMICovLCAxMDEgLyogZSAqLywgOSAvKiBCZWZvcmVDb2xvbiAqL10sXHJcbiAgICAgICAgICAgIFs4IC8qIEZJTCAqLywgNjkgLyogRSAqLywgOSAvKiBCZWZvcmVDb2xvbiAqL10sXHJcbiAgICAgICAgICAgIFs5IC8qIEJlZm9yZUNvbG9uICovLCA1OCAvKiBDb2xvbiAqLywgMTAgLyogQWZ0ZXJDb2xvbiAqL10sXHJcbiAgICAgICAgICAgIFsxMCAvKiBBZnRlckNvbG9uICovLCA0NyAvKiBTbGFzaCAqLywgMTEgLyogQWxtb3N0VGhlcmUgKi9dLFxyXG4gICAgICAgICAgICBbMTEgLyogQWxtb3N0VGhlcmUgKi8sIDQ3IC8qIFNsYXNoICovLCAxMiAvKiBFbmQgKi9dLFxyXG4gICAgICAgIF0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9zdGF0ZU1hY2hpbmU7XHJcbn1cclxubGV0IF9jbGFzc2lmaWVyID0gbnVsbDtcclxuZnVuY3Rpb24gZ2V0Q2xhc3NpZmllcigpIHtcclxuICAgIGlmIChfY2xhc3NpZmllciA9PT0gbnVsbCkge1xyXG4gICAgICAgIF9jbGFzc2lmaWVyID0gbmV3IENoYXJhY3RlckNsYXNzaWZpZXIoMCAvKiBOb25lICovKTtcclxuICAgICAgICBjb25zdCBGT1JDRV9URVJNSU5BVElPTl9DSEFSQUNURVJTID0gJyBcXHQ8PlxcJ1xcXCJcdTMwMDFcdTMwMDJcdUZGNjFcdUZGNjRcdUZGMENcdUZGMEVcdUZGMUFcdUZGMUJcdTIwMThcdTMwMDhcdTMwMENcdTMwMEVcdTMwMTRcdUZGMDhcdUZGM0JcdUZGNUJcdUZGNjJcdUZGNjNcdUZGNURcdUZGM0RcdUZGMDlcdTMwMTVcdTMwMEZcdTMwMERcdTMwMDlcdTIwMTlcdUZGNDBcdUZGNUVcdTIwMjYnO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgRk9SQ0VfVEVSTUlOQVRJT05fQ0hBUkFDVEVSUy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBfY2xhc3NpZmllci5zZXQoRk9SQ0VfVEVSTUlOQVRJT05fQ0hBUkFDVEVSUy5jaGFyQ29kZUF0KGkpLCAxIC8qIEZvcmNlVGVybWluYXRpb24gKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBDQU5OT1RfRU5EX1dJVEhfQ0hBUkFDVEVSUyA9ICcuLDsnO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQ0FOTk9UX0VORF9XSVRIX0NIQVJBQ1RFUlMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgX2NsYXNzaWZpZXIuc2V0KENBTk5PVF9FTkRfV0lUSF9DSEFSQUNURVJTLmNoYXJDb2RlQXQoaSksIDIgLyogQ2Fubm90RW5kSW4gKi8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBfY2xhc3NpZmllcjtcclxufVxyXG5leHBvcnQgY2xhc3MgTGlua0NvbXB1dGVyIHtcclxuICAgIHN0YXRpYyBfY3JlYXRlTGluayhjbGFzc2lmaWVyLCBsaW5lLCBsaW5lTnVtYmVyLCBsaW5rQmVnaW5JbmRleCwgbGlua0VuZEluZGV4KSB7XHJcbiAgICAgICAgLy8gRG8gbm90IGFsbG93IHRvIGVuZCBsaW5rIGluIGNlcnRhaW4gY2hhcmFjdGVycy4uLlxyXG4gICAgICAgIGxldCBsYXN0SW5jbHVkZWRDaGFySW5kZXggPSBsaW5rRW5kSW5kZXggLSAxO1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgY29uc3QgY2hDb2RlID0gbGluZS5jaGFyQ29kZUF0KGxhc3RJbmNsdWRlZENoYXJJbmRleCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoQ2xhc3MgPSBjbGFzc2lmaWVyLmdldChjaENvZGUpO1xyXG4gICAgICAgICAgICBpZiAoY2hDbGFzcyAhPT0gMiAvKiBDYW5ub3RFbmRJbiAqLykge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFzdEluY2x1ZGVkQ2hhckluZGV4LS07XHJcbiAgICAgICAgfSB3aGlsZSAobGFzdEluY2x1ZGVkQ2hhckluZGV4ID4gbGlua0JlZ2luSW5kZXgpO1xyXG4gICAgICAgIC8vIEhhbmRsZSBsaW5rcyBlbmNsb3NlZCBpbiBwYXJlbnMsIHNxdWFyZSBicmFja2V0cyBhbmQgY3VybHlzLlxyXG4gICAgICAgIGlmIChsaW5rQmVnaW5JbmRleCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgY2hhckNvZGVCZWZvcmVMaW5rID0gbGluZS5jaGFyQ29kZUF0KGxpbmtCZWdpbkluZGV4IC0gMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFyQ29kZUluTGluayA9IGxpbmUuY2hhckNvZGVBdChsYXN0SW5jbHVkZWRDaGFySW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAoKGNoYXJDb2RlQmVmb3JlTGluayA9PT0gNDAgLyogT3BlblBhcmVuICovICYmIGxhc3RDaGFyQ29kZUluTGluayA9PT0gNDEgLyogQ2xvc2VQYXJlbiAqLylcclxuICAgICAgICAgICAgICAgIHx8IChjaGFyQ29kZUJlZm9yZUxpbmsgPT09IDkxIC8qIE9wZW5TcXVhcmVCcmFja2V0ICovICYmIGxhc3RDaGFyQ29kZUluTGluayA9PT0gOTMgLyogQ2xvc2VTcXVhcmVCcmFja2V0ICovKVxyXG4gICAgICAgICAgICAgICAgfHwgKGNoYXJDb2RlQmVmb3JlTGluayA9PT0gMTIzIC8qIE9wZW5DdXJseUJyYWNlICovICYmIGxhc3RDaGFyQ29kZUluTGluayA9PT0gMTI1IC8qIENsb3NlQ3VybHlCcmFjZSAqLykpIHtcclxuICAgICAgICAgICAgICAgIC8vIERvIG5vdCBlbmQgaW4gKSBpZiAoIGlzIGJlZm9yZSB0aGUgbGluayBzdGFydFxyXG4gICAgICAgICAgICAgICAgLy8gRG8gbm90IGVuZCBpbiBdIGlmIFsgaXMgYmVmb3JlIHRoZSBsaW5rIHN0YXJ0XHJcbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgZW5kIGluIH0gaWYgeyBpcyBiZWZvcmUgdGhlIGxpbmsgc3RhcnRcclxuICAgICAgICAgICAgICAgIGxhc3RJbmNsdWRlZENoYXJJbmRleC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJhbmdlOiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydExpbmVOdW1iZXI6IGxpbmVOdW1iZXIsXHJcbiAgICAgICAgICAgICAgICBzdGFydENvbHVtbjogbGlua0JlZ2luSW5kZXggKyAxLFxyXG4gICAgICAgICAgICAgICAgZW5kTGluZU51bWJlcjogbGluZU51bWJlcixcclxuICAgICAgICAgICAgICAgIGVuZENvbHVtbjogbGFzdEluY2x1ZGVkQ2hhckluZGV4ICsgMlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1cmw6IGxpbmUuc3Vic3RyaW5nKGxpbmtCZWdpbkluZGV4LCBsYXN0SW5jbHVkZWRDaGFySW5kZXggKyAxKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgY29tcHV0ZUxpbmtzKG1vZGVsLCBzdGF0ZU1hY2hpbmUgPSBnZXRTdGF0ZU1hY2hpbmUoKSkge1xyXG4gICAgICAgIGNvbnN0IGNsYXNzaWZpZXIgPSBnZXRDbGFzc2lmaWVyKCk7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxLCBsaW5lQ291bnQgPSBtb2RlbC5nZXRMaW5lQ291bnQoKTsgaSA8PSBsaW5lQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBsaW5lID0gbW9kZWwuZ2V0TGluZUNvbnRlbnQoaSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IGxpbmUubGVuZ3RoO1xyXG4gICAgICAgICAgICBsZXQgaiA9IDA7XHJcbiAgICAgICAgICAgIGxldCBsaW5rQmVnaW5JbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBsaW5rQmVnaW5DaENvZGUgPSAwO1xyXG4gICAgICAgICAgICBsZXQgc3RhdGUgPSAxIC8qIFN0YXJ0ICovO1xyXG4gICAgICAgICAgICBsZXQgaGFzT3BlblBhcmVucyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgaGFzT3BlblNxdWFyZUJyYWNrZXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IGluU3F1YXJlQnJhY2tldHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IGhhc09wZW5DdXJseUJyYWNrZXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgd2hpbGUgKGogPCBsZW4pIHtcclxuICAgICAgICAgICAgICAgIGxldCByZXNldFN0YXRlTWFjaGluZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hDb2RlID0gbGluZS5jaGFyQ29kZUF0KGopO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSAxMyAvKiBBY2NlcHQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hDbGFzcztcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNoQ29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQwIC8qIE9wZW5QYXJlbiAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc09wZW5QYXJlbnMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IDAgLyogTm9uZSAqLztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQxIC8qIENsb3NlUGFyZW4gKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gKGhhc09wZW5QYXJlbnMgPyAwIC8qIE5vbmUgKi8gOiAxIC8qIEZvcmNlVGVybWluYXRpb24gKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTEgLyogT3BlblNxdWFyZUJyYWNrZXQgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpblNxdWFyZUJyYWNrZXRzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc09wZW5TcXVhcmVCcmFja2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAwIC8qIE5vbmUgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5MyAvKiBDbG9zZVNxdWFyZUJyYWNrZXQgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpblNxdWFyZUJyYWNrZXRzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gKGhhc09wZW5TcXVhcmVCcmFja2V0ID8gMCAvKiBOb25lICovIDogMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyMyAvKiBPcGVuQ3VybHlCcmFjZSAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc09wZW5DdXJseUJyYWNrZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IDAgLyogTm9uZSAqLztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyNSAvKiBDbG9zZUN1cmx5QnJhY2UgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gKGhhc09wZW5DdXJseUJyYWNrZXQgPyAwIC8qIE5vbmUgKi8gOiAxIC8qIEZvcmNlVGVybWluYXRpb24gKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFRoZSBmb2xsb3dpbmcgdGhyZWUgcnVsZXMgbWFrZSBpdCB0aGF0ICcgb3IgXCIgb3IgYCBhcmUgYWxsb3dlZCBpbnNpZGUgbGlua3MgaWYgdGhlIGxpbmsgYmVnYW4gd2l0aCBhIGRpZmZlcmVudCBvbmUgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOSAvKiBTaW5nbGVRdW90ZSAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAobGlua0JlZ2luQ2hDb2RlID09PSAzNCAvKiBEb3VibGVRdW90ZSAqLyB8fCBsaW5rQmVnaW5DaENvZGUgPT09IDk2IC8qIEJhY2tUaWNrICovKSA/IDAgLyogTm9uZSAqLyA6IDEgLyogRm9yY2VUZXJtaW5hdGlvbiAqLztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM0IC8qIERvdWJsZVF1b3RlICovOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IChsaW5rQmVnaW5DaENvZGUgPT09IDM5IC8qIFNpbmdsZVF1b3RlICovIHx8IGxpbmtCZWdpbkNoQ29kZSA9PT0gOTYgLyogQmFja1RpY2sgKi8pID8gMCAvKiBOb25lICovIDogMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTYgLyogQmFja1RpY2sgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gKGxpbmtCZWdpbkNoQ29kZSA9PT0gMzkgLyogU2luZ2xlUXVvdGUgKi8gfHwgbGlua0JlZ2luQ2hDb2RlID09PSAzNCAvKiBEb3VibGVRdW90ZSAqLykgPyAwIC8qIE5vbmUgKi8gOiAxIC8qIEZvcmNlVGVybWluYXRpb24gKi87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0MiAvKiBBc3RlcmlzayAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGAqYCB0ZXJtaW5hdGVzIGEgbGluayBpZiB0aGUgbGluayBiZWdhbiB3aXRoIGAqYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IChsaW5rQmVnaW5DaENvZGUgPT09IDQyIC8qIEFzdGVyaXNrICovKSA/IDEgLyogRm9yY2VUZXJtaW5hdGlvbiAqLyA6IDAgLyogTm9uZSAqLztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyNCAvKiBQaXBlICovOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYHxgIHRlcm1pbmF0ZXMgYSBsaW5rIGlmIHRoZSBsaW5rIGJlZ2FuIHdpdGggYHxgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gKGxpbmtCZWdpbkNoQ29kZSA9PT0gMTI0IC8qIFBpcGUgKi8pID8gMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovIDogMCAvKiBOb25lICovO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzIgLyogU3BhY2UgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBgIGAgYWxsb3cgc3BhY2UgaW4gYmV0d2VlbiBbIGFuZCBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gKGluU3F1YXJlQnJhY2tldHMgPyAwIC8qIE5vbmUgKi8gOiAxIC8qIEZvcmNlVGVybWluYXRpb24gKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gY2xhc3NpZmllci5nZXQoY2hDb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY2hhcmFjdGVyIHRlcm1pbmF0ZXMgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaENsYXNzID09PSAxIC8qIEZvcmNlVGVybWluYXRpb24gKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTGlua0NvbXB1dGVyLl9jcmVhdGVMaW5rKGNsYXNzaWZpZXIsIGxpbmUsIGksIGxpbmtCZWdpbkluZGV4LCBqKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0U3RhdGVNYWNoaW5lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZSA9PT0gMTIgLyogRW5kICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoQ2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoQ29kZSA9PT0gOTEgLyogT3BlblNxdWFyZUJyYWNrZXQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgZm9yIHRoZSBhdXRob3JpdHkgcGFydCB0byBjb250YWluIGlwdjYgYWRkcmVzc2VzIHdoaWNoIGNvbnRhaW4gWyBhbmQgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNPcGVuU3F1YXJlQnJhY2tldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAwIC8qIE5vbmUgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gY2xhc3NpZmllci5nZXQoY2hDb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY2hhcmFjdGVyIHRlcm1pbmF0ZXMgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaENsYXNzID09PSAxIC8qIEZvcmNlVGVybWluYXRpb24gKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRTdGF0ZU1hY2hpbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAxMyAvKiBBY2NlcHQgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZU1hY2hpbmUubmV4dFN0YXRlKHN0YXRlLCBjaENvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMCAvKiBJbnZhbGlkICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0U3RhdGVNYWNoaW5lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzZXRTdGF0ZU1hY2hpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDEgLyogU3RhcnQgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzT3BlblBhcmVucyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc09wZW5TcXVhcmVCcmFja2V0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzT3BlbkN1cmx5QnJhY2tldCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlY29yZCB3aGVyZSB0aGUgbGluayBzdGFydGVkXHJcbiAgICAgICAgICAgICAgICAgICAgbGlua0JlZ2luSW5kZXggPSBqICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rQmVnaW5DaENvZGUgPSBjaENvZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBqKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0YXRlID09PSAxMyAvKiBBY2NlcHQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKExpbmtDb21wdXRlci5fY3JlYXRlTGluayhjbGFzc2lmaWVyLCBsaW5lLCBpLCBsaW5rQmVnaW5JbmRleCwgbGVuKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgbGlua3MgY29udGFpbnMgaW4gdGhlIHByb3ZpZGVkXHJcbiAqIGRvY3VtZW50LiAqTm90ZSogdGhhdCB0aGlzIG9wZXJhdGlvbiBpcyBjb21wdXRhdGlvbmFsXHJcbiAqIGV4cGVuc2l2ZSBhbmQgc2hvdWxkIG5vdCBydW4gaW4gdGhlIFVJIHRocmVhZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlTGlua3MobW9kZWwpIHtcclxuICAgIGlmICghbW9kZWwgfHwgdHlwZW9mIG1vZGVsLmdldExpbmVDb3VudCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgbW9kZWwuZ2V0TGluZUNvbnRlbnQgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAvLyBVbmtub3duIGNhbGxlciFcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTGlua0NvbXB1dGVyLmNvbXB1dGVMaW5rcyhtb2RlbCk7XHJcbn1cclxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5leHBvcnQgY2xhc3MgQmFzaWNJbnBsYWNlUmVwbGFjZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9kZWZhdWx0VmFsdWVTZXQgPSBbXHJcbiAgICAgICAgICAgIFsndHJ1ZScsICdmYWxzZSddLFxyXG4gICAgICAgICAgICBbJ1RydWUnLCAnRmFsc2UnXSxcclxuICAgICAgICAgICAgWydQcml2YXRlJywgJ1B1YmxpYycsICdGcmllbmQnLCAnUmVhZE9ubHknLCAnUGFydGlhbCcsICdQcm90ZWN0ZWQnLCAnV3JpdGVPbmx5J10sXHJcbiAgICAgICAgICAgIFsncHVibGljJywgJ3Byb3RlY3RlZCcsICdwcml2YXRlJ10sXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuICAgIG5hdmlnYXRlVmFsdWVTZXQocmFuZ2UxLCB0ZXh0MSwgcmFuZ2UyLCB0ZXh0MiwgdXApIHtcclxuICAgICAgICBpZiAocmFuZ2UxICYmIHRleHQxKSB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmRvTmF2aWdhdGVWYWx1ZVNldCh0ZXh0MSwgdXApO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiByYW5nZTEsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmFuZ2UyICYmIHRleHQyKSB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmRvTmF2aWdhdGVWYWx1ZVNldCh0ZXh0MiwgdXApO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiByYW5nZTIsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGRvTmF2aWdhdGVWYWx1ZVNldCh0ZXh0LCB1cCkge1xyXG4gICAgICAgIGxldCBudW1iZXJSZXN1bHQgPSB0aGlzLm51bWJlclJlcGxhY2UodGV4dCwgdXApO1xyXG4gICAgICAgIGlmIChudW1iZXJSZXN1bHQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bWJlclJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dFJlcGxhY2UodGV4dCwgdXApO1xyXG4gICAgfVxyXG4gICAgbnVtYmVyUmVwbGFjZSh2YWx1ZSwgdXApIHtcclxuICAgICAgICBsZXQgcHJlY2lzaW9uID0gTWF0aC5wb3coMTAsIHZhbHVlLmxlbmd0aCAtICh2YWx1ZS5sYXN0SW5kZXhPZignLicpICsgMSkpO1xyXG4gICAgICAgIGxldCBuMSA9IE51bWJlcih2YWx1ZSk7XHJcbiAgICAgICAgbGV0IG4yID0gcGFyc2VGbG9hdCh2YWx1ZSk7XHJcbiAgICAgICAgaWYgKCFpc05hTihuMSkgJiYgIWlzTmFOKG4yKSAmJiBuMSA9PT0gbjIpIHtcclxuICAgICAgICAgICAgaWYgKG4xID09PSAwICYmICF1cCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIGRvbid0IGRvIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgICAgICAvL1x0XHRcdH0gZWxzZSBpZihuMSA9PT0gOSAmJiB1cCkge1xyXG4gICAgICAgICAgICAgICAgLy9cdFx0XHRcdHJldHVybiBudWxsOyAvLyBkb24ndCBpbnNlcnQgMTAgaW50byBhIG51bWJlclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbjEgPSBNYXRoLmZsb29yKG4xICogcHJlY2lzaW9uKTtcclxuICAgICAgICAgICAgICAgIG4xICs9IHVwID8gcHJlY2lzaW9uIDogLXByZWNpc2lvbjtcclxuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcobjEgLyBwcmVjaXNpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgdGV4dFJlcGxhY2UodmFsdWUsIHVwKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVTZXRzUmVwbGFjZSh0aGlzLl9kZWZhdWx0VmFsdWVTZXQsIHZhbHVlLCB1cCk7XHJcbiAgICB9XHJcbiAgICB2YWx1ZVNldHNSZXBsYWNlKHZhbHVlU2V0cywgdmFsdWUsIHVwKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IG51bGw7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHZhbHVlU2V0cy5sZW5ndGg7IHJlc3VsdCA9PT0gbnVsbCAmJiBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy52YWx1ZVNldFJlcGxhY2UodmFsdWVTZXRzW2ldLCB2YWx1ZSwgdXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgdmFsdWVTZXRSZXBsYWNlKHZhbHVlU2V0LCB2YWx1ZSwgdXApIHtcclxuICAgICAgICBsZXQgaWR4ID0gdmFsdWVTZXQuaW5kZXhPZih2YWx1ZSk7XHJcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XHJcbiAgICAgICAgICAgIGlkeCArPSB1cCA/ICsxIDogLTE7XHJcbiAgICAgICAgICAgIGlmIChpZHggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZHggPSB2YWx1ZVNldC5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWR4ICU9IHZhbHVlU2V0Lmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVTZXRbaWR4XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuQmFzaWNJbnBsYWNlUmVwbGFjZS5JTlNUQU5DRSA9IG5ldyBCYXNpY0lucGxhY2VSZXBsYWNlKCk7XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuY2xhc3MgTm9kZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB0aGlzLm5leHQgPSBOb2RlLlVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLnByZXYgPSBOb2RlLlVuZGVmaW5lZDtcclxuICAgIH1cclxufVxyXG5Ob2RlLlVuZGVmaW5lZCA9IG5ldyBOb2RlKHVuZGVmaW5lZCk7XHJcbmV4cG9ydCBjbGFzcyBMaW5rZWRMaXN0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX2ZpcnN0ID0gTm9kZS5VbmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5fbGFzdCA9IE5vZGUuVW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuX3NpemUgPSAwO1xyXG4gICAgfVxyXG4gICAgZ2V0IHNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XHJcbiAgICB9XHJcbiAgICBpc0VtcHR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9maXJzdCA9PT0gTm9kZS5VbmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuX2ZpcnN0O1xyXG4gICAgICAgIHdoaWxlIChub2RlICE9PSBOb2RlLlVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gbm9kZS5uZXh0O1xyXG4gICAgICAgICAgICBub2RlLnByZXYgPSBOb2RlLlVuZGVmaW5lZDtcclxuICAgICAgICAgICAgbm9kZS5uZXh0ID0gTm9kZS5VbmRlZmluZWQ7XHJcbiAgICAgICAgICAgIG5vZGUgPSBuZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9maXJzdCA9IE5vZGUuVW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuX2xhc3QgPSBOb2RlLlVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLl9zaXplID0gMDtcclxuICAgIH1cclxuICAgIHVuc2hpZnQoZWxlbWVudCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnNlcnQoZWxlbWVudCwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgcHVzaChlbGVtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc2VydChlbGVtZW50LCB0cnVlKTtcclxuICAgIH1cclxuICAgIF9pbnNlcnQoZWxlbWVudCwgYXRUaGVFbmQpIHtcclxuICAgICAgICBjb25zdCBuZXdOb2RlID0gbmV3IE5vZGUoZWxlbWVudCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0ID09PSBOb2RlLlVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9maXJzdCA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgIHRoaXMuX2xhc3QgPSBuZXdOb2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhdFRoZUVuZCkge1xyXG4gICAgICAgICAgICAvLyBwdXNoXHJcbiAgICAgICAgICAgIGNvbnN0IG9sZExhc3QgPSB0aGlzLl9sYXN0O1xyXG4gICAgICAgICAgICB0aGlzLl9sYXN0ID0gbmV3Tm9kZTtcclxuICAgICAgICAgICAgbmV3Tm9kZS5wcmV2ID0gb2xkTGFzdDtcclxuICAgICAgICAgICAgb2xkTGFzdC5uZXh0ID0gbmV3Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHVuc2hpZnRcclxuICAgICAgICAgICAgY29uc3Qgb2xkRmlyc3QgPSB0aGlzLl9maXJzdDtcclxuICAgICAgICAgICAgdGhpcy5fZmlyc3QgPSBuZXdOb2RlO1xyXG4gICAgICAgICAgICBuZXdOb2RlLm5leHQgPSBvbGRGaXJzdDtcclxuICAgICAgICAgICAgb2xkRmlyc3QucHJldiA9IG5ld05vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NpemUgKz0gMTtcclxuICAgICAgICBsZXQgZGlkUmVtb3ZlID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFkaWRSZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgIGRpZFJlbW92ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmUobmV3Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgc2hpZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0ID09PSBOb2RlLlVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzID0gdGhpcy5fZmlyc3QuZWxlbWVudDtcclxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlKHRoaXMuX2ZpcnN0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwb3AoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2xhc3QgPT09IE5vZGUuVW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCByZXMgPSB0aGlzLl9sYXN0LmVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZSh0aGlzLl9sYXN0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcmVtb3ZlKG5vZGUpIHtcclxuICAgICAgICBpZiAobm9kZS5wcmV2ICE9PSBOb2RlLlVuZGVmaW5lZCAmJiBub2RlLm5leHQgIT09IE5vZGUuVW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIG1pZGRsZVxyXG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBub2RlLnByZXY7XHJcbiAgICAgICAgICAgIGFuY2hvci5uZXh0ID0gbm9kZS5uZXh0O1xyXG4gICAgICAgICAgICBub2RlLm5leHQucHJldiA9IGFuY2hvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobm9kZS5wcmV2ID09PSBOb2RlLlVuZGVmaW5lZCAmJiBub2RlLm5leHQgPT09IE5vZGUuVW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgbm9kZVxyXG4gICAgICAgICAgICB0aGlzLl9maXJzdCA9IE5vZGUuVW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLl9sYXN0ID0gTm9kZS5VbmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5vZGUubmV4dCA9PT0gTm9kZS5VbmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gbGFzdFxyXG4gICAgICAgICAgICB0aGlzLl9sYXN0ID0gdGhpcy5fbGFzdC5wcmV2O1xyXG4gICAgICAgICAgICB0aGlzLl9sYXN0Lm5leHQgPSBOb2RlLlVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobm9kZS5wcmV2ID09PSBOb2RlLlVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBmaXJzdFxyXG4gICAgICAgICAgICB0aGlzLl9maXJzdCA9IHRoaXMuX2ZpcnN0Lm5leHQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0LnByZXYgPSBOb2RlLlVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZG9uZVxyXG4gICAgICAgIHRoaXMuX3NpemUgLT0gMTtcclxuICAgIH1cclxuICAgICpbU3ltYm9sLml0ZXJhdG9yXSgpIHtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuX2ZpcnN0O1xyXG4gICAgICAgIHdoaWxlIChub2RlICE9PSBOb2RlLlVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB5aWVsZCBub2RlLmVsZW1lbnQ7XHJcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuaW1wb3J0IHsgZ2xvYmFscyB9IGZyb20gJy4vcGxhdGZvcm0uanMnO1xyXG5jb25zdCBoYXNQZXJmb3JtYW5jZU5vdyA9IChnbG9iYWxzLnBlcmZvcm1hbmNlICYmIHR5cGVvZiBnbG9iYWxzLnBlcmZvcm1hbmNlLm5vdyA9PT0gJ2Z1bmN0aW9uJyk7XHJcbmV4cG9ydCBjbGFzcyBTdG9wV2F0Y2gge1xyXG4gICAgY29uc3RydWN0b3IoaGlnaFJlc29sdXRpb24pIHtcclxuICAgICAgICB0aGlzLl9oaWdoUmVzb2x1dGlvbiA9IGhhc1BlcmZvcm1hbmNlTm93ICYmIGhpZ2hSZXNvbHV0aW9uO1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0VGltZSA9IHRoaXMuX25vdygpO1xyXG4gICAgICAgIHRoaXMuX3N0b3BUaW1lID0gLTE7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgY3JlYXRlKGhpZ2hSZXNvbHV0aW9uID0gdHJ1ZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU3RvcFdhdGNoKGhpZ2hSZXNvbHV0aW9uKTtcclxuICAgIH1cclxuICAgIHN0b3AoKSB7XHJcbiAgICAgICAgdGhpcy5fc3RvcFRpbWUgPSB0aGlzLl9ub3coKTtcclxuICAgIH1cclxuICAgIGVsYXBzZWQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3N0b3BUaW1lICE9PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RvcFRpbWUgLSB0aGlzLl9zdGFydFRpbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9ub3coKSAtIHRoaXMuX3N0YXJ0VGltZTtcclxuICAgIH1cclxuICAgIF9ub3coKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hpZ2hSZXNvbHV0aW9uID8gZ2xvYmFscy5wZXJmb3JtYW5jZS5ub3coKSA6IERhdGUubm93KCk7XHJcbiAgICB9XHJcbn1cclxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5pbXBvcnQgeyBvblVuZXhwZWN0ZWRFcnJvciB9IGZyb20gJy4vZXJyb3JzLmpzJztcclxuaW1wb3J0IHsgRGlzcG9zYWJsZSwgY29tYmluZWREaXNwb3NhYmxlLCBEaXNwb3NhYmxlU3RvcmUgfSBmcm9tICcuL2xpZmVjeWNsZS5qcyc7XHJcbmltcG9ydCB7IExpbmtlZExpc3QgfSBmcm9tICcuL2xpbmtlZExpc3QuanMnO1xyXG5pbXBvcnQgeyBTdG9wV2F0Y2ggfSBmcm9tICcuL3N0b3B3YXRjaC5qcyc7XHJcbmV4cG9ydCB2YXIgRXZlbnQ7XHJcbihmdW5jdGlvbiAoRXZlbnQpIHtcclxuICAgIEV2ZW50Lk5vbmUgPSAoKSA9PiBEaXNwb3NhYmxlLk5vbmU7XHJcbiAgICAvKipcclxuICAgICAqIEdpdmVuIGFuIGV2ZW50LCByZXR1cm5zIGFub3RoZXIgZXZlbnQgd2hpY2ggb25seSBmaXJlcyBvbmNlLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBvbmNlKGV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIChsaXN0ZW5lciwgdGhpc0FyZ3MgPSBudWxsLCBkaXNwb3NhYmxlcykgPT4ge1xyXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMsIGluIGNhc2UgdGhlIGV2ZW50IGZpcmVzIGR1cmluZyB0aGUgbGlzdGVuZXIgY2FsbFxyXG4gICAgICAgICAgICBsZXQgZGlkRmlyZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgICAgICByZXN1bHQgPSBldmVudChlID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkaWRGaXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpZEZpcmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGUpO1xyXG4gICAgICAgICAgICB9LCBudWxsLCBkaXNwb3NhYmxlcyk7XHJcbiAgICAgICAgICAgIGlmIChkaWRGaXJlKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIEV2ZW50Lm9uY2UgPSBvbmNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlbiBhbiBldmVudCBhbmQgYSBgbWFwYCBmdW5jdGlvbiwgcmV0dXJucyBhbm90aGVyIGV2ZW50IHdoaWNoIG1hcHMgZWFjaCBlbGVtZW50XHJcbiAgICAgKiB0aHJvdWdoIHRoZSBtYXBwaW5nIGZ1bmN0aW9uLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBtYXAoZXZlbnQsIG1hcCkge1xyXG4gICAgICAgIHJldHVybiBzbmFwc2hvdCgobGlzdGVuZXIsIHRoaXNBcmdzID0gbnVsbCwgZGlzcG9zYWJsZXMpID0+IGV2ZW50KGkgPT4gbGlzdGVuZXIuY2FsbCh0aGlzQXJncywgbWFwKGkpKSwgbnVsbCwgZGlzcG9zYWJsZXMpKTtcclxuICAgIH1cclxuICAgIEV2ZW50Lm1hcCA9IG1hcDtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gYW4gZXZlbnQgYW5kIGFuIGBlYWNoYCBmdW5jdGlvbiwgcmV0dXJucyBhbm90aGVyIGlkZW50aWNhbCBldmVudCBhbmQgY2FsbHNcclxuICAgICAqIHRoZSBgZWFjaGAgZnVuY3Rpb24gcGVyIGVhY2ggZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZm9yRWFjaChldmVudCwgZWFjaCkge1xyXG4gICAgICAgIHJldHVybiBzbmFwc2hvdCgobGlzdGVuZXIsIHRoaXNBcmdzID0gbnVsbCwgZGlzcG9zYWJsZXMpID0+IGV2ZW50KGkgPT4geyBlYWNoKGkpOyBsaXN0ZW5lci5jYWxsKHRoaXNBcmdzLCBpKTsgfSwgbnVsbCwgZGlzcG9zYWJsZXMpKTtcclxuICAgIH1cclxuICAgIEV2ZW50LmZvckVhY2ggPSBmb3JFYWNoO1xyXG4gICAgZnVuY3Rpb24gZmlsdGVyKGV2ZW50LCBmaWx0ZXIpIHtcclxuICAgICAgICByZXR1cm4gc25hcHNob3QoKGxpc3RlbmVyLCB0aGlzQXJncyA9IG51bGwsIGRpc3Bvc2FibGVzKSA9PiBldmVudChlID0+IGZpbHRlcihlKSAmJiBsaXN0ZW5lci5jYWxsKHRoaXNBcmdzLCBlKSwgbnVsbCwgZGlzcG9zYWJsZXMpKTtcclxuICAgIH1cclxuICAgIEV2ZW50LmZpbHRlciA9IGZpbHRlcjtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gYW4gZXZlbnQsIHJldHVybnMgdGhlIHNhbWUgZXZlbnQgYnV0IHR5cGVkIGFzIGBFdmVudDx2b2lkPmAuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNpZ25hbChldmVudCkge1xyXG4gICAgICAgIHJldHVybiBldmVudDtcclxuICAgIH1cclxuICAgIEV2ZW50LnNpZ25hbCA9IHNpZ25hbDtcclxuICAgIGZ1bmN0aW9uIGFueSguLi5ldmVudHMpIHtcclxuICAgICAgICByZXR1cm4gKGxpc3RlbmVyLCB0aGlzQXJncyA9IG51bGwsIGRpc3Bvc2FibGVzKSA9PiBjb21iaW5lZERpc3Bvc2FibGUoLi4uZXZlbnRzLm1hcChldmVudCA9PiBldmVudChlID0+IGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGUpLCBudWxsLCBkaXNwb3NhYmxlcykpKTtcclxuICAgIH1cclxuICAgIEV2ZW50LmFueSA9IGFueTtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gYW4gZXZlbnQgYW5kIGEgYG1lcmdlYCBmdW5jdGlvbiwgcmV0dXJucyBhbm90aGVyIGV2ZW50IHdoaWNoIG1hcHMgZWFjaCBlbGVtZW50XHJcbiAgICAgKiBhbmQgdGhlIGN1bXVsYXRpdmUgcmVzdWx0IHRocm91Z2ggdGhlIGBtZXJnZWAgZnVuY3Rpb24uIFNpbWlsYXIgdG8gYG1hcGAsIGJ1dCB3aXRoIG1lbW9yeS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVkdWNlKGV2ZW50LCBtZXJnZSwgaW5pdGlhbCkge1xyXG4gICAgICAgIGxldCBvdXRwdXQgPSBpbml0aWFsO1xyXG4gICAgICAgIHJldHVybiBtYXAoZXZlbnQsIGUgPT4ge1xyXG4gICAgICAgICAgICBvdXRwdXQgPSBtZXJnZShvdXRwdXQsIGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgRXZlbnQucmVkdWNlID0gcmVkdWNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlbiBhIGNoYWluIG9mIGV2ZW50IHByb2Nlc3NpbmcgZnVuY3Rpb25zIChmaWx0ZXIsIG1hcCwgZXRjKSwgZWFjaFxyXG4gICAgICogZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHBlciBldmVudCAmIHBlciBsaXN0ZW5lci4gU25hcHNob3R0aW5nIGFuIGV2ZW50XHJcbiAgICAgKiBjaGFpbiBhbGxvd3MgZWFjaCBmdW5jdGlvbiB0byBiZSBpbnZva2VkIGp1c3Qgb25jZSBwZXIgZXZlbnQuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNuYXBzaG90KGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IGxpc3RlbmVyO1xyXG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRW1pdHRlcih7XHJcbiAgICAgICAgICAgIG9uRmlyc3RMaXN0ZW5lckFkZCgpIHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gZXZlbnQoZW1pdHRlci5maXJlLCBlbWl0dGVyKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25MYXN0TGlzdGVuZXJSZW1vdmUoKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZW1pdHRlci5ldmVudDtcclxuICAgIH1cclxuICAgIEV2ZW50LnNuYXBzaG90ID0gc25hcHNob3Q7XHJcbiAgICBmdW5jdGlvbiBkZWJvdW5jZShldmVudCwgbWVyZ2UsIGRlbGF5ID0gMTAwLCBsZWFkaW5nID0gZmFsc2UsIGxlYWtXYXJuaW5nVGhyZXNob2xkKSB7XHJcbiAgICAgICAgbGV0IHN1YnNjcmlwdGlvbjtcclxuICAgICAgICBsZXQgb3V0cHV0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGxldCBoYW5kbGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgbGV0IG51bURlYm91bmNlZENhbGxzID0gMDtcclxuICAgICAgICBjb25zdCBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoe1xyXG4gICAgICAgICAgICBsZWFrV2FybmluZ1RocmVzaG9sZCxcclxuICAgICAgICAgICAgb25GaXJzdExpc3RlbmVyQWRkKCkge1xyXG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gZXZlbnQoY3VyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBudW1EZWJvdW5jZWRDYWxscysrO1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IG1lcmdlKG91dHB1dCwgY3VyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGVhZGluZyAmJiAhaGFuZGxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZmlyZShvdXRwdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChoYW5kbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfb3V0cHV0ID0gb3V0cHV0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsZWFkaW5nIHx8IG51bURlYm91bmNlZENhbGxzID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5maXJlKF9vdXRwdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bURlYm91bmNlZENhbGxzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25MYXN0TGlzdGVuZXJSZW1vdmUoKSB7XHJcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGVtaXR0ZXIuZXZlbnQ7XHJcbiAgICB9XHJcbiAgICBFdmVudC5kZWJvdW5jZSA9IGRlYm91bmNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlbiBhbiBldmVudCwgaXQgcmV0dXJucyBhbm90aGVyIGV2ZW50IHdoaWNoIGZpcmVzIG9ubHkgb25jZSBhbmQgYXMgc29vbiBhc1xyXG4gICAgICogdGhlIGlucHV0IGV2ZW50IGVtaXRzLiBUaGUgZXZlbnQgZGF0YSBpcyB0aGUgbnVtYmVyIG9mIG1pbGxpcyBpdCB0b29rIGZvciB0aGVcclxuICAgICAqIGV2ZW50IHRvIGZpcmUuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHN0b3B3YXRjaChldmVudCkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgcmV0dXJuIG1hcChvbmNlKGV2ZW50KSwgXyA9PiBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHN0YXJ0KTtcclxuICAgIH1cclxuICAgIEV2ZW50LnN0b3B3YXRjaCA9IHN0b3B3YXRjaDtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gYW4gZXZlbnQsIGl0IHJldHVybnMgYW5vdGhlciBldmVudCB3aGljaCBmaXJlcyBvbmx5IHdoZW4gdGhlIGV2ZW50XHJcbiAgICAgKiBlbGVtZW50IGNoYW5nZXMuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGxhdGNoKGV2ZW50LCBlcXVhbHMgPSAoYSwgYikgPT4gYSA9PT0gYikge1xyXG4gICAgICAgIGxldCBmaXJzdENhbGwgPSB0cnVlO1xyXG4gICAgICAgIGxldCBjYWNoZTtcclxuICAgICAgICByZXR1cm4gZmlsdGVyKGV2ZW50LCB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZEVtaXQgPSBmaXJzdENhbGwgfHwgIWVxdWFscyh2YWx1ZSwgY2FjaGUpO1xyXG4gICAgICAgICAgICBmaXJzdENhbGwgPSBmYWxzZTtcclxuICAgICAgICAgICAgY2FjaGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHNob3VsZEVtaXQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBFdmVudC5sYXRjaCA9IGxhdGNoO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlbiBhbiBldmVudCwgaXQgcmV0dXJucyBhbm90aGVyIGV2ZW50IHdoaWNoIGZpcmVzIG9ubHkgd2hlbiB0aGUgZXZlbnRcclxuICAgICAqIGVsZW1lbnQgY2hhbmdlcy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gc3BsaXQoZXZlbnQsIGlzVCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIEV2ZW50LmZpbHRlcihldmVudCwgaXNUKSxcclxuICAgICAgICAgICAgRXZlbnQuZmlsdGVyKGV2ZW50LCBlID0+ICFpc1QoZSkpLFxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbiAgICBFdmVudC5zcGxpdCA9IHNwbGl0O1xyXG4gICAgLyoqXHJcbiAgICAgKiBCdWZmZXJzIHRoZSBwcm92aWRlZCBldmVudCB1bnRpbCBhIGZpcnN0IGxpc3RlbmVyIGNvbWVzXHJcbiAgICAgKiBhbG9uZywgYXQgd2hpY2ggcG9pbnQgZmlyZSBhbGwgdGhlIGV2ZW50cyBhdCBvbmNlIGFuZFxyXG4gICAgICogcGlwZSB0aGUgZXZlbnQgZnJvbSB0aGVuIG9uLlxyXG4gICAgICpcclxuICAgICAqIGBgYHR5cGVzY3JpcHRcclxuICAgICAqIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRW1pdHRlcjxudW1iZXI+KCk7XHJcbiAgICAgKiBjb25zdCBldmVudCA9IGVtaXR0ZXIuZXZlbnQ7XHJcbiAgICAgKiBjb25zdCBidWZmZXJlZEV2ZW50ID0gYnVmZmVyKGV2ZW50KTtcclxuICAgICAqXHJcbiAgICAgKiBlbWl0dGVyLmZpcmUoMSk7XHJcbiAgICAgKiBlbWl0dGVyLmZpcmUoMik7XHJcbiAgICAgKiBlbWl0dGVyLmZpcmUoMyk7XHJcbiAgICAgKiAvLyBub3RoaW5nLi4uXHJcbiAgICAgKlxyXG4gICAgICogY29uc3QgbGlzdGVuZXIgPSBidWZmZXJlZEV2ZW50KG51bSA9PiBjb25zb2xlLmxvZyhudW0pKTtcclxuICAgICAqIC8vIDEsIDIsIDNcclxuICAgICAqXHJcbiAgICAgKiBlbWl0dGVyLmZpcmUoNCk7XHJcbiAgICAgKiAvLyA0XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYnVmZmVyKGV2ZW50LCBuZXh0VGljayA9IGZhbHNlLCBfYnVmZmVyID0gW10pIHtcclxuICAgICAgICBsZXQgYnVmZmVyID0gX2J1ZmZlci5zbGljZSgpO1xyXG4gICAgICAgIGxldCBsaXN0ZW5lciA9IGV2ZW50KGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIucHVzaChlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZmlyZShlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGZsdXNoID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIuZm9yRWFjaChlID0+IGVtaXR0ZXIuZmlyZShlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnVmZmVyID0gbnVsbDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRW1pdHRlcih7XHJcbiAgICAgICAgICAgIG9uRmlyc3RMaXN0ZW5lckFkZCgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghbGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGV2ZW50KGUgPT4gZW1pdHRlci5maXJlKGUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25GaXJzdExpc3RlbmVyRGlkQWRkKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VGljaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZsdXNoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsdXNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkxhc3RMaXN0ZW5lclJlbW92ZSgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBlbWl0dGVyLmV2ZW50O1xyXG4gICAgfVxyXG4gICAgRXZlbnQuYnVmZmVyID0gYnVmZmVyO1xyXG4gICAgY2xhc3MgQ2hhaW5hYmxlRXZlbnQge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWFwKGZuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2hhaW5hYmxlRXZlbnQobWFwKHRoaXMuZXZlbnQsIGZuKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvckVhY2goZm4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGFpbmFibGVFdmVudChmb3JFYWNoKHRoaXMuZXZlbnQsIGZuKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbHRlcihmbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENoYWluYWJsZUV2ZW50KGZpbHRlcih0aGlzLmV2ZW50LCBmbikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZWR1Y2UobWVyZ2UsIGluaXRpYWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGFpbmFibGVFdmVudChyZWR1Y2UodGhpcy5ldmVudCwgbWVyZ2UsIGluaXRpYWwpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGF0Y2goKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2hhaW5hYmxlRXZlbnQobGF0Y2godGhpcy5ldmVudCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWJvdW5jZShtZXJnZSwgZGVsYXkgPSAxMDAsIGxlYWRpbmcgPSBmYWxzZSwgbGVha1dhcm5pbmdUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGFpbmFibGVFdmVudChkZWJvdW5jZSh0aGlzLmV2ZW50LCBtZXJnZSwgZGVsYXksIGxlYWRpbmcsIGxlYWtXYXJuaW5nVGhyZXNob2xkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9uKGxpc3RlbmVyLCB0aGlzQXJncywgZGlzcG9zYWJsZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnQobGlzdGVuZXIsIHRoaXNBcmdzLCBkaXNwb3NhYmxlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9uY2UobGlzdGVuZXIsIHRoaXNBcmdzLCBkaXNwb3NhYmxlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gb25jZSh0aGlzLmV2ZW50KShsaXN0ZW5lciwgdGhpc0FyZ3MsIGRpc3Bvc2FibGVzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjaGFpbihldmVudCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2hhaW5hYmxlRXZlbnQoZXZlbnQpO1xyXG4gICAgfVxyXG4gICAgRXZlbnQuY2hhaW4gPSBjaGFpbjtcclxuICAgIGZ1bmN0aW9uIGZyb21Ob2RlRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGV2ZW50TmFtZSwgbWFwID0gaWQgPT4gaWQpIHtcclxuICAgICAgICBjb25zdCBmbiA9ICguLi5hcmdzKSA9PiByZXN1bHQuZmlyZShtYXAoLi4uYXJncykpO1xyXG4gICAgICAgIGNvbnN0IG9uRmlyc3RMaXN0ZW5lckFkZCA9ICgpID0+IGVtaXR0ZXIub24oZXZlbnROYW1lLCBmbik7XHJcbiAgICAgICAgY29uc3Qgb25MYXN0TGlzdGVuZXJSZW1vdmUgPSAoKSA9PiBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgZm4pO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBFbWl0dGVyKHsgb25GaXJzdExpc3RlbmVyQWRkLCBvbkxhc3RMaXN0ZW5lclJlbW92ZSB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0LmV2ZW50O1xyXG4gICAgfVxyXG4gICAgRXZlbnQuZnJvbU5vZGVFdmVudEVtaXR0ZXIgPSBmcm9tTm9kZUV2ZW50RW1pdHRlcjtcclxuICAgIGZ1bmN0aW9uIGZyb21ET01FdmVudEVtaXR0ZXIoZW1pdHRlciwgZXZlbnROYW1lLCBtYXAgPSBpZCA9PiBpZCkge1xyXG4gICAgICAgIGNvbnN0IGZuID0gKC4uLmFyZ3MpID0+IHJlc3VsdC5maXJlKG1hcCguLi5hcmdzKSk7XHJcbiAgICAgICAgY29uc3Qgb25GaXJzdExpc3RlbmVyQWRkID0gKCkgPT4gZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZm4pO1xyXG4gICAgICAgIGNvbnN0IG9uTGFzdExpc3RlbmVyUmVtb3ZlID0gKCkgPT4gZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZm4pO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBFbWl0dGVyKHsgb25GaXJzdExpc3RlbmVyQWRkLCBvbkxhc3RMaXN0ZW5lclJlbW92ZSB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0LmV2ZW50O1xyXG4gICAgfVxyXG4gICAgRXZlbnQuZnJvbURPTUV2ZW50RW1pdHRlciA9IGZyb21ET01FdmVudEVtaXR0ZXI7XHJcbiAgICBmdW5jdGlvbiBmcm9tUHJvbWlzZShwcm9taXNlKSB7XHJcbiAgICAgICAgY29uc3QgZW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAgICAgbGV0IHNob3VsZEVtaXQgPSBmYWxzZTtcclxuICAgICAgICBwcm9taXNlXHJcbiAgICAgICAgICAgIC50aGVuKHVuZGVmaW5lZCwgKCkgPT4gbnVsbClcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXNob3VsZEVtaXQpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gZW1pdHRlci5maXJlKHVuZGVmaW5lZCksIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZW1pdHRlci5maXJlKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBzaG91bGRFbWl0ID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gZW1pdHRlci5ldmVudDtcclxuICAgIH1cclxuICAgIEV2ZW50LmZyb21Qcm9taXNlID0gZnJvbVByb21pc2U7XHJcbiAgICBmdW5jdGlvbiB0b1Byb21pc2UoZXZlbnQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBvbmNlKGV2ZW50KShyZXNvbHZlKSk7XHJcbiAgICB9XHJcbiAgICBFdmVudC50b1Byb21pc2UgPSB0b1Byb21pc2U7XHJcbn0pKEV2ZW50IHx8IChFdmVudCA9IHt9KSk7XHJcbmNsYXNzIEV2ZW50UHJvZmlsaW5nIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcclxuICAgICAgICB0aGlzLl9saXN0ZW5lckNvdW50ID0gMDtcclxuICAgICAgICB0aGlzLl9pbnZvY2F0aW9uQ291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuX2VsYXBzZWRPdmVyYWxsID0gMDtcclxuICAgICAgICB0aGlzLl9uYW1lID0gYCR7bmFtZX1fJHtFdmVudFByb2ZpbGluZy5faWRQb29sKyt9YDtcclxuICAgIH1cclxuICAgIHN0YXJ0KGxpc3RlbmVyQ291bnQpIHtcclxuICAgICAgICB0aGlzLl9zdG9wV2F0Y2ggPSBuZXcgU3RvcFdhdGNoKHRydWUpO1xyXG4gICAgICAgIHRoaXMuX2xpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xyXG4gICAgfVxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICBpZiAodGhpcy5fc3RvcFdhdGNoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQgPSB0aGlzLl9zdG9wV2F0Y2guZWxhcHNlZCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGFwc2VkT3ZlcmFsbCArPSBlbGFwc2VkO1xyXG4gICAgICAgICAgICB0aGlzLl9pbnZvY2F0aW9uQ291bnQgKz0gMTtcclxuICAgICAgICAgICAgY29uc29sZS5pbmZvKGBkaWQgRklSRSAke3RoaXMuX25hbWV9OiBlbGFwc2VkX21zOiAke2VsYXBzZWQudG9GaXhlZCg1KX0sIGxpc3RlbmVyOiAke3RoaXMuX2xpc3RlbmVyQ291bnR9IChlbGFwc2VkX292ZXJhbGw6ICR7dGhpcy5fZWxhcHNlZE92ZXJhbGwudG9GaXhlZCgyKX0sIGludm9jYXRpb25zOiAke3RoaXMuX2ludm9jYXRpb25Db3VudH0pYCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0b3BXYXRjaCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuRXZlbnRQcm9maWxpbmcuX2lkUG9vbCA9IDA7XHJcbmxldCBfZ2xvYmFsTGVha1dhcm5pbmdUaHJlc2hvbGQgPSAtMTtcclxuY2xhc3MgTGVha2FnZU1vbml0b3Ige1xyXG4gICAgY29uc3RydWN0b3IoY3VzdG9tVGhyZXNob2xkLCBuYW1lID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygxOCkuc2xpY2UoMiwgNSkpIHtcclxuICAgICAgICB0aGlzLmN1c3RvbVRocmVzaG9sZCA9IGN1c3RvbVRocmVzaG9sZDtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX3dhcm5Db3VudGRvd24gPSAwO1xyXG4gICAgfVxyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fc3RhY2tzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YWNrcy5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNoZWNrKGxpc3RlbmVyQ291bnQpIHtcclxuICAgICAgICBsZXQgdGhyZXNob2xkID0gX2dsb2JhbExlYWtXYXJuaW5nVGhyZXNob2xkO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5jdXN0b21UaHJlc2hvbGQgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIHRocmVzaG9sZCA9IHRoaXMuY3VzdG9tVGhyZXNob2xkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhyZXNob2xkIDw9IDAgfHwgbGlzdGVuZXJDb3VudCA8IHRocmVzaG9sZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuX3N0YWNrcykge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFja3MgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2suc3BsaXQoJ1xcbicpLnNsaWNlKDMpLmpvaW4oJ1xcbicpO1xyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gKHRoaXMuX3N0YWNrcy5nZXQoc3RhY2spIHx8IDApO1xyXG4gICAgICAgIHRoaXMuX3N0YWNrcy5zZXQoc3RhY2ssIGNvdW50ICsgMSk7XHJcbiAgICAgICAgdGhpcy5fd2FybkNvdW50ZG93biAtPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLl93YXJuQ291bnRkb3duIDw9IDApIHtcclxuICAgICAgICAgICAgLy8gb25seSB3YXJuIG9uIGZpcnN0IGV4Y2VlZCBhbmQgdGhlbiBldmVyeSB0aW1lIHRoZSBsaW1pdFxyXG4gICAgICAgICAgICAvLyBpcyBleGNlZWRlZCBieSA1MCUgYWdhaW5cclxuICAgICAgICAgICAgdGhpcy5fd2FybkNvdW50ZG93biA9IHRocmVzaG9sZCAqIDAuNTtcclxuICAgICAgICAgICAgLy8gZmluZCBtb3N0IGZyZXF1ZW50IGxpc3RlbmVyIGFuZCBwcmludCB3YXJuaW5nXHJcbiAgICAgICAgICAgIGxldCB0b3BTdGFjaztcclxuICAgICAgICAgICAgbGV0IHRvcENvdW50ID0gMDtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBbc3RhY2ssIGNvdW50XSBvZiB0aGlzLl9zdGFja3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdG9wU3RhY2sgfHwgdG9wQ291bnQgPCBjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcFN0YWNrID0gc3RhY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wQ291bnQgPSBjb3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFske3RoaXMubmFtZX1dIHBvdGVudGlhbCBsaXN0ZW5lciBMRUFLIGRldGVjdGVkLCBoYXZpbmcgJHtsaXN0ZW5lckNvdW50fSBsaXN0ZW5lcnMgYWxyZWFkeS4gTU9TVCBmcmVxdWVudCBsaXN0ZW5lciAoJHt0b3BDb3VudH0pOmApO1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4odG9wU3RhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb3VudCA9ICh0aGlzLl9zdGFja3MuZ2V0KHN0YWNrKSB8fCAwKTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhY2tzLnNldChzdGFjaywgY291bnQgLSAxKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBUaGUgRW1pdHRlciBjYW4gYmUgdXNlZCB0byBleHBvc2UgYW4gRXZlbnQgdG8gdGhlIHB1YmxpY1xyXG4gKiB0byBmaXJlIGl0IGZyb20gdGhlIGluc2lkZXMuXHJcbiAqIFNhbXBsZTpcclxuICAgIGNsYXNzIERvY3VtZW50IHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfb25EaWRDaGFuZ2UgPSBuZXcgRW1pdHRlcjwodmFsdWU6c3RyaW5nKT0+YW55PigpO1xyXG5cclxuICAgICAgICBwdWJsaWMgb25EaWRDaGFuZ2UgPSB0aGlzLl9vbkRpZENoYW5nZS5ldmVudDtcclxuXHJcbiAgICAgICAgLy8gZ2V0dGVyLXN0eWxlXHJcbiAgICAgICAgLy8gZ2V0IG9uRGlkQ2hhbmdlKCk6IEV2ZW50PCh2YWx1ZTpzdHJpbmcpPT5hbnk+IHtcclxuICAgICAgICAvLyBcdHJldHVybiB0aGlzLl9vbkRpZENoYW5nZS5ldmVudDtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgX2RvSXQoKSB7XHJcbiAgICAgICAgICAgIC8vLi4uXHJcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlLmZpcmUodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbWl0dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLl9sZWFrYWdlTW9uID0gX2dsb2JhbExlYWtXYXJuaW5nVGhyZXNob2xkID4gMCA/IG5ldyBMZWFrYWdlTW9uaXRvcih0aGlzLl9vcHRpb25zICYmIHRoaXMuX29wdGlvbnMubGVha1dhcm5pbmdUaHJlc2hvbGQpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuX3BlcmZNb24gPSAoKF9hID0gdGhpcy5fb3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLl9wcm9mTmFtZSkgPyBuZXcgRXZlbnRQcm9maWxpbmcodGhpcy5fb3B0aW9ucy5fcHJvZk5hbWUpIDogdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGb3IgdGhlIHB1YmxpYyB0byBhbGxvdyB0byBzdWJzY3JpYmVcclxuICAgICAqIHRvIGV2ZW50cyBmcm9tIHRoaXMgRW1pdHRlclxyXG4gICAgICovXHJcbiAgICBnZXQgZXZlbnQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ldmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ldmVudCA9IChsaXN0ZW5lciwgdGhpc0FyZ3MsIGRpc3Bvc2FibGVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xpc3RlbmVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IG5ldyBMaW5rZWRMaXN0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdExpc3RlbmVyID0gdGhpcy5fbGlzdGVuZXJzLmlzRW1wdHkoKTtcclxuICAgICAgICAgICAgICAgIGlmIChmaXJzdExpc3RlbmVyICYmIHRoaXMuX29wdGlvbnMgJiYgdGhpcy5fb3B0aW9ucy5vbkZpcnN0TGlzdGVuZXJBZGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uRmlyc3RMaXN0ZW5lckFkZCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZSA9IHRoaXMuX2xpc3RlbmVycy5wdXNoKCF0aGlzQXJncyA/IGxpc3RlbmVyIDogW2xpc3RlbmVyLCB0aGlzQXJnc10pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0TGlzdGVuZXIgJiYgdGhpcy5fb3B0aW9ucyAmJiB0aGlzLl9vcHRpb25zLm9uRmlyc3RMaXN0ZW5lckRpZEFkZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25GaXJzdExpc3RlbmVyRGlkQWRkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMgJiYgdGhpcy5fb3B0aW9ucy5vbkxpc3RlbmVyRGlkQWRkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5vbkxpc3RlbmVyRGlkQWRkKHRoaXMsIGxpc3RlbmVyLCB0aGlzQXJncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBhbmQgcmVjb3JkIHRoaXMgZW1pdHRlciBmb3IgcG90ZW50aWFsIGxlYWthZ2VcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZU1vbml0b3IgPSAoX2EgPSB0aGlzLl9sZWFrYWdlTW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2hlY2sodGhpcy5fbGlzdGVuZXJzLnNpemUpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmVNb25pdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVNb25pdG9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRpc3Bvc2UgPSBFbWl0dGVyLl9ub29wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zICYmIHRoaXMuX29wdGlvbnMub25MYXN0TGlzdGVuZXJSZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNMaXN0ZW5lcnMgPSAodGhpcy5fbGlzdGVuZXJzICYmICF0aGlzLl9saXN0ZW5lcnMuaXNFbXB0eSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc0xpc3RlbmVycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uTGFzdExpc3RlbmVyUmVtb3ZlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzcG9zYWJsZXMgaW5zdGFuY2VvZiBEaXNwb3NhYmxlU3RvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwb3NhYmxlcy5hZGQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGlzcG9zYWJsZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcG9zYWJsZXMucHVzaChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUbyBiZSBrZXB0IHByaXZhdGUgdG8gZmlyZSBhbiBldmVudCB0b1xyXG4gICAgICogc3Vic2NyaWJlcnNcclxuICAgICAqL1xyXG4gICAgZmlyZShldmVudCkge1xyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgaWYgKHRoaXMuX2xpc3RlbmVycykge1xyXG4gICAgICAgICAgICAvLyBwdXQgYWxsIFtsaXN0ZW5lcixldmVudF0tcGFpcnMgaW50byBkZWxpdmVyeSBxdWV1ZVxyXG4gICAgICAgICAgICAvLyB0aGVuIGVtaXQgYWxsIGV2ZW50LiBhbiBpbm5lci9uZXN0ZWQgZXZlbnQgbWlnaHQgYmVcclxuICAgICAgICAgICAgLy8gdGhlIGRyaXZlciBvZiB0aGlzXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fZGVsaXZlcnlRdWV1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVsaXZlcnlRdWV1ZSA9IG5ldyBMaW5rZWRMaXN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgdGhpcy5fbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWxpdmVyeVF1ZXVlLnB1c2goW2xpc3RlbmVyLCBldmVudF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHN0YXJ0L3N0b3AgcGVyZm9ybWFuY2UgaW5zaWdodCBjb2xsZWN0aW9uXHJcbiAgICAgICAgICAgIChfYSA9IHRoaXMuX3BlcmZNb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGFydCh0aGlzLl9kZWxpdmVyeVF1ZXVlLnNpemUpO1xyXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5fZGVsaXZlcnlRdWV1ZS5zaXplID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgW2xpc3RlbmVyLCBldmVudF0gPSB0aGlzLl9kZWxpdmVyeVF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh1bmRlZmluZWQsIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyWzBdLmNhbGwobGlzdGVuZXJbMV0sIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uVW5leHBlY3RlZEVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIChfYiA9IHRoaXMuX3BlcmZNb24pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zdG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAoX2EgPSB0aGlzLl9saXN0ZW5lcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGVhcigpO1xyXG4gICAgICAgICAgICAoX2IgPSB0aGlzLl9kZWxpdmVyeVF1ZXVlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2xlYXIoKTtcclxuICAgICAgICAgICAgKF9kID0gKF9jID0gdGhpcy5fb3B0aW9ucykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm9uTGFzdExpc3RlbmVyUmVtb3ZlKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbChfYyk7XHJcbiAgICAgICAgICAgIChfZSA9IHRoaXMuX2xlYWthZ2VNb24pID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbkVtaXR0ZXIuX25vb3AgPSBmdW5jdGlvbiAoKSB7IH07XHJcbmV4cG9ydCBjbGFzcyBQYXVzZWFibGVFbWl0dGVyIGV4dGVuZHMgRW1pdHRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5faXNQYXVzZWQgPSAwO1xyXG4gICAgICAgIHRoaXMuX2V2ZW50UXVldWUgPSBuZXcgTGlua2VkTGlzdCgpO1xyXG4gICAgICAgIHRoaXMuX21lcmdlRm4gPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWVyZ2U7XHJcbiAgICB9XHJcbiAgICBwYXVzZSgpIHtcclxuICAgICAgICB0aGlzLl9pc1BhdXNlZCsrO1xyXG4gICAgfVxyXG4gICAgcmVzdW1lKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc1BhdXNlZCAhPT0gMCAmJiAtLXRoaXMuX2lzUGF1c2VkID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZXJnZUZuKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB1c2UgdGhlIG1lcmdlIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHNpbmdsZSBjb21wb3NpdGVcclxuICAgICAgICAgICAgICAgIC8vIGV2ZW50LiBtYWtlIGEgY29weSBpbiBjYXNlIGZpcmluZyBwYXVzZXMgdGhpcyBlbWl0dGVyXHJcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudHMgPSBBcnJheS5mcm9tKHRoaXMuX2V2ZW50UXVldWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRRdWV1ZS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgc3VwZXIuZmlyZSh0aGlzLl9tZXJnZUZuKGV2ZW50cykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gbm8gbWVyZ2luZywgZmlyZSBlYWNoIGV2ZW50IGluZGl2aWR1YWxseSBhbmQgdGVzdFxyXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB0aGlzIGVtaXR0ZXIgaXNuJ3QgcGF1c2VkIGhhbGZ3YXkgdGhyb3VnaFxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKCF0aGlzLl9pc1BhdXNlZCAmJiB0aGlzLl9ldmVudFF1ZXVlLnNpemUgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdXBlci5maXJlKHRoaXMuX2V2ZW50UXVldWUuc2hpZnQoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmaXJlKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2xpc3RlbmVycykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faXNQYXVzZWQgIT09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50UXVldWUucHVzaChldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdXBlci5maXJlKGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogVGhlIEV2ZW50QnVmZmVyZXIgaXMgdXNlZnVsIGluIHNpdHVhdGlvbnMgaW4gd2hpY2ggeW91IHdhbnRcclxuICogdG8gZGVsYXkgZmlyaW5nIHlvdXIgZXZlbnRzIGR1cmluZyBzb21lIGNvZGUuXHJcbiAqIFlvdSBjYW4gd3JhcCB0aGF0IGNvZGUgYW5kIGJlIHN1cmUgdGhhdCB0aGUgZXZlbnQgd2lsbCBub3RcclxuICogYmUgZmlyZWQgZHVyaW5nIHRoYXQgd3JhcC5cclxuICpcclxuICogYGBgXHJcbiAqIGNvbnN0IGVtaXR0ZXI6IEVtaXR0ZXI7XHJcbiAqIGNvbnN0IGRlbGF5ZXIgPSBuZXcgRXZlbnREZWxheWVyKCk7XHJcbiAqIGNvbnN0IGRlbGF5ZWRFdmVudCA9IGRlbGF5ZXIud3JhcEV2ZW50KGVtaXR0ZXIuZXZlbnQpO1xyXG4gKlxyXG4gKiBkZWxheWVkRXZlbnQoY29uc29sZS5sb2cpO1xyXG4gKlxyXG4gKiBkZWxheWVyLmJ1ZmZlckV2ZW50cygoKSA9PiB7XHJcbiAqICAgZW1pdHRlci5maXJlKCk7IC8vIGV2ZW50IHdpbGwgbm90IGJlIGZpcmVkIHlldFxyXG4gKiB9KTtcclxuICpcclxuICogLy8gZXZlbnQgd2lsbCBvbmx5IGJlIGZpcmVkIGF0IHRoaXMgcG9pbnRcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRXZlbnRCdWZmZXJlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcclxuICAgIH1cclxuICAgIHdyYXBFdmVudChldmVudCkge1xyXG4gICAgICAgIHJldHVybiAobGlzdGVuZXIsIHRoaXNBcmdzLCBkaXNwb3NhYmxlcykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gZXZlbnQoaSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbdGhpcy5idWZmZXJzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKCgpID0+IGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB1bmRlZmluZWQsIGRpc3Bvc2FibGVzKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgYnVmZmVyRXZlbnRzKGZuKSB7XHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gW107XHJcbiAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcclxuICAgICAgICBjb25zdCByID0gZm4oKTtcclxuICAgICAgICB0aGlzLmJ1ZmZlcnMucG9wKCk7XHJcbiAgICAgICAgYnVmZmVyLmZvckVhY2goZmx1c2ggPT4gZmx1c2goKSk7XHJcbiAgICAgICAgcmV0dXJuIHI7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEEgUmVsYXkgaXMgYW4gZXZlbnQgZm9yd2FyZGVyIHdoaWNoIGZ1bmN0aW9ucyBhcyBhIHJlcGx1Z2FiYmxlIGV2ZW50IHBpcGUuXHJcbiAqIE9uY2UgY3JlYXRlZCwgeW91IGNhbiBjb25uZWN0IGFuIGlucHV0IGV2ZW50IHRvIGl0IGFuZCBpdCB3aWxsIHNpbXBseSBmb3J3YXJkXHJcbiAqIGV2ZW50cyBmcm9tIHRoYXQgaW5wdXQgZXZlbnQgdGhyb3VnaCBpdHMgb3duIGBldmVudGAgcHJvcGVydHkuIFRoZSBgaW5wdXRgXHJcbiAqIGNhbiBiZSBjaGFuZ2VkIGF0IGFueSBwb2ludCBpbiB0aW1lLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJlbGF5IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubGlzdGVuaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbnB1dEV2ZW50ID0gRXZlbnQuTm9uZTtcclxuICAgICAgICB0aGlzLmlucHV0RXZlbnRMaXN0ZW5lciA9IERpc3Bvc2FibGUuTm9uZTtcclxuICAgICAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgRW1pdHRlcih7XHJcbiAgICAgICAgICAgIG9uRmlyc3RMaXN0ZW5lckRpZEFkZDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5pbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dEV2ZW50TGlzdGVuZXIgPSB0aGlzLmlucHV0RXZlbnQodGhpcy5lbWl0dGVyLmZpcmUsIHRoaXMuZW1pdHRlcik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uTGFzdExpc3RlbmVyUmVtb3ZlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dEV2ZW50TGlzdGVuZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5ldmVudCA9IHRoaXMuZW1pdHRlci5ldmVudDtcclxuICAgIH1cclxuICAgIHNldCBpbnB1dChldmVudCkge1xyXG4gICAgICAgIHRoaXMuaW5wdXRFdmVudCA9IGV2ZW50O1xyXG4gICAgICAgIGlmICh0aGlzLmxpc3RlbmluZykge1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0RXZlbnRMaXN0ZW5lci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRFdmVudExpc3RlbmVyID0gZXZlbnQodGhpcy5lbWl0dGVyLmZpcmUsIHRoaXMuZW1pdHRlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLmlucHV0RXZlbnRMaXN0ZW5lci5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyLmRpc3Bvc2UoKTtcclxuICAgIH1cclxufVxyXG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbmltcG9ydCB7IEVtaXR0ZXIsIEV2ZW50IH0gZnJvbSAnLi9ldmVudC5qcyc7XHJcbmNvbnN0IHNob3J0Y3V0RXZlbnQgPSBPYmplY3QuZnJlZXplKGZ1bmN0aW9uIChjYWxsYmFjaywgY29udGV4dCkge1xyXG4gICAgY29uc3QgaGFuZGxlID0gc2V0VGltZW91dChjYWxsYmFjay5iaW5kKGNvbnRleHQpLCAwKTtcclxuICAgIHJldHVybiB7IGRpc3Bvc2UoKSB7IGNsZWFyVGltZW91dChoYW5kbGUpOyB9IH07XHJcbn0pO1xyXG5leHBvcnQgdmFyIENhbmNlbGxhdGlvblRva2VuO1xyXG4oZnVuY3Rpb24gKENhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBmdW5jdGlvbiBpc0NhbmNlbGxhdGlvblRva2VuKHRoaW5nKSB7XHJcbiAgICAgICAgaWYgKHRoaW5nID09PSBDYW5jZWxsYXRpb25Ub2tlbi5Ob25lIHx8IHRoaW5nID09PSBDYW5jZWxsYXRpb25Ub2tlbi5DYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGluZyBpbnN0YW5jZW9mIE11dGFibGVUb2tlbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGluZyB8fCB0eXBlb2YgdGhpbmcgIT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGluZy5pc0NhbmNlbGxhdGlvblJlcXVlc3RlZCA9PT0gJ2Jvb2xlYW4nXHJcbiAgICAgICAgICAgICYmIHR5cGVvZiB0aGluZy5vbkNhbmNlbGxhdGlvblJlcXVlc3RlZCA9PT0gJ2Z1bmN0aW9uJztcclxuICAgIH1cclxuICAgIENhbmNlbGxhdGlvblRva2VuLmlzQ2FuY2VsbGF0aW9uVG9rZW4gPSBpc0NhbmNlbGxhdGlvblRva2VuO1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgIGlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkOiBmYWxzZSxcclxuICAgICAgICBvbkNhbmNlbGxhdGlvblJlcXVlc3RlZDogRXZlbnQuTm9uZVxyXG4gICAgfSk7XHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlbi5DYW5jZWxsZWQgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICBpc0NhbmNlbGxhdGlvblJlcXVlc3RlZDogdHJ1ZSxcclxuICAgICAgICBvbkNhbmNlbGxhdGlvblJlcXVlc3RlZDogc2hvcnRjdXRFdmVudFxyXG4gICAgfSk7XHJcbn0pKENhbmNlbGxhdGlvblRva2VuIHx8IChDYW5jZWxsYXRpb25Ub2tlbiA9IHt9KSk7XHJcbmNsYXNzIE11dGFibGVUb2tlbiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9pc0NhbmNlbGxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgY2FuY2VsKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5faXNDYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5faXNDYW5jZWxsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZW1pdHRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5maXJlKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBpc0NhbmNlbGxhdGlvblJlcXVlc3RlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNDYW5jZWxsZWQ7XHJcbiAgICB9XHJcbiAgICBnZXQgb25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzQ2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzaG9ydGN1dEV2ZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuX2VtaXR0ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbWl0dGVyLmV2ZW50O1xyXG4gICAgfVxyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fZW1pdHRlcikge1xyXG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5fZW1pdHRlciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQpIHtcclxuICAgICAgICB0aGlzLl90b2tlbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLl9wYXJlbnRMaXN0ZW5lciA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLl9wYXJlbnRMaXN0ZW5lciA9IHBhcmVudCAmJiBwYXJlbnQub25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQodGhpcy5jYW5jZWwsIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgZ2V0IHRva2VuKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fdG9rZW4pIHtcclxuICAgICAgICAgICAgLy8gYmUgbGF6eSBhbmQgY3JlYXRlIHRoZSB0b2tlbiBvbmx5IHdoZW5cclxuICAgICAgICAgICAgLy8gYWN0dWFsbHkgbmVlZGVkXHJcbiAgICAgICAgICAgIHRoaXMuX3Rva2VuID0gbmV3IE11dGFibGVUb2tlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW47XHJcbiAgICB9XHJcbiAgICBjYW5jZWwoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl90b2tlbikge1xyXG4gICAgICAgICAgICAvLyBzYXZlIGFuIG9iamVjdCBieSByZXR1cm5pbmcgdGhlIGRlZmF1bHRcclxuICAgICAgICAgICAgLy8gY2FuY2VsbGVkIHRva2VuIHdoZW4gY2FuY2VsbGF0aW9uIGhhcHBlbnNcclxuICAgICAgICAgICAgLy8gYmVmb3JlIHNvbWVvbmUgYXNrcyBmb3IgdGhlIHRva2VuXHJcbiAgICAgICAgICAgIHRoaXMuX3Rva2VuID0gQ2FuY2VsbGF0aW9uVG9rZW4uQ2FuY2VsbGVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLl90b2tlbiBpbnN0YW5jZW9mIE11dGFibGVUb2tlbikge1xyXG4gICAgICAgICAgICAvLyBhY3R1YWxseSBjYW5jZWxcclxuICAgICAgICAgICAgdGhpcy5fdG9rZW4uY2FuY2VsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGlzcG9zZShjYW5jZWwgPSBmYWxzZSkge1xyXG4gICAgICAgIGlmIChjYW5jZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW5jZWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudExpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudExpc3RlbmVyLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl90b2tlbikge1xyXG4gICAgICAgICAgICAvLyBlbnN1cmUgdG8gaW5pdGlhbGl6ZSB3aXRoIGFuIGVtcHR5IHRva2VuIGlmIHdlIGhhZCBub25lXHJcbiAgICAgICAgICAgIHRoaXMuX3Rva2VuID0gQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdG9rZW4gaW5zdGFuY2VvZiBNdXRhYmxlVG9rZW4pIHtcclxuICAgICAgICAgICAgLy8gYWN0dWFsbHkgZGlzcG9zZVxyXG4gICAgICAgICAgICB0aGlzLl90b2tlbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuaW1wb3J0IHsgaWxsZWdhbEFyZ3VtZW50IH0gZnJvbSAnLi9lcnJvcnMuanMnO1xyXG5jbGFzcyBLZXlDb2RlU3RyTWFwIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX2tleUNvZGVUb1N0ciA9IFtdO1xyXG4gICAgICAgIHRoaXMuX3N0clRvS2V5Q29kZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICB9XHJcbiAgICBkZWZpbmUoa2V5Q29kZSwgc3RyKSB7XHJcbiAgICAgICAgdGhpcy5fa2V5Q29kZVRvU3RyW2tleUNvZGVdID0gc3RyO1xyXG4gICAgICAgIHRoaXMuX3N0clRvS2V5Q29kZVtzdHIudG9Mb3dlckNhc2UoKV0gPSBrZXlDb2RlO1xyXG4gICAgfVxyXG4gICAga2V5Q29kZVRvU3RyKGtleUNvZGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fa2V5Q29kZVRvU3RyW2tleUNvZGVdO1xyXG4gICAgfVxyXG4gICAgc3RyVG9LZXlDb2RlKHN0cikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJUb0tleUNvZGVbc3RyLnRvTG93ZXJDYXNlKCldIHx8IDAgLyogVW5rbm93biAqLztcclxuICAgIH1cclxufVxyXG5jb25zdCB1aU1hcCA9IG5ldyBLZXlDb2RlU3RyTWFwKCk7XHJcbmNvbnN0IHVzZXJTZXR0aW5nc1VTTWFwID0gbmV3IEtleUNvZGVTdHJNYXAoKTtcclxuY29uc3QgdXNlclNldHRpbmdzR2VuZXJhbE1hcCA9IG5ldyBLZXlDb2RlU3RyTWFwKCk7XHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBkZWZpbmUoa2V5Q29kZSwgdWlMYWJlbCwgdXNVc2VyU2V0dGluZ3NMYWJlbCA9IHVpTGFiZWwsIGdlbmVyYWxVc2VyU2V0dGluZ3NMYWJlbCA9IHVzVXNlclNldHRpbmdzTGFiZWwpIHtcclxuICAgICAgICB1aU1hcC5kZWZpbmUoa2V5Q29kZSwgdWlMYWJlbCk7XHJcbiAgICAgICAgdXNlclNldHRpbmdzVVNNYXAuZGVmaW5lKGtleUNvZGUsIHVzVXNlclNldHRpbmdzTGFiZWwpO1xyXG4gICAgICAgIHVzZXJTZXR0aW5nc0dlbmVyYWxNYXAuZGVmaW5lKGtleUNvZGUsIGdlbmVyYWxVc2VyU2V0dGluZ3NMYWJlbCk7XHJcbiAgICB9XHJcbiAgICBkZWZpbmUoMCAvKiBVbmtub3duICovLCAndW5rbm93bicpO1xyXG4gICAgZGVmaW5lKDEgLyogQmFja3NwYWNlICovLCAnQmFja3NwYWNlJyk7XHJcbiAgICBkZWZpbmUoMiAvKiBUYWIgKi8sICdUYWInKTtcclxuICAgIGRlZmluZSgzIC8qIEVudGVyICovLCAnRW50ZXInKTtcclxuICAgIGRlZmluZSg0IC8qIFNoaWZ0ICovLCAnU2hpZnQnKTtcclxuICAgIGRlZmluZSg1IC8qIEN0cmwgKi8sICdDdHJsJyk7XHJcbiAgICBkZWZpbmUoNiAvKiBBbHQgKi8sICdBbHQnKTtcclxuICAgIGRlZmluZSg3IC8qIFBhdXNlQnJlYWsgKi8sICdQYXVzZUJyZWFrJyk7XHJcbiAgICBkZWZpbmUoOCAvKiBDYXBzTG9jayAqLywgJ0NhcHNMb2NrJyk7XHJcbiAgICBkZWZpbmUoOSAvKiBFc2NhcGUgKi8sICdFc2NhcGUnKTtcclxuICAgIGRlZmluZSgxMCAvKiBTcGFjZSAqLywgJ1NwYWNlJyk7XHJcbiAgICBkZWZpbmUoMTEgLyogUGFnZVVwICovLCAnUGFnZVVwJyk7XHJcbiAgICBkZWZpbmUoMTIgLyogUGFnZURvd24gKi8sICdQYWdlRG93bicpO1xyXG4gICAgZGVmaW5lKDEzIC8qIEVuZCAqLywgJ0VuZCcpO1xyXG4gICAgZGVmaW5lKDE0IC8qIEhvbWUgKi8sICdIb21lJyk7XHJcbiAgICBkZWZpbmUoMTUgLyogTGVmdEFycm93ICovLCAnTGVmdEFycm93JywgJ0xlZnQnKTtcclxuICAgIGRlZmluZSgxNiAvKiBVcEFycm93ICovLCAnVXBBcnJvdycsICdVcCcpO1xyXG4gICAgZGVmaW5lKDE3IC8qIFJpZ2h0QXJyb3cgKi8sICdSaWdodEFycm93JywgJ1JpZ2h0Jyk7XHJcbiAgICBkZWZpbmUoMTggLyogRG93bkFycm93ICovLCAnRG93bkFycm93JywgJ0Rvd24nKTtcclxuICAgIGRlZmluZSgxOSAvKiBJbnNlcnQgKi8sICdJbnNlcnQnKTtcclxuICAgIGRlZmluZSgyMCAvKiBEZWxldGUgKi8sICdEZWxldGUnKTtcclxuICAgIGRlZmluZSgyMSAvKiBLRVlfMCAqLywgJzAnKTtcclxuICAgIGRlZmluZSgyMiAvKiBLRVlfMSAqLywgJzEnKTtcclxuICAgIGRlZmluZSgyMyAvKiBLRVlfMiAqLywgJzInKTtcclxuICAgIGRlZmluZSgyNCAvKiBLRVlfMyAqLywgJzMnKTtcclxuICAgIGRlZmluZSgyNSAvKiBLRVlfNCAqLywgJzQnKTtcclxuICAgIGRlZmluZSgyNiAvKiBLRVlfNSAqLywgJzUnKTtcclxuICAgIGRlZmluZSgyNyAvKiBLRVlfNiAqLywgJzYnKTtcclxuICAgIGRlZmluZSgyOCAvKiBLRVlfNyAqLywgJzcnKTtcclxuICAgIGRlZmluZSgyOSAvKiBLRVlfOCAqLywgJzgnKTtcclxuICAgIGRlZmluZSgzMCAvKiBLRVlfOSAqLywgJzknKTtcclxuICAgIGRlZmluZSgzMSAvKiBLRVlfQSAqLywgJ0EnKTtcclxuICAgIGRlZmluZSgzMiAvKiBLRVlfQiAqLywgJ0InKTtcclxuICAgIGRlZmluZSgzMyAvKiBLRVlfQyAqLywgJ0MnKTtcclxuICAgIGRlZmluZSgzNCAvKiBLRVlfRCAqLywgJ0QnKTtcclxuICAgIGRlZmluZSgzNSAvKiBLRVlfRSAqLywgJ0UnKTtcclxuICAgIGRlZmluZSgzNiAvKiBLRVlfRiAqLywgJ0YnKTtcclxuICAgIGRlZmluZSgzNyAvKiBLRVlfRyAqLywgJ0cnKTtcclxuICAgIGRlZmluZSgzOCAvKiBLRVlfSCAqLywgJ0gnKTtcclxuICAgIGRlZmluZSgzOSAvKiBLRVlfSSAqLywgJ0knKTtcclxuICAgIGRlZmluZSg0MCAvKiBLRVlfSiAqLywgJ0onKTtcclxuICAgIGRlZmluZSg0MSAvKiBLRVlfSyAqLywgJ0snKTtcclxuICAgIGRlZmluZSg0MiAvKiBLRVlfTCAqLywgJ0wnKTtcclxuICAgIGRlZmluZSg0MyAvKiBLRVlfTSAqLywgJ00nKTtcclxuICAgIGRlZmluZSg0NCAvKiBLRVlfTiAqLywgJ04nKTtcclxuICAgIGRlZmluZSg0NSAvKiBLRVlfTyAqLywgJ08nKTtcclxuICAgIGRlZmluZSg0NiAvKiBLRVlfUCAqLywgJ1AnKTtcclxuICAgIGRlZmluZSg0NyAvKiBLRVlfUSAqLywgJ1EnKTtcclxuICAgIGRlZmluZSg0OCAvKiBLRVlfUiAqLywgJ1InKTtcclxuICAgIGRlZmluZSg0OSAvKiBLRVlfUyAqLywgJ1MnKTtcclxuICAgIGRlZmluZSg1MCAvKiBLRVlfVCAqLywgJ1QnKTtcclxuICAgIGRlZmluZSg1MSAvKiBLRVlfVSAqLywgJ1UnKTtcclxuICAgIGRlZmluZSg1MiAvKiBLRVlfViAqLywgJ1YnKTtcclxuICAgIGRlZmluZSg1MyAvKiBLRVlfVyAqLywgJ1cnKTtcclxuICAgIGRlZmluZSg1NCAvKiBLRVlfWCAqLywgJ1gnKTtcclxuICAgIGRlZmluZSg1NSAvKiBLRVlfWSAqLywgJ1knKTtcclxuICAgIGRlZmluZSg1NiAvKiBLRVlfWiAqLywgJ1onKTtcclxuICAgIGRlZmluZSg1NyAvKiBNZXRhICovLCAnTWV0YScpO1xyXG4gICAgZGVmaW5lKDU4IC8qIENvbnRleHRNZW51ICovLCAnQ29udGV4dE1lbnUnKTtcclxuICAgIGRlZmluZSg1OSAvKiBGMSAqLywgJ0YxJyk7XHJcbiAgICBkZWZpbmUoNjAgLyogRjIgKi8sICdGMicpO1xyXG4gICAgZGVmaW5lKDYxIC8qIEYzICovLCAnRjMnKTtcclxuICAgIGRlZmluZSg2MiAvKiBGNCAqLywgJ0Y0Jyk7XHJcbiAgICBkZWZpbmUoNjMgLyogRjUgKi8sICdGNScpO1xyXG4gICAgZGVmaW5lKDY0IC8qIEY2ICovLCAnRjYnKTtcclxuICAgIGRlZmluZSg2NSAvKiBGNyAqLywgJ0Y3Jyk7XHJcbiAgICBkZWZpbmUoNjYgLyogRjggKi8sICdGOCcpO1xyXG4gICAgZGVmaW5lKDY3IC8qIEY5ICovLCAnRjknKTtcclxuICAgIGRlZmluZSg2OCAvKiBGMTAgKi8sICdGMTAnKTtcclxuICAgIGRlZmluZSg2OSAvKiBGMTEgKi8sICdGMTEnKTtcclxuICAgIGRlZmluZSg3MCAvKiBGMTIgKi8sICdGMTInKTtcclxuICAgIGRlZmluZSg3MSAvKiBGMTMgKi8sICdGMTMnKTtcclxuICAgIGRlZmluZSg3MiAvKiBGMTQgKi8sICdGMTQnKTtcclxuICAgIGRlZmluZSg3MyAvKiBGMTUgKi8sICdGMTUnKTtcclxuICAgIGRlZmluZSg3NCAvKiBGMTYgKi8sICdGMTYnKTtcclxuICAgIGRlZmluZSg3NSAvKiBGMTcgKi8sICdGMTcnKTtcclxuICAgIGRlZmluZSg3NiAvKiBGMTggKi8sICdGMTgnKTtcclxuICAgIGRlZmluZSg3NyAvKiBGMTkgKi8sICdGMTknKTtcclxuICAgIGRlZmluZSg3OCAvKiBOdW1Mb2NrICovLCAnTnVtTG9jaycpO1xyXG4gICAgZGVmaW5lKDc5IC8qIFNjcm9sbExvY2sgKi8sICdTY3JvbGxMb2NrJyk7XHJcbiAgICBkZWZpbmUoODAgLyogVVNfU0VNSUNPTE9OICovLCAnOycsICc7JywgJ09FTV8xJyk7XHJcbiAgICBkZWZpbmUoODEgLyogVVNfRVFVQUwgKi8sICc9JywgJz0nLCAnT0VNX1BMVVMnKTtcclxuICAgIGRlZmluZSg4MiAvKiBVU19DT01NQSAqLywgJywnLCAnLCcsICdPRU1fQ09NTUEnKTtcclxuICAgIGRlZmluZSg4MyAvKiBVU19NSU5VUyAqLywgJy0nLCAnLScsICdPRU1fTUlOVVMnKTtcclxuICAgIGRlZmluZSg4NCAvKiBVU19ET1QgKi8sICcuJywgJy4nLCAnT0VNX1BFUklPRCcpO1xyXG4gICAgZGVmaW5lKDg1IC8qIFVTX1NMQVNIICovLCAnLycsICcvJywgJ09FTV8yJyk7XHJcbiAgICBkZWZpbmUoODYgLyogVVNfQkFDS1RJQ0sgKi8sICdgJywgJ2AnLCAnT0VNXzMnKTtcclxuICAgIGRlZmluZSgxMTAgLyogQUJOVF9DMSAqLywgJ0FCTlRfQzEnKTtcclxuICAgIGRlZmluZSgxMTEgLyogQUJOVF9DMiAqLywgJ0FCTlRfQzInKTtcclxuICAgIGRlZmluZSg4NyAvKiBVU19PUEVOX1NRVUFSRV9CUkFDS0VUICovLCAnWycsICdbJywgJ09FTV80Jyk7XHJcbiAgICBkZWZpbmUoODggLyogVVNfQkFDS1NMQVNIICovLCAnXFxcXCcsICdcXFxcJywgJ09FTV81Jyk7XHJcbiAgICBkZWZpbmUoODkgLyogVVNfQ0xPU0VfU1FVQVJFX0JSQUNLRVQgKi8sICddJywgJ10nLCAnT0VNXzYnKTtcclxuICAgIGRlZmluZSg5MCAvKiBVU19RVU9URSAqLywgJ1xcJycsICdcXCcnLCAnT0VNXzcnKTtcclxuICAgIGRlZmluZSg5MSAvKiBPRU1fOCAqLywgJ09FTV84Jyk7XHJcbiAgICBkZWZpbmUoOTIgLyogT0VNXzEwMiAqLywgJ09FTV8xMDInKTtcclxuICAgIGRlZmluZSg5MyAvKiBOVU1QQURfMCAqLywgJ051bVBhZDAnKTtcclxuICAgIGRlZmluZSg5NCAvKiBOVU1QQURfMSAqLywgJ051bVBhZDEnKTtcclxuICAgIGRlZmluZSg5NSAvKiBOVU1QQURfMiAqLywgJ051bVBhZDInKTtcclxuICAgIGRlZmluZSg5NiAvKiBOVU1QQURfMyAqLywgJ051bVBhZDMnKTtcclxuICAgIGRlZmluZSg5NyAvKiBOVU1QQURfNCAqLywgJ051bVBhZDQnKTtcclxuICAgIGRlZmluZSg5OCAvKiBOVU1QQURfNSAqLywgJ051bVBhZDUnKTtcclxuICAgIGRlZmluZSg5OSAvKiBOVU1QQURfNiAqLywgJ051bVBhZDYnKTtcclxuICAgIGRlZmluZSgxMDAgLyogTlVNUEFEXzcgKi8sICdOdW1QYWQ3Jyk7XHJcbiAgICBkZWZpbmUoMTAxIC8qIE5VTVBBRF84ICovLCAnTnVtUGFkOCcpO1xyXG4gICAgZGVmaW5lKDEwMiAvKiBOVU1QQURfOSAqLywgJ051bVBhZDknKTtcclxuICAgIGRlZmluZSgxMDMgLyogTlVNUEFEX01VTFRJUExZICovLCAnTnVtUGFkX011bHRpcGx5Jyk7XHJcbiAgICBkZWZpbmUoMTA0IC8qIE5VTVBBRF9BREQgKi8sICdOdW1QYWRfQWRkJyk7XHJcbiAgICBkZWZpbmUoMTA1IC8qIE5VTVBBRF9TRVBBUkFUT1IgKi8sICdOdW1QYWRfU2VwYXJhdG9yJyk7XHJcbiAgICBkZWZpbmUoMTA2IC8qIE5VTVBBRF9TVUJUUkFDVCAqLywgJ051bVBhZF9TdWJ0cmFjdCcpO1xyXG4gICAgZGVmaW5lKDEwNyAvKiBOVU1QQURfREVDSU1BTCAqLywgJ051bVBhZF9EZWNpbWFsJyk7XHJcbiAgICBkZWZpbmUoMTA4IC8qIE5VTVBBRF9ESVZJREUgKi8sICdOdW1QYWRfRGl2aWRlJyk7XHJcbn0pKCk7XHJcbmV4cG9ydCB2YXIgS2V5Q29kZVV0aWxzO1xyXG4oZnVuY3Rpb24gKEtleUNvZGVVdGlscykge1xyXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcoa2V5Q29kZSkge1xyXG4gICAgICAgIHJldHVybiB1aU1hcC5rZXlDb2RlVG9TdHIoa2V5Q29kZSk7XHJcbiAgICB9XHJcbiAgICBLZXlDb2RlVXRpbHMudG9TdHJpbmcgPSB0b1N0cmluZztcclxuICAgIGZ1bmN0aW9uIGZyb21TdHJpbmcoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHVpTWFwLnN0clRvS2V5Q29kZShrZXkpO1xyXG4gICAgfVxyXG4gICAgS2V5Q29kZVV0aWxzLmZyb21TdHJpbmcgPSBmcm9tU3RyaW5nO1xyXG4gICAgZnVuY3Rpb24gdG9Vc2VyU2V0dGluZ3NVUyhrZXlDb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIHVzZXJTZXR0aW5nc1VTTWFwLmtleUNvZGVUb1N0cihrZXlDb2RlKTtcclxuICAgIH1cclxuICAgIEtleUNvZGVVdGlscy50b1VzZXJTZXR0aW5nc1VTID0gdG9Vc2VyU2V0dGluZ3NVUztcclxuICAgIGZ1bmN0aW9uIHRvVXNlclNldHRpbmdzR2VuZXJhbChrZXlDb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIHVzZXJTZXR0aW5nc0dlbmVyYWxNYXAua2V5Q29kZVRvU3RyKGtleUNvZGUpO1xyXG4gICAgfVxyXG4gICAgS2V5Q29kZVV0aWxzLnRvVXNlclNldHRpbmdzR2VuZXJhbCA9IHRvVXNlclNldHRpbmdzR2VuZXJhbDtcclxuICAgIGZ1bmN0aW9uIGZyb21Vc2VyU2V0dGluZ3Moa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHVzZXJTZXR0aW5nc1VTTWFwLnN0clRvS2V5Q29kZShrZXkpIHx8IHVzZXJTZXR0aW5nc0dlbmVyYWxNYXAuc3RyVG9LZXlDb2RlKGtleSk7XHJcbiAgICB9XHJcbiAgICBLZXlDb2RlVXRpbHMuZnJvbVVzZXJTZXR0aW5ncyA9IGZyb21Vc2VyU2V0dGluZ3M7XHJcbn0pKEtleUNvZGVVdGlscyB8fCAoS2V5Q29kZVV0aWxzID0ge30pKTtcclxuZXhwb3J0IGZ1bmN0aW9uIEtleUNob3JkKGZpcnN0UGFydCwgc2Vjb25kUGFydCkge1xyXG4gICAgY29uc3QgY2hvcmRQYXJ0ID0gKChzZWNvbmRQYXJ0ICYgMHgwMDAwRkZGRikgPDwgMTYpID4+PiAwO1xyXG4gICAgcmV0dXJuIChmaXJzdFBhcnQgfCBjaG9yZFBhcnQpID4+PiAwO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVLZXliaW5kaW5nKGtleWJpbmRpbmcsIE9TKSB7XHJcbiAgICBpZiAoa2V5YmluZGluZyA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZmlyc3RQYXJ0ID0gKGtleWJpbmRpbmcgJiAweDAwMDBGRkZGKSA+Pj4gMDtcclxuICAgIGNvbnN0IGNob3JkUGFydCA9IChrZXliaW5kaW5nICYgMHhGRkZGMDAwMCkgPj4+IDE2O1xyXG4gICAgaWYgKGNob3JkUGFydCAhPT0gMCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2hvcmRLZXliaW5kaW5nKFtcclxuICAgICAgICAgICAgY3JlYXRlU2ltcGxlS2V5YmluZGluZyhmaXJzdFBhcnQsIE9TKSxcclxuICAgICAgICAgICAgY3JlYXRlU2ltcGxlS2V5YmluZGluZyhjaG9yZFBhcnQsIE9TKVxyXG4gICAgICAgIF0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBDaG9yZEtleWJpbmRpbmcoW2NyZWF0ZVNpbXBsZUtleWJpbmRpbmcoZmlyc3RQYXJ0LCBPUyldKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2ltcGxlS2V5YmluZGluZyhrZXliaW5kaW5nLCBPUykge1xyXG4gICAgY29uc3QgY3RybENtZCA9IChrZXliaW5kaW5nICYgMjA0OCAvKiBDdHJsQ21kICovID8gdHJ1ZSA6IGZhbHNlKTtcclxuICAgIGNvbnN0IHdpbkN0cmwgPSAoa2V5YmluZGluZyAmIDI1NiAvKiBXaW5DdHJsICovID8gdHJ1ZSA6IGZhbHNlKTtcclxuICAgIGNvbnN0IGN0cmxLZXkgPSAoT1MgPT09IDIgLyogTWFjaW50b3NoICovID8gd2luQ3RybCA6IGN0cmxDbWQpO1xyXG4gICAgY29uc3Qgc2hpZnRLZXkgPSAoa2V5YmluZGluZyAmIDEwMjQgLyogU2hpZnQgKi8gPyB0cnVlIDogZmFsc2UpO1xyXG4gICAgY29uc3QgYWx0S2V5ID0gKGtleWJpbmRpbmcgJiA1MTIgLyogQWx0ICovID8gdHJ1ZSA6IGZhbHNlKTtcclxuICAgIGNvbnN0IG1ldGFLZXkgPSAoT1MgPT09IDIgLyogTWFjaW50b3NoICovID8gY3RybENtZCA6IHdpbkN0cmwpO1xyXG4gICAgY29uc3Qga2V5Q29kZSA9IChrZXliaW5kaW5nICYgMjU1IC8qIEtleUNvZGUgKi8pO1xyXG4gICAgcmV0dXJuIG5ldyBTaW1wbGVLZXliaW5kaW5nKGN0cmxLZXksIHNoaWZ0S2V5LCBhbHRLZXksIG1ldGFLZXksIGtleUNvZGUpO1xyXG59XHJcbmV4cG9ydCBjbGFzcyBTaW1wbGVLZXliaW5kaW5nIHtcclxuICAgIGNvbnN0cnVjdG9yKGN0cmxLZXksIHNoaWZ0S2V5LCBhbHRLZXksIG1ldGFLZXksIGtleUNvZGUpIHtcclxuICAgICAgICB0aGlzLmN0cmxLZXkgPSBjdHJsS2V5O1xyXG4gICAgICAgIHRoaXMuc2hpZnRLZXkgPSBzaGlmdEtleTtcclxuICAgICAgICB0aGlzLmFsdEtleSA9IGFsdEtleTtcclxuICAgICAgICB0aGlzLm1ldGFLZXkgPSBtZXRhS2V5O1xyXG4gICAgICAgIHRoaXMua2V5Q29kZSA9IGtleUNvZGU7XHJcbiAgICB9XHJcbiAgICBlcXVhbHMob3RoZXIpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuY3RybEtleSA9PT0gb3RoZXIuY3RybEtleVxyXG4gICAgICAgICAgICAmJiB0aGlzLnNoaWZ0S2V5ID09PSBvdGhlci5zaGlmdEtleVxyXG4gICAgICAgICAgICAmJiB0aGlzLmFsdEtleSA9PT0gb3RoZXIuYWx0S2V5XHJcbiAgICAgICAgICAgICYmIHRoaXMubWV0YUtleSA9PT0gb3RoZXIubWV0YUtleVxyXG4gICAgICAgICAgICAmJiB0aGlzLmtleUNvZGUgPT09IG90aGVyLmtleUNvZGUpO1xyXG4gICAgfVxyXG4gICAgaXNNb2RpZmllcktleSgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMua2V5Q29kZSA9PT0gMCAvKiBVbmtub3duICovXHJcbiAgICAgICAgICAgIHx8IHRoaXMua2V5Q29kZSA9PT0gNSAvKiBDdHJsICovXHJcbiAgICAgICAgICAgIHx8IHRoaXMua2V5Q29kZSA9PT0gNTcgLyogTWV0YSAqL1xyXG4gICAgICAgICAgICB8fCB0aGlzLmtleUNvZGUgPT09IDYgLyogQWx0ICovXHJcbiAgICAgICAgICAgIHx8IHRoaXMua2V5Q29kZSA9PT0gNCAvKiBTaGlmdCAqLyk7XHJcbiAgICB9XHJcbiAgICB0b0Nob3JkKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2hvcmRLZXliaW5kaW5nKFt0aGlzXSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERvZXMgdGhpcyBrZXliaW5kaW5nIHJlZmVyIHRvIHRoZSBrZXkgY29kZSBvZiBhIG1vZGlmaWVyIGFuZCBpdCBhbHNvIGhhcyB0aGUgbW9kaWZpZXIgZmxhZz9cclxuICAgICAqL1xyXG4gICAgaXNEdXBsaWNhdGVNb2RpZmllckNhc2UoKSB7XHJcbiAgICAgICAgcmV0dXJuICgodGhpcy5jdHJsS2V5ICYmIHRoaXMua2V5Q29kZSA9PT0gNSAvKiBDdHJsICovKVxyXG4gICAgICAgICAgICB8fCAodGhpcy5zaGlmdEtleSAmJiB0aGlzLmtleUNvZGUgPT09IDQgLyogU2hpZnQgKi8pXHJcbiAgICAgICAgICAgIHx8ICh0aGlzLmFsdEtleSAmJiB0aGlzLmtleUNvZGUgPT09IDYgLyogQWx0ICovKVxyXG4gICAgICAgICAgICB8fCAodGhpcy5tZXRhS2V5ICYmIHRoaXMua2V5Q29kZSA9PT0gNTcgLyogTWV0YSAqLykpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBDaG9yZEtleWJpbmRpbmcge1xyXG4gICAgY29uc3RydWN0b3IocGFydHMpIHtcclxuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IGlsbGVnYWxBcmd1bWVudChgcGFydHNgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXJ0cyA9IHBhcnRzO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBSZXNvbHZlZEtleWJpbmRpbmdQYXJ0IHtcclxuICAgIGNvbnN0cnVjdG9yKGN0cmxLZXksIHNoaWZ0S2V5LCBhbHRLZXksIG1ldGFLZXksIGtiTGFiZWwsIGtiQXJpYUxhYmVsKSB7XHJcbiAgICAgICAgdGhpcy5jdHJsS2V5ID0gY3RybEtleTtcclxuICAgICAgICB0aGlzLnNoaWZ0S2V5ID0gc2hpZnRLZXk7XHJcbiAgICAgICAgdGhpcy5hbHRLZXkgPSBhbHRLZXk7XHJcbiAgICAgICAgdGhpcy5tZXRhS2V5ID0gbWV0YUtleTtcclxuICAgICAgICB0aGlzLmtleUxhYmVsID0ga2JMYWJlbDtcclxuICAgICAgICB0aGlzLmtleUFyaWFMYWJlbCA9IGtiQXJpYUxhYmVsO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBIHJlc29sdmVkIGtleWJpbmRpbmcuIENhbiBiZSBhIHNpbXBsZSBrZXliaW5kaW5nIG9yIGEgY2hvcmQga2V5YmluZGluZy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBSZXNvbHZlZEtleWJpbmRpbmcge1xyXG59XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tICcuL3Bvc2l0aW9uLmpzJztcclxuaW1wb3J0IHsgUmFuZ2UgfSBmcm9tICcuL3JhbmdlLmpzJztcclxuLyoqXHJcbiAqIEEgc2VsZWN0aW9uIGluIHRoZSBlZGl0b3IuXHJcbiAqIFRoZSBzZWxlY3Rpb24gaXMgYSByYW5nZSB0aGF0IGhhcyBhbiBvcmllbnRhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTZWxlY3Rpb24gZXh0ZW5kcyBSYW5nZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rpb25TdGFydExpbmVOdW1iZXIsIHNlbGVjdGlvblN0YXJ0Q29sdW1uLCBwb3NpdGlvbkxpbmVOdW1iZXIsIHBvc2l0aW9uQ29sdW1uKSB7XHJcbiAgICAgICAgc3VwZXIoc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyLCBzZWxlY3Rpb25TdGFydENvbHVtbiwgcG9zaXRpb25MaW5lTnVtYmVyLCBwb3NpdGlvbkNvbHVtbik7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXIgPSBzZWxlY3Rpb25TdGFydExpbmVOdW1iZXI7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydENvbHVtbiA9IHNlbGVjdGlvblN0YXJ0Q29sdW1uO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25MaW5lTnVtYmVyID0gcG9zaXRpb25MaW5lTnVtYmVyO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25Db2x1bW4gPSBwb3NpdGlvbkNvbHVtbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIHRvIGEgaHVtYW4tcmVhZGFibGUgcmVwcmVzZW50YXRpb24uXHJcbiAgICAgKi9cclxuICAgIHRvU3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiAnWycgKyB0aGlzLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlciArICcsJyArIHRoaXMuc2VsZWN0aW9uU3RhcnRDb2x1bW4gKyAnIC0+ICcgKyB0aGlzLnBvc2l0aW9uTGluZU51bWJlciArICcsJyArIHRoaXMucG9zaXRpb25Db2x1bW4gKyAnXSc7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgaWYgZXF1YWxzIG90aGVyIHNlbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgZXF1YWxzU2VsZWN0aW9uKG90aGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIChTZWxlY3Rpb24uc2VsZWN0aW9uc0VxdWFsKHRoaXMsIG90aGVyKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgaWYgdGhlIHR3byBzZWxlY3Rpb25zIGFyZSBlcXVhbC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNlbGVjdGlvbnNFcXVhbChhLCBiKSB7XHJcbiAgICAgICAgcmV0dXJuIChhLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlciA9PT0gYi5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXIgJiZcclxuICAgICAgICAgICAgYS5zZWxlY3Rpb25TdGFydENvbHVtbiA9PT0gYi5zZWxlY3Rpb25TdGFydENvbHVtbiAmJlxyXG4gICAgICAgICAgICBhLnBvc2l0aW9uTGluZU51bWJlciA9PT0gYi5wb3NpdGlvbkxpbmVOdW1iZXIgJiZcclxuICAgICAgICAgICAgYS5wb3NpdGlvbkNvbHVtbiA9PT0gYi5wb3NpdGlvbkNvbHVtbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBkaXJlY3Rpb25zIChMVFIgb3IgUlRMKS5cclxuICAgICAqL1xyXG4gICAgZ2V0RGlyZWN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlciA9PT0gdGhpcy5zdGFydExpbmVOdW1iZXIgJiYgdGhpcy5zZWxlY3Rpb25TdGFydENvbHVtbiA9PT0gdGhpcy5zdGFydENvbHVtbikge1xyXG4gICAgICAgICAgICByZXR1cm4gMCAvKiBMVFIgKi87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAxIC8qIFJUTCAqLztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IHNlbGVjdGlvbiB3aXRoIGEgZGlmZmVyZW50IGBwb3NpdGlvbkxpbmVOdW1iZXJgIGFuZCBgcG9zaXRpb25Db2x1bW5gLlxyXG4gICAgICovXHJcbiAgICBzZXRFbmRQb3NpdGlvbihlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4pIHtcclxuICAgICAgICBpZiAodGhpcy5nZXREaXJlY3Rpb24oKSA9PT0gMCAvKiBMVFIgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5zdGFydExpbmVOdW1iZXIsIHRoaXMuc3RhcnRDb2x1bW4sIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbiwgdGhpcy5zdGFydExpbmVOdW1iZXIsIHRoaXMuc3RhcnRDb2x1bW4pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHBvc2l0aW9uIGF0IGBwb3NpdGlvbkxpbmVOdW1iZXJgIGFuZCBgcG9zaXRpb25Db2x1bW5gLlxyXG4gICAgICovXHJcbiAgICBnZXRQb3NpdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKHRoaXMucG9zaXRpb25MaW5lTnVtYmVyLCB0aGlzLnBvc2l0aW9uQ29sdW1uKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IHNlbGVjdGlvbiB3aXRoIGEgZGlmZmVyZW50IGBzZWxlY3Rpb25TdGFydExpbmVOdW1iZXJgIGFuZCBgc2VsZWN0aW9uU3RhcnRDb2x1bW5gLlxyXG4gICAgICovXHJcbiAgICBzZXRTdGFydFBvc2l0aW9uKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4pIHtcclxuICAgICAgICBpZiAodGhpcy5nZXREaXJlY3Rpb24oKSA9PT0gMCAvKiBMVFIgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgdGhpcy5lbmRMaW5lTnVtYmVyLCB0aGlzLmVuZENvbHVtbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKHRoaXMuZW5kTGluZU51bWJlciwgdGhpcy5lbmRDb2x1bW4sIHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4pO1xyXG4gICAgfVxyXG4gICAgLy8gLS0tLVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBgU2VsZWN0aW9uYCBmcm9tIG9uZSBvciB0d28gcG9zaXRpb25zXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tUG9zaXRpb25zKHN0YXJ0LCBlbmQgPSBzdGFydCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKHN0YXJ0LmxpbmVOdW1iZXIsIHN0YXJ0LmNvbHVtbiwgZW5kLmxpbmVOdW1iZXIsIGVuZC5jb2x1bW4pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBgU2VsZWN0aW9uYCBmcm9tIGFuIGBJU2VsZWN0aW9uYC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGxpZnRTZWxlY3Rpb24oc2VsKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oc2VsLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlciwgc2VsLnNlbGVjdGlvblN0YXJ0Q29sdW1uLCBzZWwucG9zaXRpb25MaW5lTnVtYmVyLCBzZWwucG9zaXRpb25Db2x1bW4pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBgYWAgZXF1YWxzIGBiYC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNlbGVjdGlvbnNBcnJFcXVhbChhLCBiKSB7XHJcbiAgICAgICAgaWYgKGEgJiYgIWIgfHwgIWEgJiYgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYSAmJiAhYikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3Rpb25zRXF1YWwoYVtpXSwgYltpXSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGVzdCBpZiBgb2JqYCBpcyBhbiBgSVNlbGVjdGlvbmAuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc0lTZWxlY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIChvYmpcclxuICAgICAgICAgICAgJiYgKHR5cGVvZiBvYmouc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyID09PSAnbnVtYmVyJylcclxuICAgICAgICAgICAgJiYgKHR5cGVvZiBvYmouc2VsZWN0aW9uU3RhcnRDb2x1bW4gPT09ICdudW1iZXInKVxyXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5wb3NpdGlvbkxpbmVOdW1iZXIgPT09ICdudW1iZXInKVxyXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5wb3NpdGlvbkNvbHVtbiA9PT0gJ251bWJlcicpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIHdpdGggYSBkaXJlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjcmVhdGVXaXRoRGlyZWN0aW9uKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbiwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gMCAvKiBMVFIgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgZW5kTGluZU51bWJlciwgZW5kQ29sdW1uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oZW5kTGluZU51bWJlciwgZW5kQ29sdW1uLCBzdGFydExpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uKTtcclxuICAgIH1cclxufVxyXG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbmV4cG9ydCBjbGFzcyBUb2tlbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihvZmZzZXQsIHR5cGUsIGxhbmd1YWdlKSB7XHJcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQgfCAwOyAvLyBAcGVyZlxyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlO1xyXG4gICAgfVxyXG4gICAgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuICcoJyArIHRoaXMub2Zmc2V0ICsgJywgJyArIHRoaXMudHlwZSArICcpJztcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgVG9rZW5pemF0aW9uUmVzdWx0IHtcclxuICAgIGNvbnN0cnVjdG9yKHRva2VucywgZW5kU3RhdGUpIHtcclxuICAgICAgICB0aGlzLnRva2VucyA9IHRva2VucztcclxuICAgICAgICB0aGlzLmVuZFN0YXRlID0gZW5kU3RhdGU7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIFRva2VuaXphdGlvblJlc3VsdDIge1xyXG4gICAgY29uc3RydWN0b3IodG9rZW5zLCBlbmRTdGF0ZSkge1xyXG4gICAgICAgIHRoaXMudG9rZW5zID0gdG9rZW5zO1xyXG4gICAgICAgIHRoaXMuZW5kU3RhdGUgPSBlbmRTdGF0ZTtcclxuICAgIH1cclxufVxyXG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbi8vIFRISVMgSVMgQSBHRU5FUkFURUQgRklMRS4gRE8gTk9UIEVESVQgRElSRUNUTFkuXHJcbmV4cG9ydCB2YXIgQWNjZXNzaWJpbGl0eVN1cHBvcnQ7XHJcbihmdW5jdGlvbiAoQWNjZXNzaWJpbGl0eVN1cHBvcnQpIHtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBzaG91bGQgYmUgdGhlIGJyb3dzZXIgY2FzZSB3aGVyZSBpdCBpcyBub3Qga25vd24gaWYgYSBzY3JlZW4gcmVhZGVyIGlzIGF0dGFjaGVkIG9yIG5vLlxyXG4gICAgICovXHJcbiAgICBBY2Nlc3NpYmlsaXR5U3VwcG9ydFtBY2Nlc3NpYmlsaXR5U3VwcG9ydFtcIlVua25vd25cIl0gPSAwXSA9IFwiVW5rbm93blwiO1xyXG4gICAgQWNjZXNzaWJpbGl0eVN1cHBvcnRbQWNjZXNzaWJpbGl0eVN1cHBvcnRbXCJEaXNhYmxlZFwiXSA9IDFdID0gXCJEaXNhYmxlZFwiO1xyXG4gICAgQWNjZXNzaWJpbGl0eVN1cHBvcnRbQWNjZXNzaWJpbGl0eVN1cHBvcnRbXCJFbmFibGVkXCJdID0gMl0gPSBcIkVuYWJsZWRcIjtcclxufSkoQWNjZXNzaWJpbGl0eVN1cHBvcnQgfHwgKEFjY2Vzc2liaWxpdHlTdXBwb3J0ID0ge30pKTtcclxuZXhwb3J0IHZhciBDb21wbGV0aW9uSXRlbUluc2VydFRleHRSdWxlO1xyXG4oZnVuY3Rpb24gKENvbXBsZXRpb25JdGVtSW5zZXJ0VGV4dFJ1bGUpIHtcclxuICAgIC8qKlxyXG4gICAgICogQWRqdXN0IHdoaXRlc3BhY2UvaW5kZW50YXRpb24gb2YgbXVsdGlsaW5lIGluc2VydCB0ZXh0cyB0b1xyXG4gICAgICogbWF0Y2ggdGhlIGN1cnJlbnQgbGluZSBpbmRlbnRhdGlvbi5cclxuICAgICAqL1xyXG4gICAgQ29tcGxldGlvbkl0ZW1JbnNlcnRUZXh0UnVsZVtDb21wbGV0aW9uSXRlbUluc2VydFRleHRSdWxlW1wiS2VlcFdoaXRlc3BhY2VcIl0gPSAxXSA9IFwiS2VlcFdoaXRlc3BhY2VcIjtcclxuICAgIC8qKlxyXG4gICAgICogYGluc2VydFRleHRgIGlzIGEgc25pcHBldC5cclxuICAgICAqL1xyXG4gICAgQ29tcGxldGlvbkl0ZW1JbnNlcnRUZXh0UnVsZVtDb21wbGV0aW9uSXRlbUluc2VydFRleHRSdWxlW1wiSW5zZXJ0QXNTbmlwcGV0XCJdID0gNF0gPSBcIkluc2VydEFzU25pcHBldFwiO1xyXG59KShDb21wbGV0aW9uSXRlbUluc2VydFRleHRSdWxlIHx8IChDb21wbGV0aW9uSXRlbUluc2VydFRleHRSdWxlID0ge30pKTtcclxuZXhwb3J0IHZhciBDb21wbGV0aW9uSXRlbUtpbmQ7XHJcbihmdW5jdGlvbiAoQ29tcGxldGlvbkl0ZW1LaW5kKSB7XHJcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiTWV0aG9kXCJdID0gMF0gPSBcIk1ldGhvZFwiO1xyXG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIkZ1bmN0aW9uXCJdID0gMV0gPSBcIkZ1bmN0aW9uXCI7XHJcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiQ29uc3RydWN0b3JcIl0gPSAyXSA9IFwiQ29uc3RydWN0b3JcIjtcclxuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJGaWVsZFwiXSA9IDNdID0gXCJGaWVsZFwiO1xyXG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIlZhcmlhYmxlXCJdID0gNF0gPSBcIlZhcmlhYmxlXCI7XHJcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiQ2xhc3NcIl0gPSA1XSA9IFwiQ2xhc3NcIjtcclxuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJTdHJ1Y3RcIl0gPSA2XSA9IFwiU3RydWN0XCI7XHJcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiSW50ZXJmYWNlXCJdID0gN10gPSBcIkludGVyZmFjZVwiO1xyXG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIk1vZHVsZVwiXSA9IDhdID0gXCJNb2R1bGVcIjtcclxuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJQcm9wZXJ0eVwiXSA9IDldID0gXCJQcm9wZXJ0eVwiO1xyXG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIkV2ZW50XCJdID0gMTBdID0gXCJFdmVudFwiO1xyXG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIk9wZXJhdG9yXCJdID0gMTFdID0gXCJPcGVyYXRvclwiO1xyXG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIlVuaXRcIl0gPSAxMl0gPSBcIlVuaXRcIjtcclxuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJWYWx1ZVwiXSA9IDEzXSA9IFwiVmFsdWVcIjtcclxuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJDb25zdGFudFwiXSA9IDE0XSA9IFwiQ29uc3RhbnRcIjtcclxuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJFbnVtXCJdID0gMTVdID0gXCJFbnVtXCI7XHJcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiRW51bU1lbWJlclwiXSA9IDE2XSA9IFwiRW51bU1lbWJlclwiO1xyXG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIktleXdvcmRcIl0gPSAxN10gPSBcIktleXdvcmRcIjtcclxuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJUZXh0XCJdID0gMThdID0gXCJUZXh0XCI7XHJcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiQ29sb3JcIl0gPSAxOV0gPSBcIkNvbG9yXCI7XHJcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiRmlsZVwiXSA9IDIwXSA9IFwiRmlsZVwiO1xyXG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIlJlZmVyZW5jZVwiXSA9IDIxXSA9IFwiUmVmZXJlbmNlXCI7XHJcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiQ3VzdG9tY29sb3JcIl0gPSAyMl0gPSBcIkN1c3RvbWNvbG9yXCI7XHJcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiRm9sZGVyXCJdID0gMjNdID0gXCJGb2xkZXJcIjtcclxuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJUeXBlUGFyYW1ldGVyXCJdID0gMjRdID0gXCJUeXBlUGFyYW1ldGVyXCI7XHJcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiVXNlclwiXSA9IDI1XSA9IFwiVXNlclwiO1xyXG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIklzc3VlXCJdID0gMjZdID0gXCJJc3N1ZVwiO1xyXG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIlNuaXBwZXRcIl0gPSAyN10gPSBcIlNuaXBwZXRcIjtcclxufSkoQ29tcGxldGlvbkl0ZW1LaW5kIHx8IChDb21wbGV0aW9uSXRlbUtpbmQgPSB7fSkpO1xyXG5leHBvcnQgdmFyIENvbXBsZXRpb25JdGVtVGFnO1xyXG4oZnVuY3Rpb24gKENvbXBsZXRpb25JdGVtVGFnKSB7XHJcbiAgICBDb21wbGV0aW9uSXRlbVRhZ1tDb21wbGV0aW9uSXRlbVRhZ1tcIkRlcHJlY2F0ZWRcIl0gPSAxXSA9IFwiRGVwcmVjYXRlZFwiO1xyXG59KShDb21wbGV0aW9uSXRlbVRhZyB8fCAoQ29tcGxldGlvbkl0ZW1UYWcgPSB7fSkpO1xyXG4vKipcclxuICogSG93IGEgc3VnZ2VzdCBwcm92aWRlciB3YXMgdHJpZ2dlcmVkLlxyXG4gKi9cclxuZXhwb3J0IHZhciBDb21wbGV0aW9uVHJpZ2dlcktpbmQ7XHJcbihmdW5jdGlvbiAoQ29tcGxldGlvblRyaWdnZXJLaW5kKSB7XHJcbiAgICBDb21wbGV0aW9uVHJpZ2dlcktpbmRbQ29tcGxldGlvblRyaWdnZXJLaW5kW1wiSW52b2tlXCJdID0gMF0gPSBcIkludm9rZVwiO1xyXG4gICAgQ29tcGxldGlvblRyaWdnZXJLaW5kW0NvbXBsZXRpb25UcmlnZ2VyS2luZFtcIlRyaWdnZXJDaGFyYWN0ZXJcIl0gPSAxXSA9IFwiVHJpZ2dlckNoYXJhY3RlclwiO1xyXG4gICAgQ29tcGxldGlvblRyaWdnZXJLaW5kW0NvbXBsZXRpb25UcmlnZ2VyS2luZFtcIlRyaWdnZXJGb3JJbmNvbXBsZXRlQ29tcGxldGlvbnNcIl0gPSAyXSA9IFwiVHJpZ2dlckZvckluY29tcGxldGVDb21wbGV0aW9uc1wiO1xyXG59KShDb21wbGV0aW9uVHJpZ2dlcktpbmQgfHwgKENvbXBsZXRpb25UcmlnZ2VyS2luZCA9IHt9KSk7XHJcbi8qKlxyXG4gKiBBIHBvc2l0aW9uaW5nIHByZWZlcmVuY2UgZm9yIHJlbmRlcmluZyBjb250ZW50IHdpZGdldHMuXHJcbiAqL1xyXG5leHBvcnQgdmFyIENvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2U7XHJcbihmdW5jdGlvbiAoQ29udGVudFdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZSkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBQbGFjZSB0aGUgY29udGVudCB3aWRnZXQgZXhhY3RseSBhdCBhIHBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIENvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2VbQ29udGVudFdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZVtcIkVYQUNUXCJdID0gMF0gPSBcIkVYQUNUXCI7XHJcbiAgICAvKipcclxuICAgICAqIFBsYWNlIHRoZSBjb250ZW50IHdpZGdldCBhYm92ZSBhIHBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIENvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2VbQ29udGVudFdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZVtcIkFCT1ZFXCJdID0gMV0gPSBcIkFCT1ZFXCI7XHJcbiAgICAvKipcclxuICAgICAqIFBsYWNlIHRoZSBjb250ZW50IHdpZGdldCBiZWxvdyBhIHBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIENvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2VbQ29udGVudFdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZVtcIkJFTE9XXCJdID0gMl0gPSBcIkJFTE9XXCI7XHJcbn0pKENvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2UgfHwgKENvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2UgPSB7fSkpO1xyXG4vKipcclxuICogRGVzY3JpYmVzIHRoZSByZWFzb24gdGhlIGN1cnNvciBoYXMgY2hhbmdlZCBpdHMgcG9zaXRpb24uXHJcbiAqL1xyXG5leHBvcnQgdmFyIEN1cnNvckNoYW5nZVJlYXNvbjtcclxuKGZ1bmN0aW9uIChDdXJzb3JDaGFuZ2VSZWFzb24pIHtcclxuICAgIC8qKlxyXG4gICAgICogVW5rbm93biBvciBub3Qgc2V0LlxyXG4gICAgICovXHJcbiAgICBDdXJzb3JDaGFuZ2VSZWFzb25bQ3Vyc29yQ2hhbmdlUmVhc29uW1wiTm90U2V0XCJdID0gMF0gPSBcIk5vdFNldFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBBIGBtb2RlbC5zZXRWYWx1ZSgpYCB3YXMgY2FsbGVkLlxyXG4gICAgICovXHJcbiAgICBDdXJzb3JDaGFuZ2VSZWFzb25bQ3Vyc29yQ2hhbmdlUmVhc29uW1wiQ29udGVudEZsdXNoXCJdID0gMV0gPSBcIkNvbnRlbnRGbHVzaFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgYG1vZGVsYCBoYXMgYmVlbiBjaGFuZ2VkIG91dHNpZGUgb2YgdGhpcyBjdXJzb3IgYW5kIHRoZSBjdXJzb3IgcmVjb3ZlcnMgaXRzIHBvc2l0aW9uIGZyb20gYXNzb2NpYXRlZCBtYXJrZXJzLlxyXG4gICAgICovXHJcbiAgICBDdXJzb3JDaGFuZ2VSZWFzb25bQ3Vyc29yQ2hhbmdlUmVhc29uW1wiUmVjb3ZlckZyb21NYXJrZXJzXCJdID0gMl0gPSBcIlJlY292ZXJGcm9tTWFya2Vyc1wiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGVyZSB3YXMgYW4gZXhwbGljaXQgdXNlciBnZXN0dXJlLlxyXG4gICAgICovXHJcbiAgICBDdXJzb3JDaGFuZ2VSZWFzb25bQ3Vyc29yQ2hhbmdlUmVhc29uW1wiRXhwbGljaXRcIl0gPSAzXSA9IFwiRXhwbGljaXRcIjtcclxuICAgIC8qKlxyXG4gICAgICogVGhlcmUgd2FzIGEgUGFzdGUuXHJcbiAgICAgKi9cclxuICAgIEN1cnNvckNoYW5nZVJlYXNvbltDdXJzb3JDaGFuZ2VSZWFzb25bXCJQYXN0ZVwiXSA9IDRdID0gXCJQYXN0ZVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGVyZSB3YXMgYW4gVW5kby5cclxuICAgICAqL1xyXG4gICAgQ3Vyc29yQ2hhbmdlUmVhc29uW0N1cnNvckNoYW5nZVJlYXNvbltcIlVuZG9cIl0gPSA1XSA9IFwiVW5kb1wiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGVyZSB3YXMgYSBSZWRvLlxyXG4gICAgICovXHJcbiAgICBDdXJzb3JDaGFuZ2VSZWFzb25bQ3Vyc29yQ2hhbmdlUmVhc29uW1wiUmVkb1wiXSA9IDZdID0gXCJSZWRvXCI7XHJcbn0pKEN1cnNvckNoYW5nZVJlYXNvbiB8fCAoQ3Vyc29yQ2hhbmdlUmVhc29uID0ge30pKTtcclxuLyoqXHJcbiAqIFRoZSBkZWZhdWx0IGVuZCBvZiBsaW5lIHRvIHVzZSB3aGVuIGluc3RhbnRpYXRpbmcgbW9kZWxzLlxyXG4gKi9cclxuZXhwb3J0IHZhciBEZWZhdWx0RW5kT2ZMaW5lO1xyXG4oZnVuY3Rpb24gKERlZmF1bHRFbmRPZkxpbmUpIHtcclxuICAgIC8qKlxyXG4gICAgICogVXNlIGxpbmUgZmVlZCAoXFxuKSBhcyB0aGUgZW5kIG9mIGxpbmUgY2hhcmFjdGVyLlxyXG4gICAgICovXHJcbiAgICBEZWZhdWx0RW5kT2ZMaW5lW0RlZmF1bHRFbmRPZkxpbmVbXCJMRlwiXSA9IDFdID0gXCJMRlwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgY2FycmlhZ2UgcmV0dXJuIGFuZCBsaW5lIGZlZWQgKFxcclxcbikgYXMgdGhlIGVuZCBvZiBsaW5lIGNoYXJhY3Rlci5cclxuICAgICAqL1xyXG4gICAgRGVmYXVsdEVuZE9mTGluZVtEZWZhdWx0RW5kT2ZMaW5lW1wiQ1JMRlwiXSA9IDJdID0gXCJDUkxGXCI7XHJcbn0pKERlZmF1bHRFbmRPZkxpbmUgfHwgKERlZmF1bHRFbmRPZkxpbmUgPSB7fSkpO1xyXG4vKipcclxuICogQSBkb2N1bWVudCBoaWdobGlnaHQga2luZC5cclxuICovXHJcbmV4cG9ydCB2YXIgRG9jdW1lbnRIaWdobGlnaHRLaW5kO1xyXG4oZnVuY3Rpb24gKERvY3VtZW50SGlnaGxpZ2h0S2luZCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBBIHRleHR1YWwgb2NjdXJyZW5jZS5cclxuICAgICAqL1xyXG4gICAgRG9jdW1lbnRIaWdobGlnaHRLaW5kW0RvY3VtZW50SGlnaGxpZ2h0S2luZFtcIlRleHRcIl0gPSAwXSA9IFwiVGV4dFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWFkLWFjY2VzcyBvZiBhIHN5bWJvbCwgbGlrZSByZWFkaW5nIGEgdmFyaWFibGUuXHJcbiAgICAgKi9cclxuICAgIERvY3VtZW50SGlnaGxpZ2h0S2luZFtEb2N1bWVudEhpZ2hsaWdodEtpbmRbXCJSZWFkXCJdID0gMV0gPSBcIlJlYWRcIjtcclxuICAgIC8qKlxyXG4gICAgICogV3JpdGUtYWNjZXNzIG9mIGEgc3ltYm9sLCBsaWtlIHdyaXRpbmcgdG8gYSB2YXJpYWJsZS5cclxuICAgICAqL1xyXG4gICAgRG9jdW1lbnRIaWdobGlnaHRLaW5kW0RvY3VtZW50SGlnaGxpZ2h0S2luZFtcIldyaXRlXCJdID0gMl0gPSBcIldyaXRlXCI7XHJcbn0pKERvY3VtZW50SGlnaGxpZ2h0S2luZCB8fCAoRG9jdW1lbnRIaWdobGlnaHRLaW5kID0ge30pKTtcclxuLyoqXHJcbiAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgYXV0byBpbmRlbnRhdGlvbiBpbiB0aGUgZWRpdG9yXHJcbiAqL1xyXG5leHBvcnQgdmFyIEVkaXRvckF1dG9JbmRlbnRTdHJhdGVneTtcclxuKGZ1bmN0aW9uIChFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3kpIHtcclxuICAgIEVkaXRvckF1dG9JbmRlbnRTdHJhdGVneVtFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3lbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcclxuICAgIEVkaXRvckF1dG9JbmRlbnRTdHJhdGVneVtFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3lbXCJLZWVwXCJdID0gMV0gPSBcIktlZXBcIjtcclxuICAgIEVkaXRvckF1dG9JbmRlbnRTdHJhdGVneVtFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3lbXCJCcmFja2V0c1wiXSA9IDJdID0gXCJCcmFja2V0c1wiO1xyXG4gICAgRWRpdG9yQXV0b0luZGVudFN0cmF0ZWd5W0VkaXRvckF1dG9JbmRlbnRTdHJhdGVneVtcIkFkdmFuY2VkXCJdID0gM10gPSBcIkFkdmFuY2VkXCI7XHJcbiAgICBFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3lbRWRpdG9yQXV0b0luZGVudFN0cmF0ZWd5W1wiRnVsbFwiXSA9IDRdID0gXCJGdWxsXCI7XHJcbn0pKEVkaXRvckF1dG9JbmRlbnRTdHJhdGVneSB8fCAoRWRpdG9yQXV0b0luZGVudFN0cmF0ZWd5ID0ge30pKTtcclxuZXhwb3J0IHZhciBFZGl0b3JPcHRpb247XHJcbihmdW5jdGlvbiAoRWRpdG9yT3B0aW9uKSB7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiYWNjZXB0U3VnZ2VzdGlvbk9uQ29tbWl0Q2hhcmFjdGVyXCJdID0gMF0gPSBcImFjY2VwdFN1Z2dlc3Rpb25PbkNvbW1pdENoYXJhY3RlclwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImFjY2VwdFN1Z2dlc3Rpb25PbkVudGVyXCJdID0gMV0gPSBcImFjY2VwdFN1Z2dlc3Rpb25PbkVudGVyXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiYWNjZXNzaWJpbGl0eVN1cHBvcnRcIl0gPSAyXSA9IFwiYWNjZXNzaWJpbGl0eVN1cHBvcnRcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJhY2Nlc3NpYmlsaXR5UGFnZVNpemVcIl0gPSAzXSA9IFwiYWNjZXNzaWJpbGl0eVBhZ2VTaXplXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiYXJpYUxhYmVsXCJdID0gNF0gPSBcImFyaWFMYWJlbFwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImF1dG9DbG9zaW5nQnJhY2tldHNcIl0gPSA1XSA9IFwiYXV0b0Nsb3NpbmdCcmFja2V0c1wiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImF1dG9DbG9zaW5nRGVsZXRlXCJdID0gNl0gPSBcImF1dG9DbG9zaW5nRGVsZXRlXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiYXV0b0Nsb3NpbmdPdmVydHlwZVwiXSA9IDddID0gXCJhdXRvQ2xvc2luZ092ZXJ0eXBlXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiYXV0b0Nsb3NpbmdRdW90ZXNcIl0gPSA4XSA9IFwiYXV0b0Nsb3NpbmdRdW90ZXNcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJhdXRvSW5kZW50XCJdID0gOV0gPSBcImF1dG9JbmRlbnRcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJhdXRvbWF0aWNMYXlvdXRcIl0gPSAxMF0gPSBcImF1dG9tYXRpY0xheW91dFwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImF1dG9TdXJyb3VuZFwiXSA9IDExXSA9IFwiYXV0b1N1cnJvdW5kXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiY29kZUxlbnNcIl0gPSAxMl0gPSBcImNvZGVMZW5zXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiY29kZUxlbnNGb250RmFtaWx5XCJdID0gMTNdID0gXCJjb2RlTGVuc0ZvbnRGYW1pbHlcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJjb2RlTGVuc0ZvbnRTaXplXCJdID0gMTRdID0gXCJjb2RlTGVuc0ZvbnRTaXplXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiY29sb3JEZWNvcmF0b3JzXCJdID0gMTVdID0gXCJjb2xvckRlY29yYXRvcnNcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJjb2x1bW5TZWxlY3Rpb25cIl0gPSAxNl0gPSBcImNvbHVtblNlbGVjdGlvblwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImNvbW1lbnRzXCJdID0gMTddID0gXCJjb21tZW50c1wiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImNvbnRleHRtZW51XCJdID0gMThdID0gXCJjb250ZXh0bWVudVwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImNvcHlXaXRoU3ludGF4SGlnaGxpZ2h0aW5nXCJdID0gMTldID0gXCJjb3B5V2l0aFN5bnRheEhpZ2hsaWdodGluZ1wiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImN1cnNvckJsaW5raW5nXCJdID0gMjBdID0gXCJjdXJzb3JCbGlua2luZ1wiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImN1cnNvclNtb290aENhcmV0QW5pbWF0aW9uXCJdID0gMjFdID0gXCJjdXJzb3JTbW9vdGhDYXJldEFuaW1hdGlvblwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImN1cnNvclN0eWxlXCJdID0gMjJdID0gXCJjdXJzb3JTdHlsZVwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImN1cnNvclN1cnJvdW5kaW5nTGluZXNcIl0gPSAyM10gPSBcImN1cnNvclN1cnJvdW5kaW5nTGluZXNcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJjdXJzb3JTdXJyb3VuZGluZ0xpbmVzU3R5bGVcIl0gPSAyNF0gPSBcImN1cnNvclN1cnJvdW5kaW5nTGluZXNTdHlsZVwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImN1cnNvcldpZHRoXCJdID0gMjVdID0gXCJjdXJzb3JXaWR0aFwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImRpc2FibGVMYXllckhpbnRpbmdcIl0gPSAyNl0gPSBcImRpc2FibGVMYXllckhpbnRpbmdcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJkaXNhYmxlTW9ub3NwYWNlT3B0aW1pemF0aW9uc1wiXSA9IDI3XSA9IFwiZGlzYWJsZU1vbm9zcGFjZU9wdGltaXphdGlvbnNcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJkb21SZWFkT25seVwiXSA9IDI4XSA9IFwiZG9tUmVhZE9ubHlcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJkcmFnQW5kRHJvcFwiXSA9IDI5XSA9IFwiZHJhZ0FuZERyb3BcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJlbXB0eVNlbGVjdGlvbkNsaXBib2FyZFwiXSA9IDMwXSA9IFwiZW1wdHlTZWxlY3Rpb25DbGlwYm9hcmRcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJleHRyYUVkaXRvckNsYXNzTmFtZVwiXSA9IDMxXSA9IFwiZXh0cmFFZGl0b3JDbGFzc05hbWVcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJmYXN0U2Nyb2xsU2Vuc2l0aXZpdHlcIl0gPSAzMl0gPSBcImZhc3RTY3JvbGxTZW5zaXRpdml0eVwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImZpbmRcIl0gPSAzM10gPSBcImZpbmRcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJmaXhlZE92ZXJmbG93V2lkZ2V0c1wiXSA9IDM0XSA9IFwiZml4ZWRPdmVyZmxvd1dpZGdldHNcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJmb2xkaW5nXCJdID0gMzVdID0gXCJmb2xkaW5nXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZm9sZGluZ1N0cmF0ZWd5XCJdID0gMzZdID0gXCJmb2xkaW5nU3RyYXRlZ3lcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJmb2xkaW5nSGlnaGxpZ2h0XCJdID0gMzddID0gXCJmb2xkaW5nSGlnaGxpZ2h0XCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1widW5mb2xkT25DbGlja0FmdGVyRW5kT2ZMaW5lXCJdID0gMzhdID0gXCJ1bmZvbGRPbkNsaWNrQWZ0ZXJFbmRPZkxpbmVcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJmb250RmFtaWx5XCJdID0gMzldID0gXCJmb250RmFtaWx5XCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZm9udEluZm9cIl0gPSA0MF0gPSBcImZvbnRJbmZvXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZm9udExpZ2F0dXJlc1wiXSA9IDQxXSA9IFwiZm9udExpZ2F0dXJlc1wiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImZvbnRTaXplXCJdID0gNDJdID0gXCJmb250U2l6ZVwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImZvbnRXZWlnaHRcIl0gPSA0M10gPSBcImZvbnRXZWlnaHRcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJmb3JtYXRPblBhc3RlXCJdID0gNDRdID0gXCJmb3JtYXRPblBhc3RlXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZm9ybWF0T25UeXBlXCJdID0gNDVdID0gXCJmb3JtYXRPblR5cGVcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJnbHlwaE1hcmdpblwiXSA9IDQ2XSA9IFwiZ2x5cGhNYXJnaW5cIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJnb3RvTG9jYXRpb25cIl0gPSA0N10gPSBcImdvdG9Mb2NhdGlvblwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImhpZGVDdXJzb3JJbk92ZXJ2aWV3UnVsZXJcIl0gPSA0OF0gPSBcImhpZGVDdXJzb3JJbk92ZXJ2aWV3UnVsZXJcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJoaWdobGlnaHRBY3RpdmVJbmRlbnRHdWlkZVwiXSA9IDQ5XSA9IFwiaGlnaGxpZ2h0QWN0aXZlSW5kZW50R3VpZGVcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJob3ZlclwiXSA9IDUwXSA9IFwiaG92ZXJcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJpbkRpZmZFZGl0b3JcIl0gPSA1MV0gPSBcImluRGlmZkVkaXRvclwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImlubGluZVN1Z2dlc3RcIl0gPSA1Ml0gPSBcImlubGluZVN1Z2dlc3RcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJsZXR0ZXJTcGFjaW5nXCJdID0gNTNdID0gXCJsZXR0ZXJTcGFjaW5nXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wibGlnaHRidWxiXCJdID0gNTRdID0gXCJsaWdodGJ1bGJcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJsaW5lRGVjb3JhdGlvbnNXaWR0aFwiXSA9IDU1XSA9IFwibGluZURlY29yYXRpb25zV2lkdGhcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJsaW5lSGVpZ2h0XCJdID0gNTZdID0gXCJsaW5lSGVpZ2h0XCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wibGluZU51bWJlcnNcIl0gPSA1N10gPSBcImxpbmVOdW1iZXJzXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wibGluZU51bWJlcnNNaW5DaGFyc1wiXSA9IDU4XSA9IFwibGluZU51bWJlcnNNaW5DaGFyc1wiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImxpbmtlZEVkaXRpbmdcIl0gPSA1OV0gPSBcImxpbmtlZEVkaXRpbmdcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJsaW5rc1wiXSA9IDYwXSA9IFwibGlua3NcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJtYXRjaEJyYWNrZXRzXCJdID0gNjFdID0gXCJtYXRjaEJyYWNrZXRzXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wibWluaW1hcFwiXSA9IDYyXSA9IFwibWluaW1hcFwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIm1vdXNlU3R5bGVcIl0gPSA2M10gPSBcIm1vdXNlU3R5bGVcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJtb3VzZVdoZWVsU2Nyb2xsU2Vuc2l0aXZpdHlcIl0gPSA2NF0gPSBcIm1vdXNlV2hlZWxTY3JvbGxTZW5zaXRpdml0eVwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIm1vdXNlV2hlZWxab29tXCJdID0gNjVdID0gXCJtb3VzZVdoZWVsWm9vbVwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIm11bHRpQ3Vyc29yTWVyZ2VPdmVybGFwcGluZ1wiXSA9IDY2XSA9IFwibXVsdGlDdXJzb3JNZXJnZU92ZXJsYXBwaW5nXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wibXVsdGlDdXJzb3JNb2RpZmllclwiXSA9IDY3XSA9IFwibXVsdGlDdXJzb3JNb2RpZmllclwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIm11bHRpQ3Vyc29yUGFzdGVcIl0gPSA2OF0gPSBcIm11bHRpQ3Vyc29yUGFzdGVcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJvY2N1cnJlbmNlc0hpZ2hsaWdodFwiXSA9IDY5XSA9IFwib2NjdXJyZW5jZXNIaWdobGlnaHRcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJvdmVydmlld1J1bGVyQm9yZGVyXCJdID0gNzBdID0gXCJvdmVydmlld1J1bGVyQm9yZGVyXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wib3ZlcnZpZXdSdWxlckxhbmVzXCJdID0gNzFdID0gXCJvdmVydmlld1J1bGVyTGFuZXNcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJwYWRkaW5nXCJdID0gNzJdID0gXCJwYWRkaW5nXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wicGFyYW1ldGVySGludHNcIl0gPSA3M10gPSBcInBhcmFtZXRlckhpbnRzXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wicGVla1dpZGdldERlZmF1bHRGb2N1c1wiXSA9IDc0XSA9IFwicGVla1dpZGdldERlZmF1bHRGb2N1c1wiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImRlZmluaXRpb25MaW5rT3BlbnNJblBlZWtcIl0gPSA3NV0gPSBcImRlZmluaXRpb25MaW5rT3BlbnNJblBlZWtcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJxdWlja1N1Z2dlc3Rpb25zXCJdID0gNzZdID0gXCJxdWlja1N1Z2dlc3Rpb25zXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wicXVpY2tTdWdnZXN0aW9uc0RlbGF5XCJdID0gNzddID0gXCJxdWlja1N1Z2dlc3Rpb25zRGVsYXlcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJyZWFkT25seVwiXSA9IDc4XSA9IFwicmVhZE9ubHlcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJyZW5hbWVPblR5cGVcIl0gPSA3OV0gPSBcInJlbmFtZU9uVHlwZVwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInJlbmRlckNvbnRyb2xDaGFyYWN0ZXJzXCJdID0gODBdID0gXCJyZW5kZXJDb250cm9sQ2hhcmFjdGVyc1wiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInJlbmRlckluZGVudEd1aWRlc1wiXSA9IDgxXSA9IFwicmVuZGVySW5kZW50R3VpZGVzXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wicmVuZGVyRmluYWxOZXdsaW5lXCJdID0gODJdID0gXCJyZW5kZXJGaW5hbE5ld2xpbmVcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJyZW5kZXJMaW5lSGlnaGxpZ2h0XCJdID0gODNdID0gXCJyZW5kZXJMaW5lSGlnaGxpZ2h0XCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wicmVuZGVyTGluZUhpZ2hsaWdodE9ubHlXaGVuRm9jdXNcIl0gPSA4NF0gPSBcInJlbmRlckxpbmVIaWdobGlnaHRPbmx5V2hlbkZvY3VzXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wicmVuZGVyVmFsaWRhdGlvbkRlY29yYXRpb25zXCJdID0gODVdID0gXCJyZW5kZXJWYWxpZGF0aW9uRGVjb3JhdGlvbnNcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJyZW5kZXJXaGl0ZXNwYWNlXCJdID0gODZdID0gXCJyZW5kZXJXaGl0ZXNwYWNlXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wicmV2ZWFsSG9yaXpvbnRhbFJpZ2h0UGFkZGluZ1wiXSA9IDg3XSA9IFwicmV2ZWFsSG9yaXpvbnRhbFJpZ2h0UGFkZGluZ1wiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInJvdW5kZWRTZWxlY3Rpb25cIl0gPSA4OF0gPSBcInJvdW5kZWRTZWxlY3Rpb25cIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJydWxlcnNcIl0gPSA4OV0gPSBcInJ1bGVyc1wiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInNjcm9sbGJhclwiXSA9IDkwXSA9IFwic2Nyb2xsYmFyXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic2Nyb2xsQmV5b25kTGFzdENvbHVtblwiXSA9IDkxXSA9IFwic2Nyb2xsQmV5b25kTGFzdENvbHVtblwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInNjcm9sbEJleW9uZExhc3RMaW5lXCJdID0gOTJdID0gXCJzY3JvbGxCZXlvbmRMYXN0TGluZVwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInNjcm9sbFByZWRvbWluYW50QXhpc1wiXSA9IDkzXSA9IFwic2Nyb2xsUHJlZG9taW5hbnRBeGlzXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic2VsZWN0aW9uQ2xpcGJvYXJkXCJdID0gOTRdID0gXCJzZWxlY3Rpb25DbGlwYm9hcmRcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJzZWxlY3Rpb25IaWdobGlnaHRcIl0gPSA5NV0gPSBcInNlbGVjdGlvbkhpZ2hsaWdodFwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInNlbGVjdE9uTGluZU51bWJlcnNcIl0gPSA5Nl0gPSBcInNlbGVjdE9uTGluZU51bWJlcnNcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJzaG93Rm9sZGluZ0NvbnRyb2xzXCJdID0gOTddID0gXCJzaG93Rm9sZGluZ0NvbnRyb2xzXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic2hvd1VudXNlZFwiXSA9IDk4XSA9IFwic2hvd1VudXNlZFwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInNuaXBwZXRTdWdnZXN0aW9uc1wiXSA9IDk5XSA9IFwic25pcHBldFN1Z2dlc3Rpb25zXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic21hcnRTZWxlY3RcIl0gPSAxMDBdID0gXCJzbWFydFNlbGVjdFwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInNtb290aFNjcm9sbGluZ1wiXSA9IDEwMV0gPSBcInNtb290aFNjcm9sbGluZ1wiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInN0aWNreVRhYlN0b3BzXCJdID0gMTAyXSA9IFwic3RpY2t5VGFiU3RvcHNcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJzdG9wUmVuZGVyaW5nTGluZUFmdGVyXCJdID0gMTAzXSA9IFwic3RvcFJlbmRlcmluZ0xpbmVBZnRlclwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInN1Z2dlc3RcIl0gPSAxMDRdID0gXCJzdWdnZXN0XCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic3VnZ2VzdEZvbnRTaXplXCJdID0gMTA1XSA9IFwic3VnZ2VzdEZvbnRTaXplXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic3VnZ2VzdExpbmVIZWlnaHRcIl0gPSAxMDZdID0gXCJzdWdnZXN0TGluZUhlaWdodFwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInN1Z2dlc3RPblRyaWdnZXJDaGFyYWN0ZXJzXCJdID0gMTA3XSA9IFwic3VnZ2VzdE9uVHJpZ2dlckNoYXJhY3RlcnNcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJzdWdnZXN0U2VsZWN0aW9uXCJdID0gMTA4XSA9IFwic3VnZ2VzdFNlbGVjdGlvblwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInRhYkNvbXBsZXRpb25cIl0gPSAxMDldID0gXCJ0YWJDb21wbGV0aW9uXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1widGFiSW5kZXhcIl0gPSAxMTBdID0gXCJ0YWJJbmRleFwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInVudXN1YWxMaW5lVGVybWluYXRvcnNcIl0gPSAxMTFdID0gXCJ1bnVzdWFsTGluZVRlcm1pbmF0b3JzXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1widXNlU2hhZG93RE9NXCJdID0gMTEyXSA9IFwidXNlU2hhZG93RE9NXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1widXNlVGFiU3RvcHNcIl0gPSAxMTNdID0gXCJ1c2VUYWJTdG9wc1wiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIndvcmRTZXBhcmF0b3JzXCJdID0gMTE0XSA9IFwid29yZFNlcGFyYXRvcnNcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJ3b3JkV3JhcFwiXSA9IDExNV0gPSBcIndvcmRXcmFwXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wid29yZFdyYXBCcmVha0FmdGVyQ2hhcmFjdGVyc1wiXSA9IDExNl0gPSBcIndvcmRXcmFwQnJlYWtBZnRlckNoYXJhY3RlcnNcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJ3b3JkV3JhcEJyZWFrQmVmb3JlQ2hhcmFjdGVyc1wiXSA9IDExN10gPSBcIndvcmRXcmFwQnJlYWtCZWZvcmVDaGFyYWN0ZXJzXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wid29yZFdyYXBDb2x1bW5cIl0gPSAxMThdID0gXCJ3b3JkV3JhcENvbHVtblwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIndvcmRXcmFwT3ZlcnJpZGUxXCJdID0gMTE5XSA9IFwid29yZFdyYXBPdmVycmlkZTFcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJ3b3JkV3JhcE92ZXJyaWRlMlwiXSA9IDEyMF0gPSBcIndvcmRXcmFwT3ZlcnJpZGUyXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wid3JhcHBpbmdJbmRlbnRcIl0gPSAxMjFdID0gXCJ3cmFwcGluZ0luZGVudFwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIndyYXBwaW5nU3RyYXRlZ3lcIl0gPSAxMjJdID0gXCJ3cmFwcGluZ1N0cmF0ZWd5XCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic2hvd0RlcHJlY2F0ZWRcIl0gPSAxMjNdID0gXCJzaG93RGVwcmVjYXRlZFwiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImlubGF5SGludHNcIl0gPSAxMjRdID0gXCJpbmxheUhpbnRzXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZWRpdG9yQ2xhc3NOYW1lXCJdID0gMTI1XSA9IFwiZWRpdG9yQ2xhc3NOYW1lXCI7XHJcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wicGl4ZWxSYXRpb1wiXSA9IDEyNl0gPSBcInBpeGVsUmF0aW9cIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJ0YWJGb2N1c01vZGVcIl0gPSAxMjddID0gXCJ0YWJGb2N1c01vZGVcIjtcclxuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJsYXlvdXRJbmZvXCJdID0gMTI4XSA9IFwibGF5b3V0SW5mb1wiO1xyXG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIndyYXBwaW5nSW5mb1wiXSA9IDEyOV0gPSBcIndyYXBwaW5nSW5mb1wiO1xyXG59KShFZGl0b3JPcHRpb24gfHwgKEVkaXRvck9wdGlvbiA9IHt9KSk7XHJcbi8qKlxyXG4gKiBFbmQgb2YgbGluZSBjaGFyYWN0ZXIgcHJlZmVyZW5jZS5cclxuICovXHJcbmV4cG9ydCB2YXIgRW5kT2ZMaW5lUHJlZmVyZW5jZTtcclxuKGZ1bmN0aW9uIChFbmRPZkxpbmVQcmVmZXJlbmNlKSB7XHJcbiAgICAvKipcclxuICAgICAqIFVzZSB0aGUgZW5kIG9mIGxpbmUgY2hhcmFjdGVyIGlkZW50aWZpZWQgaW4gdGhlIHRleHQgYnVmZmVyLlxyXG4gICAgICovXHJcbiAgICBFbmRPZkxpbmVQcmVmZXJlbmNlW0VuZE9mTGluZVByZWZlcmVuY2VbXCJUZXh0RGVmaW5lZFwiXSA9IDBdID0gXCJUZXh0RGVmaW5lZFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgbGluZSBmZWVkIChcXG4pIGFzIHRoZSBlbmQgb2YgbGluZSBjaGFyYWN0ZXIuXHJcbiAgICAgKi9cclxuICAgIEVuZE9mTGluZVByZWZlcmVuY2VbRW5kT2ZMaW5lUHJlZmVyZW5jZVtcIkxGXCJdID0gMV0gPSBcIkxGXCI7XHJcbiAgICAvKipcclxuICAgICAqIFVzZSBjYXJyaWFnZSByZXR1cm4gYW5kIGxpbmUgZmVlZCAoXFxyXFxuKSBhcyB0aGUgZW5kIG9mIGxpbmUgY2hhcmFjdGVyLlxyXG4gICAgICovXHJcbiAgICBFbmRPZkxpbmVQcmVmZXJlbmNlW0VuZE9mTGluZVByZWZlcmVuY2VbXCJDUkxGXCJdID0gMl0gPSBcIkNSTEZcIjtcclxufSkoRW5kT2ZMaW5lUHJlZmVyZW5jZSB8fCAoRW5kT2ZMaW5lUHJlZmVyZW5jZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBFbmQgb2YgbGluZSBjaGFyYWN0ZXIgcHJlZmVyZW5jZS5cclxuICovXHJcbmV4cG9ydCB2YXIgRW5kT2ZMaW5lU2VxdWVuY2U7XHJcbihmdW5jdGlvbiAoRW5kT2ZMaW5lU2VxdWVuY2UpIHtcclxuICAgIC8qKlxyXG4gICAgICogVXNlIGxpbmUgZmVlZCAoXFxuKSBhcyB0aGUgZW5kIG9mIGxpbmUgY2hhcmFjdGVyLlxyXG4gICAgICovXHJcbiAgICBFbmRPZkxpbmVTZXF1ZW5jZVtFbmRPZkxpbmVTZXF1ZW5jZVtcIkxGXCJdID0gMF0gPSBcIkxGXCI7XHJcbiAgICAvKipcclxuICAgICAqIFVzZSBjYXJyaWFnZSByZXR1cm4gYW5kIGxpbmUgZmVlZCAoXFxyXFxuKSBhcyB0aGUgZW5kIG9mIGxpbmUgY2hhcmFjdGVyLlxyXG4gICAgICovXHJcbiAgICBFbmRPZkxpbmVTZXF1ZW5jZVtFbmRPZkxpbmVTZXF1ZW5jZVtcIkNSTEZcIl0gPSAxXSA9IFwiQ1JMRlwiO1xyXG59KShFbmRPZkxpbmVTZXF1ZW5jZSB8fCAoRW5kT2ZMaW5lU2VxdWVuY2UgPSB7fSkpO1xyXG4vKipcclxuICogRGVzY3JpYmVzIHdoYXQgdG8gZG8gd2l0aCB0aGUgaW5kZW50YXRpb24gd2hlbiBwcmVzc2luZyBFbnRlci5cclxuICovXHJcbmV4cG9ydCB2YXIgSW5kZW50QWN0aW9uO1xyXG4oZnVuY3Rpb24gKEluZGVudEFjdGlvbikge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnNlcnQgbmV3IGxpbmUgYW5kIGNvcHkgdGhlIHByZXZpb3VzIGxpbmUncyBpbmRlbnRhdGlvbi5cclxuICAgICAqL1xyXG4gICAgSW5kZW50QWN0aW9uW0luZGVudEFjdGlvbltcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnNlcnQgbmV3IGxpbmUgYW5kIGluZGVudCBvbmNlIChyZWxhdGl2ZSB0byB0aGUgcHJldmlvdXMgbGluZSdzIGluZGVudGF0aW9uKS5cclxuICAgICAqL1xyXG4gICAgSW5kZW50QWN0aW9uW0luZGVudEFjdGlvbltcIkluZGVudFwiXSA9IDFdID0gXCJJbmRlbnRcIjtcclxuICAgIC8qKlxyXG4gICAgICogSW5zZXJ0IHR3byBuZXcgbGluZXM6XHJcbiAgICAgKiAgLSB0aGUgZmlyc3Qgb25lIGluZGVudGVkIHdoaWNoIHdpbGwgaG9sZCB0aGUgY3Vyc29yXHJcbiAgICAgKiAgLSB0aGUgc2Vjb25kIG9uZSBhdCB0aGUgc2FtZSBpbmRlbnRhdGlvbiBsZXZlbFxyXG4gICAgICovXHJcbiAgICBJbmRlbnRBY3Rpb25bSW5kZW50QWN0aW9uW1wiSW5kZW50T3V0ZGVudFwiXSA9IDJdID0gXCJJbmRlbnRPdXRkZW50XCI7XHJcbiAgICAvKipcclxuICAgICAqIEluc2VydCBuZXcgbGluZSBhbmQgb3V0ZGVudCBvbmNlIChyZWxhdGl2ZSB0byB0aGUgcHJldmlvdXMgbGluZSdzIGluZGVudGF0aW9uKS5cclxuICAgICAqL1xyXG4gICAgSW5kZW50QWN0aW9uW0luZGVudEFjdGlvbltcIk91dGRlbnRcIl0gPSAzXSA9IFwiT3V0ZGVudFwiO1xyXG59KShJbmRlbnRBY3Rpb24gfHwgKEluZGVudEFjdGlvbiA9IHt9KSk7XHJcbmV4cG9ydCB2YXIgSW5sYXlIaW50S2luZDtcclxuKGZ1bmN0aW9uIChJbmxheUhpbnRLaW5kKSB7XHJcbiAgICBJbmxheUhpbnRLaW5kW0lubGF5SGludEtpbmRbXCJPdGhlclwiXSA9IDBdID0gXCJPdGhlclwiO1xyXG4gICAgSW5sYXlIaW50S2luZFtJbmxheUhpbnRLaW5kW1wiVHlwZVwiXSA9IDFdID0gXCJUeXBlXCI7XHJcbiAgICBJbmxheUhpbnRLaW5kW0lubGF5SGludEtpbmRbXCJQYXJhbWV0ZXJcIl0gPSAyXSA9IFwiUGFyYW1ldGVyXCI7XHJcbn0pKElubGF5SGludEtpbmQgfHwgKElubGF5SGludEtpbmQgPSB7fSkpO1xyXG4vKipcclxuICogSG93IGFuIHtAbGluayBJbmxpbmVDb21wbGV0aW9uc1Byb3ZpZGVyIGlubGluZSBjb21wbGV0aW9uIHByb3ZpZGVyfSB3YXMgdHJpZ2dlcmVkLlxyXG4gKi9cclxuZXhwb3J0IHZhciBJbmxpbmVDb21wbGV0aW9uVHJpZ2dlcktpbmQ7XHJcbihmdW5jdGlvbiAoSW5saW5lQ29tcGxldGlvblRyaWdnZXJLaW5kKSB7XHJcbiAgICAvKipcclxuICAgICAqIENvbXBsZXRpb24gd2FzIHRyaWdnZXJlZCBhdXRvbWF0aWNhbGx5IHdoaWxlIGVkaXRpbmcuXHJcbiAgICAgKiBJdCBpcyBzdWZmaWNpZW50IHRvIHJldHVybiBhIHNpbmdsZSBjb21wbGV0aW9uIGl0ZW0gaW4gdGhpcyBjYXNlLlxyXG4gICAgICovXHJcbiAgICBJbmxpbmVDb21wbGV0aW9uVHJpZ2dlcktpbmRbSW5saW5lQ29tcGxldGlvblRyaWdnZXJLaW5kW1wiQXV0b21hdGljXCJdID0gMF0gPSBcIkF1dG9tYXRpY1wiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wbGV0aW9uIHdhcyB0cmlnZ2VyZWQgZXhwbGljaXRseSBieSBhIHVzZXIgZ2VzdHVyZS5cclxuICAgICAqIFJldHVybiBtdWx0aXBsZSBjb21wbGV0aW9uIGl0ZW1zIHRvIGVuYWJsZSBjeWNsaW5nIHRocm91Z2ggdGhlbS5cclxuICAgICAqL1xyXG4gICAgSW5saW5lQ29tcGxldGlvblRyaWdnZXJLaW5kW0lubGluZUNvbXBsZXRpb25UcmlnZ2VyS2luZFtcIkV4cGxpY2l0XCJdID0gMV0gPSBcIkV4cGxpY2l0XCI7XHJcbn0pKElubGluZUNvbXBsZXRpb25UcmlnZ2VyS2luZCB8fCAoSW5saW5lQ29tcGxldGlvblRyaWdnZXJLaW5kID0ge30pKTtcclxuLyoqXHJcbiAqIFZpcnR1YWwgS2V5IENvZGVzLCB0aGUgdmFsdWUgZG9lcyBub3QgaG9sZCBhbnkgaW5oZXJlbnQgbWVhbmluZy5cclxuICogSW5zcGlyZWQgc29tZXdoYXQgZnJvbSBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3dpbmRvd3MvZGVza3RvcC9kZDM3NTczMSh2PXZzLjg1KS5hc3B4XHJcbiAqIEJ1dCB0aGVzZSBhcmUgXCJtb3JlIGdlbmVyYWxcIiwgYXMgdGhleSBzaG91bGQgd29yayBhY3Jvc3MgYnJvd3NlcnMgJiBPU2BzLlxyXG4gKi9cclxuZXhwb3J0IHZhciBLZXlDb2RlO1xyXG4oZnVuY3Rpb24gKEtleUNvZGUpIHtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkRlcGVuZHNPbktiTGF5b3V0XCJdID0gLTFdID0gXCJEZXBlbmRzT25LYkxheW91dFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBQbGFjZWQgZmlyc3QgdG8gY292ZXIgdGhlIDAgdmFsdWUgb2YgdGhlIGVudW0uXHJcbiAgICAgKi9cclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVua25vd25cIl0gPSAwXSA9IFwiVW5rbm93blwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQmFja3NwYWNlXCJdID0gMV0gPSBcIkJhY2tzcGFjZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVGFiXCJdID0gMl0gPSBcIlRhYlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRW50ZXJcIl0gPSAzXSA9IFwiRW50ZXJcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlNoaWZ0XCJdID0gNF0gPSBcIlNoaWZ0XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDdHJsXCJdID0gNV0gPSBcIkN0cmxcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkFsdFwiXSA9IDZdID0gXCJBbHRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlBhdXNlQnJlYWtcIl0gPSA3XSA9IFwiUGF1c2VCcmVha1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQ2Fwc0xvY2tcIl0gPSA4XSA9IFwiQ2Fwc0xvY2tcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkVzY2FwZVwiXSA9IDldID0gXCJFc2NhcGVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlNwYWNlXCJdID0gMTBdID0gXCJTcGFjZVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUGFnZVVwXCJdID0gMTFdID0gXCJQYWdlVXBcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlBhZ2VEb3duXCJdID0gMTJdID0gXCJQYWdlRG93blwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRW5kXCJdID0gMTNdID0gXCJFbmRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkhvbWVcIl0gPSAxNF0gPSBcIkhvbWVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkxlZnRBcnJvd1wiXSA9IDE1XSA9IFwiTGVmdEFycm93XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVcEFycm93XCJdID0gMTZdID0gXCJVcEFycm93XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJSaWdodEFycm93XCJdID0gMTddID0gXCJSaWdodEFycm93XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEb3duQXJyb3dcIl0gPSAxOF0gPSBcIkRvd25BcnJvd1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiSW5zZXJ0XCJdID0gMTldID0gXCJJbnNlcnRcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkRlbGV0ZVwiXSA9IDIwXSA9IFwiRGVsZXRlXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfMFwiXSA9IDIxXSA9IFwiS0VZXzBcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV8xXCJdID0gMjJdID0gXCJLRVlfMVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZXzJcIl0gPSAyM10gPSBcIktFWV8yXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfM1wiXSA9IDI0XSA9IFwiS0VZXzNcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV80XCJdID0gMjVdID0gXCJLRVlfNFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZXzVcIl0gPSAyNl0gPSBcIktFWV81XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfNlwiXSA9IDI3XSA9IFwiS0VZXzZcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV83XCJdID0gMjhdID0gXCJLRVlfN1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZXzhcIl0gPSAyOV0gPSBcIktFWV84XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfOVwiXSA9IDMwXSA9IFwiS0VZXzlcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV9BXCJdID0gMzFdID0gXCJLRVlfQVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0JcIl0gPSAzMl0gPSBcIktFWV9CXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfQ1wiXSA9IDMzXSA9IFwiS0VZX0NcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV9EXCJdID0gMzRdID0gXCJLRVlfRFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0VcIl0gPSAzNV0gPSBcIktFWV9FXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfRlwiXSA9IDM2XSA9IFwiS0VZX0ZcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV9HXCJdID0gMzddID0gXCJLRVlfR1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0hcIl0gPSAzOF0gPSBcIktFWV9IXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfSVwiXSA9IDM5XSA9IFwiS0VZX0lcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV9KXCJdID0gNDBdID0gXCJLRVlfSlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0tcIl0gPSA0MV0gPSBcIktFWV9LXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfTFwiXSA9IDQyXSA9IFwiS0VZX0xcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV9NXCJdID0gNDNdID0gXCJLRVlfTVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX05cIl0gPSA0NF0gPSBcIktFWV9OXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfT1wiXSA9IDQ1XSA9IFwiS0VZX09cIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV9QXCJdID0gNDZdID0gXCJLRVlfUFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1FcIl0gPSA0N10gPSBcIktFWV9RXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfUlwiXSA9IDQ4XSA9IFwiS0VZX1JcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV9TXCJdID0gNDldID0gXCJLRVlfU1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1RcIl0gPSA1MF0gPSBcIktFWV9UXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfVVwiXSA9IDUxXSA9IFwiS0VZX1VcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV9WXCJdID0gNTJdID0gXCJLRVlfVlwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1dcIl0gPSA1M10gPSBcIktFWV9XXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfWFwiXSA9IDU0XSA9IFwiS0VZX1hcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV9ZXCJdID0gNTVdID0gXCJLRVlfWVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1pcIl0gPSA1Nl0gPSBcIktFWV9aXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJNZXRhXCJdID0gNTddID0gXCJNZXRhXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDb250ZXh0TWVudVwiXSA9IDU4XSA9IFwiQ29udGV4dE1lbnVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxXCJdID0gNTldID0gXCJGMVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjJcIl0gPSA2MF0gPSBcIkYyXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGM1wiXSA9IDYxXSA9IFwiRjNcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY0XCJdID0gNjJdID0gXCJGNFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjVcIl0gPSA2M10gPSBcIkY1XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGNlwiXSA9IDY0XSA9IFwiRjZcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY3XCJdID0gNjVdID0gXCJGN1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjhcIl0gPSA2Nl0gPSBcIkY4XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGOVwiXSA9IDY3XSA9IFwiRjlcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxMFwiXSA9IDY4XSA9IFwiRjEwXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMTFcIl0gPSA2OV0gPSBcIkYxMVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjEyXCJdID0gNzBdID0gXCJGMTJcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxM1wiXSA9IDcxXSA9IFwiRjEzXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMTRcIl0gPSA3Ml0gPSBcIkYxNFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjE1XCJdID0gNzNdID0gXCJGMTVcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxNlwiXSA9IDc0XSA9IFwiRjE2XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMTdcIl0gPSA3NV0gPSBcIkYxN1wiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjE4XCJdID0gNzZdID0gXCJGMThcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxOVwiXSA9IDc3XSA9IFwiRjE5XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1Mb2NrXCJdID0gNzhdID0gXCJOdW1Mb2NrXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTY3JvbGxMb2NrXCJdID0gNzldID0gXCJTY3JvbGxMb2NrXCI7XHJcbiAgICAvKipcclxuICAgICAqIFVzZWQgZm9yIG1pc2NlbGxhbmVvdXMgY2hhcmFjdGVyczsgaXQgY2FuIHZhcnkgYnkga2V5Ym9hcmQuXHJcbiAgICAgKiBGb3IgdGhlIFVTIHN0YW5kYXJkIGtleWJvYXJkLCB0aGUgJzs6JyBrZXlcclxuICAgICAqL1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVVNfU0VNSUNPTE9OXCJdID0gODBdID0gXCJVU19TRU1JQ09MT05cIjtcclxuICAgIC8qKlxyXG4gICAgICogRm9yIGFueSBjb3VudHJ5L3JlZ2lvbiwgdGhlICcrJyBrZXlcclxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnPSsnIGtleVxyXG4gICAgICovXHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVU19FUVVBTFwiXSA9IDgxXSA9IFwiVVNfRVFVQUxcIjtcclxuICAgIC8qKlxyXG4gICAgICogRm9yIGFueSBjb3VudHJ5L3JlZ2lvbiwgdGhlICcsJyBrZXlcclxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnLDwnIGtleVxyXG4gICAgICovXHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVU19DT01NQVwiXSA9IDgyXSA9IFwiVVNfQ09NTUFcIjtcclxuICAgIC8qKlxyXG4gICAgICogRm9yIGFueSBjb3VudHJ5L3JlZ2lvbiwgdGhlICctJyBrZXlcclxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnLV8nIGtleVxyXG4gICAgICovXHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVU19NSU5VU1wiXSA9IDgzXSA9IFwiVVNfTUlOVVNcIjtcclxuICAgIC8qKlxyXG4gICAgICogRm9yIGFueSBjb3VudHJ5L3JlZ2lvbiwgdGhlICcuJyBrZXlcclxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnLj4nIGtleVxyXG4gICAgICovXHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVU19ET1RcIl0gPSA4NF0gPSBcIlVTX0RPVFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBVc2VkIGZvciBtaXNjZWxsYW5lb3VzIGNoYXJhY3RlcnM7IGl0IGNhbiB2YXJ5IGJ5IGtleWJvYXJkLlxyXG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICcvPycga2V5XHJcbiAgICAgKi9cclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVTX1NMQVNIXCJdID0gODVdID0gXCJVU19TTEFTSFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBVc2VkIGZvciBtaXNjZWxsYW5lb3VzIGNoYXJhY3RlcnM7IGl0IGNhbiB2YXJ5IGJ5IGtleWJvYXJkLlxyXG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICdgficga2V5XHJcbiAgICAgKi9cclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVTX0JBQ0tUSUNLXCJdID0gODZdID0gXCJVU19CQUNLVElDS1wiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBVc2VkIGZvciBtaXNjZWxsYW5lb3VzIGNoYXJhY3RlcnM7IGl0IGNhbiB2YXJ5IGJ5IGtleWJvYXJkLlxyXG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICdbeycga2V5XHJcbiAgICAgKi9cclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVTX09QRU5fU1FVQVJFX0JSQUNLRVRcIl0gPSA4N10gPSBcIlVTX09QRU5fU1FVQVJFX0JSQUNLRVRcIjtcclxuICAgIC8qKlxyXG4gICAgICogVXNlZCBmb3IgbWlzY2VsbGFuZW91cyBjaGFyYWN0ZXJzOyBpdCBjYW4gdmFyeSBieSBrZXlib2FyZC5cclxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnXFx8JyBrZXlcclxuICAgICAqL1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVVNfQkFDS1NMQVNIXCJdID0gODhdID0gXCJVU19CQUNLU0xBU0hcIjtcclxuICAgIC8qKlxyXG4gICAgICogVXNlZCBmb3IgbWlzY2VsbGFuZW91cyBjaGFyYWN0ZXJzOyBpdCBjYW4gdmFyeSBieSBrZXlib2FyZC5cclxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnXX0nIGtleVxyXG4gICAgICovXHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVU19DTE9TRV9TUVVBUkVfQlJBQ0tFVFwiXSA9IDg5XSA9IFwiVVNfQ0xPU0VfU1FVQVJFX0JSQUNLRVRcIjtcclxuICAgIC8qKlxyXG4gICAgICogVXNlZCBmb3IgbWlzY2VsbGFuZW91cyBjaGFyYWN0ZXJzOyBpdCBjYW4gdmFyeSBieSBrZXlib2FyZC5cclxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnJ1wiJyBrZXlcclxuICAgICAqL1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVVNfUVVPVEVcIl0gPSA5MF0gPSBcIlVTX1FVT1RFXCI7XHJcbiAgICAvKipcclxuICAgICAqIFVzZWQgZm9yIG1pc2NlbGxhbmVvdXMgY2hhcmFjdGVyczsgaXQgY2FuIHZhcnkgYnkga2V5Ym9hcmQuXHJcbiAgICAgKi9cclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk9FTV84XCJdID0gOTFdID0gXCJPRU1fOFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBFaXRoZXIgdGhlIGFuZ2xlIGJyYWNrZXQga2V5IG9yIHRoZSBiYWNrc2xhc2gga2V5IG9uIHRoZSBSVCAxMDIta2V5IGtleWJvYXJkLlxyXG4gICAgICovXHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJPRU1fMTAyXCJdID0gOTJdID0gXCJPRU1fMTAyXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfMFwiXSA9IDkzXSA9IFwiTlVNUEFEXzBcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF8xXCJdID0gOTRdID0gXCJOVU1QQURfMVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTlVNUEFEXzJcIl0gPSA5NV0gPSBcIk5VTVBBRF8yXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfM1wiXSA9IDk2XSA9IFwiTlVNUEFEXzNcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF80XCJdID0gOTddID0gXCJOVU1QQURfNFwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTlVNUEFEXzVcIl0gPSA5OF0gPSBcIk5VTVBBRF81XCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfNlwiXSA9IDk5XSA9IFwiTlVNUEFEXzZcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF83XCJdID0gMTAwXSA9IFwiTlVNUEFEXzdcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF84XCJdID0gMTAxXSA9IFwiTlVNUEFEXzhcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF85XCJdID0gMTAyXSA9IFwiTlVNUEFEXzlcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF9NVUxUSVBMWVwiXSA9IDEwM10gPSBcIk5VTVBBRF9NVUxUSVBMWVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTlVNUEFEX0FERFwiXSA9IDEwNF0gPSBcIk5VTVBBRF9BRERcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF9TRVBBUkFUT1JcIl0gPSAxMDVdID0gXCJOVU1QQURfU0VQQVJBVE9SXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfU1VCVFJBQ1RcIl0gPSAxMDZdID0gXCJOVU1QQURfU1VCVFJBQ1RcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF9ERUNJTUFMXCJdID0gMTA3XSA9IFwiTlVNUEFEX0RFQ0lNQUxcIjtcclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF9ESVZJREVcIl0gPSAxMDhdID0gXCJOVU1QQURfRElWSURFXCI7XHJcbiAgICAvKipcclxuICAgICAqIENvdmVyIGFsbCBrZXkgY29kZXMgd2hlbiBJTUUgaXMgcHJvY2Vzc2luZyBpbnB1dC5cclxuICAgICAqL1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0lOX0NPTVBPU0lUSU9OXCJdID0gMTA5XSA9IFwiS0VZX0lOX0NPTVBPU0lUSU9OXCI7XHJcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJBQk5UX0MxXCJdID0gMTEwXSA9IFwiQUJOVF9DMVwiO1xyXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQUJOVF9DMlwiXSA9IDExMV0gPSBcIkFCTlRfQzJcIjtcclxuICAgIC8qKlxyXG4gICAgICogUGxhY2VkIGxhc3QgdG8gY292ZXIgdGhlIGxlbmd0aCBvZiB0aGUgZW51bS5cclxuICAgICAqIFBsZWFzZSBkbyBub3QgZGVwZW5kIG9uIHRoaXMgdmFsdWUhXHJcbiAgICAgKi9cclxuICAgIEtleUNvZGVbS2V5Q29kZVtcIk1BWF9WQUxVRVwiXSA9IDExMl0gPSBcIk1BWF9WQUxVRVwiO1xyXG59KShLZXlDb2RlIHx8IChLZXlDb2RlID0ge30pKTtcclxuZXhwb3J0IHZhciBNYXJrZXJTZXZlcml0eTtcclxuKGZ1bmN0aW9uIChNYXJrZXJTZXZlcml0eSkge1xyXG4gICAgTWFya2VyU2V2ZXJpdHlbTWFya2VyU2V2ZXJpdHlbXCJIaW50XCJdID0gMV0gPSBcIkhpbnRcIjtcclxuICAgIE1hcmtlclNldmVyaXR5W01hcmtlclNldmVyaXR5W1wiSW5mb1wiXSA9IDJdID0gXCJJbmZvXCI7XHJcbiAgICBNYXJrZXJTZXZlcml0eVtNYXJrZXJTZXZlcml0eVtcIldhcm5pbmdcIl0gPSA0XSA9IFwiV2FybmluZ1wiO1xyXG4gICAgTWFya2VyU2V2ZXJpdHlbTWFya2VyU2V2ZXJpdHlbXCJFcnJvclwiXSA9IDhdID0gXCJFcnJvclwiO1xyXG59KShNYXJrZXJTZXZlcml0eSB8fCAoTWFya2VyU2V2ZXJpdHkgPSB7fSkpO1xyXG5leHBvcnQgdmFyIE1hcmtlclRhZztcclxuKGZ1bmN0aW9uIChNYXJrZXJUYWcpIHtcclxuICAgIE1hcmtlclRhZ1tNYXJrZXJUYWdbXCJVbm5lY2Vzc2FyeVwiXSA9IDFdID0gXCJVbm5lY2Vzc2FyeVwiO1xyXG4gICAgTWFya2VyVGFnW01hcmtlclRhZ1tcIkRlcHJlY2F0ZWRcIl0gPSAyXSA9IFwiRGVwcmVjYXRlZFwiO1xyXG59KShNYXJrZXJUYWcgfHwgKE1hcmtlclRhZyA9IHt9KSk7XHJcbi8qKlxyXG4gKiBQb3NpdGlvbiBpbiB0aGUgbWluaW1hcCB0byByZW5kZXIgdGhlIGRlY29yYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgdmFyIE1pbmltYXBQb3NpdGlvbjtcclxuKGZ1bmN0aW9uIChNaW5pbWFwUG9zaXRpb24pIHtcclxuICAgIE1pbmltYXBQb3NpdGlvbltNaW5pbWFwUG9zaXRpb25bXCJJbmxpbmVcIl0gPSAxXSA9IFwiSW5saW5lXCI7XHJcbiAgICBNaW5pbWFwUG9zaXRpb25bTWluaW1hcFBvc2l0aW9uW1wiR3V0dGVyXCJdID0gMl0gPSBcIkd1dHRlclwiO1xyXG59KShNaW5pbWFwUG9zaXRpb24gfHwgKE1pbmltYXBQb3NpdGlvbiA9IHt9KSk7XHJcbi8qKlxyXG4gKiBUeXBlIG9mIGhpdCBlbGVtZW50IHdpdGggdGhlIG1vdXNlIGluIHRoZSBlZGl0b3IuXHJcbiAqL1xyXG5leHBvcnQgdmFyIE1vdXNlVGFyZ2V0VHlwZTtcclxuKGZ1bmN0aW9uIChNb3VzZVRhcmdldFR5cGUpIHtcclxuICAgIC8qKlxyXG4gICAgICogTW91c2UgaXMgb24gdG9wIG9mIGFuIHVua25vd24gZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgTW91c2VUYXJnZXRUeXBlW01vdXNlVGFyZ2V0VHlwZVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNb3VzZSBpcyBvbiB0b3Agb2YgdGhlIHRleHRhcmVhIHVzZWQgZm9yIGlucHV0LlxyXG4gICAgICovXHJcbiAgICBNb3VzZVRhcmdldFR5cGVbTW91c2VUYXJnZXRUeXBlW1wiVEVYVEFSRUFcIl0gPSAxXSA9IFwiVEVYVEFSRUFcIjtcclxuICAgIC8qKlxyXG4gICAgICogTW91c2UgaXMgb24gdG9wIG9mIHRoZSBnbHlwaCBtYXJnaW5cclxuICAgICAqL1xyXG4gICAgTW91c2VUYXJnZXRUeXBlW01vdXNlVGFyZ2V0VHlwZVtcIkdVVFRFUl9HTFlQSF9NQVJHSU5cIl0gPSAyXSA9IFwiR1VUVEVSX0dMWVBIX01BUkdJTlwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNb3VzZSBpcyBvbiB0b3Agb2YgdGhlIGxpbmUgbnVtYmVyc1xyXG4gICAgICovXHJcbiAgICBNb3VzZVRhcmdldFR5cGVbTW91c2VUYXJnZXRUeXBlW1wiR1VUVEVSX0xJTkVfTlVNQkVSU1wiXSA9IDNdID0gXCJHVVRURVJfTElORV9OVU1CRVJTXCI7XHJcbiAgICAvKipcclxuICAgICAqIE1vdXNlIGlzIG9uIHRvcCBvZiB0aGUgbGluZSBkZWNvcmF0aW9uc1xyXG4gICAgICovXHJcbiAgICBNb3VzZVRhcmdldFR5cGVbTW91c2VUYXJnZXRUeXBlW1wiR1VUVEVSX0xJTkVfREVDT1JBVElPTlNcIl0gPSA0XSA9IFwiR1VUVEVSX0xJTkVfREVDT1JBVElPTlNcIjtcclxuICAgIC8qKlxyXG4gICAgICogTW91c2UgaXMgb24gdG9wIG9mIHRoZSB3aGl0ZXNwYWNlIGxlZnQgaW4gdGhlIGd1dHRlciBieSBhIHZpZXcgem9uZS5cclxuICAgICAqL1xyXG4gICAgTW91c2VUYXJnZXRUeXBlW01vdXNlVGFyZ2V0VHlwZVtcIkdVVFRFUl9WSUVXX1pPTkVcIl0gPSA1XSA9IFwiR1VUVEVSX1ZJRVdfWk9ORVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNb3VzZSBpcyBvbiB0b3Agb2YgdGV4dCBpbiB0aGUgY29udGVudC5cclxuICAgICAqL1xyXG4gICAgTW91c2VUYXJnZXRUeXBlW01vdXNlVGFyZ2V0VHlwZVtcIkNPTlRFTlRfVEVYVFwiXSA9IDZdID0gXCJDT05URU5UX1RFWFRcIjtcclxuICAgIC8qKlxyXG4gICAgICogTW91c2UgaXMgb24gdG9wIG9mIGVtcHR5IHNwYWNlIGluIHRoZSBjb250ZW50IChlLmcuIGFmdGVyIGxpbmUgdGV4dCBvciBiZWxvdyBsYXN0IGxpbmUpXHJcbiAgICAgKi9cclxuICAgIE1vdXNlVGFyZ2V0VHlwZVtNb3VzZVRhcmdldFR5cGVbXCJDT05URU5UX0VNUFRZXCJdID0gN10gPSBcIkNPTlRFTlRfRU1QVFlcIjtcclxuICAgIC8qKlxyXG4gICAgICogTW91c2UgaXMgb24gdG9wIG9mIGEgdmlldyB6b25lIGluIHRoZSBjb250ZW50LlxyXG4gICAgICovXHJcbiAgICBNb3VzZVRhcmdldFR5cGVbTW91c2VUYXJnZXRUeXBlW1wiQ09OVEVOVF9WSUVXX1pPTkVcIl0gPSA4XSA9IFwiQ09OVEVOVF9WSUVXX1pPTkVcIjtcclxuICAgIC8qKlxyXG4gICAgICogTW91c2UgaXMgb24gdG9wIG9mIGEgY29udGVudCB3aWRnZXQuXHJcbiAgICAgKi9cclxuICAgIE1vdXNlVGFyZ2V0VHlwZVtNb3VzZVRhcmdldFR5cGVbXCJDT05URU5UX1dJREdFVFwiXSA9IDldID0gXCJDT05URU5UX1dJREdFVFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNb3VzZSBpcyBvbiB0b3Agb2YgdGhlIGRlY29yYXRpb25zIG92ZXJ2aWV3IHJ1bGVyLlxyXG4gICAgICovXHJcbiAgICBNb3VzZVRhcmdldFR5cGVbTW91c2VUYXJnZXRUeXBlW1wiT1ZFUlZJRVdfUlVMRVJcIl0gPSAxMF0gPSBcIk9WRVJWSUVXX1JVTEVSXCI7XHJcbiAgICAvKipcclxuICAgICAqIE1vdXNlIGlzIG9uIHRvcCBvZiBhIHNjcm9sbGJhci5cclxuICAgICAqL1xyXG4gICAgTW91c2VUYXJnZXRUeXBlW01vdXNlVGFyZ2V0VHlwZVtcIlNDUk9MTEJBUlwiXSA9IDExXSA9IFwiU0NST0xMQkFSXCI7XHJcbiAgICAvKipcclxuICAgICAqIE1vdXNlIGlzIG9uIHRvcCBvZiBhbiBvdmVybGF5IHdpZGdldC5cclxuICAgICAqL1xyXG4gICAgTW91c2VUYXJnZXRUeXBlW01vdXNlVGFyZ2V0VHlwZVtcIk9WRVJMQVlfV0lER0VUXCJdID0gMTJdID0gXCJPVkVSTEFZX1dJREdFVFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNb3VzZSBpcyBvdXRzaWRlIG9mIHRoZSBlZGl0b3IuXHJcbiAgICAgKi9cclxuICAgIE1vdXNlVGFyZ2V0VHlwZVtNb3VzZVRhcmdldFR5cGVbXCJPVVRTSURFX0VESVRPUlwiXSA9IDEzXSA9IFwiT1VUU0lERV9FRElUT1JcIjtcclxufSkoTW91c2VUYXJnZXRUeXBlIHx8IChNb3VzZVRhcmdldFR5cGUgPSB7fSkpO1xyXG4vKipcclxuICogQSBwb3NpdGlvbmluZyBwcmVmZXJlbmNlIGZvciByZW5kZXJpbmcgb3ZlcmxheSB3aWRnZXRzLlxyXG4gKi9cclxuZXhwb3J0IHZhciBPdmVybGF5V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlO1xyXG4oZnVuY3Rpb24gKE92ZXJsYXlXaWRnZXRQb3NpdGlvblByZWZlcmVuY2UpIHtcclxuICAgIC8qKlxyXG4gICAgICogUG9zaXRpb24gdGhlIG92ZXJsYXkgd2lkZ2V0IGluIHRoZSB0b3AgcmlnaHQgY29ybmVyXHJcbiAgICAgKi9cclxuICAgIE92ZXJsYXlXaWRnZXRQb3NpdGlvblByZWZlcmVuY2VbT3ZlcmxheVdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZVtcIlRPUF9SSUdIVF9DT1JORVJcIl0gPSAwXSA9IFwiVE9QX1JJR0hUX0NPUk5FUlwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBQb3NpdGlvbiB0aGUgb3ZlcmxheSB3aWRnZXQgaW4gdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcclxuICAgICAqL1xyXG4gICAgT3ZlcmxheVdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZVtPdmVybGF5V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlW1wiQk9UVE9NX1JJR0hUX0NPUk5FUlwiXSA9IDFdID0gXCJCT1RUT01fUklHSFRfQ09STkVSXCI7XHJcbiAgICAvKipcclxuICAgICAqIFBvc2l0aW9uIHRoZSBvdmVybGF5IHdpZGdldCBpbiB0aGUgdG9wIGNlbnRlclxyXG4gICAgICovXHJcbiAgICBPdmVybGF5V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlW092ZXJsYXlXaWRnZXRQb3NpdGlvblByZWZlcmVuY2VbXCJUT1BfQ0VOVEVSXCJdID0gMl0gPSBcIlRPUF9DRU5URVJcIjtcclxufSkoT3ZlcmxheVdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZSB8fCAoT3ZlcmxheVdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBWZXJ0aWNhbCBMYW5lIGluIHRoZSBvdmVydmlldyBydWxlciBvZiB0aGUgZWRpdG9yLlxyXG4gKi9cclxuZXhwb3J0IHZhciBPdmVydmlld1J1bGVyTGFuZTtcclxuKGZ1bmN0aW9uIChPdmVydmlld1J1bGVyTGFuZSkge1xyXG4gICAgT3ZlcnZpZXdSdWxlckxhbmVbT3ZlcnZpZXdSdWxlckxhbmVbXCJMZWZ0XCJdID0gMV0gPSBcIkxlZnRcIjtcclxuICAgIE92ZXJ2aWV3UnVsZXJMYW5lW092ZXJ2aWV3UnVsZXJMYW5lW1wiQ2VudGVyXCJdID0gMl0gPSBcIkNlbnRlclwiO1xyXG4gICAgT3ZlcnZpZXdSdWxlckxhbmVbT3ZlcnZpZXdSdWxlckxhbmVbXCJSaWdodFwiXSA9IDRdID0gXCJSaWdodFwiO1xyXG4gICAgT3ZlcnZpZXdSdWxlckxhbmVbT3ZlcnZpZXdSdWxlckxhbmVbXCJGdWxsXCJdID0gN10gPSBcIkZ1bGxcIjtcclxufSkoT3ZlcnZpZXdSdWxlckxhbmUgfHwgKE92ZXJ2aWV3UnVsZXJMYW5lID0ge30pKTtcclxuZXhwb3J0IHZhciBSZW5kZXJMaW5lTnVtYmVyc1R5cGU7XHJcbihmdW5jdGlvbiAoUmVuZGVyTGluZU51bWJlcnNUeXBlKSB7XHJcbiAgICBSZW5kZXJMaW5lTnVtYmVyc1R5cGVbUmVuZGVyTGluZU51bWJlcnNUeXBlW1wiT2ZmXCJdID0gMF0gPSBcIk9mZlwiO1xyXG4gICAgUmVuZGVyTGluZU51bWJlcnNUeXBlW1JlbmRlckxpbmVOdW1iZXJzVHlwZVtcIk9uXCJdID0gMV0gPSBcIk9uXCI7XHJcbiAgICBSZW5kZXJMaW5lTnVtYmVyc1R5cGVbUmVuZGVyTGluZU51bWJlcnNUeXBlW1wiUmVsYXRpdmVcIl0gPSAyXSA9IFwiUmVsYXRpdmVcIjtcclxuICAgIFJlbmRlckxpbmVOdW1iZXJzVHlwZVtSZW5kZXJMaW5lTnVtYmVyc1R5cGVbXCJJbnRlcnZhbFwiXSA9IDNdID0gXCJJbnRlcnZhbFwiO1xyXG4gICAgUmVuZGVyTGluZU51bWJlcnNUeXBlW1JlbmRlckxpbmVOdW1iZXJzVHlwZVtcIkN1c3RvbVwiXSA9IDRdID0gXCJDdXN0b21cIjtcclxufSkoUmVuZGVyTGluZU51bWJlcnNUeXBlIHx8IChSZW5kZXJMaW5lTnVtYmVyc1R5cGUgPSB7fSkpO1xyXG5leHBvcnQgdmFyIFJlbmRlck1pbmltYXA7XHJcbihmdW5jdGlvbiAoUmVuZGVyTWluaW1hcCkge1xyXG4gICAgUmVuZGVyTWluaW1hcFtSZW5kZXJNaW5pbWFwW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XHJcbiAgICBSZW5kZXJNaW5pbWFwW1JlbmRlck1pbmltYXBbXCJUZXh0XCJdID0gMV0gPSBcIlRleHRcIjtcclxuICAgIFJlbmRlck1pbmltYXBbUmVuZGVyTWluaW1hcFtcIkJsb2Nrc1wiXSA9IDJdID0gXCJCbG9ja3NcIjtcclxufSkoUmVuZGVyTWluaW1hcCB8fCAoUmVuZGVyTWluaW1hcCA9IHt9KSk7XHJcbmV4cG9ydCB2YXIgU2Nyb2xsVHlwZTtcclxuKGZ1bmN0aW9uIChTY3JvbGxUeXBlKSB7XHJcbiAgICBTY3JvbGxUeXBlW1Njcm9sbFR5cGVbXCJTbW9vdGhcIl0gPSAwXSA9IFwiU21vb3RoXCI7XHJcbiAgICBTY3JvbGxUeXBlW1Njcm9sbFR5cGVbXCJJbW1lZGlhdGVcIl0gPSAxXSA9IFwiSW1tZWRpYXRlXCI7XHJcbn0pKFNjcm9sbFR5cGUgfHwgKFNjcm9sbFR5cGUgPSB7fSkpO1xyXG5leHBvcnQgdmFyIFNjcm9sbGJhclZpc2liaWxpdHk7XHJcbihmdW5jdGlvbiAoU2Nyb2xsYmFyVmlzaWJpbGl0eSkge1xyXG4gICAgU2Nyb2xsYmFyVmlzaWJpbGl0eVtTY3JvbGxiYXJWaXNpYmlsaXR5W1wiQXV0b1wiXSA9IDFdID0gXCJBdXRvXCI7XHJcbiAgICBTY3JvbGxiYXJWaXNpYmlsaXR5W1Njcm9sbGJhclZpc2liaWxpdHlbXCJIaWRkZW5cIl0gPSAyXSA9IFwiSGlkZGVuXCI7XHJcbiAgICBTY3JvbGxiYXJWaXNpYmlsaXR5W1Njcm9sbGJhclZpc2liaWxpdHlbXCJWaXNpYmxlXCJdID0gM10gPSBcIlZpc2libGVcIjtcclxufSkoU2Nyb2xsYmFyVmlzaWJpbGl0eSB8fCAoU2Nyb2xsYmFyVmlzaWJpbGl0eSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBUaGUgZGlyZWN0aW9uIG9mIGEgc2VsZWN0aW9uLlxyXG4gKi9cclxuZXhwb3J0IHZhciBTZWxlY3Rpb25EaXJlY3Rpb247XHJcbihmdW5jdGlvbiAoU2VsZWN0aW9uRGlyZWN0aW9uKSB7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBzZWxlY3Rpb24gc3RhcnRzIGFib3ZlIHdoZXJlIGl0IGVuZHMuXHJcbiAgICAgKi9cclxuICAgIFNlbGVjdGlvbkRpcmVjdGlvbltTZWxlY3Rpb25EaXJlY3Rpb25bXCJMVFJcIl0gPSAwXSA9IFwiTFRSXCI7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBzZWxlY3Rpb24gc3RhcnRzIGJlbG93IHdoZXJlIGl0IGVuZHMuXHJcbiAgICAgKi9cclxuICAgIFNlbGVjdGlvbkRpcmVjdGlvbltTZWxlY3Rpb25EaXJlY3Rpb25bXCJSVExcIl0gPSAxXSA9IFwiUlRMXCI7XHJcbn0pKFNlbGVjdGlvbkRpcmVjdGlvbiB8fCAoU2VsZWN0aW9uRGlyZWN0aW9uID0ge30pKTtcclxuZXhwb3J0IHZhciBTaWduYXR1cmVIZWxwVHJpZ2dlcktpbmQ7XHJcbihmdW5jdGlvbiAoU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kKSB7XHJcbiAgICBTaWduYXR1cmVIZWxwVHJpZ2dlcktpbmRbU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kW1wiSW52b2tlXCJdID0gMV0gPSBcIkludm9rZVwiO1xyXG4gICAgU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kW1NpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZFtcIlRyaWdnZXJDaGFyYWN0ZXJcIl0gPSAyXSA9IFwiVHJpZ2dlckNoYXJhY3RlclwiO1xyXG4gICAgU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kW1NpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZFtcIkNvbnRlbnRDaGFuZ2VcIl0gPSAzXSA9IFwiQ29udGVudENoYW5nZVwiO1xyXG59KShTaWduYXR1cmVIZWxwVHJpZ2dlcktpbmQgfHwgKFNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZCA9IHt9KSk7XHJcbi8qKlxyXG4gKiBBIHN5bWJvbCBraW5kLlxyXG4gKi9cclxuZXhwb3J0IHZhciBTeW1ib2xLaW5kO1xyXG4oZnVuY3Rpb24gKFN5bWJvbEtpbmQpIHtcclxuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIkZpbGVcIl0gPSAwXSA9IFwiRmlsZVwiO1xyXG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiTW9kdWxlXCJdID0gMV0gPSBcIk1vZHVsZVwiO1xyXG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiTmFtZXNwYWNlXCJdID0gMl0gPSBcIk5hbWVzcGFjZVwiO1xyXG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiUGFja2FnZVwiXSA9IDNdID0gXCJQYWNrYWdlXCI7XHJcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJDbGFzc1wiXSA9IDRdID0gXCJDbGFzc1wiO1xyXG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiTWV0aG9kXCJdID0gNV0gPSBcIk1ldGhvZFwiO1xyXG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiUHJvcGVydHlcIl0gPSA2XSA9IFwiUHJvcGVydHlcIjtcclxuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIkZpZWxkXCJdID0gN10gPSBcIkZpZWxkXCI7XHJcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJDb25zdHJ1Y3RvclwiXSA9IDhdID0gXCJDb25zdHJ1Y3RvclwiO1xyXG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiRW51bVwiXSA9IDldID0gXCJFbnVtXCI7XHJcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJJbnRlcmZhY2VcIl0gPSAxMF0gPSBcIkludGVyZmFjZVwiO1xyXG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiRnVuY3Rpb25cIl0gPSAxMV0gPSBcIkZ1bmN0aW9uXCI7XHJcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJWYXJpYWJsZVwiXSA9IDEyXSA9IFwiVmFyaWFibGVcIjtcclxuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIkNvbnN0YW50XCJdID0gMTNdID0gXCJDb25zdGFudFwiO1xyXG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiU3RyaW5nXCJdID0gMTRdID0gXCJTdHJpbmdcIjtcclxuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIk51bWJlclwiXSA9IDE1XSA9IFwiTnVtYmVyXCI7XHJcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJCb29sZWFuXCJdID0gMTZdID0gXCJCb29sZWFuXCI7XHJcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJBcnJheVwiXSA9IDE3XSA9IFwiQXJyYXlcIjtcclxuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIk9iamVjdFwiXSA9IDE4XSA9IFwiT2JqZWN0XCI7XHJcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJLZXlcIl0gPSAxOV0gPSBcIktleVwiO1xyXG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiTnVsbFwiXSA9IDIwXSA9IFwiTnVsbFwiO1xyXG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiRW51bU1lbWJlclwiXSA9IDIxXSA9IFwiRW51bU1lbWJlclwiO1xyXG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiU3RydWN0XCJdID0gMjJdID0gXCJTdHJ1Y3RcIjtcclxuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIkV2ZW50XCJdID0gMjNdID0gXCJFdmVudFwiO1xyXG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiT3BlcmF0b3JcIl0gPSAyNF0gPSBcIk9wZXJhdG9yXCI7XHJcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJUeXBlUGFyYW1ldGVyXCJdID0gMjVdID0gXCJUeXBlUGFyYW1ldGVyXCI7XHJcbn0pKFN5bWJvbEtpbmQgfHwgKFN5bWJvbEtpbmQgPSB7fSkpO1xyXG5leHBvcnQgdmFyIFN5bWJvbFRhZztcclxuKGZ1bmN0aW9uIChTeW1ib2xUYWcpIHtcclxuICAgIFN5bWJvbFRhZ1tTeW1ib2xUYWdbXCJEZXByZWNhdGVkXCJdID0gMV0gPSBcIkRlcHJlY2F0ZWRcIjtcclxufSkoU3ltYm9sVGFnIHx8IChTeW1ib2xUYWcgPSB7fSkpO1xyXG4vKipcclxuICogVGhlIGtpbmQgb2YgYW5pbWF0aW9uIGluIHdoaWNoIHRoZSBlZGl0b3IncyBjdXJzb3Igc2hvdWxkIGJlIHJlbmRlcmVkLlxyXG4gKi9cclxuZXhwb3J0IHZhciBUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZTtcclxuKGZ1bmN0aW9uIChUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZSkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRkZW5cclxuICAgICAqL1xyXG4gICAgVGV4dEVkaXRvckN1cnNvckJsaW5raW5nU3R5bGVbVGV4dEVkaXRvckN1cnNvckJsaW5raW5nU3R5bGVbXCJIaWRkZW5cIl0gPSAwXSA9IFwiSGlkZGVuXCI7XHJcbiAgICAvKipcclxuICAgICAqIEJsaW5raW5nXHJcbiAgICAgKi9cclxuICAgIFRleHRFZGl0b3JDdXJzb3JCbGlua2luZ1N0eWxlW1RleHRFZGl0b3JDdXJzb3JCbGlua2luZ1N0eWxlW1wiQmxpbmtcIl0gPSAxXSA9IFwiQmxpbmtcIjtcclxuICAgIC8qKlxyXG4gICAgICogQmxpbmtpbmcgd2l0aCBzbW9vdGggZmFkaW5nXHJcbiAgICAgKi9cclxuICAgIFRleHRFZGl0b3JDdXJzb3JCbGlua2luZ1N0eWxlW1RleHRFZGl0b3JDdXJzb3JCbGlua2luZ1N0eWxlW1wiU21vb3RoXCJdID0gMl0gPSBcIlNtb290aFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBCbGlua2luZyB3aXRoIHByb2xvbmdlZCBmaWxsZWQgc3RhdGUgYW5kIHNtb290aCBmYWRpbmdcclxuICAgICAqL1xyXG4gICAgVGV4dEVkaXRvckN1cnNvckJsaW5raW5nU3R5bGVbVGV4dEVkaXRvckN1cnNvckJsaW5raW5nU3R5bGVbXCJQaGFzZVwiXSA9IDNdID0gXCJQaGFzZVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBFeHBhbmQgY29sbGFwc2UgYW5pbWF0aW9uIG9uIHRoZSB5IGF4aXNcclxuICAgICAqL1xyXG4gICAgVGV4dEVkaXRvckN1cnNvckJsaW5raW5nU3R5bGVbVGV4dEVkaXRvckN1cnNvckJsaW5raW5nU3R5bGVbXCJFeHBhbmRcIl0gPSA0XSA9IFwiRXhwYW5kXCI7XHJcbiAgICAvKipcclxuICAgICAqIE5vLUJsaW5raW5nXHJcbiAgICAgKi9cclxuICAgIFRleHRFZGl0b3JDdXJzb3JCbGlua2luZ1N0eWxlW1RleHRFZGl0b3JDdXJzb3JCbGlua2luZ1N0eWxlW1wiU29saWRcIl0gPSA1XSA9IFwiU29saWRcIjtcclxufSkoVGV4dEVkaXRvckN1cnNvckJsaW5raW5nU3R5bGUgfHwgKFRleHRFZGl0b3JDdXJzb3JCbGlua2luZ1N0eWxlID0ge30pKTtcclxuLyoqXHJcbiAqIFRoZSBzdHlsZSBpbiB3aGljaCB0aGUgZWRpdG9yJ3MgY3Vyc29yIHNob3VsZCBiZSByZW5kZXJlZC5cclxuICovXHJcbmV4cG9ydCB2YXIgVGV4dEVkaXRvckN1cnNvclN0eWxlO1xyXG4oZnVuY3Rpb24gKFRleHRFZGl0b3JDdXJzb3JTdHlsZSkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBBcyBhIHZlcnRpY2FsIGxpbmUgKHNpdHRpbmcgYmV0d2VlbiB0d28gY2hhcmFjdGVycykuXHJcbiAgICAgKi9cclxuICAgIFRleHRFZGl0b3JDdXJzb3JTdHlsZVtUZXh0RWRpdG9yQ3Vyc29yU3R5bGVbXCJMaW5lXCJdID0gMV0gPSBcIkxpbmVcIjtcclxuICAgIC8qKlxyXG4gICAgICogQXMgYSBibG9jayAoc2l0dGluZyBvbiB0b3Agb2YgYSBjaGFyYWN0ZXIpLlxyXG4gICAgICovXHJcbiAgICBUZXh0RWRpdG9yQ3Vyc29yU3R5bGVbVGV4dEVkaXRvckN1cnNvclN0eWxlW1wiQmxvY2tcIl0gPSAyXSA9IFwiQmxvY2tcIjtcclxuICAgIC8qKlxyXG4gICAgICogQXMgYSBob3Jpem9udGFsIGxpbmUgKHNpdHRpbmcgdW5kZXIgYSBjaGFyYWN0ZXIpLlxyXG4gICAgICovXHJcbiAgICBUZXh0RWRpdG9yQ3Vyc29yU3R5bGVbVGV4dEVkaXRvckN1cnNvclN0eWxlW1wiVW5kZXJsaW5lXCJdID0gM10gPSBcIlVuZGVybGluZVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBBcyBhIHRoaW4gdmVydGljYWwgbGluZSAoc2l0dGluZyBiZXR3ZWVuIHR3byBjaGFyYWN0ZXJzKS5cclxuICAgICAqL1xyXG4gICAgVGV4dEVkaXRvckN1cnNvclN0eWxlW1RleHRFZGl0b3JDdXJzb3JTdHlsZVtcIkxpbmVUaGluXCJdID0gNF0gPSBcIkxpbmVUaGluXCI7XHJcbiAgICAvKipcclxuICAgICAqIEFzIGFuIG91dGxpbmVkIGJsb2NrIChzaXR0aW5nIG9uIHRvcCBvZiBhIGNoYXJhY3RlcikuXHJcbiAgICAgKi9cclxuICAgIFRleHRFZGl0b3JDdXJzb3JTdHlsZVtUZXh0RWRpdG9yQ3Vyc29yU3R5bGVbXCJCbG9ja091dGxpbmVcIl0gPSA1XSA9IFwiQmxvY2tPdXRsaW5lXCI7XHJcbiAgICAvKipcclxuICAgICAqIEFzIGEgdGhpbiBob3Jpem9udGFsIGxpbmUgKHNpdHRpbmcgdW5kZXIgYSBjaGFyYWN0ZXIpLlxyXG4gICAgICovXHJcbiAgICBUZXh0RWRpdG9yQ3Vyc29yU3R5bGVbVGV4dEVkaXRvckN1cnNvclN0eWxlW1wiVW5kZXJsaW5lVGhpblwiXSA9IDZdID0gXCJVbmRlcmxpbmVUaGluXCI7XHJcbn0pKFRleHRFZGl0b3JDdXJzb3JTdHlsZSB8fCAoVGV4dEVkaXRvckN1cnNvclN0eWxlID0ge30pKTtcclxuLyoqXHJcbiAqIERlc2NyaWJlcyB0aGUgYmVoYXZpb3Igb2YgZGVjb3JhdGlvbnMgd2hlbiB0eXBpbmcvZWRpdGluZyBuZWFyIHRoZWlyIGVkZ2VzLlxyXG4gKiBOb3RlOiBQbGVhc2UgZG8gbm90IGVkaXQgdGhlIHZhbHVlcywgYXMgdGhleSB2ZXJ5IGNhcmVmdWxseSBtYXRjaCBgRGVjb3JhdGlvblJhbmdlQmVoYXZpb3JgXHJcbiAqL1xyXG5leHBvcnQgdmFyIFRyYWNrZWRSYW5nZVN0aWNraW5lc3M7XHJcbihmdW5jdGlvbiAoVHJhY2tlZFJhbmdlU3RpY2tpbmVzcykge1xyXG4gICAgVHJhY2tlZFJhbmdlU3RpY2tpbmVzc1tUcmFja2VkUmFuZ2VTdGlja2luZXNzW1wiQWx3YXlzR3Jvd3NXaGVuVHlwaW5nQXRFZGdlc1wiXSA9IDBdID0gXCJBbHdheXNHcm93c1doZW5UeXBpbmdBdEVkZ2VzXCI7XHJcbiAgICBUcmFja2VkUmFuZ2VTdGlja2luZXNzW1RyYWNrZWRSYW5nZVN0aWNraW5lc3NbXCJOZXZlckdyb3dzV2hlblR5cGluZ0F0RWRnZXNcIl0gPSAxXSA9IFwiTmV2ZXJHcm93c1doZW5UeXBpbmdBdEVkZ2VzXCI7XHJcbiAgICBUcmFja2VkUmFuZ2VTdGlja2luZXNzW1RyYWNrZWRSYW5nZVN0aWNraW5lc3NbXCJHcm93c09ubHlXaGVuVHlwaW5nQmVmb3JlXCJdID0gMl0gPSBcIkdyb3dzT25seVdoZW5UeXBpbmdCZWZvcmVcIjtcclxuICAgIFRyYWNrZWRSYW5nZVN0aWNraW5lc3NbVHJhY2tlZFJhbmdlU3RpY2tpbmVzc1tcIkdyb3dzT25seVdoZW5UeXBpbmdBZnRlclwiXSA9IDNdID0gXCJHcm93c09ubHlXaGVuVHlwaW5nQWZ0ZXJcIjtcclxufSkoVHJhY2tlZFJhbmdlU3RpY2tpbmVzcyB8fCAoVHJhY2tlZFJhbmdlU3RpY2tpbmVzcyA9IHt9KSk7XHJcbi8qKlxyXG4gKiBEZXNjcmliZXMgaG93IHRvIGluZGVudCB3cmFwcGVkIGxpbmVzLlxyXG4gKi9cclxuZXhwb3J0IHZhciBXcmFwcGluZ0luZGVudDtcclxuKGZ1bmN0aW9uIChXcmFwcGluZ0luZGVudCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBObyBpbmRlbnRhdGlvbiA9PiB3cmFwcGVkIGxpbmVzIGJlZ2luIGF0IGNvbHVtbiAxLlxyXG4gICAgICovXHJcbiAgICBXcmFwcGluZ0luZGVudFtXcmFwcGluZ0luZGVudFtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTYW1lID0+IHdyYXBwZWQgbGluZXMgZ2V0IHRoZSBzYW1lIGluZGVudGF0aW9uIGFzIHRoZSBwYXJlbnQuXHJcbiAgICAgKi9cclxuICAgIFdyYXBwaW5nSW5kZW50W1dyYXBwaW5nSW5kZW50W1wiU2FtZVwiXSA9IDFdID0gXCJTYW1lXCI7XHJcbiAgICAvKipcclxuICAgICAqIEluZGVudCA9PiB3cmFwcGVkIGxpbmVzIGdldCArMSBpbmRlbnRhdGlvbiB0b3dhcmQgdGhlIHBhcmVudC5cclxuICAgICAqL1xyXG4gICAgV3JhcHBpbmdJbmRlbnRbV3JhcHBpbmdJbmRlbnRbXCJJbmRlbnRcIl0gPSAyXSA9IFwiSW5kZW50XCI7XHJcbiAgICAvKipcclxuICAgICAqIERlZXBJbmRlbnQgPT4gd3JhcHBlZCBsaW5lcyBnZXQgKzIgaW5kZW50YXRpb24gdG93YXJkIHRoZSBwYXJlbnQuXHJcbiAgICAgKi9cclxuICAgIFdyYXBwaW5nSW5kZW50W1dyYXBwaW5nSW5kZW50W1wiRGVlcEluZGVudFwiXSA9IDNdID0gXCJEZWVwSW5kZW50XCI7XHJcbn0pKFdyYXBwaW5nSW5kZW50IHx8IChXcmFwcGluZ0luZGVudCA9IHt9KSk7XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuaW1wb3J0IHsgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9jYW5jZWxsYXRpb24uanMnO1xyXG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZXZlbnQuanMnO1xyXG5pbXBvcnQgeyBLZXlDaG9yZCB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2tleUNvZGVzLmpzJztcclxuaW1wb3J0IHsgVVJJIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdXJpLmpzJztcclxuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tICcuLi9jb3JlL3Bvc2l0aW9uLmpzJztcclxuaW1wb3J0IHsgUmFuZ2UgfSBmcm9tICcuLi9jb3JlL3JhbmdlLmpzJztcclxuaW1wb3J0IHsgU2VsZWN0aW9uIH0gZnJvbSAnLi4vY29yZS9zZWxlY3Rpb24uanMnO1xyXG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJy4uL2NvcmUvdG9rZW4uanMnO1xyXG5pbXBvcnQgKiBhcyBzdGFuZGFsb25lRW51bXMgZnJvbSAnLi9zdGFuZGFsb25lRW51bXMuanMnO1xyXG5leHBvcnQgY2xhc3MgS2V5TW9kIHtcclxuICAgIHN0YXRpYyBjaG9yZChmaXJzdFBhcnQsIHNlY29uZFBhcnQpIHtcclxuICAgICAgICByZXR1cm4gS2V5Q2hvcmQoZmlyc3RQYXJ0LCBzZWNvbmRQYXJ0KTtcclxuICAgIH1cclxufVxyXG5LZXlNb2QuQ3RybENtZCA9IDIwNDggLyogQ3RybENtZCAqLztcclxuS2V5TW9kLlNoaWZ0ID0gMTAyNCAvKiBTaGlmdCAqLztcclxuS2V5TW9kLkFsdCA9IDUxMiAvKiBBbHQgKi87XHJcbktleU1vZC5XaW5DdHJsID0gMjU2IC8qIFdpbkN0cmwgKi87XHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNb25hY29CYXNlQVBJKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBlZGl0b3I6IHVuZGVmaW5lZCxcclxuICAgICAgICBsYW5ndWFnZXM6IHVuZGVmaW5lZCxcclxuICAgICAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZTogQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UsXHJcbiAgICAgICAgRW1pdHRlcjogRW1pdHRlcixcclxuICAgICAgICBLZXlDb2RlOiBzdGFuZGFsb25lRW51bXMuS2V5Q29kZSxcclxuICAgICAgICBLZXlNb2Q6IEtleU1vZCxcclxuICAgICAgICBQb3NpdGlvbjogUG9zaXRpb24sXHJcbiAgICAgICAgUmFuZ2U6IFJhbmdlLFxyXG4gICAgICAgIFNlbGVjdGlvbjogU2VsZWN0aW9uLFxyXG4gICAgICAgIFNlbGVjdGlvbkRpcmVjdGlvbjogc3RhbmRhbG9uZUVudW1zLlNlbGVjdGlvbkRpcmVjdGlvbixcclxuICAgICAgICBNYXJrZXJTZXZlcml0eTogc3RhbmRhbG9uZUVudW1zLk1hcmtlclNldmVyaXR5LFxyXG4gICAgICAgIE1hcmtlclRhZzogc3RhbmRhbG9uZUVudW1zLk1hcmtlclRhZyxcclxuICAgICAgICBVcmk6IFVSSSxcclxuICAgICAgICBUb2tlbjogVG9rZW5cclxuICAgIH07XHJcbn1cclxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbmltcG9ydCB7IHN0cmluZ0RpZmYgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9kaWZmL2RpZmYuanMnO1xyXG5pbXBvcnQgeyBnbG9iYWxzIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vcGxhdGZvcm0uanMnO1xyXG5pbXBvcnQgeyBVUkkgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi91cmkuanMnO1xyXG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4uL2NvcmUvcG9zaXRpb24uanMnO1xyXG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4uL2NvcmUvcmFuZ2UuanMnO1xyXG5pbXBvcnQgeyBEaWZmQ29tcHV0ZXIgfSBmcm9tICcuLi9kaWZmL2RpZmZDb21wdXRlci5qcyc7XHJcbmltcG9ydCB7IE1pcnJvclRleHRNb2RlbCBhcyBCYXNlTWlycm9yTW9kZWwgfSBmcm9tICcuLi9tb2RlbC9taXJyb3JUZXh0TW9kZWwuanMnO1xyXG5pbXBvcnQgeyBlbnN1cmVWYWxpZFdvcmREZWZpbml0aW9uLCBnZXRXb3JkQXRUZXh0IH0gZnJvbSAnLi4vbW9kZWwvd29yZEhlbHBlci5qcyc7XHJcbmltcG9ydCB7IGNvbXB1dGVMaW5rcyB9IGZyb20gJy4uL21vZGVzL2xpbmtDb21wdXRlci5qcyc7XHJcbmltcG9ydCB7IEJhc2ljSW5wbGFjZVJlcGxhY2UgfSBmcm9tICcuLi9tb2Rlcy9zdXBwb3J0cy9pbnBsYWNlUmVwbGFjZVN1cHBvcnQuanMnO1xyXG5pbXBvcnQgeyBjcmVhdGVNb25hY29CYXNlQVBJIH0gZnJvbSAnLi4vc3RhbmRhbG9uZS9zdGFuZGFsb25lQmFzZS5qcyc7XHJcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3R5cGVzLmpzJztcclxuaW1wb3J0IHsgU3RvcFdhdGNoIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vc3RvcHdhdGNoLmpzJztcclxuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuY2xhc3MgTWlycm9yTW9kZWwgZXh0ZW5kcyBCYXNlTWlycm9yTW9kZWwge1xyXG4gICAgZ2V0IHVyaSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXJpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGVvbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW9sO1xyXG4gICAgfVxyXG4gICAgZ2V0VmFsdWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGV4dCgpO1xyXG4gICAgfVxyXG4gICAgZ2V0TGluZXNDb250ZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lcy5zbGljZSgwKTtcclxuICAgIH1cclxuICAgIGdldExpbmVDb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGluZXMubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgZ2V0TGluZUNvbnRlbnQobGluZU51bWJlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lc1tsaW5lTnVtYmVyIC0gMV07XHJcbiAgICB9XHJcbiAgICBnZXRXb3JkQXRQb3NpdGlvbihwb3NpdGlvbiwgd29yZERlZmluaXRpb24pIHtcclxuICAgICAgICBsZXQgd29yZEF0VGV4dCA9IGdldFdvcmRBdFRleHQocG9zaXRpb24uY29sdW1uLCBlbnN1cmVWYWxpZFdvcmREZWZpbml0aW9uKHdvcmREZWZpbml0aW9uKSwgdGhpcy5fbGluZXNbcG9zaXRpb24ubGluZU51bWJlciAtIDFdLCAwKTtcclxuICAgICAgICBpZiAod29yZEF0VGV4dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHBvc2l0aW9uLmxpbmVOdW1iZXIsIHdvcmRBdFRleHQuc3RhcnRDb2x1bW4sIHBvc2l0aW9uLmxpbmVOdW1iZXIsIHdvcmRBdFRleHQuZW5kQ29sdW1uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICB3b3Jkcyh3b3JkRGVmaW5pdGlvbikge1xyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gdGhpcy5fbGluZXM7XHJcbiAgICAgICAgY29uc3Qgd29yZGVuaXplID0gdGhpcy5fd29yZGVuaXplLmJpbmQodGhpcyk7XHJcbiAgICAgICAgbGV0IGxpbmVOdW1iZXIgPSAwO1xyXG4gICAgICAgIGxldCBsaW5lVGV4dCA9ICcnO1xyXG4gICAgICAgIGxldCB3b3JkUmFuZ2VzSWR4ID0gMDtcclxuICAgICAgICBsZXQgd29yZFJhbmdlcyA9IFtdO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICpbU3ltYm9sLml0ZXJhdG9yXSgpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmRSYW5nZXNJZHggPCB3b3JkUmFuZ2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGxpbmVUZXh0LnN1YnN0cmluZyh3b3JkUmFuZ2VzW3dvcmRSYW5nZXNJZHhdLnN0YXJ0LCB3b3JkUmFuZ2VzW3dvcmRSYW5nZXNJZHhdLmVuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRSYW5nZXNJZHggKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZU51bWJlciA8IGxpbmVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVRleHQgPSBsaW5lc1tsaW5lTnVtYmVyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRSYW5nZXMgPSB3b3JkZW5pemUobGluZVRleHQsIHdvcmREZWZpbml0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRSYW5nZXNJZHggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZU51bWJlciArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZ2V0TGluZVdvcmRzKGxpbmVOdW1iZXIsIHdvcmREZWZpbml0aW9uKSB7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLl9saW5lc1tsaW5lTnVtYmVyIC0gMV07XHJcbiAgICAgICAgbGV0IHJhbmdlcyA9IHRoaXMuX3dvcmRlbml6ZShjb250ZW50LCB3b3JkRGVmaW5pdGlvbik7XHJcbiAgICAgICAgbGV0IHdvcmRzID0gW107XHJcbiAgICAgICAgZm9yIChjb25zdCByYW5nZSBvZiByYW5nZXMpIHtcclxuICAgICAgICAgICAgd29yZHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB3b3JkOiBjb250ZW50LnN1YnN0cmluZyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiByYW5nZS5zdGFydCArIDEsXHJcbiAgICAgICAgICAgICAgICBlbmRDb2x1bW46IHJhbmdlLmVuZCArIDFcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB3b3JkcztcclxuICAgIH1cclxuICAgIF93b3JkZW5pemUoY29udGVudCwgd29yZERlZmluaXRpb24pIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcclxuICAgICAgICBsZXQgbWF0Y2g7XHJcbiAgICAgICAgd29yZERlZmluaXRpb24ubGFzdEluZGV4ID0gMDsgLy8gcmVzZXQgbGFzdEluZGV4IGp1c3QgdG8gYmUgc3VyZVxyXG4gICAgICAgIHdoaWxlIChtYXRjaCA9IHdvcmREZWZpbml0aW9uLmV4ZWMoY29udGVudCkpIHtcclxuICAgICAgICAgICAgaWYgKG1hdGNoWzBdLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gaXQgZGlkIG1hdGNoIHRoZSBlbXB0eSBzdHJpbmdcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgc3RhcnQ6IG1hdGNoLmluZGV4LCBlbmQ6IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgZ2V0VmFsdWVJblJhbmdlKHJhbmdlKSB7XHJcbiAgICAgICAgcmFuZ2UgPSB0aGlzLl92YWxpZGF0ZVJhbmdlKHJhbmdlKTtcclxuICAgICAgICBpZiAocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID09PSByYW5nZS5lbmRMaW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lc1tyYW5nZS5zdGFydExpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnRDb2x1bW4gLSAxLCByYW5nZS5lbmRDb2x1bW4gLSAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGxpbmVFbmRpbmcgPSB0aGlzLl9lb2w7XHJcbiAgICAgICAgbGV0IHN0YXJ0TGluZUluZGV4ID0gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMTtcclxuICAgICAgICBsZXQgZW5kTGluZUluZGV4ID0gcmFuZ2UuZW5kTGluZU51bWJlciAtIDE7XHJcbiAgICAgICAgbGV0IHJlc3VsdExpbmVzID0gW107XHJcbiAgICAgICAgcmVzdWx0TGluZXMucHVzaCh0aGlzLl9saW5lc1tzdGFydExpbmVJbmRleF0uc3Vic3RyaW5nKHJhbmdlLnN0YXJ0Q29sdW1uIC0gMSkpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydExpbmVJbmRleCArIDE7IGkgPCBlbmRMaW5lSW5kZXg7IGkrKykge1xyXG4gICAgICAgICAgICByZXN1bHRMaW5lcy5wdXNoKHRoaXMuX2xpbmVzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzdWx0TGluZXMucHVzaCh0aGlzLl9saW5lc1tlbmRMaW5lSW5kZXhdLnN1YnN0cmluZygwLCByYW5nZS5lbmRDb2x1bW4gLSAxKSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdExpbmVzLmpvaW4obGluZUVuZGluZyk7XHJcbiAgICB9XHJcbiAgICBvZmZzZXRBdChwb3NpdGlvbikge1xyXG4gICAgICAgIHBvc2l0aW9uID0gdGhpcy5fdmFsaWRhdGVQb3NpdGlvbihwb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5fZW5zdXJlTGluZVN0YXJ0cygpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lU3RhcnRzLmdldEFjY3VtdWxhdGVkVmFsdWUocG9zaXRpb24ubGluZU51bWJlciAtIDIpICsgKHBvc2l0aW9uLmNvbHVtbiAtIDEpO1xyXG4gICAgfVxyXG4gICAgcG9zaXRpb25BdChvZmZzZXQpIHtcclxuICAgICAgICBvZmZzZXQgPSBNYXRoLmZsb29yKG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gTWF0aC5tYXgoMCwgb2Zmc2V0KTtcclxuICAgICAgICB0aGlzLl9lbnN1cmVMaW5lU3RhcnRzKCk7XHJcbiAgICAgICAgbGV0IG91dCA9IHRoaXMuX2xpbmVTdGFydHMuZ2V0SW5kZXhPZihvZmZzZXQpO1xyXG4gICAgICAgIGxldCBsaW5lTGVuZ3RoID0gdGhpcy5fbGluZXNbb3V0LmluZGV4XS5sZW5ndGg7XHJcbiAgICAgICAgLy8gRW5zdXJlIHdlIHJldHVybiBhIHZhbGlkIHBvc2l0aW9uXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGluZU51bWJlcjogMSArIG91dC5pbmRleCxcclxuICAgICAgICAgICAgY29sdW1uOiAxICsgTWF0aC5taW4ob3V0LnJlbWFpbmRlciwgbGluZUxlbmd0aClcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgX3ZhbGlkYXRlUmFuZ2UocmFuZ2UpIHtcclxuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuX3ZhbGlkYXRlUG9zaXRpb24oeyBsaW5lTnVtYmVyOiByYW5nZS5zdGFydExpbmVOdW1iZXIsIGNvbHVtbjogcmFuZ2Uuc3RhcnRDb2x1bW4gfSk7XHJcbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5fdmFsaWRhdGVQb3NpdGlvbih7IGxpbmVOdW1iZXI6IHJhbmdlLmVuZExpbmVOdW1iZXIsIGNvbHVtbjogcmFuZ2UuZW5kQ29sdW1uIH0pO1xyXG4gICAgICAgIGlmIChzdGFydC5saW5lTnVtYmVyICE9PSByYW5nZS5zdGFydExpbmVOdW1iZXJcclxuICAgICAgICAgICAgfHwgc3RhcnQuY29sdW1uICE9PSByYW5nZS5zdGFydENvbHVtblxyXG4gICAgICAgICAgICB8fCBlbmQubGluZU51bWJlciAhPT0gcmFuZ2UuZW5kTGluZU51bWJlclxyXG4gICAgICAgICAgICB8fCBlbmQuY29sdW1uICE9PSByYW5nZS5lbmRDb2x1bW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlcjogc3RhcnQubGluZU51bWJlcixcclxuICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBzdGFydC5jb2x1bW4sXHJcbiAgICAgICAgICAgICAgICBlbmRMaW5lTnVtYmVyOiBlbmQubGluZU51bWJlcixcclxuICAgICAgICAgICAgICAgIGVuZENvbHVtbjogZW5kLmNvbHVtblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmFuZ2U7XHJcbiAgICB9XHJcbiAgICBfdmFsaWRhdGVQb3NpdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIGlmICghUG9zaXRpb24uaXNJUG9zaXRpb24ocG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIHBvc2l0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB7IGxpbmVOdW1iZXIsIGNvbHVtbiB9ID0gcG9zaXRpb247XHJcbiAgICAgICAgbGV0IGhhc0NoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAobGluZU51bWJlciA8IDEpIHtcclxuICAgICAgICAgICAgbGluZU51bWJlciA9IDE7XHJcbiAgICAgICAgICAgIGNvbHVtbiA9IDE7XHJcbiAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsaW5lTnVtYmVyID4gdGhpcy5fbGluZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxpbmVOdW1iZXIgPSB0aGlzLl9saW5lcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuX2xpbmVzW2xpbmVOdW1iZXIgLSAxXS5sZW5ndGggKyAxO1xyXG4gICAgICAgICAgICBoYXNDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBtYXhDaGFyYWN0ZXIgPSB0aGlzLl9saW5lc1tsaW5lTnVtYmVyIC0gMV0ubGVuZ3RoICsgMTtcclxuICAgICAgICAgICAgaWYgKGNvbHVtbiA8IDEpIHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbiA9IDE7XHJcbiAgICAgICAgICAgICAgICBoYXNDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb2x1bW4gPiBtYXhDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbiA9IG1heENoYXJhY3RlcjtcclxuICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaGFzQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4geyBsaW5lTnVtYmVyLCBjb2x1bW4gfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEVkaXRvclNpbXBsZVdvcmtlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihob3N0LCBmb3JlaWduTW9kdWxlRmFjdG9yeSkge1xyXG4gICAgICAgIHRoaXMuX2hvc3QgPSBob3N0O1xyXG4gICAgICAgIHRoaXMuX21vZGVscyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICAgICAgdGhpcy5fZm9yZWlnbk1vZHVsZUZhY3RvcnkgPSBmb3JlaWduTW9kdWxlRmFjdG9yeTtcclxuICAgICAgICB0aGlzLl9mb3JlaWduTW9kdWxlID0gbnVsbDtcclxuICAgIH1cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fbW9kZWxzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIH1cclxuICAgIF9nZXRNb2RlbCh1cmkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbW9kZWxzW3VyaV07XHJcbiAgICB9XHJcbiAgICBfZ2V0TW9kZWxzKCkge1xyXG4gICAgICAgIGxldCBhbGwgPSBbXTtcclxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9tb2RlbHMpLmZvckVhY2goKGtleSkgPT4gYWxsLnB1c2godGhpcy5fbW9kZWxzW2tleV0pKTtcclxuICAgICAgICByZXR1cm4gYWxsO1xyXG4gICAgfVxyXG4gICAgYWNjZXB0TmV3TW9kZWwoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX21vZGVsc1tkYXRhLnVybF0gPSBuZXcgTWlycm9yTW9kZWwoVVJJLnBhcnNlKGRhdGEudXJsKSwgZGF0YS5saW5lcywgZGF0YS5FT0wsIGRhdGEudmVyc2lvbklkKTtcclxuICAgIH1cclxuICAgIGFjY2VwdE1vZGVsQ2hhbmdlZChzdHJVUkwsIGUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX21vZGVsc1tzdHJVUkxdKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5fbW9kZWxzW3N0clVSTF07XHJcbiAgICAgICAgbW9kZWwub25FdmVudHMoZSk7XHJcbiAgICB9XHJcbiAgICBhY2NlcHRSZW1vdmVkTW9kZWwoc3RyVVJMKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9tb2RlbHNbc3RyVVJMXSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9tb2RlbHNbc3RyVVJMXTtcclxuICAgIH1cclxuICAgIC8vIC0tLS0gQkVHSU4gZGlmZiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgY29tcHV0ZURpZmYob3JpZ2luYWxVcmwsIG1vZGlmaWVkVXJsLCBpZ25vcmVUcmltV2hpdGVzcGFjZSwgbWF4Q29tcHV0YXRpb25UaW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSB0aGlzLl9nZXRNb2RlbChvcmlnaW5hbFVybCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkID0gdGhpcy5fZ2V0TW9kZWwobW9kaWZpZWRVcmwpO1xyXG4gICAgICAgICAgICBpZiAoIW9yaWdpbmFsIHx8ICFtb2RpZmllZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxMaW5lcyA9IG9yaWdpbmFsLmdldExpbmVzQ29udGVudCgpO1xyXG4gICAgICAgICAgICBjb25zdCBtb2RpZmllZExpbmVzID0gbW9kaWZpZWQuZ2V0TGluZXNDb250ZW50KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpZmZDb21wdXRlciA9IG5ldyBEaWZmQ29tcHV0ZXIob3JpZ2luYWxMaW5lcywgbW9kaWZpZWRMaW5lcywge1xyXG4gICAgICAgICAgICAgICAgc2hvdWxkQ29tcHV0ZUNoYXJDaGFuZ2VzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2hvdWxkUG9zdFByb2Nlc3NDaGFyQ2hhbmdlczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlOiBpZ25vcmVUcmltV2hpdGVzcGFjZSxcclxuICAgICAgICAgICAgICAgIHNob3VsZE1ha2VQcmV0dHlEaWZmOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWF4Q29tcHV0YXRpb25UaW1lOiBtYXhDb21wdXRhdGlvblRpbWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpZmZSZXN1bHQgPSBkaWZmQ29tcHV0ZXIuY29tcHV0ZURpZmYoKTtcclxuICAgICAgICAgICAgY29uc3QgaWRlbnRpY2FsID0gKGRpZmZSZXN1bHQuY2hhbmdlcy5sZW5ndGggPiAwID8gZmFsc2UgOiB0aGlzLl9tb2RlbHNBcmVJZGVudGljYWwob3JpZ2luYWwsIG1vZGlmaWVkKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBxdWl0RWFybHk6IGRpZmZSZXN1bHQucXVpdEVhcmx5LFxyXG4gICAgICAgICAgICAgICAgaWRlbnRpY2FsOiBpZGVudGljYWwsXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiBkaWZmUmVzdWx0LmNoYW5nZXNcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9tb2RlbHNBcmVJZGVudGljYWwob3JpZ2luYWwsIG1vZGlmaWVkKSB7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxMaW5lQ291bnQgPSBvcmlnaW5hbC5nZXRMaW5lQ291bnQoKTtcclxuICAgICAgICBjb25zdCBtb2RpZmllZExpbmVDb3VudCA9IG1vZGlmaWVkLmdldExpbmVDb3VudCgpO1xyXG4gICAgICAgIGlmIChvcmlnaW5hbExpbmVDb3VudCAhPT0gbW9kaWZpZWRMaW5lQ291bnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBsaW5lID0gMTsgbGluZSA8PSBvcmlnaW5hbExpbmVDb3VudDsgbGluZSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsTGluZSA9IG9yaWdpbmFsLmdldExpbmVDb250ZW50KGxpbmUpO1xyXG4gICAgICAgICAgICBjb25zdCBtb2RpZmllZExpbmUgPSBtb2RpZmllZC5nZXRMaW5lQ29udGVudChsaW5lKTtcclxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsTGluZSAhPT0gbW9kaWZpZWRMaW5lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBjb21wdXRlTW9yZU1pbmltYWxFZGl0cyhtb2RlbFVybCwgZWRpdHMpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKG1vZGVsVXJsKTtcclxuICAgICAgICAgICAgaWYgKCFtb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVkaXRzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgbGFzdEVvbCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgZWRpdHMgPSBlZGl0cy5zbGljZSgwKS5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYS5yYW5nZSAmJiBiLnJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJhbmdlLmNvbXBhcmVSYW5nZXNVc2luZ1N0YXJ0cyhhLnJhbmdlLCBiLnJhbmdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGVvbCBvbmx5IGNoYW5nZXMgc2hvdWxkIGdvIHRvIHRoZSBlbmRcclxuICAgICAgICAgICAgICAgIGxldCBhUm5nID0gYS5yYW5nZSA/IDAgOiAxO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJSbmcgPSBiLnJhbmdlID8gMCA6IDE7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYVJuZyAtIGJSbmc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBmb3IgKGxldCB7IHJhbmdlLCB0ZXh0LCBlb2wgfSBvZiBlZGl0cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlb2wgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdEVvbCA9IGVvbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChSYW5nZS5pc0VtcHR5KHJhbmdlKSAmJiAhdGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5IGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSBtb2RlbC5nZXRWYWx1ZUluUmFuZ2UocmFuZ2UpO1xyXG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxyXFxufFxcbnxcXHIvZywgbW9kZWwuZW9sKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbCA9PT0gdGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vb3BcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBkaWZmIHdvbid0IHRha2UgdG9vIGxvbmdcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLm1heCh0ZXh0Lmxlbmd0aCwgb3JpZ2luYWwubGVuZ3RoKSA+IEVkaXRvclNpbXBsZVdvcmtlci5fZGlmZkxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyByYW5nZSwgdGV4dCB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGNvbXB1dGUgZGlmZiBiZXR3ZWVuIG9yaWdpbmFsIGFuZCBlZGl0LnRleHRcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSBzdHJpbmdEaWZmKG9yaWdpbmFsLCB0ZXh0LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlZGl0T2Zmc2V0ID0gbW9kZWwub2Zmc2V0QXQoUmFuZ2UubGlmdChyYW5nZSkuZ2V0U3RhcnRQb3NpdGlvbigpKTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2hhbmdlIG9mIGNoYW5nZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG1vZGVsLnBvc2l0aW9uQXQoZWRpdE9mZnNldCArIGNoYW5nZS5vcmlnaW5hbFN0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBtb2RlbC5wb3NpdGlvbkF0KGVkaXRPZmZzZXQgKyBjaGFuZ2Uub3JpZ2luYWxTdGFydCArIGNoYW5nZS5vcmlnaW5hbExlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RWRpdCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dC5zdWJzdHIoY2hhbmdlLm1vZGlmaWVkU3RhcnQsIGNoYW5nZS5tb2RpZmllZExlbmd0aCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiB7IHN0YXJ0TGluZU51bWJlcjogc3RhcnQubGluZU51bWJlciwgc3RhcnRDb2x1bW46IHN0YXJ0LmNvbHVtbiwgZW5kTGluZU51bWJlcjogZW5kLmxpbmVOdW1iZXIsIGVuZENvbHVtbjogZW5kLmNvbHVtbiB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuZ2V0VmFsdWVJblJhbmdlKG5ld0VkaXQucmFuZ2UpICE9PSBuZXdFZGl0LnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3RWRpdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGFzdEVvbCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgZW9sOiBsYXN0RW9sLCB0ZXh0OiAnJywgcmFuZ2U6IHsgc3RhcnRMaW5lTnVtYmVyOiAwLCBzdGFydENvbHVtbjogMCwgZW5kTGluZU51bWJlcjogMCwgZW5kQ29sdW1uOiAwIH0gfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIC0tLS0gRU5EIG1pbmltYWwgZWRpdHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBjb21wdXRlTGlua3MobW9kZWxVcmwpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBsZXQgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChtb2RlbFVybCk7XHJcbiAgICAgICAgICAgIGlmICghbW9kZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlTGlua3MobW9kZWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGV4dHVhbFN1Z2dlc3QobW9kZWxVcmxzLCBsZWFkaW5nV29yZCwgd29yZERlZiwgd29yZERlZkZsYWdzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3cgPSBuZXcgU3RvcFdhdGNoKHRydWUpO1xyXG4gICAgICAgICAgICBjb25zdCB3b3JkRGVmUmVnRXhwID0gbmV3IFJlZ0V4cCh3b3JkRGVmLCB3b3JkRGVmRmxhZ3MpO1xyXG4gICAgICAgICAgICBjb25zdCBzZWVuID0gbmV3IFNldCgpO1xyXG4gICAgICAgICAgICBvdXRlcjogZm9yIChsZXQgdXJsIG9mIG1vZGVsVXJscykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbCh1cmwpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgd29yZCBvZiBtb2RlbC53b3Jkcyh3b3JkRGVmUmVnRXhwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3b3JkID09PSBsZWFkaW5nV29yZCB8fCAhaXNOYU4oTnVtYmVyKHdvcmQpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2Vlbi5hZGQod29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlZW4uc2l6ZSA+IEVkaXRvclNpbXBsZVdvcmtlci5fc3VnZ2VzdGlvbnNMaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBvdXRlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHsgd29yZHM6IEFycmF5LmZyb20oc2VlbiksIGR1cmF0aW9uOiBzdy5lbGFwc2VkKCkgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIC0tLS0gRU5EIHN1Z2dlc3QgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIC8vI3JlZ2lvbiAtLSB3b3JkIHJhbmdlcyAtLVxyXG4gICAgY29tcHV0ZVdvcmRSYW5nZXMobW9kZWxVcmwsIHJhbmdlLCB3b3JkRGVmLCB3b3JkRGVmRmxhZ3MpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBsZXQgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChtb2RlbFVybCk7XHJcbiAgICAgICAgICAgIGlmICghbW9kZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHdvcmREZWZSZWdFeHAgPSBuZXcgUmVnRXhwKHdvcmREZWYsIHdvcmREZWZGbGFncyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGxpbmUgPSByYW5nZS5zdGFydExpbmVOdW1iZXI7IGxpbmUgPCByYW5nZS5lbmRMaW5lTnVtYmVyOyBsaW5lKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCB3b3JkcyA9IG1vZGVsLmdldExpbmVXb3JkcyhsaW5lLCB3b3JkRGVmUmVnRXhwKTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB3b3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oTnVtYmVyKHdvcmQud29yZCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgYXJyYXkgPSByZXN1bHRbd29yZC53b3JkXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFt3b3JkLndvcmRdID0gYXJyYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydExpbmVOdW1iZXI6IGxpbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiB3b3JkLnN0YXJ0Q29sdW1uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRMaW5lTnVtYmVyOiBsaW5lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRDb2x1bW46IHdvcmQuZW5kQ29sdW1uXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vI2VuZHJlZ2lvblxyXG4gICAgbmF2aWdhdGVWYWx1ZVNldChtb2RlbFVybCwgcmFuZ2UsIHVwLCB3b3JkRGVmLCB3b3JkRGVmRmxhZ3MpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBsZXQgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChtb2RlbFVybCk7XHJcbiAgICAgICAgICAgIGlmICghbW9kZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCB3b3JkRGVmUmVnRXhwID0gbmV3IFJlZ0V4cCh3b3JkRGVmLCB3b3JkRGVmRmxhZ3MpO1xyXG4gICAgICAgICAgICBpZiAocmFuZ2Uuc3RhcnRDb2x1bW4gPT09IHJhbmdlLmVuZENvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgcmFuZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRMaW5lTnVtYmVyOiByYW5nZS5zdGFydExpbmVOdW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRDb2x1bW46IHJhbmdlLnN0YXJ0Q29sdW1uLFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZExpbmVOdW1iZXI6IHJhbmdlLmVuZExpbmVOdW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kQ29sdW1uOiByYW5nZS5lbmRDb2x1bW4gKyAxXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3Rpb25UZXh0ID0gbW9kZWwuZ2V0VmFsdWVJblJhbmdlKHJhbmdlKTtcclxuICAgICAgICAgICAgbGV0IHdvcmRSYW5nZSA9IG1vZGVsLmdldFdvcmRBdFBvc2l0aW9uKHsgbGluZU51bWJlcjogcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCBjb2x1bW46IHJhbmdlLnN0YXJ0Q29sdW1uIH0sIHdvcmREZWZSZWdFeHApO1xyXG4gICAgICAgICAgICBpZiAoIXdvcmRSYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHdvcmQgPSBtb2RlbC5nZXRWYWx1ZUluUmFuZ2Uod29yZFJhbmdlKTtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IEJhc2ljSW5wbGFjZVJlcGxhY2UuSU5TVEFOQ0UubmF2aWdhdGVWYWx1ZVNldChyYW5nZSwgc2VsZWN0aW9uVGV4dCwgd29yZFJhbmdlLCB3b3JkLCB1cCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyAtLS0tIEJFR0lOIGZvcmVpZ24gbW9kdWxlIHN1cHBvcnQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIGxvYWRGb3JlaWduTW9kdWxlKG1vZHVsZUlkLCBjcmVhdGVEYXRhLCBmb3JlaWduSG9zdE1ldGhvZHMpIHtcclxuICAgICAgICBjb25zdCBwcm94eU1ldGhvZFJlcXVlc3QgPSAobWV0aG9kLCBhcmdzKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ob3N0LmZocihtZXRob2QsIGFyZ3MpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgZm9yZWlnbkhvc3QgPSB0eXBlcy5jcmVhdGVQcm94eU9iamVjdChmb3JlaWduSG9zdE1ldGhvZHMsIHByb3h5TWV0aG9kUmVxdWVzdCk7XHJcbiAgICAgICAgbGV0IGN0eCA9IHtcclxuICAgICAgICAgICAgaG9zdDogZm9yZWlnbkhvc3QsXHJcbiAgICAgICAgICAgIGdldE1pcnJvck1vZGVsczogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldE1vZGVscygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodGhpcy5fZm9yZWlnbk1vZHVsZUZhY3RvcnkpIHtcclxuICAgICAgICAgICAgdGhpcy5fZm9yZWlnbk1vZHVsZSA9IHRoaXMuX2ZvcmVpZ25Nb2R1bGVGYWN0b3J5KGN0eCwgY3JlYXRlRGF0YSk7XHJcbiAgICAgICAgICAgIC8vIHN0YXRpYyBmb3JlaW5nIG1vZHVsZVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHR5cGVzLmdldEFsbE1ldGhvZE5hbWVzKHRoaXMuX2ZvcmVpZ25Nb2R1bGUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRVNNLWNvbW1lbnQtYmVnaW5cclxuICAgICAgICAvLyBcdFx0cmV0dXJuIG5ldyBQcm9taXNlPGFueT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIC8vIFx0XHRcdHJlcXVpcmUoW21vZHVsZUlkXSwgKGZvcmVpZ25Nb2R1bGU6IHsgY3JlYXRlOiBJRm9yZWlnbk1vZHVsZUZhY3RvcnkgfSkgPT4ge1xyXG4gICAgICAgIC8vIFx0XHRcdFx0dGhpcy5fZm9yZWlnbk1vZHVsZSA9IGZvcmVpZ25Nb2R1bGUuY3JlYXRlKGN0eCwgY3JlYXRlRGF0YSk7XHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgLy8gXHRcdFx0XHRyZXNvbHZlKHR5cGVzLmdldEFsbE1ldGhvZE5hbWVzKHRoaXMuX2ZvcmVpZ25Nb2R1bGUpKTtcclxuICAgICAgICAvLyBcclxuICAgICAgICAvLyBcdFx0XHR9LCByZWplY3QpO1xyXG4gICAgICAgIC8vIFx0XHR9KTtcclxuICAgICAgICAvLyBFU00tY29tbWVudC1lbmRcclxuICAgICAgICAvLyBFU00tdW5jb21tZW50LWJlZ2luXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgVW5leHBlY3RlZCB1c2FnZWApKTtcclxuICAgICAgICAvLyBFU00tdW5jb21tZW50LWVuZFxyXG4gICAgfVxyXG4gICAgLy8gZm9yZWlnbiBtZXRob2QgcmVxdWVzdFxyXG4gICAgZm1yKG1ldGhvZCwgYXJncykge1xyXG4gICAgICAgIGlmICghdGhpcy5fZm9yZWlnbk1vZHVsZSB8fCB0eXBlb2YgdGhpcy5fZm9yZWlnbk1vZHVsZVttZXRob2RdICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWVzdEhhbmRsZXIgb3IgbWV0aG9kOiAnICsgbWV0aG9kKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fZm9yZWlnbk1vZHVsZVttZXRob2RdLmFwcGx5KHRoaXMuX2ZvcmVpZ25Nb2R1bGUsIGFyZ3MpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyAtLS0tIEVORCBkaWZmIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIC0tLS0gQkVHSU4gbWluaW1hbCBlZGl0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuRWRpdG9yU2ltcGxlV29ya2VyLl9kaWZmTGltaXQgPSAxMDAwMDA7XHJcbi8vIC0tLS0gQkVHSU4gc3VnZ2VzdCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5FZGl0b3JTaW1wbGVXb3JrZXIuX3N1Z2dlc3Rpb25zTGltaXQgPSAxMDAwMDtcclxuLyoqXHJcbiAqIENhbGxlZCBvbiB0aGUgd29ya2VyIHNpZGVcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGhvc3QpIHtcclxuICAgIHJldHVybiBuZXcgRWRpdG9yU2ltcGxlV29ya2VyKGhvc3QsIG51bGwpO1xyXG59XHJcbmlmICh0eXBlb2YgaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgLy8gUnVubmluZyBpbiBhIHdlYiB3b3JrZXJcclxuICAgIGdsb2JhbHMubW9uYWNvID0gY3JlYXRlTW9uYWNvQmFzZUFQSSgpO1xyXG59XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuaW1wb3J0IHsgU2ltcGxlV29ya2VyU2VydmVyIH0gZnJvbSAnLi4vYmFzZS9jb21tb24vd29ya2VyL3NpbXBsZVdvcmtlci5qcyc7XHJcbmltcG9ydCB7IEVkaXRvclNpbXBsZVdvcmtlciB9IGZyb20gJy4vY29tbW9uL3NlcnZpY2VzL2VkaXRvclNpbXBsZVdvcmtlci5qcyc7XHJcbmxldCBpbml0aWFsaXplZCA9IGZhbHNlO1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZShmb3JlaWduTW9kdWxlKSB7XHJcbiAgICBpZiAoaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICBjb25zdCBzaW1wbGVXb3JrZXIgPSBuZXcgU2ltcGxlV29ya2VyU2VydmVyKChtc2cpID0+IHtcclxuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKG1zZyk7XHJcbiAgICB9LCAoaG9zdCkgPT4gbmV3IEVkaXRvclNpbXBsZVdvcmtlcihob3N0LCBmb3JlaWduTW9kdWxlKSk7XHJcbiAgICBzZWxmLm9ubWVzc2FnZSA9IChlKSA9PiB7XHJcbiAgICAgICAgc2ltcGxlV29ya2VyLm9ubWVzc2FnZShlLmRhdGEpO1xyXG4gICAgfTtcclxufVxyXG5zZWxmLm9ubWVzc2FnZSA9IChlKSA9PiB7XHJcbiAgICAvLyBJZ25vcmUgZmlyc3QgbWVzc2FnZSBpbiB0aGlzIGNhc2UgYW5kIGluaXRpYWxpemUgaWYgbm90IHlldCBpbml0aWFsaXplZFxyXG4gICAgaWYgKCFpbml0aWFsaXplZCkge1xyXG4gICAgICAgIGluaXRpYWxpemUobnVsbCk7XHJcbiAgICB9XHJcbn07XHJcbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0Jztcbi8qKlxuICogQ3JlYXRlcyBhIEpTT04gc2Nhbm5lciBvbiB0aGUgZ2l2ZW4gdGV4dC5cbiAqIElmIGlnbm9yZVRyaXZpYSBpcyBzZXQsIHdoaXRlc3BhY2VzIG9yIGNvbW1lbnRzIGFyZSBpZ25vcmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2Nhbm5lcih0ZXh0LCBpZ25vcmVUcml2aWEpIHtcbiAgICBpZiAoaWdub3JlVHJpdmlhID09PSB2b2lkIDApIHsgaWdub3JlVHJpdmlhID0gZmFsc2U7IH1cbiAgICB2YXIgbGVuID0gdGV4dC5sZW5ndGg7XG4gICAgdmFyIHBvcyA9IDAsIHZhbHVlID0gJycsIHRva2VuT2Zmc2V0ID0gMCwgdG9rZW4gPSAxNiAvKiBVbmtub3duICovLCBsaW5lTnVtYmVyID0gMCwgbGluZVN0YXJ0T2Zmc2V0ID0gMCwgdG9rZW5MaW5lU3RhcnRPZmZzZXQgPSAwLCBwcmV2VG9rZW5MaW5lU3RhcnRPZmZzZXQgPSAwLCBzY2FuRXJyb3IgPSAwIC8qIE5vbmUgKi87XG4gICAgZnVuY3Rpb24gc2NhbkhleERpZ2l0cyhjb3VudCwgZXhhY3QpIHtcbiAgICAgICAgdmFyIGRpZ2l0cyA9IDA7XG4gICAgICAgIHZhciB2YWx1ZSA9IDA7XG4gICAgICAgIHdoaWxlIChkaWdpdHMgPCBjb3VudCB8fCAhZXhhY3QpIHtcbiAgICAgICAgICAgIHZhciBjaCA9IHRleHQuY2hhckNvZGVBdChwb3MpO1xuICAgICAgICAgICAgaWYgKGNoID49IDQ4IC8qIF8wICovICYmIGNoIDw9IDU3IC8qIF85ICovKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIDE2ICsgY2ggLSA0OCAvKiBfMCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID49IDY1IC8qIEEgKi8gJiYgY2ggPD0gNzAgLyogRiAqLykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKiAxNiArIGNoIC0gNjUgLyogQSAqLyArIDEwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPj0gOTcgLyogYSAqLyAmJiBjaCA8PSAxMDIgLyogZiAqLykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKiAxNiArIGNoIC0gOTcgLyogYSAqLyArIDEwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgIGRpZ2l0cysrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaWdpdHMgPCBjb3VudCkge1xuICAgICAgICAgICAgdmFsdWUgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFBvc2l0aW9uKG5ld1Bvc2l0aW9uKSB7XG4gICAgICAgIHBvcyA9IG5ld1Bvc2l0aW9uO1xuICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgICB0b2tlbk9mZnNldCA9IDA7XG4gICAgICAgIHRva2VuID0gMTYgLyogVW5rbm93biAqLztcbiAgICAgICAgc2NhbkVycm9yID0gMCAvKiBOb25lICovO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2FuTnVtYmVyKCkge1xuICAgICAgICB2YXIgc3RhcnQgPSBwb3M7XG4gICAgICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQocG9zKSA9PT0gNDggLyogXzAgKi8pIHtcbiAgICAgICAgICAgIHBvcysrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICB3aGlsZSAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zIDwgdGV4dC5sZW5ndGggJiYgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDQ2IC8qIGRvdCAqLykge1xuICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICBpZiAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICB3aGlsZSAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NhbkVycm9yID0gMyAvKiBVbmV4cGVjdGVkRW5kT2ZOdW1iZXIgKi87XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBwb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBlbmQgPSBwb3M7XG4gICAgICAgIGlmIChwb3MgPCB0ZXh0Lmxlbmd0aCAmJiAodGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDY5IC8qIEUgKi8gfHwgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDEwMSAvKiBlICovKSkge1xuICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICBpZiAocG9zIDwgdGV4dC5sZW5ndGggJiYgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDQzIC8qIHBsdXMgKi8gfHwgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDQ1IC8qIG1pbnVzICovKSB7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICB3aGlsZSAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVuZCA9IHBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjYW5FcnJvciA9IDMgLyogVW5leHBlY3RlZEVuZE9mTnVtYmVyICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NhblN0cmluZygpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnLCBzdGFydCA9IHBvcztcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGlmIChwb3MgPj0gbGVuKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBwb3MpO1xuICAgICAgICAgICAgICAgIHNjYW5FcnJvciA9IDIgLyogVW5leHBlY3RlZEVuZE9mU3RyaW5nICovO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoID0gdGV4dC5jaGFyQ29kZUF0KHBvcyk7XG4gICAgICAgICAgICBpZiAoY2ggPT09IDM0IC8qIGRvdWJsZVF1b3RlICovKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBwb3MpO1xuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoID09PSA5MiAvKiBiYWNrc2xhc2ggKi8pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIHBvcyk7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgaWYgKHBvcyA+PSBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgc2NhbkVycm9yID0gMiAvKiBVbmV4cGVjdGVkRW5kT2ZTdHJpbmcgKi87XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2gyID0gdGV4dC5jaGFyQ29kZUF0KHBvcysrKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGNoMikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM0IC8qIGRvdWJsZVF1b3RlICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXFwiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDkyIC8qIGJhY2tzbGFzaCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXFxcXCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0NyAvKiBzbGFzaCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnLyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OCAvKiBiICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXGInO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTAyIC8qIGYgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ1xcZic7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTAgLyogbiAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXFxuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExNCAvKiByICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXHInO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE2IC8qIHQgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ1xcdCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTcgLyogdSAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaDMgPSBzY2FuSGV4RGlnaXRzKDQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoMyA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2gzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYW5FcnJvciA9IDQgLyogSW52YWxpZFVuaWNvZGUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYW5FcnJvciA9IDUgLyogSW52YWxpZEVzY2FwZUNoYXJhY3RlciAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBwb3M7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2ggPj0gMCAmJiBjaCA8PSAweDFmKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTGluZUJyZWFrKGNoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIHBvcyk7XG4gICAgICAgICAgICAgICAgICAgIHNjYW5FcnJvciA9IDIgLyogVW5leHBlY3RlZEVuZE9mU3RyaW5nICovO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNjYW5FcnJvciA9IDYgLyogSW52YWxpZENoYXJhY3RlciAqLztcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFyayBhcyBlcnJvciBidXQgY29udGludWUgd2l0aCBzdHJpbmdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2FuTmV4dCgpIHtcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgICAgc2NhbkVycm9yID0gMCAvKiBOb25lICovO1xuICAgICAgICB0b2tlbk9mZnNldCA9IHBvcztcbiAgICAgICAgbGluZVN0YXJ0T2Zmc2V0ID0gbGluZU51bWJlcjtcbiAgICAgICAgcHJldlRva2VuTGluZVN0YXJ0T2Zmc2V0ID0gdG9rZW5MaW5lU3RhcnRPZmZzZXQ7XG4gICAgICAgIGlmIChwb3MgPj0gbGVuKSB7XG4gICAgICAgICAgICAvLyBhdCB0aGUgZW5kXG4gICAgICAgICAgICB0b2tlbk9mZnNldCA9IGxlbjtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbiA9IDE3IC8qIEVPRiAqLztcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29kZSA9IHRleHQuY2hhckNvZGVBdChwb3MpO1xuICAgICAgICAvLyB0cml2aWE6IHdoaXRlc3BhY2VcbiAgICAgICAgaWYgKGlzV2hpdGVTcGFjZShjb2RlKSkge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgIHZhbHVlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgICAgICAgICAgICAgY29kZSA9IHRleHQuY2hhckNvZGVBdChwb3MpO1xuICAgICAgICAgICAgfSB3aGlsZSAoaXNXaGl0ZVNwYWNlKGNvZGUpKTtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbiA9IDE1IC8qIFRyaXZpYSAqLztcbiAgICAgICAgfVxuICAgICAgICAvLyB0cml2aWE6IG5ld2xpbmVzXG4gICAgICAgIGlmIChpc0xpbmVCcmVhayhjb2RlKSkge1xuICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICB2YWx1ZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgICAgICAgICAgaWYgKGNvZGUgPT09IDEzIC8qIGNhcnJpYWdlUmV0dXJuICovICYmIHRleHQuY2hhckNvZGVBdChwb3MpID09PSAxMCAvKiBsaW5lRmVlZCAqLykge1xuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgIHZhbHVlICs9ICdcXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZU51bWJlcisrO1xuICAgICAgICAgICAgdG9rZW5MaW5lU3RhcnRPZmZzZXQgPSBwb3M7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW4gPSAxNCAvKiBMaW5lQnJlYWtUcml2aWEgKi87XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICAvLyB0b2tlbnM6IFtde306LFxuICAgICAgICAgICAgY2FzZSAxMjMgLyogb3BlbkJyYWNlICovOlxuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbiA9IDEgLyogT3BlbkJyYWNlVG9rZW4gKi87XG4gICAgICAgICAgICBjYXNlIDEyNSAvKiBjbG9zZUJyYWNlICovOlxuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbiA9IDIgLyogQ2xvc2VCcmFjZVRva2VuICovO1xuICAgICAgICAgICAgY2FzZSA5MSAvKiBvcGVuQnJhY2tldCAqLzpcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSAzIC8qIE9wZW5CcmFja2V0VG9rZW4gKi87XG4gICAgICAgICAgICBjYXNlIDkzIC8qIGNsb3NlQnJhY2tldCAqLzpcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSA0IC8qIENsb3NlQnJhY2tldFRva2VuICovO1xuICAgICAgICAgICAgY2FzZSA1OCAvKiBjb2xvbiAqLzpcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSA2IC8qIENvbG9uVG9rZW4gKi87XG4gICAgICAgICAgICBjYXNlIDQ0IC8qIGNvbW1hICovOlxuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbiA9IDUgLyogQ29tbWFUb2tlbiAqLztcbiAgICAgICAgICAgIC8vIHN0cmluZ3NcbiAgICAgICAgICAgIGNhc2UgMzQgLyogZG91YmxlUXVvdGUgKi86XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBzY2FuU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuID0gMTAgLyogU3RyaW5nTGl0ZXJhbCAqLztcbiAgICAgICAgICAgIC8vIGNvbW1lbnRzXG4gICAgICAgICAgICBjYXNlIDQ3IC8qIHNsYXNoICovOlxuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHBvcyAtIDE7XG4gICAgICAgICAgICAgICAgLy8gU2luZ2xlLWxpbmUgY29tbWVudFxuICAgICAgICAgICAgICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQocG9zICsgMSkgPT09IDQ3IC8qIHNsYXNoICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocG9zIDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNMaW5lQnJlYWsodGV4dC5jaGFyQ29kZUF0KHBvcykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBwb3MpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSAxMiAvKiBMaW5lQ29tbWVudFRyaXZpYSAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTXVsdGktbGluZSBjb21tZW50XG4gICAgICAgICAgICAgICAgaWYgKHRleHQuY2hhckNvZGVBdChwb3MgKyAxKSA9PT0gNDIgLyogYXN0ZXJpc2sgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzYWZlTGVuZ3RoID0gbGVuIC0gMTsgLy8gRm9yIGxvb2thaGVhZC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRDbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHBvcyA8IHNhZmVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaCA9IHRleHQuY2hhckNvZGVBdChwb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSA0MiAvKiBhc3RlcmlzayAqLyAmJiB0ZXh0LmNoYXJDb2RlQXQocG9zICsgMSkgPT09IDQ3IC8qIHNsYXNoICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudENsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xpbmVCcmVhayhjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09IDEzIC8qIGNhcnJpYWdlUmV0dXJuICovICYmIHRleHQuY2hhckNvZGVBdChwb3MpID09PSAxMCAvKiBsaW5lRmVlZCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZU51bWJlcisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuTGluZVN0YXJ0T2Zmc2V0ID0gcG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29tbWVudENsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FuRXJyb3IgPSAxIC8qIFVuZXhwZWN0ZWRFbmRPZkNvbW1lbnQgKi87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0ZXh0LnN1YnN0cmluZyhzdGFydCwgcG9zKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuID0gMTMgLyogQmxvY2tDb21tZW50VHJpdmlhICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBqdXN0IGEgc2luZ2xlIHNsYXNoXG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSAxNiAvKiBVbmtub3duICovO1xuICAgICAgICAgICAgLy8gbnVtYmVyc1xuICAgICAgICAgICAgY2FzZSA0NSAvKiBtaW51cyAqLzpcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgIGlmIChwb3MgPT09IGxlbiB8fCAhaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuID0gMTYgLyogVW5rbm93biAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmb3VuZCBhIG1pbnVzLCBmb2xsb3dlZCBieSBhIG51bWJlciBzb1xuICAgICAgICAgICAgLy8gd2UgZmFsbCB0aHJvdWdoIHRvIHByb2NlZWQgd2l0aCBzY2FubmluZ1xuICAgICAgICAgICAgLy8gbnVtYmVyc1xuICAgICAgICAgICAgY2FzZSA0OCAvKiBfMCAqLzpcbiAgICAgICAgICAgIGNhc2UgNDkgLyogXzEgKi86XG4gICAgICAgICAgICBjYXNlIDUwIC8qIF8yICovOlxuICAgICAgICAgICAgY2FzZSA1MSAvKiBfMyAqLzpcbiAgICAgICAgICAgIGNhc2UgNTIgLyogXzQgKi86XG4gICAgICAgICAgICBjYXNlIDUzIC8qIF81ICovOlxuICAgICAgICAgICAgY2FzZSA1NCAvKiBfNiAqLzpcbiAgICAgICAgICAgIGNhc2UgNTUgLyogXzcgKi86XG4gICAgICAgICAgICBjYXNlIDU2IC8qIF84ICovOlxuICAgICAgICAgICAgY2FzZSA1NyAvKiBfOSAqLzpcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBzY2FuTnVtYmVyKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuID0gMTEgLyogTnVtZXJpY0xpdGVyYWwgKi87XG4gICAgICAgICAgICAvLyBsaXRlcmFscyBhbmQgdW5rbm93biBzeW1ib2xzXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIGlzIGEgbGl0ZXJhbD8gUmVhZCB0aGUgZnVsbCB3b3JkLlxuICAgICAgICAgICAgICAgIHdoaWxlIChwb3MgPCBsZW4gJiYgaXNVbmtub3duQ29udGVudENoYXJhY3Rlcihjb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICAgICAgY29kZSA9IHRleHQuY2hhckNvZGVBdChwb3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodG9rZW5PZmZzZXQgIT09IHBvcykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRleHQuc3Vic3RyaW5nKHRva2VuT2Zmc2V0LCBwb3MpO1xuICAgICAgICAgICAgICAgICAgICAvLyBrZXl3b3JkczogdHJ1ZSwgZmFsc2UsIG51bGxcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndHJ1ZSc6IHJldHVybiB0b2tlbiA9IDggLyogVHJ1ZUtleXdvcmQgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdmYWxzZSc6IHJldHVybiB0b2tlbiA9IDkgLyogRmFsc2VLZXl3b3JkICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbnVsbCc6IHJldHVybiB0b2tlbiA9IDcgLyogTnVsbEtleXdvcmQgKi87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuID0gMTYgLyogVW5rbm93biAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc29tZVxuICAgICAgICAgICAgICAgIHZhbHVlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuID0gMTYgLyogVW5rbm93biAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpc1Vua25vd25Db250ZW50Q2hhcmFjdGVyKGNvZGUpIHtcbiAgICAgICAgaWYgKGlzV2hpdGVTcGFjZShjb2RlKSB8fCBpc0xpbmVCcmVhayhjb2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgICAgY2FzZSAxMjUgLyogY2xvc2VCcmFjZSAqLzpcbiAgICAgICAgICAgIGNhc2UgOTMgLyogY2xvc2VCcmFja2V0ICovOlxuICAgICAgICAgICAgY2FzZSAxMjMgLyogb3BlbkJyYWNlICovOlxuICAgICAgICAgICAgY2FzZSA5MSAvKiBvcGVuQnJhY2tldCAqLzpcbiAgICAgICAgICAgIGNhc2UgMzQgLyogZG91YmxlUXVvdGUgKi86XG4gICAgICAgICAgICBjYXNlIDU4IC8qIGNvbG9uICovOlxuICAgICAgICAgICAgY2FzZSA0NCAvKiBjb21tYSAqLzpcbiAgICAgICAgICAgIGNhc2UgNDcgLyogc2xhc2ggKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2FuTmV4dE5vblRyaXZpYSgpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgcmVzdWx0ID0gc2Nhbk5leHQoKTtcbiAgICAgICAgfSB3aGlsZSAocmVzdWx0ID49IDEyIC8qIExpbmVDb21tZW50VHJpdmlhICovICYmIHJlc3VsdCA8PSAxNSAvKiBUcml2aWEgKi8pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzZXRQb3NpdGlvbjogc2V0UG9zaXRpb24sXG4gICAgICAgIGdldFBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBwb3M7IH0sXG4gICAgICAgIHNjYW46IGlnbm9yZVRyaXZpYSA/IHNjYW5OZXh0Tm9uVHJpdmlhIDogc2Nhbk5leHQsXG4gICAgICAgIGdldFRva2VuOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0b2tlbjsgfSxcbiAgICAgICAgZ2V0VG9rZW5WYWx1ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0sXG4gICAgICAgIGdldFRva2VuT2Zmc2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0b2tlbk9mZnNldDsgfSxcbiAgICAgICAgZ2V0VG9rZW5MZW5ndGg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBvcyAtIHRva2VuT2Zmc2V0OyB9LFxuICAgICAgICBnZXRUb2tlblN0YXJ0TGluZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGluZVN0YXJ0T2Zmc2V0OyB9LFxuICAgICAgICBnZXRUb2tlblN0YXJ0Q2hhcmFjdGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0b2tlbk9mZnNldCAtIHByZXZUb2tlbkxpbmVTdGFydE9mZnNldDsgfSxcbiAgICAgICAgZ2V0VG9rZW5FcnJvcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2NhbkVycm9yOyB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBpc1doaXRlU3BhY2UoY2gpIHtcbiAgICByZXR1cm4gY2ggPT09IDMyIC8qIHNwYWNlICovIHx8IGNoID09PSA5IC8qIHRhYiAqLyB8fCBjaCA9PT0gMTEgLyogdmVydGljYWxUYWIgKi8gfHwgY2ggPT09IDEyIC8qIGZvcm1GZWVkICovIHx8XG4gICAgICAgIGNoID09PSAxNjAgLyogbm9uQnJlYWtpbmdTcGFjZSAqLyB8fCBjaCA9PT0gNTc2MCAvKiBvZ2hhbSAqLyB8fCBjaCA+PSA4MTkyIC8qIGVuUXVhZCAqLyAmJiBjaCA8PSA4MjAzIC8qIHplcm9XaWR0aFNwYWNlICovIHx8XG4gICAgICAgIGNoID09PSA4MjM5IC8qIG5hcnJvd05vQnJlYWtTcGFjZSAqLyB8fCBjaCA9PT0gODI4NyAvKiBtYXRoZW1hdGljYWxTcGFjZSAqLyB8fCBjaCA9PT0gMTIyODggLyogaWRlb2dyYXBoaWNTcGFjZSAqLyB8fCBjaCA9PT0gNjUyNzkgLyogYnl0ZU9yZGVyTWFyayAqLztcbn1cbmZ1bmN0aW9uIGlzTGluZUJyZWFrKGNoKSB7XG4gICAgcmV0dXJuIGNoID09PSAxMCAvKiBsaW5lRmVlZCAqLyB8fCBjaCA9PT0gMTMgLyogY2FycmlhZ2VSZXR1cm4gKi8gfHwgY2ggPT09IDgyMzIgLyogbGluZVNlcGFyYXRvciAqLyB8fCBjaCA9PT0gODIzMyAvKiBwYXJhZ3JhcGhTZXBhcmF0b3IgKi87XG59XG5mdW5jdGlvbiBpc0RpZ2l0KGNoKSB7XG4gICAgcmV0dXJuIGNoID49IDQ4IC8qIF8wICovICYmIGNoIDw9IDU3IC8qIF85ICovO1xufVxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgY3JlYXRlU2Nhbm5lciB9IGZyb20gJy4vc2Nhbm5lci5qcyc7XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KGRvY3VtZW50VGV4dCwgcmFuZ2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgaW5pdGlhbEluZGVudExldmVsO1xuICAgIHZhciBmb3JtYXRUZXh0O1xuICAgIHZhciBmb3JtYXRUZXh0U3RhcnQ7XG4gICAgdmFyIHJhbmdlU3RhcnQ7XG4gICAgdmFyIHJhbmdlRW5kO1xuICAgIGlmIChyYW5nZSkge1xuICAgICAgICByYW5nZVN0YXJ0ID0gcmFuZ2Uub2Zmc2V0O1xuICAgICAgICByYW5nZUVuZCA9IHJhbmdlU3RhcnQgKyByYW5nZS5sZW5ndGg7XG4gICAgICAgIGZvcm1hdFRleHRTdGFydCA9IHJhbmdlU3RhcnQ7XG4gICAgICAgIHdoaWxlIChmb3JtYXRUZXh0U3RhcnQgPiAwICYmICFpc0VPTChkb2N1bWVudFRleHQsIGZvcm1hdFRleHRTdGFydCAtIDEpKSB7XG4gICAgICAgICAgICBmb3JtYXRUZXh0U3RhcnQtLTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW5kT2Zmc2V0ID0gcmFuZ2VFbmQ7XG4gICAgICAgIHdoaWxlIChlbmRPZmZzZXQgPCBkb2N1bWVudFRleHQubGVuZ3RoICYmICFpc0VPTChkb2N1bWVudFRleHQsIGVuZE9mZnNldCkpIHtcbiAgICAgICAgICAgIGVuZE9mZnNldCsrO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdFRleHQgPSBkb2N1bWVudFRleHQuc3Vic3RyaW5nKGZvcm1hdFRleHRTdGFydCwgZW5kT2Zmc2V0KTtcbiAgICAgICAgaW5pdGlhbEluZGVudExldmVsID0gY29tcHV0ZUluZGVudExldmVsKGZvcm1hdFRleHQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9ybWF0VGV4dCA9IGRvY3VtZW50VGV4dDtcbiAgICAgICAgaW5pdGlhbEluZGVudExldmVsID0gMDtcbiAgICAgICAgZm9ybWF0VGV4dFN0YXJ0ID0gMDtcbiAgICAgICAgcmFuZ2VTdGFydCA9IDA7XG4gICAgICAgIHJhbmdlRW5kID0gZG9jdW1lbnRUZXh0Lmxlbmd0aDtcbiAgICB9XG4gICAgdmFyIGVvbCA9IGdldEVPTChvcHRpb25zLCBkb2N1bWVudFRleHQpO1xuICAgIHZhciBsaW5lQnJlYWsgPSBmYWxzZTtcbiAgICB2YXIgaW5kZW50TGV2ZWwgPSAwO1xuICAgIHZhciBpbmRlbnRWYWx1ZTtcbiAgICBpZiAob3B0aW9ucy5pbnNlcnRTcGFjZXMpIHtcbiAgICAgICAgaW5kZW50VmFsdWUgPSByZXBlYXQoJyAnLCBvcHRpb25zLnRhYlNpemUgfHwgNCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbmRlbnRWYWx1ZSA9ICdcXHQnO1xuICAgIH1cbiAgICB2YXIgc2Nhbm5lciA9IGNyZWF0ZVNjYW5uZXIoZm9ybWF0VGV4dCwgZmFsc2UpO1xuICAgIHZhciBoYXNFcnJvciA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIG5ld0xpbmVBbmRJbmRlbnQoKSB7XG4gICAgICAgIHJldHVybiBlb2wgKyByZXBlYXQoaW5kZW50VmFsdWUsIGluaXRpYWxJbmRlbnRMZXZlbCArIGluZGVudExldmVsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2Nhbk5leHQoKSB7XG4gICAgICAgIHZhciB0b2tlbiA9IHNjYW5uZXIuc2NhbigpO1xuICAgICAgICBsaW5lQnJlYWsgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKHRva2VuID09PSAxNSAvKiBUcml2aWEgKi8gfHwgdG9rZW4gPT09IDE0IC8qIExpbmVCcmVha1RyaXZpYSAqLykge1xuICAgICAgICAgICAgbGluZUJyZWFrID0gbGluZUJyZWFrIHx8ICh0b2tlbiA9PT0gMTQgLyogTGluZUJyZWFrVHJpdmlhICovKTtcbiAgICAgICAgICAgIHRva2VuID0gc2Nhbm5lci5zY2FuKCk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzRXJyb3IgPSB0b2tlbiA9PT0gMTYgLyogVW5rbm93biAqLyB8fCBzY2FubmVyLmdldFRva2VuRXJyb3IoKSAhPT0gMCAvKiBOb25lICovO1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICAgIHZhciBlZGl0T3BlcmF0aW9ucyA9IFtdO1xuICAgIGZ1bmN0aW9uIGFkZEVkaXQodGV4dCwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICBpZiAoIWhhc0Vycm9yICYmICghcmFuZ2UgfHwgKHN0YXJ0T2Zmc2V0IDwgcmFuZ2VFbmQgJiYgZW5kT2Zmc2V0ID4gcmFuZ2VTdGFydCkpICYmIGRvY3VtZW50VGV4dC5zdWJzdHJpbmcoc3RhcnRPZmZzZXQsIGVuZE9mZnNldCkgIT09IHRleHQpIHtcbiAgICAgICAgICAgIGVkaXRPcGVyYXRpb25zLnB1c2goeyBvZmZzZXQ6IHN0YXJ0T2Zmc2V0LCBsZW5ndGg6IGVuZE9mZnNldCAtIHN0YXJ0T2Zmc2V0LCBjb250ZW50OiB0ZXh0IH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBmaXJzdFRva2VuID0gc2Nhbk5leHQoKTtcbiAgICBpZiAoZmlyc3RUb2tlbiAhPT0gMTcgLyogRU9GICovKSB7XG4gICAgICAgIHZhciBmaXJzdFRva2VuU3RhcnQgPSBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBmb3JtYXRUZXh0U3RhcnQ7XG4gICAgICAgIHZhciBpbml0aWFsSW5kZW50ID0gcmVwZWF0KGluZGVudFZhbHVlLCBpbml0aWFsSW5kZW50TGV2ZWwpO1xuICAgICAgICBhZGRFZGl0KGluaXRpYWxJbmRlbnQsIGZvcm1hdFRleHRTdGFydCwgZmlyc3RUb2tlblN0YXJ0KTtcbiAgICB9XG4gICAgd2hpbGUgKGZpcnN0VG9rZW4gIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICB2YXIgZmlyc3RUb2tlbkVuZCA9IHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSArIHNjYW5uZXIuZ2V0VG9rZW5MZW5ndGgoKSArIGZvcm1hdFRleHRTdGFydDtcbiAgICAgICAgdmFyIHNlY29uZFRva2VuID0gc2Nhbk5leHQoKTtcbiAgICAgICAgdmFyIHJlcGxhY2VDb250ZW50ID0gJyc7XG4gICAgICAgIHZhciBuZWVkc0xpbmVCcmVhayA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAoIWxpbmVCcmVhayAmJiAoc2Vjb25kVG9rZW4gPT09IDEyIC8qIExpbmVDb21tZW50VHJpdmlhICovIHx8IHNlY29uZFRva2VuID09PSAxMyAvKiBCbG9ja0NvbW1lbnRUcml2aWEgKi8pKSB7XG4gICAgICAgICAgICAvLyBjb21tZW50cyBvbiB0aGUgc2FtZSBsaW5lOiBrZWVwIHRoZW0gb24gdGhlIHNhbWUgbGluZSwgYnV0IGlnbm9yZSB0aGVtIG90aGVyd2lzZVxuICAgICAgICAgICAgdmFyIGNvbW1lbnRUb2tlblN0YXJ0ID0gc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpICsgZm9ybWF0VGV4dFN0YXJ0O1xuICAgICAgICAgICAgYWRkRWRpdCgnICcsIGZpcnN0VG9rZW5FbmQsIGNvbW1lbnRUb2tlblN0YXJ0KTtcbiAgICAgICAgICAgIGZpcnN0VG9rZW5FbmQgPSBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBzY2FubmVyLmdldFRva2VuTGVuZ3RoKCkgKyBmb3JtYXRUZXh0U3RhcnQ7XG4gICAgICAgICAgICBuZWVkc0xpbmVCcmVhayA9IHNlY29uZFRva2VuID09PSAxMiAvKiBMaW5lQ29tbWVudFRyaXZpYSAqLztcbiAgICAgICAgICAgIHJlcGxhY2VDb250ZW50ID0gbmVlZHNMaW5lQnJlYWsgPyBuZXdMaW5lQW5kSW5kZW50KCkgOiAnJztcbiAgICAgICAgICAgIHNlY29uZFRva2VuID0gc2Nhbk5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Vjb25kVG9rZW4gPT09IDIgLyogQ2xvc2VCcmFjZVRva2VuICovKSB7XG4gICAgICAgICAgICBpZiAoZmlyc3RUb2tlbiAhPT0gMSAvKiBPcGVuQnJhY2VUb2tlbiAqLykge1xuICAgICAgICAgICAgICAgIGluZGVudExldmVsLS07XG4gICAgICAgICAgICAgICAgcmVwbGFjZUNvbnRlbnQgPSBuZXdMaW5lQW5kSW5kZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2Vjb25kVG9rZW4gPT09IDQgLyogQ2xvc2VCcmFja2V0VG9rZW4gKi8pIHtcbiAgICAgICAgICAgIGlmIChmaXJzdFRva2VuICE9PSAzIC8qIE9wZW5CcmFja2V0VG9rZW4gKi8pIHtcbiAgICAgICAgICAgICAgICBpbmRlbnRMZXZlbC0tO1xuICAgICAgICAgICAgICAgIHJlcGxhY2VDb250ZW50ID0gbmV3TGluZUFuZEluZGVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoIChmaXJzdFRva2VuKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIE9wZW5CcmFja2V0VG9rZW4gKi86XG4gICAgICAgICAgICAgICAgY2FzZSAxIC8qIE9wZW5CcmFjZVRva2VuICovOlxuICAgICAgICAgICAgICAgICAgICBpbmRlbnRMZXZlbCsrO1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlQ29udGVudCA9IG5ld0xpbmVBbmRJbmRlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1IC8qIENvbW1hVG9rZW4gKi86XG4gICAgICAgICAgICAgICAgY2FzZSAxMiAvKiBMaW5lQ29tbWVudFRyaXZpYSAqLzpcbiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUNvbnRlbnQgPSBuZXdMaW5lQW5kSW5kZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTMgLyogQmxvY2tDb21tZW50VHJpdmlhICovOlxuICAgICAgICAgICAgICAgICAgICBpZiAobGluZUJyZWFrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlQ29udGVudCA9IG5ld0xpbmVBbmRJbmRlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghbmVlZHNMaW5lQnJlYWspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN5bWJvbCBmb2xsb3dpbmcgY29tbWVudCBvbiB0aGUgc2FtZSBsaW5lOiBrZWVwIG9uIHNhbWUgbGluZSwgc2VwYXJhdGUgd2l0aCAnICdcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VDb250ZW50ID0gJyAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNiAvKiBDb2xvblRva2VuICovOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5lZWRzTGluZUJyZWFrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlQ29udGVudCA9ICcgJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwIC8qIFN0cmluZ0xpdGVyYWwgKi86XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWNvbmRUb2tlbiA9PT0gNiAvKiBDb2xvblRva2VuICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5lZWRzTGluZUJyZWFrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUNvbnRlbnQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgICAgICAgICAgY2FzZSA3IC8qIE51bGxLZXl3b3JkICovOlxuICAgICAgICAgICAgICAgIGNhc2UgOCAvKiBUcnVlS2V5d29yZCAqLzpcbiAgICAgICAgICAgICAgICBjYXNlIDkgLyogRmFsc2VLZXl3b3JkICovOlxuICAgICAgICAgICAgICAgIGNhc2UgMTEgLyogTnVtZXJpY0xpdGVyYWwgKi86XG4gICAgICAgICAgICAgICAgY2FzZSAyIC8qIENsb3NlQnJhY2VUb2tlbiAqLzpcbiAgICAgICAgICAgICAgICBjYXNlIDQgLyogQ2xvc2VCcmFja2V0VG9rZW4gKi86XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWNvbmRUb2tlbiA9PT0gMTIgLyogTGluZUNvbW1lbnRUcml2aWEgKi8gfHwgc2Vjb25kVG9rZW4gPT09IDEzIC8qIEJsb2NrQ29tbWVudFRyaXZpYSAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZWVkc0xpbmVCcmVhaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VDb250ZW50ID0gJyAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlY29uZFRva2VuICE9PSA1IC8qIENvbW1hVG9rZW4gKi8gJiYgc2Vjb25kVG9rZW4gIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTYgLyogVW5rbm93biAqLzpcbiAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsaW5lQnJlYWsgJiYgKHNlY29uZFRva2VuID09PSAxMiAvKiBMaW5lQ29tbWVudFRyaXZpYSAqLyB8fCBzZWNvbmRUb2tlbiA9PT0gMTMgLyogQmxvY2tDb21tZW50VHJpdmlhICovKSkge1xuICAgICAgICAgICAgICAgIHJlcGxhY2VDb250ZW50ID0gbmV3TGluZUFuZEluZGVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzZWNvbmRUb2tlbiA9PT0gMTcgLyogRU9GICovKSB7XG4gICAgICAgICAgICByZXBsYWNlQ29udGVudCA9IG9wdGlvbnMuaW5zZXJ0RmluYWxOZXdsaW5lID8gZW9sIDogJyc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlY29uZFRva2VuU3RhcnQgPSBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBmb3JtYXRUZXh0U3RhcnQ7XG4gICAgICAgIGFkZEVkaXQocmVwbGFjZUNvbnRlbnQsIGZpcnN0VG9rZW5FbmQsIHNlY29uZFRva2VuU3RhcnQpO1xuICAgICAgICBmaXJzdFRva2VuID0gc2Vjb25kVG9rZW47XG4gICAgfVxuICAgIHJldHVybiBlZGl0T3BlcmF0aW9ucztcbn1cbmZ1bmN0aW9uIHJlcGVhdChzLCBjb3VudCkge1xuICAgIHZhciByZXN1bHQgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgcmVzdWx0ICs9IHM7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjb21wdXRlSW5kZW50TGV2ZWwoY29udGVudCwgb3B0aW9ucykge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbkNoYXJzID0gMDtcbiAgICB2YXIgdGFiU2l6ZSA9IG9wdGlvbnMudGFiU2l6ZSB8fCA0O1xuICAgIHdoaWxlIChpIDwgY29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGNoID0gY29udGVudC5jaGFyQXQoaSk7XG4gICAgICAgIGlmIChjaCA9PT0gJyAnKSB7XG4gICAgICAgICAgICBuQ2hhcnMrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaCA9PT0gJ1xcdCcpIHtcbiAgICAgICAgICAgIG5DaGFycyArPSB0YWJTaXplO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5mbG9vcihuQ2hhcnMgLyB0YWJTaXplKTtcbn1cbmZ1bmN0aW9uIGdldEVPTChvcHRpb25zLCB0ZXh0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaCA9IHRleHQuY2hhckF0KGkpO1xuICAgICAgICBpZiAoY2ggPT09ICdcXHInKSB7XG4gICAgICAgICAgICBpZiAoaSArIDEgPCB0ZXh0Lmxlbmd0aCAmJiB0ZXh0LmNoYXJBdChpICsgMSkgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdcXHJcXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICdcXHInO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoID09PSAnXFxuJykge1xuICAgICAgICAgICAgcmV0dXJuICdcXG4nO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAob3B0aW9ucyAmJiBvcHRpb25zLmVvbCkgfHwgJ1xcbic7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFT0wodGV4dCwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuICdcXHJcXG4nLmluZGV4T2YodGV4dC5jaGFyQXQob2Zmc2V0KSkgIT09IC0xO1xufVxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgY3JlYXRlU2Nhbm5lciB9IGZyb20gJy4vc2Nhbm5lci5qcyc7XG52YXIgUGFyc2VPcHRpb25zO1xuKGZ1bmN0aW9uIChQYXJzZU9wdGlvbnMpIHtcbiAgICBQYXJzZU9wdGlvbnMuREVGQVVMVCA9IHtcbiAgICAgICAgYWxsb3dUcmFpbGluZ0NvbW1hOiBmYWxzZVxuICAgIH07XG59KShQYXJzZU9wdGlvbnMgfHwgKFBhcnNlT3B0aW9ucyA9IHt9KSk7XG4vKipcbiAqIEZvciBhIGdpdmVuIG9mZnNldCwgZXZhbHVhdGUgdGhlIGxvY2F0aW9uIGluIHRoZSBKU09OIGRvY3VtZW50LiBFYWNoIHNlZ21lbnQgaW4gdGhlIGxvY2F0aW9uIHBhdGggaXMgZWl0aGVyIGEgcHJvcGVydHkgbmFtZSBvciBhbiBhcnJheSBpbmRleC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExvY2F0aW9uKHRleHQsIHBvc2l0aW9uKSB7XG4gICAgdmFyIHNlZ21lbnRzID0gW107IC8vIHN0cmluZ3Mgb3IgbnVtYmVyc1xuICAgIHZhciBlYXJseVJldHVybkV4Y2VwdGlvbiA9IG5ldyBPYmplY3QoKTtcbiAgICB2YXIgcHJldmlvdXNOb2RlID0gdW5kZWZpbmVkO1xuICAgIHZhciBwcmV2aW91c05vZGVJbnN0ID0ge1xuICAgICAgICB2YWx1ZToge30sXG4gICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgbGVuZ3RoOiAwLFxuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgcGFyZW50OiB1bmRlZmluZWRcbiAgICB9O1xuICAgIHZhciBpc0F0UHJvcGVydHlLZXkgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBzZXRQcmV2aW91c05vZGUodmFsdWUsIG9mZnNldCwgbGVuZ3RoLCB0eXBlKSB7XG4gICAgICAgIHByZXZpb3VzTm9kZUluc3QudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcHJldmlvdXNOb2RlSW5zdC5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHByZXZpb3VzTm9kZUluc3QubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICBwcmV2aW91c05vZGVJbnN0LnR5cGUgPSB0eXBlO1xuICAgICAgICBwcmV2aW91c05vZGVJbnN0LmNvbG9uT2Zmc2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICBwcmV2aW91c05vZGUgPSBwcmV2aW91c05vZGVJbnN0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICB2aXNpdCh0ZXh0LCB7XG4gICAgICAgICAgICBvbk9iamVjdEJlZ2luOiBmdW5jdGlvbiAob2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVhcmx5UmV0dXJuRXhjZXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaXNBdFByb3BlcnR5S2V5ID0gcG9zaXRpb24gPiBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaCgnJyk7IC8vIHB1c2ggYSBwbGFjZWhvbGRlciAod2lsbCBiZSByZXBsYWNlZClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk9iamVjdFByb3BlcnR5OiBmdW5jdGlvbiAobmFtZSwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPCBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZWFybHlSZXR1cm5FeGNlcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldFByZXZpb3VzTm9kZShuYW1lLCBvZmZzZXQsIGxlbmd0aCwgJ3Byb3BlcnR5Jyk7XG4gICAgICAgICAgICAgICAgc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0gMV0gPSBuYW1lO1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA8PSBvZmZzZXQgKyBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZWFybHlSZXR1cm5FeGNlcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uT2JqZWN0RW5kOiBmdW5jdGlvbiAob2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVhcmx5UmV0dXJuRXhjZXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucG9wKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25BcnJheUJlZ2luOiBmdW5jdGlvbiAob2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVhcmx5UmV0dXJuRXhjZXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaCgwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkFycmF5RW5kOiBmdW5jdGlvbiAob2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVhcmx5UmV0dXJuRXhjZXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucG9wKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25MaXRlcmFsVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPCBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZWFybHlSZXR1cm5FeGNlcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldFByZXZpb3VzTm9kZSh2YWx1ZSwgb2Zmc2V0LCBsZW5ndGgsIGdldE5vZGVUeXBlKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDw9IG9mZnNldCArIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlYXJseVJldHVybkV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25TZXBhcmF0b3I6IGZ1bmN0aW9uIChzZXAsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDw9IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlYXJseVJldHVybkV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNlcCA9PT0gJzonICYmIHByZXZpb3VzTm9kZSAmJiBwcmV2aW91c05vZGUudHlwZSA9PT0gJ3Byb3BlcnR5Jykge1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUuY29sb25PZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlzQXRQcm9wZXJ0eUtleSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlcCA9PT0gJywnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0ID0gc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGFzdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtIDFdID0gbGFzdCArIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0F0UHJvcGVydHlLZXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0gMV0gPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUgIT09IGVhcmx5UmV0dXJuRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHBhdGg6IHNlZ21lbnRzLFxuICAgICAgICBwcmV2aW91c05vZGU6IHByZXZpb3VzTm9kZSxcbiAgICAgICAgaXNBdFByb3BlcnR5S2V5OiBpc0F0UHJvcGVydHlLZXksXG4gICAgICAgIG1hdGNoZXM6IGZ1bmN0aW9uIChwYXR0ZXJuKSB7XG4gICAgICAgICAgICB2YXIgayA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgayA8IHBhdHRlcm4ubGVuZ3RoICYmIGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJuW2tdID09PSBzZWdtZW50c1tpXSB8fCBwYXR0ZXJuW2tdID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXR0ZXJuW2tdICE9PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gayA9PT0gcGF0dGVybi5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBQYXJzZXMgdGhlIGdpdmVuIHRleHQgYW5kIHJldHVybnMgdGhlIG9iamVjdCB0aGUgSlNPTiBjb250ZW50IHJlcHJlc2VudHMuIE9uIGludmFsaWQgaW5wdXQsIHRoZSBwYXJzZXIgdHJpZXMgdG8gYmUgYXMgZmF1bHQgdG9sZXJhbnQgYXMgcG9zc2libGUsIGJ1dCBzdGlsbCByZXR1cm4gYSByZXN1bHQuXG4gKiBUaGVyZWZvcmUgYWx3YXlzIGNoZWNrIHRoZSBlcnJvcnMgbGlzdCB0byBmaW5kIG91dCBpZiB0aGUgaW5wdXQgd2FzIHZhbGlkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UodGV4dCwgZXJyb3JzLCBvcHRpb25zKSB7XG4gICAgaWYgKGVycm9ycyA9PT0gdm9pZCAwKSB7IGVycm9ycyA9IFtdOyB9XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0gUGFyc2VPcHRpb25zLkRFRkFVTFQ7IH1cbiAgICB2YXIgY3VycmVudFByb3BlcnR5ID0gbnVsbDtcbiAgICB2YXIgY3VycmVudFBhcmVudCA9IFtdO1xuICAgIHZhciBwcmV2aW91c1BhcmVudHMgPSBbXTtcbiAgICBmdW5jdGlvbiBvblZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnRQYXJlbnQpKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnRQcm9wZXJ0eSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY3VycmVudFBhcmVudFtjdXJyZW50UHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHZpc2l0b3IgPSB7XG4gICAgICAgIG9uT2JqZWN0QmVnaW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgIG9uVmFsdWUob2JqZWN0KTtcbiAgICAgICAgICAgIHByZXZpb3VzUGFyZW50cy5wdXNoKGN1cnJlbnRQYXJlbnQpO1xuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IG9iamVjdDtcbiAgICAgICAgICAgIGN1cnJlbnRQcm9wZXJ0eSA9IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIG9uT2JqZWN0UHJvcGVydHk6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICBjdXJyZW50UHJvcGVydHkgPSBuYW1lO1xuICAgICAgICB9LFxuICAgICAgICBvbk9iamVjdEVuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IHByZXZpb3VzUGFyZW50cy5wb3AoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25BcnJheUJlZ2luOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICAgICAgICAgIG9uVmFsdWUoYXJyYXkpO1xuICAgICAgICAgICAgcHJldmlvdXNQYXJlbnRzLnB1c2goY3VycmVudFBhcmVudCk7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gYXJyYXk7XG4gICAgICAgICAgICBjdXJyZW50UHJvcGVydHkgPSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBvbkFycmF5RW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gcHJldmlvdXNQYXJlbnRzLnBvcCgpO1xuICAgICAgICB9LFxuICAgICAgICBvbkxpdGVyYWxWYWx1ZTogb25WYWx1ZSxcbiAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yLCBvZmZzZXQsIGxlbmd0aCkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goeyBlcnJvcjogZXJyb3IsIG9mZnNldDogb2Zmc2V0LCBsZW5ndGg6IGxlbmd0aCB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmlzaXQodGV4dCwgdmlzaXRvciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGN1cnJlbnRQYXJlbnRbMF07XG59XG4vKipcbiAqIFBhcnNlcyB0aGUgZ2l2ZW4gdGV4dCBhbmQgcmV0dXJucyBhIHRyZWUgcmVwcmVzZW50YXRpb24gdGhlIEpTT04gY29udGVudC4gT24gaW52YWxpZCBpbnB1dCwgdGhlIHBhcnNlciB0cmllcyB0byBiZSBhcyBmYXVsdCB0b2xlcmFudCBhcyBwb3NzaWJsZSwgYnV0IHN0aWxsIHJldHVybiBhIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVHJlZSh0ZXh0LCBlcnJvcnMsIG9wdGlvbnMpIHtcbiAgICBpZiAoZXJyb3JzID09PSB2b2lkIDApIHsgZXJyb3JzID0gW107IH1cbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBQYXJzZU9wdGlvbnMuREVGQVVMVDsgfVxuICAgIHZhciBjdXJyZW50UGFyZW50ID0geyB0eXBlOiAnYXJyYXknLCBvZmZzZXQ6IC0xLCBsZW5ndGg6IC0xLCBjaGlsZHJlbjogW10sIHBhcmVudDogdW5kZWZpbmVkIH07IC8vIGFydGlmaWNpYWwgcm9vdFxuICAgIGZ1bmN0aW9uIGVuc3VyZVByb3BlcnR5Q29tcGxldGUoZW5kT2Zmc2V0KSB7XG4gICAgICAgIGlmIChjdXJyZW50UGFyZW50LnR5cGUgPT09ICdwcm9wZXJ0eScpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQubGVuZ3RoID0gZW5kT2Zmc2V0IC0gY3VycmVudFBhcmVudC5vZmZzZXQ7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gY3VycmVudFBhcmVudC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb25WYWx1ZSh2YWx1ZU5vZGUpIHtcbiAgICAgICAgY3VycmVudFBhcmVudC5jaGlsZHJlbi5wdXNoKHZhbHVlTm9kZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZU5vZGU7XG4gICAgfVxuICAgIHZhciB2aXNpdG9yID0ge1xuICAgICAgICBvbk9iamVjdEJlZ2luOiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gb25WYWx1ZSh7IHR5cGU6ICdvYmplY3QnLCBvZmZzZXQ6IG9mZnNldCwgbGVuZ3RoOiAtMSwgcGFyZW50OiBjdXJyZW50UGFyZW50LCBjaGlsZHJlbjogW10gfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uT2JqZWN0UHJvcGVydHk6IGZ1bmN0aW9uIChuYW1lLCBvZmZzZXQsIGxlbmd0aCkge1xuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IG9uVmFsdWUoeyB0eXBlOiAncHJvcGVydHknLCBvZmZzZXQ6IG9mZnNldCwgbGVuZ3RoOiAtMSwgcGFyZW50OiBjdXJyZW50UGFyZW50LCBjaGlsZHJlbjogW10gfSk7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50LmNoaWxkcmVuLnB1c2goeyB0eXBlOiAnc3RyaW5nJywgdmFsdWU6IG5hbWUsIG9mZnNldDogb2Zmc2V0LCBsZW5ndGg6IGxlbmd0aCwgcGFyZW50OiBjdXJyZW50UGFyZW50IH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbk9iamVjdEVuZDogZnVuY3Rpb24gKG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBlbnN1cmVQcm9wZXJ0eUNvbXBsZXRlKG9mZnNldCArIGxlbmd0aCk7IC8vIGluIGNhc2Ugb2YgYSBtaXNzaW5nIHZhbHVlIGZvciBhIHByb3BlcnR5OiBtYWtlIHN1cmUgcHJvcGVydHkgaXMgY29tcGxldGVcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQubGVuZ3RoID0gb2Zmc2V0ICsgbGVuZ3RoIC0gY3VycmVudFBhcmVudC5vZmZzZXQ7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gY3VycmVudFBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICBlbnN1cmVQcm9wZXJ0eUNvbXBsZXRlKG9mZnNldCArIGxlbmd0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQXJyYXlCZWdpbjogZnVuY3Rpb24gKG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gb25WYWx1ZSh7IHR5cGU6ICdhcnJheScsIG9mZnNldDogb2Zmc2V0LCBsZW5ndGg6IC0xLCBwYXJlbnQ6IGN1cnJlbnRQYXJlbnQsIGNoaWxkcmVuOiBbXSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25BcnJheUVuZDogZnVuY3Rpb24gKG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50Lmxlbmd0aCA9IG9mZnNldCArIGxlbmd0aCAtIGN1cnJlbnRQYXJlbnQub2Zmc2V0O1xuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IGN1cnJlbnRQYXJlbnQucGFyZW50O1xuICAgICAgICAgICAgZW5zdXJlUHJvcGVydHlDb21wbGV0ZShvZmZzZXQgKyBsZW5ndGgpO1xuICAgICAgICB9LFxuICAgICAgICBvbkxpdGVyYWxWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIGxlbmd0aCkge1xuICAgICAgICAgICAgb25WYWx1ZSh7IHR5cGU6IGdldE5vZGVUeXBlKHZhbHVlKSwgb2Zmc2V0OiBvZmZzZXQsIGxlbmd0aDogbGVuZ3RoLCBwYXJlbnQ6IGN1cnJlbnRQYXJlbnQsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgIGVuc3VyZVByb3BlcnR5Q29tcGxldGUob2Zmc2V0ICsgbGVuZ3RoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25TZXBhcmF0b3I6IGZ1bmN0aW9uIChzZXAsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFBhcmVudC50eXBlID09PSAncHJvcGVydHknKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlcCA9PT0gJzonKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQuY29sb25PZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlcCA9PT0gJywnKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuc3VyZVByb3BlcnR5Q29tcGxldGUob2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChlcnJvciwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHsgZXJyb3I6IGVycm9yLCBvZmZzZXQ6IG9mZnNldCwgbGVuZ3RoOiBsZW5ndGggfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZpc2l0KHRleHQsIHZpc2l0b3IsIG9wdGlvbnMpO1xuICAgIHZhciByZXN1bHQgPSBjdXJyZW50UGFyZW50LmNoaWxkcmVuWzBdO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgZGVsZXRlIHJlc3VsdC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEZpbmRzIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBwYXRoIGluIGEgSlNPTiBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTm9kZUF0TG9jYXRpb24ocm9vdCwgcGF0aCkge1xuICAgIGlmICghcm9vdCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB2YXIgbm9kZSA9IHJvb3Q7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBwYXRoXzEgPSBwYXRoOyBfaSA8IHBhdGhfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIHNlZ21lbnQgPSBwYXRoXzFbX2ldO1xuICAgICAgICBpZiAodHlwZW9mIHNlZ21lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAobm9kZS50eXBlICE9PSAnb2JqZWN0JyB8fCAhQXJyYXkuaXNBcnJheShub2RlLmNoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgX2IgPSBub2RlLmNoaWxkcmVuOyBfYSA8IF9iLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5vZGUgPSBfYltfYV07XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcGVydHlOb2RlLmNoaWxkcmVuKSAmJiBwcm9wZXJ0eU5vZGUuY2hpbGRyZW5bMF0udmFsdWUgPT09IHNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHByb3BlcnR5Tm9kZS5jaGlsZHJlblsxXTtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHNlZ21lbnQ7XG4gICAgICAgICAgICBpZiAobm9kZS50eXBlICE9PSAnYXJyYXknIHx8IGluZGV4IDwgMCB8fCAhQXJyYXkuaXNBcnJheShub2RlLmNoaWxkcmVuKSB8fCBpbmRleCA+PSBub2RlLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZHJlbltpbmRleF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG59XG4vKipcbiAqIEdldHMgdGhlIEpTT04gcGF0aCBvZiB0aGUgZ2l2ZW4gSlNPTiBET00gbm9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVBhdGgobm9kZSkge1xuICAgIGlmICghbm9kZS5wYXJlbnQgfHwgIW5vZGUucGFyZW50LmNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdmFyIHBhdGggPSBnZXROb2RlUGF0aChub2RlLnBhcmVudCk7XG4gICAgaWYgKG5vZGUucGFyZW50LnR5cGUgPT09ICdwcm9wZXJ0eScpIHtcbiAgICAgICAgdmFyIGtleSA9IG5vZGUucGFyZW50LmNoaWxkcmVuWzBdLnZhbHVlO1xuICAgICAgICBwYXRoLnB1c2goa2V5KTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZS5wYXJlbnQudHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICB2YXIgaW5kZXggPSBub2RlLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKG5vZGUpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBwYXRoLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXRoO1xufVxuLyoqXG4gKiBFdmFsdWF0ZXMgdGhlIEphdmFTY3JpcHQgb2JqZWN0IG9mIHRoZSBnaXZlbiBKU09OIERPTSBub2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlVmFsdWUobm9kZSkge1xuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBub2RlLmNoaWxkcmVuLm1hcChnZXROb2RlVmFsdWUpO1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgdmFyIG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gbm9kZS5jaGlsZHJlbjsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVOb2RlID0gcHJvcC5jaGlsZHJlblsxXTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtwcm9wLmNoaWxkcmVuWzBdLnZhbHVlXSA9IGdldE5vZGVWYWx1ZSh2YWx1ZU5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIGNhc2UgJ251bGwnOlxuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgIHJldHVybiBub2RlLnZhbHVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnMobm9kZSwgb2Zmc2V0LCBpbmNsdWRlUmlnaHRCb3VuZCkge1xuICAgIGlmIChpbmNsdWRlUmlnaHRCb3VuZCA9PT0gdm9pZCAwKSB7IGluY2x1ZGVSaWdodEJvdW5kID0gZmFsc2U7IH1cbiAgICByZXR1cm4gKG9mZnNldCA+PSBub2RlLm9mZnNldCAmJiBvZmZzZXQgPCAobm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCkpIHx8IGluY2x1ZGVSaWdodEJvdW5kICYmIChvZmZzZXQgPT09IChub2RlLm9mZnNldCArIG5vZGUubGVuZ3RoKSk7XG59XG4vKipcbiAqIEZpbmRzIHRoZSBtb3N0IGlubmVyIG5vZGUgYXQgdGhlIGdpdmVuIG9mZnNldC4gSWYgaW5jbHVkZVJpZ2h0Qm91bmQgaXMgc2V0LCBhbHNvIGZpbmRzIG5vZGVzIHRoYXQgZW5kIGF0IHRoZSBnaXZlbiBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTm9kZUF0T2Zmc2V0KG5vZGUsIG9mZnNldCwgaW5jbHVkZVJpZ2h0Qm91bmQpIHtcbiAgICBpZiAoaW5jbHVkZVJpZ2h0Qm91bmQgPT09IHZvaWQgMCkgeyBpbmNsdWRlUmlnaHRCb3VuZCA9IGZhbHNlOyB9XG4gICAgaWYgKGNvbnRhaW5zKG5vZGUsIG9mZnNldCwgaW5jbHVkZVJpZ2h0Qm91bmQpKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGggJiYgY2hpbGRyZW5baV0ub2Zmc2V0IDw9IG9mZnNldDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBmaW5kTm9kZUF0T2Zmc2V0KGNoaWxkcmVuW2ldLCBvZmZzZXQsIGluY2x1ZGVSaWdodEJvdW5kKTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vKipcbiAqIFBhcnNlcyB0aGUgZ2l2ZW4gdGV4dCBhbmQgaW52b2tlcyB0aGUgdmlzaXRvciBmdW5jdGlvbnMgZm9yIGVhY2ggb2JqZWN0LCBhcnJheSBhbmQgbGl0ZXJhbCByZWFjaGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmlzaXQodGV4dCwgdmlzaXRvciwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IFBhcnNlT3B0aW9ucy5ERUZBVUxUOyB9XG4gICAgdmFyIF9zY2FubmVyID0gY3JlYXRlU2Nhbm5lcih0ZXh0LCBmYWxzZSk7XG4gICAgZnVuY3Rpb24gdG9Ob0FyZ1Zpc2l0KHZpc2l0RnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0RnVuY3Rpb24gPyBmdW5jdGlvbiAoKSB7IHJldHVybiB2aXNpdEZ1bmN0aW9uKF9zY2FubmVyLmdldFRva2VuT2Zmc2V0KCksIF9zY2FubmVyLmdldFRva2VuTGVuZ3RoKCksIF9zY2FubmVyLmdldFRva2VuU3RhcnRMaW5lKCksIF9zY2FubmVyLmdldFRva2VuU3RhcnRDaGFyYWN0ZXIoKSk7IH0gOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b09uZUFyZ1Zpc2l0KHZpc2l0RnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0RnVuY3Rpb24gPyBmdW5jdGlvbiAoYXJnKSB7IHJldHVybiB2aXNpdEZ1bmN0aW9uKGFyZywgX3NjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSwgX3NjYW5uZXIuZ2V0VG9rZW5MZW5ndGgoKSwgX3NjYW5uZXIuZ2V0VG9rZW5TdGFydExpbmUoKSwgX3NjYW5uZXIuZ2V0VG9rZW5TdGFydENoYXJhY3RlcigpKTsgfSA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgfVxuICAgIHZhciBvbk9iamVjdEJlZ2luID0gdG9Ob0FyZ1Zpc2l0KHZpc2l0b3Iub25PYmplY3RCZWdpbiksIG9uT2JqZWN0UHJvcGVydHkgPSB0b09uZUFyZ1Zpc2l0KHZpc2l0b3Iub25PYmplY3RQcm9wZXJ0eSksIG9uT2JqZWN0RW5kID0gdG9Ob0FyZ1Zpc2l0KHZpc2l0b3Iub25PYmplY3RFbmQpLCBvbkFycmF5QmVnaW4gPSB0b05vQXJnVmlzaXQodmlzaXRvci5vbkFycmF5QmVnaW4pLCBvbkFycmF5RW5kID0gdG9Ob0FyZ1Zpc2l0KHZpc2l0b3Iub25BcnJheUVuZCksIG9uTGl0ZXJhbFZhbHVlID0gdG9PbmVBcmdWaXNpdCh2aXNpdG9yLm9uTGl0ZXJhbFZhbHVlKSwgb25TZXBhcmF0b3IgPSB0b09uZUFyZ1Zpc2l0KHZpc2l0b3Iub25TZXBhcmF0b3IpLCBvbkNvbW1lbnQgPSB0b05vQXJnVmlzaXQodmlzaXRvci5vbkNvbW1lbnQpLCBvbkVycm9yID0gdG9PbmVBcmdWaXNpdCh2aXNpdG9yLm9uRXJyb3IpO1xuICAgIHZhciBkaXNhbGxvd0NvbW1lbnRzID0gb3B0aW9ucyAmJiBvcHRpb25zLmRpc2FsbG93Q29tbWVudHM7XG4gICAgdmFyIGFsbG93VHJhaWxpbmdDb21tYSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5hbGxvd1RyYWlsaW5nQ29tbWE7XG4gICAgZnVuY3Rpb24gc2Nhbk5leHQoKSB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSBfc2Nhbm5lci5zY2FuKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKF9zY2FubmVyLmdldFRva2VuRXJyb3IoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBJbnZhbGlkVW5pY29kZSAqLzpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoMTQgLyogSW52YWxpZFVuaWNvZGUgKi8pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDUgLyogSW52YWxpZEVzY2FwZUNoYXJhY3RlciAqLzpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoMTUgLyogSW52YWxpZEVzY2FwZUNoYXJhY3RlciAqLyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBVbmV4cGVjdGVkRW5kT2ZOdW1iZXIgKi86XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKDEzIC8qIFVuZXhwZWN0ZWRFbmRPZk51bWJlciAqLyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBVbmV4cGVjdGVkRW5kT2ZDb21tZW50ICovOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRpc2FsbG93Q29tbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKDExIC8qIFVuZXhwZWN0ZWRFbmRPZkNvbW1lbnQgKi8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBVbmV4cGVjdGVkRW5kT2ZTdHJpbmcgKi86XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKDEyIC8qIFVuZXhwZWN0ZWRFbmRPZlN0cmluZyAqLyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNiAvKiBJbnZhbGlkQ2hhcmFjdGVyICovOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcigxNiAvKiBJbnZhbGlkQ2hhcmFjdGVyICovKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxMiAvKiBMaW5lQ29tbWVudFRyaXZpYSAqLzpcbiAgICAgICAgICAgICAgICBjYXNlIDEzIC8qIEJsb2NrQ29tbWVudFRyaXZpYSAqLzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc2FsbG93Q29tbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKDEwIC8qIEludmFsaWRDb21tZW50VG9rZW4gKi8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25Db21tZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxNiAvKiBVbmtub3duICovOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcigxIC8qIEludmFsaWRTeW1ib2wgKi8pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE1IC8qIFRyaXZpYSAqLzpcbiAgICAgICAgICAgICAgICBjYXNlIDE0IC8qIExpbmVCcmVha1RyaXZpYSAqLzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycm9yLCBza2lwVW50aWxBZnRlciwgc2tpcFVudGlsKSB7XG4gICAgICAgIGlmIChza2lwVW50aWxBZnRlciA9PT0gdm9pZCAwKSB7IHNraXBVbnRpbEFmdGVyID0gW107IH1cbiAgICAgICAgaWYgKHNraXBVbnRpbCA9PT0gdm9pZCAwKSB7IHNraXBVbnRpbCA9IFtdOyB9XG4gICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICBpZiAoc2tpcFVudGlsQWZ0ZXIubGVuZ3RoICsgc2tpcFVudGlsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IF9zY2FubmVyLmdldFRva2VuKCk7XG4gICAgICAgICAgICB3aGlsZSAodG9rZW4gIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICAgICAgICAgIGlmIChza2lwVW50aWxBZnRlci5pbmRleE9mKHRva2VuKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nhbk5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNraXBVbnRpbC5pbmRleE9mKHRva2VuKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2VuID0gc2Nhbk5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZVN0cmluZyhpc1ZhbHVlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IF9zY2FubmVyLmdldFRva2VuVmFsdWUoKTtcbiAgICAgICAgaWYgKGlzVmFsdWUpIHtcbiAgICAgICAgICAgIG9uTGl0ZXJhbFZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9uT2JqZWN0UHJvcGVydHkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHNjYW5OZXh0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZUxpdGVyYWwoKSB7XG4gICAgICAgIHN3aXRjaCAoX3NjYW5uZXIuZ2V0VG9rZW4oKSkge1xuICAgICAgICAgICAgY2FzZSAxMSAvKiBOdW1lcmljTGl0ZXJhbCAqLzpcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW5WYWx1ZSA9IF9zY2FubmVyLmdldFRva2VuVmFsdWUoKTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBOdW1iZXIodG9rZW5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcigyIC8qIEludmFsaWROdW1iZXJGb3JtYXQgKi8pO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uTGl0ZXJhbFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNyAvKiBOdWxsS2V5d29yZCAqLzpcbiAgICAgICAgICAgICAgICBvbkxpdGVyYWxWYWx1ZShudWxsKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgOCAvKiBUcnVlS2V5d29yZCAqLzpcbiAgICAgICAgICAgICAgICBvbkxpdGVyYWxWYWx1ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgOSAvKiBGYWxzZUtleXdvcmQgKi86XG4gICAgICAgICAgICAgICAgb25MaXRlcmFsVmFsdWUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc2Nhbk5leHQoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlUHJvcGVydHkoKSB7XG4gICAgICAgIGlmIChfc2Nhbm5lci5nZXRUb2tlbigpICE9PSAxMCAvKiBTdHJpbmdMaXRlcmFsICovKSB7XG4gICAgICAgICAgICBoYW5kbGVFcnJvcigzIC8qIFByb3BlcnR5TmFtZUV4cGVjdGVkICovLCBbXSwgWzIgLyogQ2xvc2VCcmFjZVRva2VuICovLCA1IC8qIENvbW1hVG9rZW4gKi9dKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZVN0cmluZyhmYWxzZSk7XG4gICAgICAgIGlmIChfc2Nhbm5lci5nZXRUb2tlbigpID09PSA2IC8qIENvbG9uVG9rZW4gKi8pIHtcbiAgICAgICAgICAgIG9uU2VwYXJhdG9yKCc6Jyk7XG4gICAgICAgICAgICBzY2FuTmV4dCgpOyAvLyBjb25zdW1lIGNvbG9uXG4gICAgICAgICAgICBpZiAoIXBhcnNlVmFsdWUoKSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKDQgLyogVmFsdWVFeHBlY3RlZCAqLywgW10sIFsyIC8qIENsb3NlQnJhY2VUb2tlbiAqLywgNSAvKiBDb21tYVRva2VuICovXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVFcnJvcig1IC8qIENvbG9uRXhwZWN0ZWQgKi8sIFtdLCBbMiAvKiBDbG9zZUJyYWNlVG9rZW4gKi8sIDUgLyogQ29tbWFUb2tlbiAqL10pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZU9iamVjdCgpIHtcbiAgICAgICAgb25PYmplY3RCZWdpbigpO1xuICAgICAgICBzY2FuTmV4dCgpOyAvLyBjb25zdW1lIG9wZW4gYnJhY2VcbiAgICAgICAgdmFyIG5lZWRzQ29tbWEgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKF9zY2FubmVyLmdldFRva2VuKCkgIT09IDIgLyogQ2xvc2VCcmFjZVRva2VuICovICYmIF9zY2FubmVyLmdldFRva2VuKCkgIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICAgICAgaWYgKF9zY2FubmVyLmdldFRva2VuKCkgPT09IDUgLyogQ29tbWFUb2tlbiAqLykge1xuICAgICAgICAgICAgICAgIGlmICghbmVlZHNDb21tYSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcig0IC8qIFZhbHVlRXhwZWN0ZWQgKi8sIFtdLCBbXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uU2VwYXJhdG9yKCcsJyk7XG4gICAgICAgICAgICAgICAgc2Nhbk5leHQoKTsgLy8gY29uc3VtZSBjb21tYVxuICAgICAgICAgICAgICAgIGlmIChfc2Nhbm5lci5nZXRUb2tlbigpID09PSAyIC8qIENsb3NlQnJhY2VUb2tlbiAqLyAmJiBhbGxvd1RyYWlsaW5nQ29tbWEpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmVlZHNDb21tYSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKDYgLyogQ29tbWFFeHBlY3RlZCAqLywgW10sIFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcGFyc2VQcm9wZXJ0eSgpKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoNCAvKiBWYWx1ZUV4cGVjdGVkICovLCBbXSwgWzIgLyogQ2xvc2VCcmFjZVRva2VuICovLCA1IC8qIENvbW1hVG9rZW4gKi9dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5lZWRzQ29tbWEgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIG9uT2JqZWN0RW5kKCk7XG4gICAgICAgIGlmIChfc2Nhbm5lci5nZXRUb2tlbigpICE9PSAyIC8qIENsb3NlQnJhY2VUb2tlbiAqLykge1xuICAgICAgICAgICAgaGFuZGxlRXJyb3IoNyAvKiBDbG9zZUJyYWNlRXhwZWN0ZWQgKi8sIFsyIC8qIENsb3NlQnJhY2VUb2tlbiAqL10sIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNjYW5OZXh0KCk7IC8vIGNvbnN1bWUgY2xvc2UgYnJhY2VcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VBcnJheSgpIHtcbiAgICAgICAgb25BcnJheUJlZ2luKCk7XG4gICAgICAgIHNjYW5OZXh0KCk7IC8vIGNvbnN1bWUgb3BlbiBicmFja2V0XG4gICAgICAgIHZhciBuZWVkc0NvbW1hID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChfc2Nhbm5lci5nZXRUb2tlbigpICE9PSA0IC8qIENsb3NlQnJhY2tldFRva2VuICovICYmIF9zY2FubmVyLmdldFRva2VuKCkgIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICAgICAgaWYgKF9zY2FubmVyLmdldFRva2VuKCkgPT09IDUgLyogQ29tbWFUb2tlbiAqLykge1xuICAgICAgICAgICAgICAgIGlmICghbmVlZHNDb21tYSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcig0IC8qIFZhbHVlRXhwZWN0ZWQgKi8sIFtdLCBbXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uU2VwYXJhdG9yKCcsJyk7XG4gICAgICAgICAgICAgICAgc2Nhbk5leHQoKTsgLy8gY29uc3VtZSBjb21tYVxuICAgICAgICAgICAgICAgIGlmIChfc2Nhbm5lci5nZXRUb2tlbigpID09PSA0IC8qIENsb3NlQnJhY2tldFRva2VuICovICYmIGFsbG93VHJhaWxpbmdDb21tYSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChuZWVkc0NvbW1hKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoNiAvKiBDb21tYUV4cGVjdGVkICovLCBbXSwgW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwYXJzZVZhbHVlKCkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcig0IC8qIFZhbHVlRXhwZWN0ZWQgKi8sIFtdLCBbNCAvKiBDbG9zZUJyYWNrZXRUb2tlbiAqLywgNSAvKiBDb21tYVRva2VuICovXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZWVkc0NvbW1hID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBvbkFycmF5RW5kKCk7XG4gICAgICAgIGlmIChfc2Nhbm5lci5nZXRUb2tlbigpICE9PSA0IC8qIENsb3NlQnJhY2tldFRva2VuICovKSB7XG4gICAgICAgICAgICBoYW5kbGVFcnJvcig4IC8qIENsb3NlQnJhY2tldEV4cGVjdGVkICovLCBbNCAvKiBDbG9zZUJyYWNrZXRUb2tlbiAqL10sIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNjYW5OZXh0KCk7IC8vIGNvbnN1bWUgY2xvc2UgYnJhY2tldFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZVZhbHVlKCkge1xuICAgICAgICBzd2l0Y2ggKF9zY2FubmVyLmdldFRva2VuKCkpIHtcbiAgICAgICAgICAgIGNhc2UgMyAvKiBPcGVuQnJhY2tldFRva2VuICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUFycmF5KCk7XG4gICAgICAgICAgICBjYXNlIDEgLyogT3BlbkJyYWNlVG9rZW4gKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlT2JqZWN0KCk7XG4gICAgICAgICAgICBjYXNlIDEwIC8qIFN0cmluZ0xpdGVyYWwgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlU3RyaW5nKHRydWUpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VMaXRlcmFsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2Nhbk5leHQoKTtcbiAgICBpZiAoX3NjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gMTcgLyogRU9GICovKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmFsbG93RW1wdHlDb250ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVFcnJvcig0IC8qIFZhbHVlRXhwZWN0ZWQgKi8sIFtdLCBbXSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFwYXJzZVZhbHVlKCkpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoNCAvKiBWYWx1ZUV4cGVjdGVkICovLCBbXSwgW10pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChfc2Nhbm5lci5nZXRUb2tlbigpICE9PSAxNyAvKiBFT0YgKi8pIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoOSAvKiBFbmRPZkZpbGVFeHBlY3RlZCAqLywgW10sIFtdKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFRha2VzIEpTT04gd2l0aCBKYXZhU2NyaXB0LXN0eWxlIGNvbW1lbnRzIGFuZCByZW1vdmVcbiAqIHRoZW0uIE9wdGlvbmFsbHkgcmVwbGFjZXMgZXZlcnkgbm9uZS1uZXdsaW5lIGNoYXJhY3RlclxuICogb2YgY29tbWVudHMgd2l0aCBhIHJlcGxhY2VDaGFyYWN0ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwQ29tbWVudHModGV4dCwgcmVwbGFjZUNoKSB7XG4gICAgdmFyIF9zY2FubmVyID0gY3JlYXRlU2Nhbm5lcih0ZXh0KSwgcGFydHMgPSBbXSwga2luZCwgb2Zmc2V0ID0gMCwgcG9zO1xuICAgIGRvIHtcbiAgICAgICAgcG9zID0gX3NjYW5uZXIuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAga2luZCA9IF9zY2FubmVyLnNjYW4oKTtcbiAgICAgICAgc3dpdGNoIChraW5kKSB7XG4gICAgICAgICAgICBjYXNlIDEyIC8qIExpbmVDb21tZW50VHJpdmlhICovOlxuICAgICAgICAgICAgY2FzZSAxMyAvKiBCbG9ja0NvbW1lbnRUcml2aWEgKi86XG4gICAgICAgICAgICBjYXNlIDE3IC8qIEVPRiAqLzpcbiAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ICE9PSBwb3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh0ZXh0LnN1YnN0cmluZyhvZmZzZXQsIHBvcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVwbGFjZUNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaChfc2Nhbm5lci5nZXRUb2tlblZhbHVlKCkucmVwbGFjZSgvW15cXHJcXG5dL2csIHJlcGxhY2VDaCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBfc2Nhbm5lci5nZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoa2luZCAhPT0gMTcgLyogRU9GICovKTtcbiAgICByZXR1cm4gcGFydHMuam9pbignJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVR5cGUodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlICdib29sZWFuJzogcmV0dXJuICdib29sZWFuJztcbiAgICAgICAgY2FzZSAnbnVtYmVyJzogcmV0dXJuICdudW1iZXInO1xuICAgICAgICBjYXNlICdzdHJpbmcnOiByZXR1cm4gJ3N0cmluZyc7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6IHtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ251bGwnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FycmF5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnb2JqZWN0JztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiByZXR1cm4gJ251bGwnO1xuICAgIH1cbn1cbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IGZvcm1hdCwgaXNFT0wgfSBmcm9tICcuL2Zvcm1hdC5qcyc7XG5pbXBvcnQgeyBwYXJzZVRyZWUsIGZpbmROb2RlQXRMb2NhdGlvbiB9IGZyb20gJy4vcGFyc2VyLmpzJztcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVQcm9wZXJ0eSh0ZXh0LCBwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHNldFByb3BlcnR5KHRleHQsIHBhdGgsIHZvaWQgMCwgb3B0aW9ucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvcGVydHkodGV4dCwgb3JpZ2luYWxQYXRoLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICB2YXIgcGF0aCA9IG9yaWdpbmFsUGF0aC5zbGljZSgpO1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICB2YXIgcm9vdCA9IHBhcnNlVHJlZSh0ZXh0LCBlcnJvcnMpO1xuICAgIHZhciBwYXJlbnQgPSB2b2lkIDA7XG4gICAgdmFyIGxhc3RTZWdtZW50ID0gdm9pZCAwO1xuICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGFzdFNlZ21lbnQgPSBwYXRoLnBvcCgpO1xuICAgICAgICBwYXJlbnQgPSBmaW5kTm9kZUF0TG9jYXRpb24ocm9vdCwgcGF0aCk7XG4gICAgICAgIGlmIChwYXJlbnQgPT09IHZvaWQgMCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGxhc3RTZWdtZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gKF9hID0ge30sIF9hW2xhc3RTZWdtZW50XSA9IHZhbHVlLCBfYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IFt2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAvLyBlbXB0eSBkb2N1bWVudFxuICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyAvLyBkZWxldGVcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCBkZWxldGUgaW4gZW1wdHkgZG9jdW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2l0aEZvcm1hdHRpbmcodGV4dCwgeyBvZmZzZXQ6IHJvb3QgPyByb290Lm9mZnNldCA6IDAsIGxlbmd0aDogcm9vdCA/IHJvb3QubGVuZ3RoIDogMCwgY29udGVudDogSlNPTi5zdHJpbmdpZnkodmFsdWUpIH0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChwYXJlbnQudHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGxhc3RTZWdtZW50ID09PSAnc3RyaW5nJyAmJiBBcnJheS5pc0FycmF5KHBhcmVudC5jaGlsZHJlbikpIHtcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gZmluZE5vZGVBdExvY2F0aW9uKHBhcmVudCwgW2xhc3RTZWdtZW50XSk7XG4gICAgICAgIGlmIChleGlzdGluZyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyAvLyBkZWxldGVcbiAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nLnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCBBU1QnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5SW5kZXggPSBwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihleGlzdGluZy5wYXJlbnQpO1xuICAgICAgICAgICAgICAgIHZhciByZW1vdmVCZWdpbiA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlRW5kID0gZXhpc3RpbmcucGFyZW50Lm9mZnNldCArIGV4aXN0aW5nLnBhcmVudC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5SW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgY29tbWEgb2YgdGhlIHByZXZpb3VzIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzID0gcGFyZW50LmNoaWxkcmVuW3Byb3BlcnR5SW5kZXggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQmVnaW4gPSBwcmV2aW91cy5vZmZzZXQgKyBwcmV2aW91cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVCZWdpbiA9IHBhcmVudC5vZmZzZXQgKyAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LmNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgY29tbWEgb2YgdGhlIG5leHQgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHQgPSBwYXJlbnQuY2hpbGRyZW5bMV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbmQgPSBuZXh0Lm9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gd2l0aEZvcm1hdHRpbmcodGV4dCwgeyBvZmZzZXQ6IHJlbW92ZUJlZ2luLCBsZW5ndGg6IHJlbW92ZUVuZCAtIHJlbW92ZUJlZ2luLCBjb250ZW50OiAnJyB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHNldCB2YWx1ZSBvZiBleGlzdGluZyBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIHJldHVybiB3aXRoRm9ybWF0dGluZyh0ZXh0LCB7IG9mZnNldDogZXhpc3Rpbmcub2Zmc2V0LCBsZW5ndGg6IGV4aXN0aW5nLmxlbmd0aCwgY29udGVudDogSlNPTi5zdHJpbmdpZnkodmFsdWUpIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHsgLy8gZGVsZXRlXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdOyAvLyBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdCwgbm90aGluZyB0byBkb1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5ld1Byb3BlcnR5ID0gSlNPTi5zdHJpbmdpZnkobGFzdFNlZ21lbnQpICsgXCI6IFwiICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gb3B0aW9ucy5nZXRJbnNlcnRpb25JbmRleCA/IG9wdGlvbnMuZ2V0SW5zZXJ0aW9uSW5kZXgocGFyZW50LmNoaWxkcmVuLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gcC5jaGlsZHJlblswXS52YWx1ZTsgfSkpIDogcGFyZW50LmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBlZGl0ID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IHBhcmVudC5jaGlsZHJlbltpbmRleCAtIDFdO1xuICAgICAgICAgICAgICAgIGVkaXQgPSB7IG9mZnNldDogcHJldmlvdXMub2Zmc2V0ICsgcHJldmlvdXMubGVuZ3RoLCBsZW5ndGg6IDAsIGNvbnRlbnQ6ICcsJyArIG5ld1Byb3BlcnR5IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZWRpdCA9IHsgb2Zmc2V0OiBwYXJlbnQub2Zmc2V0ICsgMSwgbGVuZ3RoOiAwLCBjb250ZW50OiBuZXdQcm9wZXJ0eSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWRpdCA9IHsgb2Zmc2V0OiBwYXJlbnQub2Zmc2V0ICsgMSwgbGVuZ3RoOiAwLCBjb250ZW50OiBuZXdQcm9wZXJ0eSArICcsJyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHdpdGhGb3JtYXR0aW5nKHRleHQsIGVkaXQsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHBhcmVudC50eXBlID09PSAnYXJyYXknICYmIHR5cGVvZiBsYXN0U2VnbWVudCA9PT0gJ251bWJlcicgJiYgQXJyYXkuaXNBcnJheShwYXJlbnQuY2hpbGRyZW4pKSB7XG4gICAgICAgIHZhciBpbnNlcnRJbmRleCA9IGxhc3RTZWdtZW50O1xuICAgICAgICBpZiAoaW5zZXJ0SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBJbnNlcnRcbiAgICAgICAgICAgIHZhciBuZXdQcm9wZXJ0eSA9IFwiXCIgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICB2YXIgZWRpdCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZWRpdCA9IHsgb2Zmc2V0OiBwYXJlbnQub2Zmc2V0ICsgMSwgbGVuZ3RoOiAwLCBjb250ZW50OiBuZXdQcm9wZXJ0eSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzID0gcGFyZW50LmNoaWxkcmVuW3BhcmVudC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBlZGl0ID0geyBvZmZzZXQ6IHByZXZpb3VzLm9mZnNldCArIHByZXZpb3VzLmxlbmd0aCwgbGVuZ3RoOiAwLCBjb250ZW50OiAnLCcgKyBuZXdQcm9wZXJ0eSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHdpdGhGb3JtYXR0aW5nKHRleHQsIGVkaXQsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSB2b2lkIDAgJiYgcGFyZW50LmNoaWxkcmVuLmxlbmd0aCA+PSAwKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmFsXG4gICAgICAgICAgICB2YXIgcmVtb3ZhbEluZGV4ID0gbGFzdFNlZ21lbnQ7XG4gICAgICAgICAgICB2YXIgdG9SZW1vdmUgPSBwYXJlbnQuY2hpbGRyZW5bcmVtb3ZhbEluZGV4XTtcbiAgICAgICAgICAgIHZhciBlZGl0ID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHBhcmVudC5jaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBvbmx5IGl0ZW1cbiAgICAgICAgICAgICAgICBlZGl0ID0geyBvZmZzZXQ6IHBhcmVudC5vZmZzZXQgKyAxLCBsZW5ndGg6IHBhcmVudC5sZW5ndGggLSAyLCBjb250ZW50OiAnJyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyZW50LmNoaWxkcmVuLmxlbmd0aCAtIDEgPT09IHJlbW92YWxJbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIGxhc3QgaXRlbVxuICAgICAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IHBhcmVudC5jaGlsZHJlbltyZW1vdmFsSW5kZXggLSAxXTtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gcHJldmlvdXMub2Zmc2V0ICsgcHJldmlvdXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRFbmRPZmZzZXQgPSBwYXJlbnQub2Zmc2V0ICsgcGFyZW50Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICBlZGl0ID0geyBvZmZzZXQ6IG9mZnNldCwgbGVuZ3RoOiBwYXJlbnRFbmRPZmZzZXQgLSAyIC0gb2Zmc2V0LCBjb250ZW50OiAnJyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWRpdCA9IHsgb2Zmc2V0OiB0b1JlbW92ZS5vZmZzZXQsIGxlbmd0aDogcGFyZW50LmNoaWxkcmVuW3JlbW92YWxJbmRleCArIDFdLm9mZnNldCAtIHRvUmVtb3ZlLm9mZnNldCwgY29udGVudDogJycgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB3aXRoRm9ybWF0dGluZyh0ZXh0LCBlZGl0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB2YXIgZWRpdCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBuZXdQcm9wZXJ0eSA9IFwiXCIgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuaXNBcnJheUluc2VydGlvbiAmJiBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoID4gbGFzdFNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9Nb2RpZnkgPSBwYXJlbnQuY2hpbGRyZW5bbGFzdFNlZ21lbnRdO1xuICAgICAgICAgICAgICAgIGVkaXQgPSB7IG9mZnNldDogdG9Nb2RpZnkub2Zmc2V0LCBsZW5ndGg6IHRvTW9kaWZ5Lmxlbmd0aCwgY29udGVudDogbmV3UHJvcGVydHkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmVudC5jaGlsZHJlbi5sZW5ndGggPT09IDAgfHwgbGFzdFNlZ21lbnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBlZGl0ID0geyBvZmZzZXQ6IHBhcmVudC5vZmZzZXQgKyAxLCBsZW5ndGg6IDAsIGNvbnRlbnQ6IHBhcmVudC5jaGlsZHJlbi5sZW5ndGggPT09IDAgPyBuZXdQcm9wZXJ0eSA6IG5ld1Byb3BlcnR5ICsgJywnIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBsYXN0U2VnbWVudCA+IHBhcmVudC5jaGlsZHJlbi5sZW5ndGggPyBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIDogbGFzdFNlZ21lbnQ7XG4gICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzID0gcGFyZW50LmNoaWxkcmVuW2luZGV4IC0gMV07XG4gICAgICAgICAgICAgICAgZWRpdCA9IHsgb2Zmc2V0OiBwcmV2aW91cy5vZmZzZXQgKyBwcmV2aW91cy5sZW5ndGgsIGxlbmd0aDogMCwgY29udGVudDogJywnICsgbmV3UHJvcGVydHkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB3aXRoRm9ybWF0dGluZyh0ZXh0LCBlZGl0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgXCIgKyAodmFsdWUgPT09IHZvaWQgMCA/ICdyZW1vdmUnIDogKG9wdGlvbnMuaXNBcnJheUluc2VydGlvbiA/ICdpbnNlcnQnIDogJ21vZGlmeScpKSArIFwiIEFycmF5IGluZGV4IFwiICsgaW5zZXJ0SW5kZXggKyBcIiBhcyBsZW5ndGggaXMgbm90IHN1ZmZpY2llbnRcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgYWRkIFwiICsgKHR5cGVvZiBsYXN0U2VnbWVudCAhPT0gJ251bWJlcicgPyAnaW5kZXgnIDogJ3Byb3BlcnR5JykgKyBcIiB0byBwYXJlbnQgb2YgdHlwZSBcIiArIHBhcmVudC50eXBlKTtcbiAgICB9XG59XG5mdW5jdGlvbiB3aXRoRm9ybWF0dGluZyh0ZXh0LCBlZGl0LCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zLmZvcm1hdHRpbmdPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBbZWRpdF07XG4gICAgfVxuICAgIC8vIGFwcGx5IHRoZSBlZGl0XG4gICAgdmFyIG5ld1RleHQgPSBhcHBseUVkaXQodGV4dCwgZWRpdCk7XG4gICAgLy8gZm9ybWF0IHRoZSBuZXcgdGV4dFxuICAgIHZhciBiZWdpbiA9IGVkaXQub2Zmc2V0O1xuICAgIHZhciBlbmQgPSBlZGl0Lm9mZnNldCArIGVkaXQuY29udGVudC5sZW5ndGg7XG4gICAgaWYgKGVkaXQubGVuZ3RoID09PSAwIHx8IGVkaXQuY29udGVudC5sZW5ndGggPT09IDApIHsgLy8gaW5zZXJ0IG9yIHJlbW92ZVxuICAgICAgICB3aGlsZSAoYmVnaW4gPiAwICYmICFpc0VPTChuZXdUZXh0LCBiZWdpbiAtIDEpKSB7XG4gICAgICAgICAgICBiZWdpbi0tO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChlbmQgPCBuZXdUZXh0Lmxlbmd0aCAmJiAhaXNFT0wobmV3VGV4dCwgZW5kKSkge1xuICAgICAgICAgICAgZW5kKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGVkaXRzID0gZm9ybWF0KG5ld1RleHQsIHsgb2Zmc2V0OiBiZWdpbiwgbGVuZ3RoOiBlbmQgLSBiZWdpbiB9LCBvcHRpb25zLmZvcm1hdHRpbmdPcHRpb25zKTtcbiAgICAvLyBhcHBseSB0aGUgZm9ybWF0dGluZyBlZGl0cyBhbmQgdHJhY2sgdGhlIGJlZ2luIGFuZCBlbmQgb2Zmc2V0cyBvZiB0aGUgY2hhbmdlc1xuICAgIGZvciAodmFyIGkgPSBlZGl0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgZWRpdF8xID0gZWRpdHNbaV07XG4gICAgICAgIG5ld1RleHQgPSBhcHBseUVkaXQobmV3VGV4dCwgZWRpdF8xKTtcbiAgICAgICAgYmVnaW4gPSBNYXRoLm1pbihiZWdpbiwgZWRpdF8xLm9mZnNldCk7XG4gICAgICAgIGVuZCA9IE1hdGgubWF4KGVuZCwgZWRpdF8xLm9mZnNldCArIGVkaXRfMS5sZW5ndGgpO1xuICAgICAgICBlbmQgKz0gZWRpdF8xLmNvbnRlbnQubGVuZ3RoIC0gZWRpdF8xLmxlbmd0aDtcbiAgICB9XG4gICAgLy8gY3JlYXRlIGEgc2luZ2xlIGVkaXQgd2l0aCBhbGwgY2hhbmdlc1xuICAgIHZhciBlZGl0TGVuZ3RoID0gdGV4dC5sZW5ndGggLSAobmV3VGV4dC5sZW5ndGggLSBlbmQpIC0gYmVnaW47XG4gICAgcmV0dXJuIFt7IG9mZnNldDogYmVnaW4sIGxlbmd0aDogZWRpdExlbmd0aCwgY29udGVudDogbmV3VGV4dC5zdWJzdHJpbmcoYmVnaW4sIGVuZCkgfV07XG59XG5leHBvcnQgZnVuY3Rpb24gYXBwbHlFZGl0KHRleHQsIGVkaXQpIHtcbiAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgZWRpdC5vZmZzZXQpICsgZWRpdC5jb250ZW50ICsgdGV4dC5zdWJzdHJpbmcoZWRpdC5vZmZzZXQgKyBlZGl0Lmxlbmd0aCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNXUyh0ZXh0LCBvZmZzZXQpIHtcbiAgICByZXR1cm4gJ1xcclxcbiBcXHQnLmluZGV4T2YodGV4dC5jaGFyQXQob2Zmc2V0KSkgIT09IC0xO1xufVxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0ICogYXMgZm9ybWF0dGVyIGZyb20gJy4vaW1wbC9mb3JtYXQuanMnO1xuaW1wb3J0ICogYXMgZWRpdCBmcm9tICcuL2ltcGwvZWRpdC5qcyc7XG5pbXBvcnQgKiBhcyBzY2FubmVyIGZyb20gJy4vaW1wbC9zY2FubmVyLmpzJztcbmltcG9ydCAqIGFzIHBhcnNlciBmcm9tICcuL2ltcGwvcGFyc2VyLmpzJztcbi8qKlxuICogQ3JlYXRlcyBhIEpTT04gc2Nhbm5lciBvbiB0aGUgZ2l2ZW4gdGV4dC5cbiAqIElmIGlnbm9yZVRyaXZpYSBpcyBzZXQsIHdoaXRlc3BhY2VzIG9yIGNvbW1lbnRzIGFyZSBpZ25vcmVkLlxuICovXG5leHBvcnQgdmFyIGNyZWF0ZVNjYW5uZXIgPSBzY2FubmVyLmNyZWF0ZVNjYW5uZXI7XG4vKipcbiAqIEZvciBhIGdpdmVuIG9mZnNldCwgZXZhbHVhdGUgdGhlIGxvY2F0aW9uIGluIHRoZSBKU09OIGRvY3VtZW50LiBFYWNoIHNlZ21lbnQgaW4gdGhlIGxvY2F0aW9uIHBhdGggaXMgZWl0aGVyIGEgcHJvcGVydHkgbmFtZSBvciBhbiBhcnJheSBpbmRleC5cbiAqL1xuZXhwb3J0IHZhciBnZXRMb2NhdGlvbiA9IHBhcnNlci5nZXRMb2NhdGlvbjtcbi8qKlxuICogUGFyc2VzIHRoZSBnaXZlbiB0ZXh0IGFuZCByZXR1cm5zIHRoZSBvYmplY3QgdGhlIEpTT04gY29udGVudCByZXByZXNlbnRzLiBPbiBpbnZhbGlkIGlucHV0LCB0aGUgcGFyc2VyIHRyaWVzIHRvIGJlIGFzIGZhdWx0IHRvbGVyYW50IGFzIHBvc3NpYmxlLCBidXQgc3RpbGwgcmV0dXJuIGEgcmVzdWx0LlxuICogVGhlcmVmb3JlLCBhbHdheXMgY2hlY2sgdGhlIGVycm9ycyBsaXN0IHRvIGZpbmQgb3V0IGlmIHRoZSBpbnB1dCB3YXMgdmFsaWQuXG4gKi9cbmV4cG9ydCB2YXIgcGFyc2UgPSBwYXJzZXIucGFyc2U7XG4vKipcbiAqIFBhcnNlcyB0aGUgZ2l2ZW4gdGV4dCBhbmQgcmV0dXJucyBhIHRyZWUgcmVwcmVzZW50YXRpb24gdGhlIEpTT04gY29udGVudC4gT24gaW52YWxpZCBpbnB1dCwgdGhlIHBhcnNlciB0cmllcyB0byBiZSBhcyBmYXVsdCB0b2xlcmFudCBhcyBwb3NzaWJsZSwgYnV0IHN0aWxsIHJldHVybiBhIHJlc3VsdC5cbiAqL1xuZXhwb3J0IHZhciBwYXJzZVRyZWUgPSBwYXJzZXIucGFyc2VUcmVlO1xuLyoqXG4gKiBGaW5kcyB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gcGF0aCBpbiBhIEpTT04gRE9NLlxuICovXG5leHBvcnQgdmFyIGZpbmROb2RlQXRMb2NhdGlvbiA9IHBhcnNlci5maW5kTm9kZUF0TG9jYXRpb247XG4vKipcbiAqIEZpbmRzIHRoZSBpbm5lcm1vc3Qgbm9kZSBhdCB0aGUgZ2l2ZW4gb2Zmc2V0LiBJZiBpbmNsdWRlUmlnaHRCb3VuZCBpcyBzZXQsIGFsc28gZmluZHMgbm9kZXMgdGhhdCBlbmQgYXQgdGhlIGdpdmVuIG9mZnNldC5cbiAqL1xuZXhwb3J0IHZhciBmaW5kTm9kZUF0T2Zmc2V0ID0gcGFyc2VyLmZpbmROb2RlQXRPZmZzZXQ7XG4vKipcbiAqIEdldHMgdGhlIEpTT04gcGF0aCBvZiB0aGUgZ2l2ZW4gSlNPTiBET00gbm9kZVxuICovXG5leHBvcnQgdmFyIGdldE5vZGVQYXRoID0gcGFyc2VyLmdldE5vZGVQYXRoO1xuLyoqXG4gKiBFdmFsdWF0ZXMgdGhlIEphdmFTY3JpcHQgb2JqZWN0IG9mIHRoZSBnaXZlbiBKU09OIERPTSBub2RlXG4gKi9cbmV4cG9ydCB2YXIgZ2V0Tm9kZVZhbHVlID0gcGFyc2VyLmdldE5vZGVWYWx1ZTtcbi8qKlxuICogUGFyc2VzIHRoZSBnaXZlbiB0ZXh0IGFuZCBpbnZva2VzIHRoZSB2aXNpdG9yIGZ1bmN0aW9ucyBmb3IgZWFjaCBvYmplY3QsIGFycmF5IGFuZCBsaXRlcmFsIHJlYWNoZWQuXG4gKi9cbmV4cG9ydCB2YXIgdmlzaXQgPSBwYXJzZXIudmlzaXQ7XG4vKipcbiAqIFRha2VzIEpTT04gd2l0aCBKYXZhU2NyaXB0LXN0eWxlIGNvbW1lbnRzIGFuZCByZW1vdmVcbiAqIHRoZW0uIE9wdGlvbmFsbHkgcmVwbGFjZXMgZXZlcnkgbm9uZS1uZXdsaW5lIGNoYXJhY3RlclxuICogb2YgY29tbWVudHMgd2l0aCBhIHJlcGxhY2VDaGFyYWN0ZXJcbiAqL1xuZXhwb3J0IHZhciBzdHJpcENvbW1lbnRzID0gcGFyc2VyLnN0cmlwQ29tbWVudHM7XG5leHBvcnQgZnVuY3Rpb24gcHJpbnRQYXJzZUVycm9yQ29kZShjb2RlKSB7XG4gICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgIGNhc2UgMSAvKiBJbnZhbGlkU3ltYm9sICovOiByZXR1cm4gJ0ludmFsaWRTeW1ib2wnO1xuICAgICAgICBjYXNlIDIgLyogSW52YWxpZE51bWJlckZvcm1hdCAqLzogcmV0dXJuICdJbnZhbGlkTnVtYmVyRm9ybWF0JztcbiAgICAgICAgY2FzZSAzIC8qIFByb3BlcnR5TmFtZUV4cGVjdGVkICovOiByZXR1cm4gJ1Byb3BlcnR5TmFtZUV4cGVjdGVkJztcbiAgICAgICAgY2FzZSA0IC8qIFZhbHVlRXhwZWN0ZWQgKi86IHJldHVybiAnVmFsdWVFeHBlY3RlZCc7XG4gICAgICAgIGNhc2UgNSAvKiBDb2xvbkV4cGVjdGVkICovOiByZXR1cm4gJ0NvbG9uRXhwZWN0ZWQnO1xuICAgICAgICBjYXNlIDYgLyogQ29tbWFFeHBlY3RlZCAqLzogcmV0dXJuICdDb21tYUV4cGVjdGVkJztcbiAgICAgICAgY2FzZSA3IC8qIENsb3NlQnJhY2VFeHBlY3RlZCAqLzogcmV0dXJuICdDbG9zZUJyYWNlRXhwZWN0ZWQnO1xuICAgICAgICBjYXNlIDggLyogQ2xvc2VCcmFja2V0RXhwZWN0ZWQgKi86IHJldHVybiAnQ2xvc2VCcmFja2V0RXhwZWN0ZWQnO1xuICAgICAgICBjYXNlIDkgLyogRW5kT2ZGaWxlRXhwZWN0ZWQgKi86IHJldHVybiAnRW5kT2ZGaWxlRXhwZWN0ZWQnO1xuICAgICAgICBjYXNlIDEwIC8qIEludmFsaWRDb21tZW50VG9rZW4gKi86IHJldHVybiAnSW52YWxpZENvbW1lbnRUb2tlbic7XG4gICAgICAgIGNhc2UgMTEgLyogVW5leHBlY3RlZEVuZE9mQ29tbWVudCAqLzogcmV0dXJuICdVbmV4cGVjdGVkRW5kT2ZDb21tZW50JztcbiAgICAgICAgY2FzZSAxMiAvKiBVbmV4cGVjdGVkRW5kT2ZTdHJpbmcgKi86IHJldHVybiAnVW5leHBlY3RlZEVuZE9mU3RyaW5nJztcbiAgICAgICAgY2FzZSAxMyAvKiBVbmV4cGVjdGVkRW5kT2ZOdW1iZXIgKi86IHJldHVybiAnVW5leHBlY3RlZEVuZE9mTnVtYmVyJztcbiAgICAgICAgY2FzZSAxNCAvKiBJbnZhbGlkVW5pY29kZSAqLzogcmV0dXJuICdJbnZhbGlkVW5pY29kZSc7XG4gICAgICAgIGNhc2UgMTUgLyogSW52YWxpZEVzY2FwZUNoYXJhY3RlciAqLzogcmV0dXJuICdJbnZhbGlkRXNjYXBlQ2hhcmFjdGVyJztcbiAgICAgICAgY2FzZSAxNiAvKiBJbnZhbGlkQ2hhcmFjdGVyICovOiByZXR1cm4gJ0ludmFsaWRDaGFyYWN0ZXInO1xuICAgIH1cbiAgICByZXR1cm4gJzx1bmtub3duIFBhcnNlRXJyb3JDb2RlPic7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBlZGl0cyBuZWVkZWQgdG8gZm9ybWF0IGEgSlNPTiBkb2N1bWVudC5cbiAqXG4gKiBAcGFyYW0gZG9jdW1lbnRUZXh0IFRoZSBpbnB1dCB0ZXh0XG4gKiBAcGFyYW0gcmFuZ2UgVGhlIHJhbmdlIHRvIGZvcm1hdCBvciBgdW5kZWZpbmVkYCB0byBmb3JtYXQgdGhlIGZ1bGwgY29udGVudFxuICogQHBhcmFtIG9wdGlvbnMgVGhlIGZvcm1hdHRpbmcgb3B0aW9uc1xuICogQHJldHVybnMgQSBsaXN0IG9mIGVkaXQgb3BlcmF0aW9ucyBkZXNjcmliaW5nIHRoZSBmb3JtYXR0aW5nIGNoYW5nZXMgdG8gdGhlIG9yaWdpbmFsIGRvY3VtZW50LiBFZGl0cyBjYW4gYmUgZWl0aGVyIGluc2VydHMsIHJlcGxhY2VtZW50cyBvclxuICogcmVtb3ZhbHMgb2YgdGV4dCBzZWdtZW50cy4gQWxsIG9mZnNldHMgcmVmZXIgdG8gdGhlIG9yaWdpbmFsIHN0YXRlIG9mIHRoZSBkb2N1bWVudC4gTm8gdHdvIGVkaXRzIG11c3QgY2hhbmdlIG9yIHJlbW92ZSB0aGUgc2FtZSByYW5nZSBvZlxuICogdGV4dCBpbiB0aGUgb3JpZ2luYWwgZG9jdW1lbnQuIEhvd2V2ZXIsIG11bHRpcGxlIGVkaXRzIGNhbiBoYXZlXG4gKiB0aGUgc2FtZSBvZmZzZXQsIGZvciBleGFtcGxlIG11bHRpcGxlIGluc2VydHMsIG9yIGFuIGluc2VydCBmb2xsb3dlZCBieSBhIHJlbW92ZSBvciByZXBsYWNlLiBUaGUgb3JkZXIgaW4gdGhlIGFycmF5IGRlZmluZXMgd2hpY2ggZWRpdCBpcyBhcHBsaWVkIGZpcnN0LlxuICogVG8gYXBwbHkgZWRpdHMgdG8gYW4gaW5wdXQsIHlvdSBjYW4gdXNlIGBhcHBseUVkaXRzYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdChkb2N1bWVudFRleHQsIHJhbmdlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZvcm1hdHRlci5mb3JtYXQoZG9jdW1lbnRUZXh0LCByYW5nZSwgb3B0aW9ucyk7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBlZGl0cyBuZWVkZWQgdG8gbW9kaWZ5IGEgdmFsdWUgaW4gdGhlIEpTT04gZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIGRvY3VtZW50VGV4dCBUaGUgaW5wdXQgdGV4dFxuICogQHBhcmFtIHBhdGggVGhlIHBhdGggb2YgdGhlIHZhbHVlIHRvIGNoYW5nZS4gVGhlIHBhdGggcmVwcmVzZW50cyBlaXRoZXIgdG8gdGhlIGRvY3VtZW50IHJvb3QsIGEgcHJvcGVydHkgb3IgYW4gYXJyYXkgaXRlbS5cbiAqIElmIHRoZSBwYXRoIHBvaW50cyB0byBhbiBub24tZXhpc3RpbmcgcHJvcGVydHkgb3IgaXRlbSwgaXQgd2lsbCBiZSBjcmVhdGVkLlxuICogQHBhcmFtIHZhbHVlIFRoZSBuZXcgdmFsdWUgZm9yIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgb3IgaXRlbS4gSWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCxcbiAqIHRoZSBwcm9wZXJ0eSBvciBpdGVtIHdpbGwgYmUgcmVtb3ZlZC5cbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnNcbiAqIEByZXR1cm5zIEEgbGlzdCBvZiBlZGl0IG9wZXJhdGlvbnMgZGVzY3JpYmluZyB0aGUgZm9ybWF0dGluZyBjaGFuZ2VzIHRvIHRoZSBvcmlnaW5hbCBkb2N1bWVudC4gRWRpdHMgY2FuIGJlIGVpdGhlciBpbnNlcnRzLCByZXBsYWNlbWVudHMgb3JcbiAqIHJlbW92YWxzIG9mIHRleHQgc2VnbWVudHMuIEFsbCBvZmZzZXRzIHJlZmVyIHRvIHRoZSBvcmlnaW5hbCBzdGF0ZSBvZiB0aGUgZG9jdW1lbnQuIE5vIHR3byBlZGl0cyBtdXN0IGNoYW5nZSBvciByZW1vdmUgdGhlIHNhbWUgcmFuZ2Ugb2ZcbiAqIHRleHQgaW4gdGhlIG9yaWdpbmFsIGRvY3VtZW50LiBIb3dldmVyLCBtdWx0aXBsZSBlZGl0cyBjYW4gaGF2ZVxuICogdGhlIHNhbWUgb2Zmc2V0LCBmb3IgZXhhbXBsZSBtdWx0aXBsZSBpbnNlcnRzLCBvciBhbiBpbnNlcnQgZm9sbG93ZWQgYnkgYSByZW1vdmUgb3IgcmVwbGFjZS4gVGhlIG9yZGVyIGluIHRoZSBhcnJheSBkZWZpbmVzIHdoaWNoIGVkaXQgaXMgYXBwbGllZCBmaXJzdC5cbiAqIFRvIGFwcGx5IGVkaXRzIHRvIGFuIGlucHV0LCB5b3UgY2FuIHVzZSBgYXBwbHlFZGl0c2AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb2RpZnkodGV4dCwgcGF0aCwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZWRpdC5zZXRQcm9wZXJ0eSh0ZXh0LCBwYXRoLCB2YWx1ZSwgb3B0aW9ucyk7XG59XG4vKipcbiAqIEFwcGxpZXMgZWRpdHMgdG8gYSBpbnB1dCBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUVkaXRzKHRleHQsIGVkaXRzKSB7XG4gICAgZm9yICh2YXIgaSA9IGVkaXRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHRleHQgPSBlZGl0LmFwcGx5RWRpdCh0ZXh0LCBlZGl0c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xufVxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhvbmUsIG90aGVyKSB7XG4gICAgaWYgKG9uZSA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChvbmUgPT09IG51bGwgfHwgb25lID09PSB1bmRlZmluZWQgfHwgb3RoZXIgPT09IG51bGwgfHwgb3RoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb25lICE9PSB0eXBlb2Ygb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9uZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoKEFycmF5LmlzQXJyYXkob25lKSkgIT09IChBcnJheS5pc0FycmF5KG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgaSwga2V5O1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9uZSkpIHtcbiAgICAgICAgaWYgKG9uZS5sZW5ndGggIT09IG90aGVyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBvbmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghZXF1YWxzKG9uZVtpXSwgb3RoZXJbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgb25lS2V5cyA9IFtdO1xuICAgICAgICBmb3IgKGtleSBpbiBvbmUpIHtcbiAgICAgICAgICAgIG9uZUtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIG9uZUtleXMuc29ydCgpO1xuICAgICAgICB2YXIgb3RoZXJLZXlzID0gW107XG4gICAgICAgIGZvciAoa2V5IGluIG90aGVyKSB7XG4gICAgICAgICAgICBvdGhlcktleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyS2V5cy5zb3J0KCk7XG4gICAgICAgIGlmICghZXF1YWxzKG9uZUtleXMsIG90aGVyS2V5cykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb25lS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFlcXVhbHMob25lW29uZUtleXNbaV1dLCBvdGhlcltvbmVLZXlzW2ldXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVmaW5lZCh2YWwpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKHZhbCkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnYm9vbGVhbic7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuIiwgIi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbid1c2Ugc3RyaWN0JztcbmV4cG9ydCB2YXIgaW50ZWdlcjtcbihmdW5jdGlvbiAoaW50ZWdlcikge1xuICAgIGludGVnZXIuTUlOX1ZBTFVFID0gLTIxNDc0ODM2NDg7XG4gICAgaW50ZWdlci5NQVhfVkFMVUUgPSAyMTQ3NDgzNjQ3O1xufSkoaW50ZWdlciB8fCAoaW50ZWdlciA9IHt9KSk7XG5leHBvcnQgdmFyIHVpbnRlZ2VyO1xuKGZ1bmN0aW9uICh1aW50ZWdlcikge1xuICAgIHVpbnRlZ2VyLk1JTl9WQUxVRSA9IDA7XG4gICAgdWludGVnZXIuTUFYX1ZBTFVFID0gMjE0NzQ4MzY0Nztcbn0pKHVpbnRlZ2VyIHx8ICh1aW50ZWdlciA9IHt9KSk7XG4vKipcbiAqIFRoZSBQb3NpdGlvbiBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtQb3NpdGlvbl0oI1Bvc2l0aW9uKSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBQb3NpdGlvbjtcbihmdW5jdGlvbiAoUG9zaXRpb24pIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFBvc2l0aW9uIGxpdGVyYWwgZnJvbSB0aGUgZ2l2ZW4gbGluZSBhbmQgY2hhcmFjdGVyLlxuICAgICAqIEBwYXJhbSBsaW5lIFRoZSBwb3NpdGlvbidzIGxpbmUuXG4gICAgICogQHBhcmFtIGNoYXJhY3RlciBUaGUgcG9zaXRpb24ncyBjaGFyYWN0ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKGxpbmUsIGNoYXJhY3Rlcikge1xuICAgICAgICBpZiAobGluZSA9PT0gTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgICAgbGluZSA9IHVpbnRlZ2VyLk1BWF9WQUxVRTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhcmFjdGVyID09PSBOdW1iZXIuTUFYX1ZBTFVFKSB7XG4gICAgICAgICAgICBjaGFyYWN0ZXIgPSB1aW50ZWdlci5NQVhfVkFMVUU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbGluZTogbGluZSwgY2hhcmFjdGVyOiBjaGFyYWN0ZXIgfTtcbiAgICB9XG4gICAgUG9zaXRpb24uY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbUG9zaXRpb25dKCNQb3NpdGlvbikgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLm9iamVjdExpdGVyYWwoY2FuZGlkYXRlKSAmJiBJcy51aW50ZWdlcihjYW5kaWRhdGUubGluZSkgJiYgSXMudWludGVnZXIoY2FuZGlkYXRlLmNoYXJhY3Rlcik7XG4gICAgfVxuICAgIFBvc2l0aW9uLmlzID0gaXM7XG59KShQb3NpdGlvbiB8fCAoUG9zaXRpb24gPSB7fSkpO1xuLyoqXG4gKiBUaGUgUmFuZ2UgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbUmFuZ2VdKCNSYW5nZSkgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgUmFuZ2U7XG4oZnVuY3Rpb24gKFJhbmdlKSB7XG4gICAgZnVuY3Rpb24gY3JlYXRlKG9uZSwgdHdvLCB0aHJlZSwgZm91cikge1xuICAgICAgICBpZiAoSXMudWludGVnZXIob25lKSAmJiBJcy51aW50ZWdlcih0d28pICYmIElzLnVpbnRlZ2VyKHRocmVlKSAmJiBJcy51aW50ZWdlcihmb3VyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IFBvc2l0aW9uLmNyZWF0ZShvbmUsIHR3byksIGVuZDogUG9zaXRpb24uY3JlYXRlKHRocmVlLCBmb3VyKSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFBvc2l0aW9uLmlzKG9uZSkgJiYgUG9zaXRpb24uaXModHdvKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IG9uZSwgZW5kOiB0d28gfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJhbmdlI2NyZWF0ZSBjYWxsZWQgd2l0aCBpbnZhbGlkIGFyZ3VtZW50c1tcIiArIG9uZSArIFwiLCBcIiArIHR3byArIFwiLCBcIiArIHRocmVlICsgXCIsIFwiICsgZm91ciArIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBSYW5nZS5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtSYW5nZV0oI1JhbmdlKSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gSXMub2JqZWN0TGl0ZXJhbChjYW5kaWRhdGUpICYmIFBvc2l0aW9uLmlzKGNhbmRpZGF0ZS5zdGFydCkgJiYgUG9zaXRpb24uaXMoY2FuZGlkYXRlLmVuZCk7XG4gICAgfVxuICAgIFJhbmdlLmlzID0gaXM7XG59KShSYW5nZSB8fCAoUmFuZ2UgPSB7fSkpO1xuLyoqXG4gKiBUaGUgTG9jYXRpb24gbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbTG9jYXRpb25dKCNMb2NhdGlvbikgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgTG9jYXRpb247XG4oZnVuY3Rpb24gKExvY2F0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIExvY2F0aW9uIGxpdGVyYWwuXG4gICAgICogQHBhcmFtIHVyaSBUaGUgbG9jYXRpb24ncyB1cmkuXG4gICAgICogQHBhcmFtIHJhbmdlIFRoZSBsb2NhdGlvbidzIHJhbmdlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSh1cmksIHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB7IHVyaTogdXJpLCByYW5nZTogcmFuZ2UgfTtcbiAgICB9XG4gICAgTG9jYXRpb24uY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbTG9jYXRpb25dKCNMb2NhdGlvbikgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpICYmIChJcy5zdHJpbmcoY2FuZGlkYXRlLnVyaSkgfHwgSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS51cmkpKTtcbiAgICB9XG4gICAgTG9jYXRpb24uaXMgPSBpcztcbn0pKExvY2F0aW9uIHx8IChMb2NhdGlvbiA9IHt9KSk7XG4vKipcbiAqIFRoZSBMb2NhdGlvbkxpbmsgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbTG9jYXRpb25MaW5rXSgjTG9jYXRpb25MaW5rKSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBMb2NhdGlvbkxpbms7XG4oZnVuY3Rpb24gKExvY2F0aW9uTGluaykge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBMb2NhdGlvbkxpbmsgbGl0ZXJhbC5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0VXJpIFRoZSBkZWZpbml0aW9uJ3MgdXJpLlxuICAgICAqIEBwYXJhbSB0YXJnZXRSYW5nZSBUaGUgZnVsbCByYW5nZSBvZiB0aGUgZGVmaW5pdGlvbi5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0U2VsZWN0aW9uUmFuZ2UgVGhlIHNwYW4gb2YgdGhlIHN5bWJvbCBkZWZpbml0aW9uIGF0IHRoZSB0YXJnZXQuXG4gICAgICogQHBhcmFtIG9yaWdpblNlbGVjdGlvblJhbmdlIFRoZSBzcGFuIG9mIHRoZSBzeW1ib2wgYmVpbmcgZGVmaW5lZCBpbiB0aGUgb3JpZ2luYXRpbmcgc291cmNlIGZpbGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHRhcmdldFVyaSwgdGFyZ2V0UmFuZ2UsIHRhcmdldFNlbGVjdGlvblJhbmdlLCBvcmlnaW5TZWxlY3Rpb25SYW5nZSkge1xuICAgICAgICByZXR1cm4geyB0YXJnZXRVcmk6IHRhcmdldFVyaSwgdGFyZ2V0UmFuZ2U6IHRhcmdldFJhbmdlLCB0YXJnZXRTZWxlY3Rpb25SYW5nZTogdGFyZ2V0U2VsZWN0aW9uUmFuZ2UsIG9yaWdpblNlbGVjdGlvblJhbmdlOiBvcmlnaW5TZWxlY3Rpb25SYW5nZSB9O1xuICAgIH1cbiAgICBMb2NhdGlvbkxpbmsuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbTG9jYXRpb25MaW5rXSgjTG9jYXRpb25MaW5rKSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIFJhbmdlLmlzKGNhbmRpZGF0ZS50YXJnZXRSYW5nZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS50YXJnZXRVcmkpXG4gICAgICAgICAgICAmJiAoUmFuZ2UuaXMoY2FuZGlkYXRlLnRhcmdldFNlbGVjdGlvblJhbmdlKSB8fCBJcy51bmRlZmluZWQoY2FuZGlkYXRlLnRhcmdldFNlbGVjdGlvblJhbmdlKSlcbiAgICAgICAgICAgICYmIChSYW5nZS5pcyhjYW5kaWRhdGUub3JpZ2luU2VsZWN0aW9uUmFuZ2UpIHx8IElzLnVuZGVmaW5lZChjYW5kaWRhdGUub3JpZ2luU2VsZWN0aW9uUmFuZ2UpKTtcbiAgICB9XG4gICAgTG9jYXRpb25MaW5rLmlzID0gaXM7XG59KShMb2NhdGlvbkxpbmsgfHwgKExvY2F0aW9uTGluayA9IHt9KSk7XG4vKipcbiAqIFRoZSBDb2xvciBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtDb2xvcl0oI0NvbG9yKSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBDb2xvcjtcbihmdW5jdGlvbiAoQ29sb3IpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IENvbG9yIGxpdGVyYWwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWQ6IHJlZCxcbiAgICAgICAgICAgIGdyZWVuOiBncmVlbixcbiAgICAgICAgICAgIGJsdWU6IGJsdWUsXG4gICAgICAgICAgICBhbHBoYTogYWxwaGEsXG4gICAgICAgIH07XG4gICAgfVxuICAgIENvbG9yLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gbGl0ZXJhbCBjb25mb3JtcyB0byB0aGUgW0NvbG9yXSgjQ29sb3IpIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5udW1iZXJSYW5nZShjYW5kaWRhdGUucmVkLCAwLCAxKVxuICAgICAgICAgICAgJiYgSXMubnVtYmVyUmFuZ2UoY2FuZGlkYXRlLmdyZWVuLCAwLCAxKVxuICAgICAgICAgICAgJiYgSXMubnVtYmVyUmFuZ2UoY2FuZGlkYXRlLmJsdWUsIDAsIDEpXG4gICAgICAgICAgICAmJiBJcy5udW1iZXJSYW5nZShjYW5kaWRhdGUuYWxwaGEsIDAsIDEpO1xuICAgIH1cbiAgICBDb2xvci5pcyA9IGlzO1xufSkoQ29sb3IgfHwgKENvbG9yID0ge30pKTtcbi8qKlxuICogVGhlIENvbG9ySW5mb3JtYXRpb24gbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbQ29sb3JJbmZvcm1hdGlvbl0oI0NvbG9ySW5mb3JtYXRpb24pIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIENvbG9ySW5mb3JtYXRpb247XG4oZnVuY3Rpb24gKENvbG9ySW5mb3JtYXRpb24pIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IENvbG9ySW5mb3JtYXRpb24gbGl0ZXJhbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocmFuZ2UsIGNvbG9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgICAgICBjb2xvcjogY29sb3IsXG4gICAgICAgIH07XG4gICAgfVxuICAgIENvbG9ySW5mb3JtYXRpb24uY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbQ29sb3JJbmZvcm1hdGlvbl0oI0NvbG9ySW5mb3JtYXRpb24pIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpICYmIENvbG9yLmlzKGNhbmRpZGF0ZS5jb2xvcik7XG4gICAgfVxuICAgIENvbG9ySW5mb3JtYXRpb24uaXMgPSBpcztcbn0pKENvbG9ySW5mb3JtYXRpb24gfHwgKENvbG9ySW5mb3JtYXRpb24gPSB7fSkpO1xuLyoqXG4gKiBUaGUgQ29sb3IgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbQ29sb3JQcmVzZW50YXRpb25dKCNDb2xvclByZXNlbnRhdGlvbikgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgQ29sb3JQcmVzZW50YXRpb247XG4oZnVuY3Rpb24gKENvbG9yUHJlc2VudGF0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBDb2xvckluZm9ybWF0aW9uIGxpdGVyYWwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKGxhYmVsLCB0ZXh0RWRpdCwgYWRkaXRpb25hbFRleHRFZGl0cykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgdGV4dEVkaXQ6IHRleHRFZGl0LFxuICAgICAgICAgICAgYWRkaXRpb25hbFRleHRFZGl0czogYWRkaXRpb25hbFRleHRFZGl0cyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgQ29sb3JQcmVzZW50YXRpb24uY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbQ29sb3JJbmZvcm1hdGlvbl0oI0NvbG9ySW5mb3JtYXRpb24pIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5zdHJpbmcoY2FuZGlkYXRlLmxhYmVsKVxuICAgICAgICAgICAgJiYgKElzLnVuZGVmaW5lZChjYW5kaWRhdGUudGV4dEVkaXQpIHx8IFRleHRFZGl0LmlzKGNhbmRpZGF0ZSkpXG4gICAgICAgICAgICAmJiAoSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS5hZGRpdGlvbmFsVGV4dEVkaXRzKSB8fCBJcy50eXBlZEFycmF5KGNhbmRpZGF0ZS5hZGRpdGlvbmFsVGV4dEVkaXRzLCBUZXh0RWRpdC5pcykpO1xuICAgIH1cbiAgICBDb2xvclByZXNlbnRhdGlvbi5pcyA9IGlzO1xufSkoQ29sb3JQcmVzZW50YXRpb24gfHwgKENvbG9yUHJlc2VudGF0aW9uID0ge30pKTtcbi8qKlxuICogRW51bSBvZiBrbm93biByYW5nZSBraW5kc1xuICovXG5leHBvcnQgdmFyIEZvbGRpbmdSYW5nZUtpbmQ7XG4oZnVuY3Rpb24gKEZvbGRpbmdSYW5nZUtpbmQpIHtcbiAgICAvKipcbiAgICAgKiBGb2xkaW5nIHJhbmdlIGZvciBhIGNvbW1lbnRcbiAgICAgKi9cbiAgICBGb2xkaW5nUmFuZ2VLaW5kW1wiQ29tbWVudFwiXSA9IFwiY29tbWVudFwiO1xuICAgIC8qKlxuICAgICAqIEZvbGRpbmcgcmFuZ2UgZm9yIGEgaW1wb3J0cyBvciBpbmNsdWRlc1xuICAgICAqL1xuICAgIEZvbGRpbmdSYW5nZUtpbmRbXCJJbXBvcnRzXCJdID0gXCJpbXBvcnRzXCI7XG4gICAgLyoqXG4gICAgICogRm9sZGluZyByYW5nZSBmb3IgYSByZWdpb24gKGUuZy4gYCNyZWdpb25gKVxuICAgICAqL1xuICAgIEZvbGRpbmdSYW5nZUtpbmRbXCJSZWdpb25cIl0gPSBcInJlZ2lvblwiO1xufSkoRm9sZGluZ1JhbmdlS2luZCB8fCAoRm9sZGluZ1JhbmdlS2luZCA9IHt9KSk7XG4vKipcbiAqIFRoZSBmb2xkaW5nIHJhbmdlIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW0ZvbGRpbmdSYW5nZV0oI0ZvbGRpbmdSYW5nZSkgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgRm9sZGluZ1JhbmdlO1xuKGZ1bmN0aW9uIChGb2xkaW5nUmFuZ2UpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEZvbGRpbmdSYW5nZSBsaXRlcmFsLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShzdGFydExpbmUsIGVuZExpbmUsIHN0YXJ0Q2hhcmFjdGVyLCBlbmRDaGFyYWN0ZXIsIGtpbmQpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgIHN0YXJ0TGluZTogc3RhcnRMaW5lLFxuICAgICAgICAgICAgZW5kTGluZTogZW5kTGluZVxuICAgICAgICB9O1xuICAgICAgICBpZiAoSXMuZGVmaW5lZChzdGFydENoYXJhY3RlcikpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdGFydENoYXJhY3RlciA9IHN0YXJ0Q2hhcmFjdGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChJcy5kZWZpbmVkKGVuZENoYXJhY3RlcikpIHtcbiAgICAgICAgICAgIHJlc3VsdC5lbmRDaGFyYWN0ZXIgPSBlbmRDaGFyYWN0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKElzLmRlZmluZWQoa2luZCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5raW5kID0ga2luZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBGb2xkaW5nUmFuZ2UuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbRm9sZGluZ1JhbmdlXSgjRm9sZGluZ1JhbmdlKSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gSXMudWludGVnZXIoY2FuZGlkYXRlLnN0YXJ0TGluZSkgJiYgSXMudWludGVnZXIoY2FuZGlkYXRlLnN0YXJ0TGluZSlcbiAgICAgICAgICAgICYmIChJcy51bmRlZmluZWQoY2FuZGlkYXRlLnN0YXJ0Q2hhcmFjdGVyKSB8fCBJcy51aW50ZWdlcihjYW5kaWRhdGUuc3RhcnRDaGFyYWN0ZXIpKVxuICAgICAgICAgICAgJiYgKElzLnVuZGVmaW5lZChjYW5kaWRhdGUuZW5kQ2hhcmFjdGVyKSB8fCBJcy51aW50ZWdlcihjYW5kaWRhdGUuZW5kQ2hhcmFjdGVyKSlcbiAgICAgICAgICAgICYmIChJcy51bmRlZmluZWQoY2FuZGlkYXRlLmtpbmQpIHx8IElzLnN0cmluZyhjYW5kaWRhdGUua2luZCkpO1xuICAgIH1cbiAgICBGb2xkaW5nUmFuZ2UuaXMgPSBpcztcbn0pKEZvbGRpbmdSYW5nZSB8fCAoRm9sZGluZ1JhbmdlID0ge30pKTtcbi8qKlxuICogVGhlIERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24gbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbRGlhZ25vc3RpY1JlbGF0ZWRJbmZvcm1hdGlvbl0oI0RpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24pIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb247XG4oZnVuY3Rpb24gKERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24pIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24gbGl0ZXJhbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUobG9jYXRpb24sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgICAgfTtcbiAgICB9XG4gICAgRGlhZ25vc3RpY1JlbGF0ZWRJbmZvcm1hdGlvbi5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtEaWFnbm9zdGljUmVsYXRlZEluZm9ybWF0aW9uXSgjRGlhZ25vc3RpY1JlbGF0ZWRJbmZvcm1hdGlvbikgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBMb2NhdGlvbi5pcyhjYW5kaWRhdGUubG9jYXRpb24pICYmIElzLnN0cmluZyhjYW5kaWRhdGUubWVzc2FnZSk7XG4gICAgfVxuICAgIERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24uaXMgPSBpcztcbn0pKERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24gfHwgKERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24gPSB7fSkpO1xuLyoqXG4gKiBUaGUgZGlhZ25vc3RpYydzIHNldmVyaXR5LlxuICovXG5leHBvcnQgdmFyIERpYWdub3N0aWNTZXZlcml0eTtcbihmdW5jdGlvbiAoRGlhZ25vc3RpY1NldmVyaXR5KSB7XG4gICAgLyoqXG4gICAgICogUmVwb3J0cyBhbiBlcnJvci5cbiAgICAgKi9cbiAgICBEaWFnbm9zdGljU2V2ZXJpdHkuRXJyb3IgPSAxO1xuICAgIC8qKlxuICAgICAqIFJlcG9ydHMgYSB3YXJuaW5nLlxuICAgICAqL1xuICAgIERpYWdub3N0aWNTZXZlcml0eS5XYXJuaW5nID0gMjtcbiAgICAvKipcbiAgICAgKiBSZXBvcnRzIGFuIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIERpYWdub3N0aWNTZXZlcml0eS5JbmZvcm1hdGlvbiA9IDM7XG4gICAgLyoqXG4gICAgICogUmVwb3J0cyBhIGhpbnQuXG4gICAgICovXG4gICAgRGlhZ25vc3RpY1NldmVyaXR5LkhpbnQgPSA0O1xufSkoRGlhZ25vc3RpY1NldmVyaXR5IHx8IChEaWFnbm9zdGljU2V2ZXJpdHkgPSB7fSkpO1xuLyoqXG4gKiBUaGUgZGlhZ25vc3RpYyB0YWdzLlxuICpcbiAqIEBzaW5jZSAzLjE1LjBcbiAqL1xuZXhwb3J0IHZhciBEaWFnbm9zdGljVGFnO1xuKGZ1bmN0aW9uIChEaWFnbm9zdGljVGFnKSB7XG4gICAgLyoqXG4gICAgICogVW51c2VkIG9yIHVubmVjZXNzYXJ5IGNvZGUuXG4gICAgICpcbiAgICAgKiBDbGllbnRzIGFyZSBhbGxvd2VkIHRvIHJlbmRlciBkaWFnbm9zdGljcyB3aXRoIHRoaXMgdGFnIGZhZGVkIG91dCBpbnN0ZWFkIG9mIGhhdmluZ1xuICAgICAqIGFuIGVycm9yIHNxdWlnZ2xlLlxuICAgICAqL1xuICAgIERpYWdub3N0aWNUYWcuVW5uZWNlc3NhcnkgPSAxO1xuICAgIC8qKlxuICAgICAqIERlcHJlY2F0ZWQgb3Igb2Jzb2xldGUgY29kZS5cbiAgICAgKlxuICAgICAqIENsaWVudHMgYXJlIGFsbG93ZWQgdG8gcmVuZGVyZWQgZGlhZ25vc3RpY3Mgd2l0aCB0aGlzIHRhZyBzdHJpa2UgdGhyb3VnaC5cbiAgICAgKi9cbiAgICBEaWFnbm9zdGljVGFnLkRlcHJlY2F0ZWQgPSAyO1xufSkoRGlhZ25vc3RpY1RhZyB8fCAoRGlhZ25vc3RpY1RhZyA9IHt9KSk7XG4vKipcbiAqIFRoZSBDb2RlRGVzY3JpcHRpb24gbmFtZXNwYWNlIHByb3ZpZGVzIGZ1bmN0aW9ucyB0byBkZWFsIHdpdGggZGVzY3JpcHRpb25zIGZvciBkaWFnbm9zdGljIGNvZGVzLlxuICpcbiAqIEBzaW5jZSAzLjE2LjBcbiAqL1xuZXhwb3J0IHZhciBDb2RlRGVzY3JpcHRpb247XG4oZnVuY3Rpb24gKENvZGVEZXNjcmlwdGlvbikge1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZSAhPT0gdW5kZWZpbmVkICYmIGNhbmRpZGF0ZSAhPT0gbnVsbCAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLmhyZWYpO1xuICAgIH1cbiAgICBDb2RlRGVzY3JpcHRpb24uaXMgPSBpcztcbn0pKENvZGVEZXNjcmlwdGlvbiB8fCAoQ29kZURlc2NyaXB0aW9uID0ge30pKTtcbi8qKlxuICogVGhlIERpYWdub3N0aWMgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbRGlhZ25vc3RpY10oI0RpYWdub3N0aWMpIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIERpYWdub3N0aWM7XG4oZnVuY3Rpb24gKERpYWdub3N0aWMpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IERpYWdub3N0aWMgbGl0ZXJhbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocmFuZ2UsIG1lc3NhZ2UsIHNldmVyaXR5LCBjb2RlLCBzb3VyY2UsIHJlbGF0ZWRJbmZvcm1hdGlvbikge1xuICAgICAgICB2YXIgcmVzdWx0ID0geyByYW5nZTogcmFuZ2UsIG1lc3NhZ2U6IG1lc3NhZ2UgfTtcbiAgICAgICAgaWYgKElzLmRlZmluZWQoc2V2ZXJpdHkpKSB7XG4gICAgICAgICAgICByZXN1bHQuc2V2ZXJpdHkgPSBzZXZlcml0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSXMuZGVmaW5lZChjb2RlKSkge1xuICAgICAgICAgICAgcmVzdWx0LmNvZGUgPSBjb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChJcy5kZWZpbmVkKHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKElzLmRlZmluZWQocmVsYXRlZEluZm9ybWF0aW9uKSkge1xuICAgICAgICAgICAgcmVzdWx0LnJlbGF0ZWRJbmZvcm1hdGlvbiA9IHJlbGF0ZWRJbmZvcm1hdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBEaWFnbm9zdGljLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gbGl0ZXJhbCBjb25mb3JtcyB0byB0aGUgW0RpYWdub3N0aWNdKCNEaWFnbm9zdGljKSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSlcbiAgICAgICAgICAgICYmIFJhbmdlLmlzKGNhbmRpZGF0ZS5yYW5nZSlcbiAgICAgICAgICAgICYmIElzLnN0cmluZyhjYW5kaWRhdGUubWVzc2FnZSlcbiAgICAgICAgICAgICYmIChJcy5udW1iZXIoY2FuZGlkYXRlLnNldmVyaXR5KSB8fCBJcy51bmRlZmluZWQoY2FuZGlkYXRlLnNldmVyaXR5KSlcbiAgICAgICAgICAgICYmIChJcy5pbnRlZ2VyKGNhbmRpZGF0ZS5jb2RlKSB8fCBJcy5zdHJpbmcoY2FuZGlkYXRlLmNvZGUpIHx8IElzLnVuZGVmaW5lZChjYW5kaWRhdGUuY29kZSkpXG4gICAgICAgICAgICAmJiAoSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS5jb2RlRGVzY3JpcHRpb24pIHx8IChJcy5zdHJpbmcoKF9hID0gY2FuZGlkYXRlLmNvZGVEZXNjcmlwdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhyZWYpKSlcbiAgICAgICAgICAgICYmIChJcy5zdHJpbmcoY2FuZGlkYXRlLnNvdXJjZSkgfHwgSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS5zb3VyY2UpKVxuICAgICAgICAgICAgJiYgKElzLnVuZGVmaW5lZChjYW5kaWRhdGUucmVsYXRlZEluZm9ybWF0aW9uKSB8fCBJcy50eXBlZEFycmF5KGNhbmRpZGF0ZS5yZWxhdGVkSW5mb3JtYXRpb24sIERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24uaXMpKTtcbiAgICB9XG4gICAgRGlhZ25vc3RpYy5pcyA9IGlzO1xufSkoRGlhZ25vc3RpYyB8fCAoRGlhZ25vc3RpYyA9IHt9KSk7XG4vKipcbiAqIFRoZSBDb21tYW5kIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW0NvbW1hbmRdKCNDb21tYW5kKSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBDb21tYW5kO1xuKGZ1bmN0aW9uIChDb21tYW5kKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBDb21tYW5kIGxpdGVyYWwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHRpdGxlLCBjb21tYW5kKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSB7IHRpdGxlOiB0aXRsZSwgY29tbWFuZDogY29tbWFuZCB9O1xuICAgICAgICBpZiAoSXMuZGVmaW5lZChhcmdzKSAmJiBhcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5hcmd1bWVudHMgPSBhcmdzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIENvbW1hbmQuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbQ29tbWFuZF0oI0NvbW1hbmQpIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS50aXRsZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS5jb21tYW5kKTtcbiAgICB9XG4gICAgQ29tbWFuZC5pcyA9IGlzO1xufSkoQ29tbWFuZCB8fCAoQ29tbWFuZCA9IHt9KSk7XG4vKipcbiAqIFRoZSBUZXh0RWRpdCBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSByZXBsYWNlLFxuICogaW5zZXJ0IGFuZCBkZWxldGUgZWRpdHMgbW9yZSBlYXNpbHkuXG4gKi9cbmV4cG9ydCB2YXIgVGV4dEVkaXQ7XG4oZnVuY3Rpb24gKFRleHRFZGl0KSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlcGxhY2UgdGV4dCBlZGl0LlxuICAgICAqIEBwYXJhbSByYW5nZSBUaGUgcmFuZ2Ugb2YgdGV4dCB0byBiZSByZXBsYWNlZC5cbiAgICAgKiBAcGFyYW0gbmV3VGV4dCBUaGUgbmV3IHRleHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwbGFjZShyYW5nZSwgbmV3VGV4dCkge1xuICAgICAgICByZXR1cm4geyByYW5nZTogcmFuZ2UsIG5ld1RleHQ6IG5ld1RleHQgfTtcbiAgICB9XG4gICAgVGV4dEVkaXQucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGluc2VydCB0ZXh0IGVkaXQuXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIFRoZSBwb3NpdGlvbiB0byBpbnNlcnQgdGhlIHRleHQgYXQuXG4gICAgICogQHBhcmFtIG5ld1RleHQgVGhlIHRleHQgdG8gYmUgaW5zZXJ0ZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zZXJ0KHBvc2l0aW9uLCBuZXdUZXh0KSB7XG4gICAgICAgIHJldHVybiB7IHJhbmdlOiB7IHN0YXJ0OiBwb3NpdGlvbiwgZW5kOiBwb3NpdGlvbiB9LCBuZXdUZXh0OiBuZXdUZXh0IH07XG4gICAgfVxuICAgIFRleHRFZGl0Lmluc2VydCA9IGluc2VydDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVsZXRlIHRleHQgZWRpdC5cbiAgICAgKiBAcGFyYW0gcmFuZ2UgVGhlIHJhbmdlIG9mIHRleHQgdG8gYmUgZGVsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWwocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHsgcmFuZ2U6IHJhbmdlLCBuZXdUZXh0OiAnJyB9O1xuICAgIH1cbiAgICBUZXh0RWRpdC5kZWwgPSBkZWw7XG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gSXMub2JqZWN0TGl0ZXJhbChjYW5kaWRhdGUpXG4gICAgICAgICAgICAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLm5ld1RleHQpXG4gICAgICAgICAgICAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpO1xuICAgIH1cbiAgICBUZXh0RWRpdC5pcyA9IGlzO1xufSkoVGV4dEVkaXQgfHwgKFRleHRFZGl0ID0ge30pKTtcbmV4cG9ydCB2YXIgQ2hhbmdlQW5ub3RhdGlvbjtcbihmdW5jdGlvbiAoQ2hhbmdlQW5ub3RhdGlvbikge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShsYWJlbCwgbmVlZHNDb25maXJtYXRpb24sIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7IGxhYmVsOiBsYWJlbCB9O1xuICAgICAgICBpZiAobmVlZHNDb25maXJtYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzdWx0Lm5lZWRzQ29uZmlybWF0aW9uID0gbmVlZHNDb25maXJtYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIENoYW5nZUFubm90YXRpb24uY3JlYXRlID0gY3JlYXRlO1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZSAhPT0gdW5kZWZpbmVkICYmIElzLm9iamVjdExpdGVyYWwoY2FuZGlkYXRlKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLmxhYmVsKSAmJlxuICAgICAgICAgICAgKElzLmJvb2xlYW4oY2FuZGlkYXRlLm5lZWRzQ29uZmlybWF0aW9uKSB8fCBjYW5kaWRhdGUubmVlZHNDb25maXJtYXRpb24gPT09IHVuZGVmaW5lZCkgJiZcbiAgICAgICAgICAgIChJcy5zdHJpbmcoY2FuZGlkYXRlLmRlc2NyaXB0aW9uKSB8fCBjYW5kaWRhdGUuZGVzY3JpcHRpb24gPT09IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIENoYW5nZUFubm90YXRpb24uaXMgPSBpcztcbn0pKENoYW5nZUFubm90YXRpb24gfHwgKENoYW5nZUFubm90YXRpb24gPSB7fSkpO1xuZXhwb3J0IHZhciBDaGFuZ2VBbm5vdGF0aW9uSWRlbnRpZmllcjtcbihmdW5jdGlvbiAoQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIpIHtcbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0eXBlb2YgY2FuZGlkYXRlID09PSAnc3RyaW5nJztcbiAgICB9XG4gICAgQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIuaXMgPSBpcztcbn0pKENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyIHx8IChDaGFuZ2VBbm5vdGF0aW9uSWRlbnRpZmllciA9IHt9KSk7XG5leHBvcnQgdmFyIEFubm90YXRlZFRleHRFZGl0O1xuKGZ1bmN0aW9uIChBbm5vdGF0ZWRUZXh0RWRpdCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYW5ub3RhdGVkIHJlcGxhY2UgdGV4dCBlZGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHJhbmdlIFRoZSByYW5nZSBvZiB0ZXh0IHRvIGJlIHJlcGxhY2VkLlxuICAgICAqIEBwYXJhbSBuZXdUZXh0IFRoZSBuZXcgdGV4dC5cbiAgICAgKiBAcGFyYW0gYW5ub3RhdGlvbiBUaGUgYW5ub3RhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlKHJhbmdlLCBuZXdUZXh0LCBhbm5vdGF0aW9uKSB7XG4gICAgICAgIHJldHVybiB7IHJhbmdlOiByYW5nZSwgbmV3VGV4dDogbmV3VGV4dCwgYW5ub3RhdGlvbklkOiBhbm5vdGF0aW9uIH07XG4gICAgfVxuICAgIEFubm90YXRlZFRleHRFZGl0LnJlcGxhY2UgPSByZXBsYWNlO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYW5ub3RhdGVkIGluc2VydCB0ZXh0IGVkaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gVGhlIHBvc2l0aW9uIHRvIGluc2VydCB0aGUgdGV4dCBhdC5cbiAgICAgKiBAcGFyYW0gbmV3VGV4dCBUaGUgdGV4dCB0byBiZSBpbnNlcnRlZC5cbiAgICAgKiBAcGFyYW0gYW5ub3RhdGlvbiBUaGUgYW5ub3RhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnNlcnQocG9zaXRpb24sIG5ld1RleHQsIGFubm90YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHsgcmFuZ2U6IHsgc3RhcnQ6IHBvc2l0aW9uLCBlbmQ6IHBvc2l0aW9uIH0sIG5ld1RleHQ6IG5ld1RleHQsIGFubm90YXRpb25JZDogYW5ub3RhdGlvbiB9O1xuICAgIH1cbiAgICBBbm5vdGF0ZWRUZXh0RWRpdC5pbnNlcnQgPSBpbnNlcnQ7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhbm5vdGF0ZWQgZGVsZXRlIHRleHQgZWRpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByYW5nZSBUaGUgcmFuZ2Ugb2YgdGV4dCB0byBiZSBkZWxldGVkLlxuICAgICAqIEBwYXJhbSBhbm5vdGF0aW9uIFRoZSBhbm5vdGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlbChyYW5nZSwgYW5ub3RhdGlvbikge1xuICAgICAgICByZXR1cm4geyByYW5nZTogcmFuZ2UsIG5ld1RleHQ6ICcnLCBhbm5vdGF0aW9uSWQ6IGFubm90YXRpb24gfTtcbiAgICB9XG4gICAgQW5ub3RhdGVkVGV4dEVkaXQuZGVsID0gZGVsO1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIFRleHRFZGl0LmlzKGNhbmRpZGF0ZSkgJiYgKENoYW5nZUFubm90YXRpb24uaXMoY2FuZGlkYXRlLmFubm90YXRpb25JZCkgfHwgQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIuaXMoY2FuZGlkYXRlLmFubm90YXRpb25JZCkpO1xuICAgIH1cbiAgICBBbm5vdGF0ZWRUZXh0RWRpdC5pcyA9IGlzO1xufSkoQW5ub3RhdGVkVGV4dEVkaXQgfHwgKEFubm90YXRlZFRleHRFZGl0ID0ge30pKTtcbi8qKlxuICogVGhlIFRleHREb2N1bWVudEVkaXQgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGVcbiAqIGFuIGVkaXQgdGhhdCBtYW5pcHVsYXRlcyBhIHRleHQgZG9jdW1lbnQuXG4gKi9cbmV4cG9ydCB2YXIgVGV4dERvY3VtZW50RWRpdDtcbihmdW5jdGlvbiAoVGV4dERvY3VtZW50RWRpdCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYFRleHREb2N1bWVudEVkaXRgXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHRleHREb2N1bWVudCwgZWRpdHMpIHtcbiAgICAgICAgcmV0dXJuIHsgdGV4dERvY3VtZW50OiB0ZXh0RG9jdW1lbnQsIGVkaXRzOiBlZGl0cyB9O1xuICAgIH1cbiAgICBUZXh0RG9jdW1lbnRFZGl0LmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSlcbiAgICAgICAgICAgICYmIE9wdGlvbmFsVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllci5pcyhjYW5kaWRhdGUudGV4dERvY3VtZW50KVxuICAgICAgICAgICAgJiYgQXJyYXkuaXNBcnJheShjYW5kaWRhdGUuZWRpdHMpO1xuICAgIH1cbiAgICBUZXh0RG9jdW1lbnRFZGl0LmlzID0gaXM7XG59KShUZXh0RG9jdW1lbnRFZGl0IHx8IChUZXh0RG9jdW1lbnRFZGl0ID0ge30pKTtcbmV4cG9ydCB2YXIgQ3JlYXRlRmlsZTtcbihmdW5jdGlvbiAoQ3JlYXRlRmlsZSkge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSh1cmksIG9wdGlvbnMsIGFubm90YXRpb24pIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdjcmVhdGUnLFxuICAgICAgICAgICAgdXJpOiB1cmlcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiAob3B0aW9ucy5vdmVyd3JpdGUgIT09IHVuZGVmaW5lZCB8fCBvcHRpb25zLmlnbm9yZUlmRXhpc3RzICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICByZXN1bHQub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFubm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzdWx0LmFubm90YXRpb25JZCA9IGFubm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgQ3JlYXRlRmlsZS5jcmVhdGUgPSBjcmVhdGU7XG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gY2FuZGlkYXRlICYmIGNhbmRpZGF0ZS5raW5kID09PSAnY3JlYXRlJyAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnVyaSkgJiYgKGNhbmRpZGF0ZS5vcHRpb25zID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICgoY2FuZGlkYXRlLm9wdGlvbnMub3ZlcndyaXRlID09PSB1bmRlZmluZWQgfHwgSXMuYm9vbGVhbihjYW5kaWRhdGUub3B0aW9ucy5vdmVyd3JpdGUpKSAmJiAoY2FuZGlkYXRlLm9wdGlvbnMuaWdub3JlSWZFeGlzdHMgPT09IHVuZGVmaW5lZCB8fCBJcy5ib29sZWFuKGNhbmRpZGF0ZS5vcHRpb25zLmlnbm9yZUlmRXhpc3RzKSkpKSAmJiAoY2FuZGlkYXRlLmFubm90YXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKGNhbmRpZGF0ZS5hbm5vdGF0aW9uSWQpKTtcbiAgICB9XG4gICAgQ3JlYXRlRmlsZS5pcyA9IGlzO1xufSkoQ3JlYXRlRmlsZSB8fCAoQ3JlYXRlRmlsZSA9IHt9KSk7XG5leHBvcnQgdmFyIFJlbmFtZUZpbGU7XG4oZnVuY3Rpb24gKFJlbmFtZUZpbGUpIHtcbiAgICBmdW5jdGlvbiBjcmVhdGUob2xkVXJpLCBuZXdVcmksIG9wdGlvbnMsIGFubm90YXRpb24pIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdyZW5hbWUnLFxuICAgICAgICAgICAgb2xkVXJpOiBvbGRVcmksXG4gICAgICAgICAgICBuZXdVcmk6IG5ld1VyaVxuICAgICAgICB9O1xuICAgICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIChvcHRpb25zLm92ZXJ3cml0ZSAhPT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMuaWdub3JlSWZFeGlzdHMgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5ub3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXN1bHQuYW5ub3RhdGlvbklkID0gYW5ub3RhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBSZW5hbWVGaWxlLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBjYW5kaWRhdGUgJiYgY2FuZGlkYXRlLmtpbmQgPT09ICdyZW5hbWUnICYmIElzLnN0cmluZyhjYW5kaWRhdGUub2xkVXJpKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLm5ld1VyaSkgJiYgKGNhbmRpZGF0ZS5vcHRpb25zID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICgoY2FuZGlkYXRlLm9wdGlvbnMub3ZlcndyaXRlID09PSB1bmRlZmluZWQgfHwgSXMuYm9vbGVhbihjYW5kaWRhdGUub3B0aW9ucy5vdmVyd3JpdGUpKSAmJiAoY2FuZGlkYXRlLm9wdGlvbnMuaWdub3JlSWZFeGlzdHMgPT09IHVuZGVmaW5lZCB8fCBJcy5ib29sZWFuKGNhbmRpZGF0ZS5vcHRpb25zLmlnbm9yZUlmRXhpc3RzKSkpKSAmJiAoY2FuZGlkYXRlLmFubm90YXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKGNhbmRpZGF0ZS5hbm5vdGF0aW9uSWQpKTtcbiAgICB9XG4gICAgUmVuYW1lRmlsZS5pcyA9IGlzO1xufSkoUmVuYW1lRmlsZSB8fCAoUmVuYW1lRmlsZSA9IHt9KSk7XG5leHBvcnQgdmFyIERlbGV0ZUZpbGU7XG4oZnVuY3Rpb24gKERlbGV0ZUZpbGUpIHtcbiAgICBmdW5jdGlvbiBjcmVhdGUodXJpLCBvcHRpb25zLCBhbm5vdGF0aW9uKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICBraW5kOiAnZGVsZXRlJyxcbiAgICAgICAgICAgIHVyaTogdXJpXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQgJiYgKG9wdGlvbnMucmVjdXJzaXZlICE9PSB1bmRlZmluZWQgfHwgb3B0aW9ucy5pZ25vcmVJZk5vdEV4aXN0cyAhPT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgcmVzdWx0Lm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbm5vdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hbm5vdGF0aW9uSWQgPSBhbm5vdGF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIERlbGV0ZUZpbGUuY3JlYXRlID0gY3JlYXRlO1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZSAmJiBjYW5kaWRhdGUua2luZCA9PT0gJ2RlbGV0ZScgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS51cmkpICYmIChjYW5kaWRhdGUub3B0aW9ucyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAoKGNhbmRpZGF0ZS5vcHRpb25zLnJlY3Vyc2l2ZSA9PT0gdW5kZWZpbmVkIHx8IElzLmJvb2xlYW4oY2FuZGlkYXRlLm9wdGlvbnMucmVjdXJzaXZlKSkgJiYgKGNhbmRpZGF0ZS5vcHRpb25zLmlnbm9yZUlmTm90RXhpc3RzID09PSB1bmRlZmluZWQgfHwgSXMuYm9vbGVhbihjYW5kaWRhdGUub3B0aW9ucy5pZ25vcmVJZk5vdEV4aXN0cykpKSkgJiYgKGNhbmRpZGF0ZS5hbm5vdGF0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBDaGFuZ2VBbm5vdGF0aW9uSWRlbnRpZmllci5pcyhjYW5kaWRhdGUuYW5ub3RhdGlvbklkKSk7XG4gICAgfVxuICAgIERlbGV0ZUZpbGUuaXMgPSBpcztcbn0pKERlbGV0ZUZpbGUgfHwgKERlbGV0ZUZpbGUgPSB7fSkpO1xuZXhwb3J0IHZhciBXb3Jrc3BhY2VFZGl0O1xuKGZ1bmN0aW9uIChXb3Jrc3BhY2VFZGl0KSB7XG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gY2FuZGlkYXRlICYmXG4gICAgICAgICAgICAoY2FuZGlkYXRlLmNoYW5nZXMgIT09IHVuZGVmaW5lZCB8fCBjYW5kaWRhdGUuZG9jdW1lbnRDaGFuZ2VzICE9PSB1bmRlZmluZWQpICYmXG4gICAgICAgICAgICAoY2FuZGlkYXRlLmRvY3VtZW50Q2hhbmdlcyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRpZGF0ZS5kb2N1bWVudENoYW5nZXMuZXZlcnkoZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgICAgICAgICAgIGlmIChJcy5zdHJpbmcoY2hhbmdlLmtpbmQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDcmVhdGVGaWxlLmlzKGNoYW5nZSkgfHwgUmVuYW1lRmlsZS5pcyhjaGFuZ2UpIHx8IERlbGV0ZUZpbGUuaXMoY2hhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBUZXh0RG9jdW1lbnRFZGl0LmlzKGNoYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgIH1cbiAgICBXb3Jrc3BhY2VFZGl0LmlzID0gaXM7XG59KShXb3Jrc3BhY2VFZGl0IHx8IChXb3Jrc3BhY2VFZGl0ID0ge30pKTtcbnZhciBUZXh0RWRpdENoYW5nZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dEVkaXRDaGFuZ2VJbXBsKGVkaXRzLCBjaGFuZ2VBbm5vdGF0aW9ucykge1xuICAgICAgICB0aGlzLmVkaXRzID0gZWRpdHM7XG4gICAgICAgIHRoaXMuY2hhbmdlQW5ub3RhdGlvbnMgPSBjaGFuZ2VBbm5vdGF0aW9ucztcbiAgICB9XG4gICAgVGV4dEVkaXRDaGFuZ2VJbXBsLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAocG9zaXRpb24sIG5ld1RleHQsIGFubm90YXRpb24pIHtcbiAgICAgICAgdmFyIGVkaXQ7XG4gICAgICAgIHZhciBpZDtcbiAgICAgICAgaWYgKGFubm90YXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWRpdCA9IFRleHRFZGl0Lmluc2VydChwb3NpdGlvbiwgbmV3VGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIuaXMoYW5ub3RhdGlvbikpIHtcbiAgICAgICAgICAgIGlkID0gYW5ub3RhdGlvbjtcbiAgICAgICAgICAgIGVkaXQgPSBBbm5vdGF0ZWRUZXh0RWRpdC5pbnNlcnQocG9zaXRpb24sIG5ld1RleHQsIGFubm90YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hc3NlcnRDaGFuZ2VBbm5vdGF0aW9ucyh0aGlzLmNoYW5nZUFubm90YXRpb25zKTtcbiAgICAgICAgICAgIGlkID0gdGhpcy5jaGFuZ2VBbm5vdGF0aW9ucy5tYW5hZ2UoYW5ub3RhdGlvbik7XG4gICAgICAgICAgICBlZGl0ID0gQW5ub3RhdGVkVGV4dEVkaXQuaW5zZXJ0KHBvc2l0aW9uLCBuZXdUZXh0LCBpZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lZGl0cy5wdXNoKGVkaXQpO1xuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUZXh0RWRpdENoYW5nZUltcGwucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiAocmFuZ2UsIG5ld1RleHQsIGFubm90YXRpb24pIHtcbiAgICAgICAgdmFyIGVkaXQ7XG4gICAgICAgIHZhciBpZDtcbiAgICAgICAgaWYgKGFubm90YXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWRpdCA9IFRleHRFZGl0LnJlcGxhY2UocmFuZ2UsIG5ld1RleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKGFubm90YXRpb24pKSB7XG4gICAgICAgICAgICBpZCA9IGFubm90YXRpb247XG4gICAgICAgICAgICBlZGl0ID0gQW5ub3RhdGVkVGV4dEVkaXQucmVwbGFjZShyYW5nZSwgbmV3VGV4dCwgYW5ub3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydENoYW5nZUFubm90YXRpb25zKHRoaXMuY2hhbmdlQW5ub3RhdGlvbnMpO1xuICAgICAgICAgICAgaWQgPSB0aGlzLmNoYW5nZUFubm90YXRpb25zLm1hbmFnZShhbm5vdGF0aW9uKTtcbiAgICAgICAgICAgIGVkaXQgPSBBbm5vdGF0ZWRUZXh0RWRpdC5yZXBsYWNlKHJhbmdlLCBuZXdUZXh0LCBpZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lZGl0cy5wdXNoKGVkaXQpO1xuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUZXh0RWRpdENoYW5nZUltcGwucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChyYW5nZSwgYW5ub3RhdGlvbikge1xuICAgICAgICB2YXIgZWRpdDtcbiAgICAgICAgdmFyIGlkO1xuICAgICAgICBpZiAoYW5ub3RhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlZGl0ID0gVGV4dEVkaXQuZGVsKHJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChDaGFuZ2VBbm5vdGF0aW9uSWRlbnRpZmllci5pcyhhbm5vdGF0aW9uKSkge1xuICAgICAgICAgICAgaWQgPSBhbm5vdGF0aW9uO1xuICAgICAgICAgICAgZWRpdCA9IEFubm90YXRlZFRleHRFZGl0LmRlbChyYW5nZSwgYW5ub3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydENoYW5nZUFubm90YXRpb25zKHRoaXMuY2hhbmdlQW5ub3RhdGlvbnMpO1xuICAgICAgICAgICAgaWQgPSB0aGlzLmNoYW5nZUFubm90YXRpb25zLm1hbmFnZShhbm5vdGF0aW9uKTtcbiAgICAgICAgICAgIGVkaXQgPSBBbm5vdGF0ZWRUZXh0RWRpdC5kZWwocmFuZ2UsIGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVkaXRzLnB1c2goZWRpdCk7XG4gICAgICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRleHRFZGl0Q2hhbmdlSW1wbC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGVkaXQpIHtcbiAgICAgICAgdGhpcy5lZGl0cy5wdXNoKGVkaXQpO1xuICAgIH07XG4gICAgVGV4dEVkaXRDaGFuZ2VJbXBsLnByb3RvdHlwZS5hbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVkaXRzO1xuICAgIH07XG4gICAgVGV4dEVkaXRDaGFuZ2VJbXBsLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lZGl0cy5zcGxpY2UoMCwgdGhpcy5lZGl0cy5sZW5ndGgpO1xuICAgIH07XG4gICAgVGV4dEVkaXRDaGFuZ2VJbXBsLnByb3RvdHlwZS5hc3NlcnRDaGFuZ2VBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGV4dCBlZGl0IGNoYW5nZSBpcyBub3QgY29uZmlndXJlZCB0byBtYW5hZ2UgY2hhbmdlIGFubm90YXRpb25zLlwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRleHRFZGl0Q2hhbmdlSW1wbDtcbn0oKSk7XG4vKipcbiAqIEEgaGVscGVyIGNsYXNzXG4gKi9cbnZhciBDaGFuZ2VBbm5vdGF0aW9ucyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDaGFuZ2VBbm5vdGF0aW9ucyhhbm5vdGF0aW9ucykge1xuICAgICAgICB0aGlzLl9hbm5vdGF0aW9ucyA9IGFubm90YXRpb25zID09PSB1bmRlZmluZWQgPyBPYmplY3QuY3JlYXRlKG51bGwpIDogYW5ub3RhdGlvbnM7XG4gICAgICAgIHRoaXMuX2NvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLl9zaXplID0gMDtcbiAgICB9XG4gICAgQ2hhbmdlQW5ub3RhdGlvbnMucHJvdG90eXBlLmFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Fubm90YXRpb25zO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENoYW5nZUFubm90YXRpb25zLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENoYW5nZUFubm90YXRpb25zLnByb3RvdHlwZS5tYW5hZ2UgPSBmdW5jdGlvbiAoaWRPckFubm90YXRpb24sIGFubm90YXRpb24pIHtcbiAgICAgICAgdmFyIGlkO1xuICAgICAgICBpZiAoQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIuaXMoaWRPckFubm90YXRpb24pKSB7XG4gICAgICAgICAgICBpZCA9IGlkT3JBbm5vdGF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWQgPSB0aGlzLm5leHRJZCgpO1xuICAgICAgICAgICAgYW5ub3RhdGlvbiA9IGlkT3JBbm5vdGF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9hbm5vdGF0aW9uc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWQgXCIgKyBpZCArIFwiIGlzIGFscmVhZHkgaW4gdXNlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5ub3RhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhbm5vdGF0aW9uIHByb3ZpZGVkIGZvciBpZCBcIiArIGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hbm5vdGF0aW9uc1tpZF0gPSBhbm5vdGF0aW9uO1xuICAgICAgICB0aGlzLl9zaXplKys7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9O1xuICAgIENoYW5nZUFubm90YXRpb25zLnByb3RvdHlwZS5uZXh0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2NvdW50ZXIrKztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvdW50ZXIudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIHJldHVybiBDaGFuZ2VBbm5vdGF0aW9ucztcbn0oKSk7XG4vKipcbiAqIEEgd29ya3NwYWNlIGNoYW5nZSBoZWxwcyBjb25zdHJ1Y3RpbmcgY2hhbmdlcyB0byBhIHdvcmtzcGFjZS5cbiAqL1xudmFyIFdvcmtzcGFjZUNoYW5nZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBXb3Jrc3BhY2VDaGFuZ2Uod29ya3NwYWNlRWRpdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl90ZXh0RWRpdENoYW5nZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBpZiAod29ya3NwYWNlRWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl93b3Jrc3BhY2VFZGl0ID0gd29ya3NwYWNlRWRpdDtcbiAgICAgICAgICAgIGlmICh3b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUFubm90YXRpb25zID0gbmV3IENoYW5nZUFubm90YXRpb25zKHdvcmtzcGFjZUVkaXQuY2hhbmdlQW5ub3RhdGlvbnMpO1xuICAgICAgICAgICAgICAgIHdvcmtzcGFjZUVkaXQuY2hhbmdlQW5ub3RhdGlvbnMgPSB0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucy5hbGwoKTtcbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFRleHREb2N1bWVudEVkaXQuaXMoY2hhbmdlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRFZGl0Q2hhbmdlID0gbmV3IFRleHRFZGl0Q2hhbmdlSW1wbChjaGFuZ2UuZWRpdHMsIF90aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGV4dEVkaXRDaGFuZ2VzW2NoYW5nZS50ZXh0RG9jdW1lbnQudXJpXSA9IHRleHRFZGl0Q2hhbmdlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh3b3Jrc3BhY2VFZGl0LmNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh3b3Jrc3BhY2VFZGl0LmNoYW5nZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dEVkaXRDaGFuZ2UgPSBuZXcgVGV4dEVkaXRDaGFuZ2VJbXBsKHdvcmtzcGFjZUVkaXQuY2hhbmdlc1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RleHRFZGl0Q2hhbmdlc1trZXldID0gdGV4dEVkaXRDaGFuZ2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl93b3Jrc3BhY2VFZGl0ID0ge307XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdvcmtzcGFjZUNoYW5nZS5wcm90b3R5cGUsIFwiZWRpdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB1bmRlcmx5aW5nIFtXb3Jrc3BhY2VFZGl0XSgjV29ya3NwYWNlRWRpdCkgbGl0ZXJhbFxuICAgICAgICAgKiB1c2UgdG8gYmUgcmV0dXJuZWQgZnJvbSBhIHdvcmtzcGFjZSBlZGl0IG9wZXJhdGlvbiBsaWtlIHJlbmFtZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5pbml0RG9jdW1lbnRDaGFuZ2VzKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2hhbmdlQW5ub3RhdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQuY2hhbmdlQW5ub3RhdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl93b3Jrc3BhY2VFZGl0LmNoYW5nZUFubm90YXRpb25zID0gdGhpcy5fY2hhbmdlQW5ub3RhdGlvbnMuYWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmtzcGFjZUVkaXQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBXb3Jrc3BhY2VDaGFuZ2UucHJvdG90eXBlLmdldFRleHRFZGl0Q2hhbmdlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoT3B0aW9uYWxWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyLmlzKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdERvY3VtZW50Q2hhbmdlcygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dvcmtzcGFjZSBlZGl0IGlzIG5vdCBjb25maWd1cmVkIGZvciBkb2N1bWVudCBjaGFuZ2VzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRleHREb2N1bWVudCA9IHsgdXJpOiBrZXkudXJpLCB2ZXJzaW9uOiBrZXkudmVyc2lvbiB9O1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX3RleHRFZGl0Q2hhbmdlc1t0ZXh0RG9jdW1lbnQudXJpXTtcbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGVkaXRzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHRleHREb2N1bWVudEVkaXQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHREb2N1bWVudDogdGV4dERvY3VtZW50LFxuICAgICAgICAgICAgICAgICAgICBlZGl0czogZWRpdHNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzLnB1c2godGV4dERvY3VtZW50RWRpdCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IFRleHRFZGl0Q2hhbmdlSW1wbChlZGl0cywgdGhpcy5fY2hhbmdlQW5ub3RhdGlvbnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHRFZGl0Q2hhbmdlc1t0ZXh0RG9jdW1lbnQudXJpXSA9IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmluaXRDaGFuZ2VzKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fd29ya3NwYWNlRWRpdC5jaGFuZ2VzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dvcmtzcGFjZSBlZGl0IGlzIG5vdCBjb25maWd1cmVkIGZvciBub3JtYWwgdGV4dCBlZGl0IGNoYW5nZXMuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fdGV4dEVkaXRDaGFuZ2VzW2tleV07XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHZhciBlZGl0cyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQuY2hhbmdlc1trZXldID0gZWRpdHM7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IFRleHRFZGl0Q2hhbmdlSW1wbChlZGl0cyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dEVkaXRDaGFuZ2VzW2tleV0gPSByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBXb3Jrc3BhY2VDaGFuZ2UucHJvdG90eXBlLmluaXREb2N1bWVudENoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl93b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcyA9PT0gdW5kZWZpbmVkICYmIHRoaXMuX3dvcmtzcGFjZUVkaXQuY2hhbmdlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucyA9IG5ldyBDaGFuZ2VBbm5vdGF0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5fd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQuY2hhbmdlQW5ub3RhdGlvbnMgPSB0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucy5hbGwoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgV29ya3NwYWNlQ2hhbmdlLnByb3RvdHlwZS5pbml0Q2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzID09PSB1bmRlZmluZWQgJiYgdGhpcy5fd29ya3NwYWNlRWRpdC5jaGFuZ2VzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQuY2hhbmdlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFdvcmtzcGFjZUNoYW5nZS5wcm90b3R5cGUuY3JlYXRlRmlsZSA9IGZ1bmN0aW9uICh1cmksIG9wdGlvbnNPckFubm90YXRpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5pbml0RG9jdW1lbnRDaGFuZ2VzKCk7XG4gICAgICAgIGlmICh0aGlzLl93b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dvcmtzcGFjZSBlZGl0IGlzIG5vdCBjb25maWd1cmVkIGZvciBkb2N1bWVudCBjaGFuZ2VzLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbm5vdGF0aW9uO1xuICAgICAgICBpZiAoQ2hhbmdlQW5ub3RhdGlvbi5pcyhvcHRpb25zT3JBbm5vdGF0aW9uKSB8fCBDaGFuZ2VBbm5vdGF0aW9uSWRlbnRpZmllci5pcyhvcHRpb25zT3JBbm5vdGF0aW9uKSkge1xuICAgICAgICAgICAgYW5ub3RhdGlvbiA9IG9wdGlvbnNPckFubm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9uc09yQW5ub3RhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3BlcmF0aW9uO1xuICAgICAgICB2YXIgaWQ7XG4gICAgICAgIGlmIChhbm5vdGF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbiA9IENyZWF0ZUZpbGUuY3JlYXRlKHVyaSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZCA9IENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKGFubm90YXRpb24pID8gYW5ub3RhdGlvbiA6IHRoaXMuX2NoYW5nZUFubm90YXRpb25zLm1hbmFnZShhbm5vdGF0aW9uKTtcbiAgICAgICAgICAgIG9wZXJhdGlvbiA9IENyZWF0ZUZpbGUuY3JlYXRlKHVyaSwgb3B0aW9ucywgaWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzLnB1c2gob3BlcmF0aW9uKTtcbiAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgV29ya3NwYWNlQ2hhbmdlLnByb3RvdHlwZS5yZW5hbWVGaWxlID0gZnVuY3Rpb24gKG9sZFVyaSwgbmV3VXJpLCBvcHRpb25zT3JBbm5vdGF0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuaW5pdERvY3VtZW50Q2hhbmdlcygpO1xuICAgICAgICBpZiAodGhpcy5fd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgZWRpdCBpcyBub3QgY29uZmlndXJlZCBmb3IgZG9jdW1lbnQgY2hhbmdlcy4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5ub3RhdGlvbjtcbiAgICAgICAgaWYgKENoYW5nZUFubm90YXRpb24uaXMob3B0aW9uc09yQW5ub3RhdGlvbikgfHwgQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIuaXMob3B0aW9uc09yQW5ub3RhdGlvbikpIHtcbiAgICAgICAgICAgIGFubm90YXRpb24gPSBvcHRpb25zT3JBbm5vdGF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnNPckFubm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9wZXJhdGlvbjtcbiAgICAgICAgdmFyIGlkO1xuICAgICAgICBpZiAoYW5ub3RhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvcGVyYXRpb24gPSBSZW5hbWVGaWxlLmNyZWF0ZShvbGRVcmksIG5ld1VyaSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZCA9IENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKGFubm90YXRpb24pID8gYW5ub3RhdGlvbiA6IHRoaXMuX2NoYW5nZUFubm90YXRpb25zLm1hbmFnZShhbm5vdGF0aW9uKTtcbiAgICAgICAgICAgIG9wZXJhdGlvbiA9IFJlbmFtZUZpbGUuY3JlYXRlKG9sZFVyaSwgbmV3VXJpLCBvcHRpb25zLCBpZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXMucHVzaChvcGVyYXRpb24pO1xuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBXb3Jrc3BhY2VDaGFuZ2UucHJvdG90eXBlLmRlbGV0ZUZpbGUgPSBmdW5jdGlvbiAodXJpLCBvcHRpb25zT3JBbm5vdGF0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuaW5pdERvY3VtZW50Q2hhbmdlcygpO1xuICAgICAgICBpZiAodGhpcy5fd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgZWRpdCBpcyBub3QgY29uZmlndXJlZCBmb3IgZG9jdW1lbnQgY2hhbmdlcy4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5ub3RhdGlvbjtcbiAgICAgICAgaWYgKENoYW5nZUFubm90YXRpb24uaXMob3B0aW9uc09yQW5ub3RhdGlvbikgfHwgQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIuaXMob3B0aW9uc09yQW5ub3RhdGlvbikpIHtcbiAgICAgICAgICAgIGFubm90YXRpb24gPSBvcHRpb25zT3JBbm5vdGF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnNPckFubm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9wZXJhdGlvbjtcbiAgICAgICAgdmFyIGlkO1xuICAgICAgICBpZiAoYW5ub3RhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvcGVyYXRpb24gPSBEZWxldGVGaWxlLmNyZWF0ZSh1cmksIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWQgPSBDaGFuZ2VBbm5vdGF0aW9uSWRlbnRpZmllci5pcyhhbm5vdGF0aW9uKSA/IGFubm90YXRpb24gOiB0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucy5tYW5hZ2UoYW5ub3RhdGlvbik7XG4gICAgICAgICAgICBvcGVyYXRpb24gPSBEZWxldGVGaWxlLmNyZWF0ZSh1cmksIG9wdGlvbnMsIGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl93b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcy5wdXNoKG9wZXJhdGlvbik7XG4gICAgICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBXb3Jrc3BhY2VDaGFuZ2U7XG59KCkpO1xuZXhwb3J0IHsgV29ya3NwYWNlQ2hhbmdlIH07XG4vKipcbiAqIFRoZSBUZXh0RG9jdW1lbnRJZGVudGlmaWVyIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW1RleHREb2N1bWVudElkZW50aWZpZXJdKCNUZXh0RG9jdW1lbnRJZGVudGlmaWVyKSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBUZXh0RG9jdW1lbnRJZGVudGlmaWVyO1xuKGZ1bmN0aW9uIChUZXh0RG9jdW1lbnRJZGVudGlmaWVyKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBUZXh0RG9jdW1lbnRJZGVudGlmaWVyIGxpdGVyYWwuXG4gICAgICogQHBhcmFtIHVyaSBUaGUgZG9jdW1lbnQncyB1cmkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHVyaSkge1xuICAgICAgICByZXR1cm4geyB1cmk6IHVyaSB9O1xuICAgIH1cbiAgICBUZXh0RG9jdW1lbnRJZGVudGlmaWVyLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gbGl0ZXJhbCBjb25mb3JtcyB0byB0aGUgW1RleHREb2N1bWVudElkZW50aWZpZXJdKCNUZXh0RG9jdW1lbnRJZGVudGlmaWVyKSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIElzLnN0cmluZyhjYW5kaWRhdGUudXJpKTtcbiAgICB9XG4gICAgVGV4dERvY3VtZW50SWRlbnRpZmllci5pcyA9IGlzO1xufSkoVGV4dERvY3VtZW50SWRlbnRpZmllciB8fCAoVGV4dERvY3VtZW50SWRlbnRpZmllciA9IHt9KSk7XG4vKipcbiAqIFRoZSBWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW1ZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXJdKCNWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyKSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyO1xuKGZ1bmN0aW9uIChWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyIGxpdGVyYWwuXG4gICAgICogQHBhcmFtIHVyaSBUaGUgZG9jdW1lbnQncyB1cmkuXG4gICAgICogQHBhcmFtIHVyaSBUaGUgZG9jdW1lbnQncyB0ZXh0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSh1cmksIHZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHsgdXJpOiB1cmksIHZlcnNpb246IHZlcnNpb24gfTtcbiAgICB9XG4gICAgVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllci5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyXSgjVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcikgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnVyaSkgJiYgSXMuaW50ZWdlcihjYW5kaWRhdGUudmVyc2lvbik7XG4gICAgfVxuICAgIFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIuaXMgPSBpcztcbn0pKFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIgfHwgKFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIgPSB7fSkpO1xuLyoqXG4gKiBUaGUgT3B0aW9uYWxWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW09wdGlvbmFsVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcl0oI09wdGlvbmFsVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcikgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgT3B0aW9uYWxWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyO1xuKGZ1bmN0aW9uIChPcHRpb25hbFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE9wdGlvbmFsVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllciBsaXRlcmFsLlxuICAgICAqIEBwYXJhbSB1cmkgVGhlIGRvY3VtZW50J3MgdXJpLlxuICAgICAqIEBwYXJhbSB1cmkgVGhlIGRvY3VtZW50J3MgdGV4dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUodXJpLCB2ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiB7IHVyaTogdXJpLCB2ZXJzaW9uOiB2ZXJzaW9uIH07XG4gICAgfVxuICAgIE9wdGlvbmFsVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllci5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtPcHRpb25hbFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXJdKCNPcHRpb25hbFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIpIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS51cmkpICYmIChjYW5kaWRhdGUudmVyc2lvbiA9PT0gbnVsbCB8fCBJcy5pbnRlZ2VyKGNhbmRpZGF0ZS52ZXJzaW9uKSk7XG4gICAgfVxuICAgIE9wdGlvbmFsVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllci5pcyA9IGlzO1xufSkoT3B0aW9uYWxWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyIHx8IChPcHRpb25hbFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIgPSB7fSkpO1xuLyoqXG4gKiBUaGUgVGV4dERvY3VtZW50SXRlbSBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtUZXh0RG9jdW1lbnRJdGVtXSgjVGV4dERvY3VtZW50SXRlbSkgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgVGV4dERvY3VtZW50SXRlbTtcbihmdW5jdGlvbiAoVGV4dERvY3VtZW50SXRlbSkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgVGV4dERvY3VtZW50SXRlbSBsaXRlcmFsLlxuICAgICAqIEBwYXJhbSB1cmkgVGhlIGRvY3VtZW50J3MgdXJpLlxuICAgICAqIEBwYXJhbSBsYW5ndWFnZUlkIFRoZSBkb2N1bWVudCdzIGxhbmd1YWdlIGlkZW50aWZpZXIuXG4gICAgICogQHBhcmFtIHZlcnNpb24gVGhlIGRvY3VtZW50J3MgdmVyc2lvbiBudW1iZXIuXG4gICAgICogQHBhcmFtIHRleHQgVGhlIGRvY3VtZW50J3MgdGV4dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUodXJpLCBsYW5ndWFnZUlkLCB2ZXJzaW9uLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiB7IHVyaTogdXJpLCBsYW5ndWFnZUlkOiBsYW5ndWFnZUlkLCB2ZXJzaW9uOiB2ZXJzaW9uLCB0ZXh0OiB0ZXh0IH07XG4gICAgfVxuICAgIFRleHREb2N1bWVudEl0ZW0uY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbVGV4dERvY3VtZW50SXRlbV0oI1RleHREb2N1bWVudEl0ZW0pIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS51cmkpICYmIElzLnN0cmluZyhjYW5kaWRhdGUubGFuZ3VhZ2VJZCkgJiYgSXMuaW50ZWdlcihjYW5kaWRhdGUudmVyc2lvbikgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS50ZXh0KTtcbiAgICB9XG4gICAgVGV4dERvY3VtZW50SXRlbS5pcyA9IGlzO1xufSkoVGV4dERvY3VtZW50SXRlbSB8fCAoVGV4dERvY3VtZW50SXRlbSA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgY29udGVudCB0eXBlIHRoYXQgYSBjbGllbnQgc3VwcG9ydHMgaW4gdmFyaW91c1xuICogcmVzdWx0IGxpdGVyYWxzIGxpa2UgYEhvdmVyYCwgYFBhcmFtZXRlckluZm9gIG9yIGBDb21wbGV0aW9uSXRlbWAuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhhdCBgTWFya3VwS2luZHNgIG11c3Qgbm90IHN0YXJ0IHdpdGggYSBgJGAuIFRoaXMga2luZHNcbiAqIGFyZSByZXNlcnZlZCBmb3IgaW50ZXJuYWwgdXNhZ2UuXG4gKi9cbmV4cG9ydCB2YXIgTWFya3VwS2luZDtcbihmdW5jdGlvbiAoTWFya3VwS2luZCkge1xuICAgIC8qKlxuICAgICAqIFBsYWluIHRleHQgaXMgc3VwcG9ydGVkIGFzIGEgY29udGVudCBmb3JtYXRcbiAgICAgKi9cbiAgICBNYXJrdXBLaW5kLlBsYWluVGV4dCA9ICdwbGFpbnRleHQnO1xuICAgIC8qKlxuICAgICAqIE1hcmtkb3duIGlzIHN1cHBvcnRlZCBhcyBhIGNvbnRlbnQgZm9ybWF0XG4gICAgICovXG4gICAgTWFya3VwS2luZC5NYXJrZG93biA9ICdtYXJrZG93bic7XG59KShNYXJrdXBLaW5kIHx8IChNYXJrdXBLaW5kID0ge30pKTtcbihmdW5jdGlvbiAoTWFya3VwS2luZCkge1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHZhbHVlIG9mIHRoZSBbTWFya3VwS2luZF0oI01hcmt1cEtpbmQpIHR5cGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gY2FuZGlkYXRlID09PSBNYXJrdXBLaW5kLlBsYWluVGV4dCB8fCBjYW5kaWRhdGUgPT09IE1hcmt1cEtpbmQuTWFya2Rvd247XG4gICAgfVxuICAgIE1hcmt1cEtpbmQuaXMgPSBpcztcbn0pKE1hcmt1cEtpbmQgfHwgKE1hcmt1cEtpbmQgPSB7fSkpO1xuZXhwb3J0IHZhciBNYXJrdXBDb250ZW50O1xuKGZ1bmN0aW9uIChNYXJrdXBDb250ZW50KSB7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIHZhbHVlIGNvbmZvcm1zIHRvIHRoZSBbTWFya3VwQ29udGVudF0oI01hcmt1cENvbnRlbnQpIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKHZhbHVlKSAmJiBNYXJrdXBLaW5kLmlzKGNhbmRpZGF0ZS5raW5kKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnZhbHVlKTtcbiAgICB9XG4gICAgTWFya3VwQ29udGVudC5pcyA9IGlzO1xufSkoTWFya3VwQ29udGVudCB8fCAoTWFya3VwQ29udGVudCA9IHt9KSk7XG4vKipcbiAqIFRoZSBraW5kIG9mIGEgY29tcGxldGlvbiBlbnRyeS5cbiAqL1xuZXhwb3J0IHZhciBDb21wbGV0aW9uSXRlbUtpbmQ7XG4oZnVuY3Rpb24gKENvbXBsZXRpb25JdGVtS2luZCkge1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5UZXh0ID0gMTtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuTWV0aG9kID0gMjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuRnVuY3Rpb24gPSAzO1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5Db25zdHJ1Y3RvciA9IDQ7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLkZpZWxkID0gNTtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuVmFyaWFibGUgPSA2O1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5DbGFzcyA9IDc7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLkludGVyZmFjZSA9IDg7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLk1vZHVsZSA9IDk7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5ID0gMTA7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLlVuaXQgPSAxMTtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuVmFsdWUgPSAxMjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuRW51bSA9IDEzO1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5LZXl3b3JkID0gMTQ7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLlNuaXBwZXQgPSAxNTtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuQ29sb3IgPSAxNjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuRmlsZSA9IDE3O1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5SZWZlcmVuY2UgPSAxODtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuRm9sZGVyID0gMTk7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLkVudW1NZW1iZXIgPSAyMDtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuQ29uc3RhbnQgPSAyMTtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuU3RydWN0ID0gMjI7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLkV2ZW50ID0gMjM7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLk9wZXJhdG9yID0gMjQ7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLlR5cGVQYXJhbWV0ZXIgPSAyNTtcbn0pKENvbXBsZXRpb25JdGVtS2luZCB8fCAoQ29tcGxldGlvbkl0ZW1LaW5kID0ge30pKTtcbi8qKlxuICogRGVmaW5lcyB3aGV0aGVyIHRoZSBpbnNlcnQgdGV4dCBpbiBhIGNvbXBsZXRpb24gaXRlbSBzaG91bGQgYmUgaW50ZXJwcmV0ZWQgYXNcbiAqIHBsYWluIHRleHQgb3IgYSBzbmlwcGV0LlxuICovXG5leHBvcnQgdmFyIEluc2VydFRleHRGb3JtYXQ7XG4oZnVuY3Rpb24gKEluc2VydFRleHRGb3JtYXQpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgcHJpbWFyeSB0ZXh0IHRvIGJlIGluc2VydGVkIGlzIHRyZWF0ZWQgYXMgYSBwbGFpbiBzdHJpbmcuXG4gICAgICovXG4gICAgSW5zZXJ0VGV4dEZvcm1hdC5QbGFpblRleHQgPSAxO1xuICAgIC8qKlxuICAgICAqIFRoZSBwcmltYXJ5IHRleHQgdG8gYmUgaW5zZXJ0ZWQgaXMgdHJlYXRlZCBhcyBhIHNuaXBwZXQuXG4gICAgICpcbiAgICAgKiBBIHNuaXBwZXQgY2FuIGRlZmluZSB0YWIgc3RvcHMgYW5kIHBsYWNlaG9sZGVycyB3aXRoIGAkMWAsIGAkMmBcbiAgICAgKiBhbmQgYCR7Mzpmb299YC4gYCQwYCBkZWZpbmVzIHRoZSBmaW5hbCB0YWIgc3RvcCwgaXQgZGVmYXVsdHMgdG9cbiAgICAgKiB0aGUgZW5kIG9mIHRoZSBzbmlwcGV0LiBQbGFjZWhvbGRlcnMgd2l0aCBlcXVhbCBpZGVudGlmaWVycyBhcmUgbGlua2VkLFxuICAgICAqIHRoYXQgaXMgdHlwaW5nIGluIG9uZSB3aWxsIHVwZGF0ZSBvdGhlcnMgdG9vLlxuICAgICAqXG4gICAgICogU2VlIGFsc286IGh0dHBzOi8vbWljcm9zb2Z0LmdpdGh1Yi5pby9sYW5ndWFnZS1zZXJ2ZXItcHJvdG9jb2wvc3BlY2lmaWNhdGlvbnMvc3BlY2lmaWNhdGlvbi1jdXJyZW50LyNzbmlwcGV0X3N5bnRheFxuICAgICAqL1xuICAgIEluc2VydFRleHRGb3JtYXQuU25pcHBldCA9IDI7XG59KShJbnNlcnRUZXh0Rm9ybWF0IHx8IChJbnNlcnRUZXh0Rm9ybWF0ID0ge30pKTtcbi8qKlxuICogQ29tcGxldGlvbiBpdGVtIHRhZ3MgYXJlIGV4dHJhIGFubm90YXRpb25zIHRoYXQgdHdlYWsgdGhlIHJlbmRlcmluZyBvZiBhIGNvbXBsZXRpb25cbiAqIGl0ZW0uXG4gKlxuICogQHNpbmNlIDMuMTUuMFxuICovXG5leHBvcnQgdmFyIENvbXBsZXRpb25JdGVtVGFnO1xuKGZ1bmN0aW9uIChDb21wbGV0aW9uSXRlbVRhZykge1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIGNvbXBsZXRpb24gYXMgb2Jzb2xldGUsIHVzdWFsbHkgdXNpbmcgYSBzdHJpa2Utb3V0LlxuICAgICAqL1xuICAgIENvbXBsZXRpb25JdGVtVGFnLkRlcHJlY2F0ZWQgPSAxO1xufSkoQ29tcGxldGlvbkl0ZW1UYWcgfHwgKENvbXBsZXRpb25JdGVtVGFnID0ge30pKTtcbi8qKlxuICogVGhlIEluc2VydFJlcGxhY2VFZGl0IG5hbWVzcGFjZSBwcm92aWRlcyBmdW5jdGlvbnMgdG8gZGVhbCB3aXRoIGluc2VydCAvIHJlcGxhY2UgZWRpdHMuXG4gKlxuICogQHNpbmNlIDMuMTYuMFxuICovXG5leHBvcnQgdmFyIEluc2VydFJlcGxhY2VFZGl0O1xuKGZ1bmN0aW9uIChJbnNlcnRSZXBsYWNlRWRpdCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zZXJ0IC8gcmVwbGFjZSBlZGl0XG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKG5ld1RleHQsIGluc2VydCwgcmVwbGFjZSkge1xuICAgICAgICByZXR1cm4geyBuZXdUZXh0OiBuZXdUZXh0LCBpbnNlcnQ6IGluc2VydCwgcmVwbGFjZTogcmVwbGFjZSB9O1xuICAgIH1cbiAgICBJbnNlcnRSZXBsYWNlRWRpdC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtJbnNlcnRSZXBsYWNlRWRpdF0oI0luc2VydFJlcGxhY2VFZGl0KSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gY2FuZGlkYXRlICYmIElzLnN0cmluZyhjYW5kaWRhdGUubmV3VGV4dCkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLmluc2VydCkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnJlcGxhY2UpO1xuICAgIH1cbiAgICBJbnNlcnRSZXBsYWNlRWRpdC5pcyA9IGlzO1xufSkoSW5zZXJ0UmVwbGFjZUVkaXQgfHwgKEluc2VydFJlcGxhY2VFZGl0ID0ge30pKTtcbi8qKlxuICogSG93IHdoaXRlc3BhY2UgYW5kIGluZGVudGF0aW9uIGlzIGhhbmRsZWQgZHVyaW5nIGNvbXBsZXRpb25cbiAqIGl0ZW0gaW5zZXJ0aW9uLlxuICpcbiAqIEBzaW5jZSAzLjE2LjBcbiAqL1xuZXhwb3J0IHZhciBJbnNlcnRUZXh0TW9kZTtcbihmdW5jdGlvbiAoSW5zZXJ0VGV4dE1vZGUpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgaW5zZXJ0aW9uIG9yIHJlcGxhY2Ugc3RyaW5ncyBpcyB0YWtlbiBhcyBpdCBpcy4gSWYgdGhlXG4gICAgICogdmFsdWUgaXMgbXVsdGkgbGluZSB0aGUgbGluZXMgYmVsb3cgdGhlIGN1cnNvciB3aWxsIGJlXG4gICAgICogaW5zZXJ0ZWQgdXNpbmcgdGhlIGluZGVudGF0aW9uIGRlZmluZWQgaW4gdGhlIHN0cmluZyB2YWx1ZS5cbiAgICAgKiBUaGUgY2xpZW50IHdpbGwgbm90IGFwcGx5IGFueSBraW5kIG9mIGFkanVzdG1lbnRzIHRvIHRoZVxuICAgICAqIHN0cmluZy5cbiAgICAgKi9cbiAgICBJbnNlcnRUZXh0TW9kZS5hc0lzID0gMTtcbiAgICAvKipcbiAgICAgKiBUaGUgZWRpdG9yIGFkanVzdHMgbGVhZGluZyB3aGl0ZXNwYWNlIG9mIG5ldyBsaW5lcyBzbyB0aGF0XG4gICAgICogdGhleSBtYXRjaCB0aGUgaW5kZW50YXRpb24gdXAgdG8gdGhlIGN1cnNvciBvZiB0aGUgbGluZSBmb3JcbiAgICAgKiB3aGljaCB0aGUgaXRlbSBpcyBhY2NlcHRlZC5cbiAgICAgKlxuICAgICAqIENvbnNpZGVyIGEgbGluZSBsaWtlIHRoaXM6IDwydGFicz48Y3Vyc29yPjwzdGFicz5mb28uIEFjY2VwdGluZyBhXG4gICAgICogbXVsdGkgbGluZSBjb21wbGV0aW9uIGl0ZW0gaXMgaW5kZW50ZWQgdXNpbmcgMiB0YWJzIGFuZCBhbGxcbiAgICAgKiBmb2xsb3dpbmcgbGluZXMgaW5zZXJ0ZWQgd2lsbCBiZSBpbmRlbnRlZCB1c2luZyAyIHRhYnMgYXMgd2VsbC5cbiAgICAgKi9cbiAgICBJbnNlcnRUZXh0TW9kZS5hZGp1c3RJbmRlbnRhdGlvbiA9IDI7XG59KShJbnNlcnRUZXh0TW9kZSB8fCAoSW5zZXJ0VGV4dE1vZGUgPSB7fSkpO1xuLyoqXG4gKiBUaGUgQ29tcGxldGlvbkl0ZW0gbmFtZXNwYWNlIHByb3ZpZGVzIGZ1bmN0aW9ucyB0byBkZWFsIHdpdGhcbiAqIGNvbXBsZXRpb24gaXRlbXMuXG4gKi9cbmV4cG9ydCB2YXIgQ29tcGxldGlvbkl0ZW07XG4oZnVuY3Rpb24gKENvbXBsZXRpb25JdGVtKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgY29tcGxldGlvbiBpdGVtIGFuZCBzZWVkIGl0IHdpdGggYSBsYWJlbC5cbiAgICAgKiBAcGFyYW0gbGFiZWwgVGhlIGNvbXBsZXRpb24gaXRlbSdzIGxhYmVsXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKGxhYmVsKSB7XG4gICAgICAgIHJldHVybiB7IGxhYmVsOiBsYWJlbCB9O1xuICAgIH1cbiAgICBDb21wbGV0aW9uSXRlbS5jcmVhdGUgPSBjcmVhdGU7XG59KShDb21wbGV0aW9uSXRlbSB8fCAoQ29tcGxldGlvbkl0ZW0gPSB7fSkpO1xuLyoqXG4gKiBUaGUgQ29tcGxldGlvbkxpc3QgbmFtZXNwYWNlIHByb3ZpZGVzIGZ1bmN0aW9ucyB0byBkZWFsIHdpdGhcbiAqIGNvbXBsZXRpb24gbGlzdHMuXG4gKi9cbmV4cG9ydCB2YXIgQ29tcGxldGlvbkxpc3Q7XG4oZnVuY3Rpb24gKENvbXBsZXRpb25MaXN0KSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb21wbGV0aW9uIGxpc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaXRlbXMgVGhlIGNvbXBsZXRpb24gaXRlbXMuXG4gICAgICogQHBhcmFtIGlzSW5jb21wbGV0ZSBUaGUgbGlzdCBpcyBub3QgY29tcGxldGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKGl0ZW1zLCBpc0luY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIHsgaXRlbXM6IGl0ZW1zID8gaXRlbXMgOiBbXSwgaXNJbmNvbXBsZXRlOiAhIWlzSW5jb21wbGV0ZSB9O1xuICAgIH1cbiAgICBDb21wbGV0aW9uTGlzdC5jcmVhdGUgPSBjcmVhdGU7XG59KShDb21wbGV0aW9uTGlzdCB8fCAoQ29tcGxldGlvbkxpc3QgPSB7fSkpO1xuZXhwb3J0IHZhciBNYXJrZWRTdHJpbmc7XG4oZnVuY3Rpb24gKE1hcmtlZFN0cmluZykge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBtYXJrZWQgc3RyaW5nIGZyb20gcGxhaW4gdGV4dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwbGFpblRleHQgVGhlIHBsYWluIHRleHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBsYWluVGV4dChwbGFpblRleHQpIHtcbiAgICAgICAgcmV0dXJuIHBsYWluVGV4dC5yZXBsYWNlKC9bXFxcXGAqX3t9W1xcXSgpIytcXC0uIV0vZywgJ1xcXFwkJicpOyAvLyBlc2NhcGUgbWFya2Rvd24gc3ludGF4IHRva2VuczogaHR0cDovL2RhcmluZ2ZpcmViYWxsLm5ldC9wcm9qZWN0cy9tYXJrZG93bi9zeW50YXgjYmFja3NsYXNoXG4gICAgfVxuICAgIE1hcmtlZFN0cmluZy5mcm9tUGxhaW5UZXh0ID0gZnJvbVBsYWluVGV4dDtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gdmFsdWUgY29uZm9ybXMgdG8gdGhlIFtNYXJrZWRTdHJpbmddKCNNYXJrZWRTdHJpbmcpIHR5cGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gSXMuc3RyaW5nKGNhbmRpZGF0ZSkgfHwgKElzLm9iamVjdExpdGVyYWwoY2FuZGlkYXRlKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLmxhbmd1YWdlKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnZhbHVlKSk7XG4gICAgfVxuICAgIE1hcmtlZFN0cmluZy5pcyA9IGlzO1xufSkoTWFya2VkU3RyaW5nIHx8IChNYXJrZWRTdHJpbmcgPSB7fSkpO1xuZXhwb3J0IHZhciBIb3ZlcjtcbihmdW5jdGlvbiAoSG92ZXIpIHtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gdmFsdWUgY29uZm9ybXMgdG8gdGhlIFtIb3Zlcl0oI0hvdmVyKSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gISFjYW5kaWRhdGUgJiYgSXMub2JqZWN0TGl0ZXJhbChjYW5kaWRhdGUpICYmIChNYXJrdXBDb250ZW50LmlzKGNhbmRpZGF0ZS5jb250ZW50cykgfHxcbiAgICAgICAgICAgIE1hcmtlZFN0cmluZy5pcyhjYW5kaWRhdGUuY29udGVudHMpIHx8XG4gICAgICAgICAgICBJcy50eXBlZEFycmF5KGNhbmRpZGF0ZS5jb250ZW50cywgTWFya2VkU3RyaW5nLmlzKSkgJiYgKHZhbHVlLnJhbmdlID09PSB1bmRlZmluZWQgfHwgUmFuZ2UuaXModmFsdWUucmFuZ2UpKTtcbiAgICB9XG4gICAgSG92ZXIuaXMgPSBpcztcbn0pKEhvdmVyIHx8IChIb3ZlciA9IHt9KSk7XG4vKipcbiAqIFRoZSBQYXJhbWV0ZXJJbmZvcm1hdGlvbiBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtQYXJhbWV0ZXJJbmZvcm1hdGlvbl0oI1BhcmFtZXRlckluZm9ybWF0aW9uKSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBQYXJhbWV0ZXJJbmZvcm1hdGlvbjtcbihmdW5jdGlvbiAoUGFyYW1ldGVySW5mb3JtYXRpb24pIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHBhcmFtZXRlciBpbmZvcm1hdGlvbiBsaXRlcmFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxhYmVsIEEgbGFiZWwgc3RyaW5nLlxuICAgICAqIEBwYXJhbSBkb2N1bWVudGF0aW9uIEEgZG9jIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUobGFiZWwsIGRvY3VtZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50YXRpb24gPyB7IGxhYmVsOiBsYWJlbCwgZG9jdW1lbnRhdGlvbjogZG9jdW1lbnRhdGlvbiB9IDogeyBsYWJlbDogbGFiZWwgfTtcbiAgICB9XG4gICAgUGFyYW1ldGVySW5mb3JtYXRpb24uY3JlYXRlID0gY3JlYXRlO1xufSkoUGFyYW1ldGVySW5mb3JtYXRpb24gfHwgKFBhcmFtZXRlckluZm9ybWF0aW9uID0ge30pKTtcbi8qKlxuICogVGhlIFNpZ25hdHVyZUluZm9ybWF0aW9uIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW1NpZ25hdHVyZUluZm9ybWF0aW9uXSgjU2lnbmF0dXJlSW5mb3JtYXRpb24pIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIFNpZ25hdHVyZUluZm9ybWF0aW9uO1xuKGZ1bmN0aW9uIChTaWduYXR1cmVJbmZvcm1hdGlvbikge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShsYWJlbCwgZG9jdW1lbnRhdGlvbikge1xuICAgICAgICB2YXIgcGFyYW1ldGVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcGFyYW1ldGVyc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0geyBsYWJlbDogbGFiZWwgfTtcbiAgICAgICAgaWYgKElzLmRlZmluZWQoZG9jdW1lbnRhdGlvbikpIHtcbiAgICAgICAgICAgIHJlc3VsdC5kb2N1bWVudGF0aW9uID0gZG9jdW1lbnRhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSXMuZGVmaW5lZChwYXJhbWV0ZXJzKSkge1xuICAgICAgICAgICAgcmVzdWx0LnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnBhcmFtZXRlcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBTaWduYXR1cmVJbmZvcm1hdGlvbi5jcmVhdGUgPSBjcmVhdGU7XG59KShTaWduYXR1cmVJbmZvcm1hdGlvbiB8fCAoU2lnbmF0dXJlSW5mb3JtYXRpb24gPSB7fSkpO1xuLyoqXG4gKiBBIGRvY3VtZW50IGhpZ2hsaWdodCBraW5kLlxuICovXG5leHBvcnQgdmFyIERvY3VtZW50SGlnaGxpZ2h0S2luZDtcbihmdW5jdGlvbiAoRG9jdW1lbnRIaWdobGlnaHRLaW5kKSB7XG4gICAgLyoqXG4gICAgICogQSB0ZXh0dWFsIG9jY3VycmVuY2UuXG4gICAgICovXG4gICAgRG9jdW1lbnRIaWdobGlnaHRLaW5kLlRleHQgPSAxO1xuICAgIC8qKlxuICAgICAqIFJlYWQtYWNjZXNzIG9mIGEgc3ltYm9sLCBsaWtlIHJlYWRpbmcgYSB2YXJpYWJsZS5cbiAgICAgKi9cbiAgICBEb2N1bWVudEhpZ2hsaWdodEtpbmQuUmVhZCA9IDI7XG4gICAgLyoqXG4gICAgICogV3JpdGUtYWNjZXNzIG9mIGEgc3ltYm9sLCBsaWtlIHdyaXRpbmcgdG8gYSB2YXJpYWJsZS5cbiAgICAgKi9cbiAgICBEb2N1bWVudEhpZ2hsaWdodEtpbmQuV3JpdGUgPSAzO1xufSkoRG9jdW1lbnRIaWdobGlnaHRLaW5kIHx8IChEb2N1bWVudEhpZ2hsaWdodEtpbmQgPSB7fSkpO1xuLyoqXG4gKiBEb2N1bWVudEhpZ2hsaWdodCBuYW1lc3BhY2UgdG8gcHJvdmlkZSBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW0RvY3VtZW50SGlnaGxpZ2h0XSgjRG9jdW1lbnRIaWdobGlnaHQpIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIERvY3VtZW50SGlnaGxpZ2h0O1xuKGZ1bmN0aW9uIChEb2N1bWVudEhpZ2hsaWdodCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIERvY3VtZW50SGlnaGxpZ2h0IG9iamVjdC5cbiAgICAgKiBAcGFyYW0gcmFuZ2UgVGhlIHJhbmdlIHRoZSBoaWdobGlnaHQgYXBwbGllcyB0by5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocmFuZ2UsIGtpbmQpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHsgcmFuZ2U6IHJhbmdlIH07XG4gICAgICAgIGlmIChJcy5udW1iZXIoa2luZCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5raW5kID0ga2luZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBEb2N1bWVudEhpZ2hsaWdodC5jcmVhdGUgPSBjcmVhdGU7XG59KShEb2N1bWVudEhpZ2hsaWdodCB8fCAoRG9jdW1lbnRIaWdobGlnaHQgPSB7fSkpO1xuLyoqXG4gKiBBIHN5bWJvbCBraW5kLlxuICovXG5leHBvcnQgdmFyIFN5bWJvbEtpbmQ7XG4oZnVuY3Rpb24gKFN5bWJvbEtpbmQpIHtcbiAgICBTeW1ib2xLaW5kLkZpbGUgPSAxO1xuICAgIFN5bWJvbEtpbmQuTW9kdWxlID0gMjtcbiAgICBTeW1ib2xLaW5kLk5hbWVzcGFjZSA9IDM7XG4gICAgU3ltYm9sS2luZC5QYWNrYWdlID0gNDtcbiAgICBTeW1ib2xLaW5kLkNsYXNzID0gNTtcbiAgICBTeW1ib2xLaW5kLk1ldGhvZCA9IDY7XG4gICAgU3ltYm9sS2luZC5Qcm9wZXJ0eSA9IDc7XG4gICAgU3ltYm9sS2luZC5GaWVsZCA9IDg7XG4gICAgU3ltYm9sS2luZC5Db25zdHJ1Y3RvciA9IDk7XG4gICAgU3ltYm9sS2luZC5FbnVtID0gMTA7XG4gICAgU3ltYm9sS2luZC5JbnRlcmZhY2UgPSAxMTtcbiAgICBTeW1ib2xLaW5kLkZ1bmN0aW9uID0gMTI7XG4gICAgU3ltYm9sS2luZC5WYXJpYWJsZSA9IDEzO1xuICAgIFN5bWJvbEtpbmQuQ29uc3RhbnQgPSAxNDtcbiAgICBTeW1ib2xLaW5kLlN0cmluZyA9IDE1O1xuICAgIFN5bWJvbEtpbmQuTnVtYmVyID0gMTY7XG4gICAgU3ltYm9sS2luZC5Cb29sZWFuID0gMTc7XG4gICAgU3ltYm9sS2luZC5BcnJheSA9IDE4O1xuICAgIFN5bWJvbEtpbmQuT2JqZWN0ID0gMTk7XG4gICAgU3ltYm9sS2luZC5LZXkgPSAyMDtcbiAgICBTeW1ib2xLaW5kLk51bGwgPSAyMTtcbiAgICBTeW1ib2xLaW5kLkVudW1NZW1iZXIgPSAyMjtcbiAgICBTeW1ib2xLaW5kLlN0cnVjdCA9IDIzO1xuICAgIFN5bWJvbEtpbmQuRXZlbnQgPSAyNDtcbiAgICBTeW1ib2xLaW5kLk9wZXJhdG9yID0gMjU7XG4gICAgU3ltYm9sS2luZC5UeXBlUGFyYW1ldGVyID0gMjY7XG59KShTeW1ib2xLaW5kIHx8IChTeW1ib2xLaW5kID0ge30pKTtcbi8qKlxuICogU3ltYm9sIHRhZ3MgYXJlIGV4dHJhIGFubm90YXRpb25zIHRoYXQgdHdlYWsgdGhlIHJlbmRlcmluZyBvZiBhIHN5bWJvbC5cbiAqIEBzaW5jZSAzLjE2XG4gKi9cbmV4cG9ydCB2YXIgU3ltYm9sVGFnO1xuKGZ1bmN0aW9uIChTeW1ib2xUYWcpIHtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBzeW1ib2wgYXMgb2Jzb2xldGUsIHVzdWFsbHkgdXNpbmcgYSBzdHJpa2Utb3V0LlxuICAgICAqL1xuICAgIFN5bWJvbFRhZy5EZXByZWNhdGVkID0gMTtcbn0pKFN5bWJvbFRhZyB8fCAoU3ltYm9sVGFnID0ge30pKTtcbmV4cG9ydCB2YXIgU3ltYm9sSW5mb3JtYXRpb247XG4oZnVuY3Rpb24gKFN5bWJvbEluZm9ybWF0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzeW1ib2wgaW5mb3JtYXRpb24gbGl0ZXJhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzeW1ib2wuXG4gICAgICogQHBhcmFtIGtpbmQgVGhlIGtpbmQgb2YgdGhlIHN5bWJvbC5cbiAgICAgKiBAcGFyYW0gcmFuZ2UgVGhlIHJhbmdlIG9mIHRoZSBsb2NhdGlvbiBvZiB0aGUgc3ltYm9sLlxuICAgICAqIEBwYXJhbSB1cmkgVGhlIHJlc291cmNlIG9mIHRoZSBsb2NhdGlvbiBvZiBzeW1ib2wsIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvY3VtZW50LlxuICAgICAqIEBwYXJhbSBjb250YWluZXJOYW1lIFRoZSBuYW1lIG9mIHRoZSBzeW1ib2wgY29udGFpbmluZyB0aGUgc3ltYm9sLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShuYW1lLCBraW5kLCByYW5nZSwgdXJpLCBjb250YWluZXJOYW1lKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAga2luZDoga2luZCxcbiAgICAgICAgICAgIGxvY2F0aW9uOiB7IHVyaTogdXJpLCByYW5nZTogcmFuZ2UgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoY29udGFpbmVyTmFtZSkge1xuICAgICAgICAgICAgcmVzdWx0LmNvbnRhaW5lck5hbWUgPSBjb250YWluZXJOYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFN5bWJvbEluZm9ybWF0aW9uLmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKFN5bWJvbEluZm9ybWF0aW9uIHx8IChTeW1ib2xJbmZvcm1hdGlvbiA9IHt9KSk7XG5leHBvcnQgdmFyIERvY3VtZW50U3ltYm9sO1xuKGZ1bmN0aW9uIChEb2N1bWVudFN5bWJvbCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgc3ltYm9sIGluZm9ybWF0aW9uIGxpdGVyYWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc3ltYm9sLlxuICAgICAqIEBwYXJhbSBkZXRhaWwgVGhlIGRldGFpbCBvZiB0aGUgc3ltYm9sLlxuICAgICAqIEBwYXJhbSBraW5kIFRoZSBraW5kIG9mIHRoZSBzeW1ib2wuXG4gICAgICogQHBhcmFtIHJhbmdlIFRoZSByYW5nZSBvZiB0aGUgc3ltYm9sLlxuICAgICAqIEBwYXJhbSBzZWxlY3Rpb25SYW5nZSBUaGUgc2VsZWN0aW9uUmFuZ2Ugb2YgdGhlIHN5bWJvbC5cbiAgICAgKiBAcGFyYW0gY2hpbGRyZW4gQ2hpbGRyZW4gb2YgdGhlIHN5bWJvbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUobmFtZSwgZGV0YWlsLCBraW5kLCByYW5nZSwgc2VsZWN0aW9uUmFuZ2UsIGNoaWxkcmVuKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgZGV0YWlsOiBkZXRhaWwsXG4gICAgICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICAgICAgcmFuZ2U6IHJhbmdlLFxuICAgICAgICAgICAgc2VsZWN0aW9uUmFuZ2U6IHNlbGVjdGlvblJhbmdlXG4gICAgICAgIH07XG4gICAgICAgIGlmIChjaGlsZHJlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXN1bHQuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBEb2N1bWVudFN5bWJvbC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtEb2N1bWVudFN5bWJvbF0oI0RvY3VtZW50U3ltYm9sKSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gY2FuZGlkYXRlICYmXG4gICAgICAgICAgICBJcy5zdHJpbmcoY2FuZGlkYXRlLm5hbWUpICYmIElzLm51bWJlcihjYW5kaWRhdGUua2luZCkgJiZcbiAgICAgICAgICAgIFJhbmdlLmlzKGNhbmRpZGF0ZS5yYW5nZSkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnNlbGVjdGlvblJhbmdlKSAmJlxuICAgICAgICAgICAgKGNhbmRpZGF0ZS5kZXRhaWwgPT09IHVuZGVmaW5lZCB8fCBJcy5zdHJpbmcoY2FuZGlkYXRlLmRldGFpbCkpICYmXG4gICAgICAgICAgICAoY2FuZGlkYXRlLmRlcHJlY2F0ZWQgPT09IHVuZGVmaW5lZCB8fCBJcy5ib29sZWFuKGNhbmRpZGF0ZS5kZXByZWNhdGVkKSkgJiZcbiAgICAgICAgICAgIChjYW5kaWRhdGUuY2hpbGRyZW4gPT09IHVuZGVmaW5lZCB8fCBBcnJheS5pc0FycmF5KGNhbmRpZGF0ZS5jaGlsZHJlbikpICYmXG4gICAgICAgICAgICAoY2FuZGlkYXRlLnRhZ3MgPT09IHVuZGVmaW5lZCB8fCBBcnJheS5pc0FycmF5KGNhbmRpZGF0ZS50YWdzKSk7XG4gICAgfVxuICAgIERvY3VtZW50U3ltYm9sLmlzID0gaXM7XG59KShEb2N1bWVudFN5bWJvbCB8fCAoRG9jdW1lbnRTeW1ib2wgPSB7fSkpO1xuLyoqXG4gKiBBIHNldCBvZiBwcmVkZWZpbmVkIGNvZGUgYWN0aW9uIGtpbmRzXG4gKi9cbmV4cG9ydCB2YXIgQ29kZUFjdGlvbktpbmQ7XG4oZnVuY3Rpb24gKENvZGVBY3Rpb25LaW5kKSB7XG4gICAgLyoqXG4gICAgICogRW1wdHkga2luZC5cbiAgICAgKi9cbiAgICBDb2RlQWN0aW9uS2luZC5FbXB0eSA9ICcnO1xuICAgIC8qKlxuICAgICAqIEJhc2Uga2luZCBmb3IgcXVpY2tmaXggYWN0aW9uczogJ3F1aWNrZml4J1xuICAgICAqL1xuICAgIENvZGVBY3Rpb25LaW5kLlF1aWNrRml4ID0gJ3F1aWNrZml4JztcbiAgICAvKipcbiAgICAgKiBCYXNlIGtpbmQgZm9yIHJlZmFjdG9yaW5nIGFjdGlvbnM6ICdyZWZhY3RvcidcbiAgICAgKi9cbiAgICBDb2RlQWN0aW9uS2luZC5SZWZhY3RvciA9ICdyZWZhY3Rvcic7XG4gICAgLyoqXG4gICAgICogQmFzZSBraW5kIGZvciByZWZhY3RvcmluZyBleHRyYWN0aW9uIGFjdGlvbnM6ICdyZWZhY3Rvci5leHRyYWN0J1xuICAgICAqXG4gICAgICogRXhhbXBsZSBleHRyYWN0IGFjdGlvbnM6XG4gICAgICpcbiAgICAgKiAtIEV4dHJhY3QgbWV0aG9kXG4gICAgICogLSBFeHRyYWN0IGZ1bmN0aW9uXG4gICAgICogLSBFeHRyYWN0IHZhcmlhYmxlXG4gICAgICogLSBFeHRyYWN0IGludGVyZmFjZSBmcm9tIGNsYXNzXG4gICAgICogLSAuLi5cbiAgICAgKi9cbiAgICBDb2RlQWN0aW9uS2luZC5SZWZhY3RvckV4dHJhY3QgPSAncmVmYWN0b3IuZXh0cmFjdCc7XG4gICAgLyoqXG4gICAgICogQmFzZSBraW5kIGZvciByZWZhY3RvcmluZyBpbmxpbmUgYWN0aW9uczogJ3JlZmFjdG9yLmlubGluZSdcbiAgICAgKlxuICAgICAqIEV4YW1wbGUgaW5saW5lIGFjdGlvbnM6XG4gICAgICpcbiAgICAgKiAtIElubGluZSBmdW5jdGlvblxuICAgICAqIC0gSW5saW5lIHZhcmlhYmxlXG4gICAgICogLSBJbmxpbmUgY29uc3RhbnRcbiAgICAgKiAtIC4uLlxuICAgICAqL1xuICAgIENvZGVBY3Rpb25LaW5kLlJlZmFjdG9ySW5saW5lID0gJ3JlZmFjdG9yLmlubGluZSc7XG4gICAgLyoqXG4gICAgICogQmFzZSBraW5kIGZvciByZWZhY3RvcmluZyByZXdyaXRlIGFjdGlvbnM6ICdyZWZhY3Rvci5yZXdyaXRlJ1xuICAgICAqXG4gICAgICogRXhhbXBsZSByZXdyaXRlIGFjdGlvbnM6XG4gICAgICpcbiAgICAgKiAtIENvbnZlcnQgSmF2YVNjcmlwdCBmdW5jdGlvbiB0byBjbGFzc1xuICAgICAqIC0gQWRkIG9yIHJlbW92ZSBwYXJhbWV0ZXJcbiAgICAgKiAtIEVuY2Fwc3VsYXRlIGZpZWxkXG4gICAgICogLSBNYWtlIG1ldGhvZCBzdGF0aWNcbiAgICAgKiAtIE1vdmUgbWV0aG9kIHRvIGJhc2UgY2xhc3NcbiAgICAgKiAtIC4uLlxuICAgICAqL1xuICAgIENvZGVBY3Rpb25LaW5kLlJlZmFjdG9yUmV3cml0ZSA9ICdyZWZhY3Rvci5yZXdyaXRlJztcbiAgICAvKipcbiAgICAgKiBCYXNlIGtpbmQgZm9yIHNvdXJjZSBhY3Rpb25zOiBgc291cmNlYFxuICAgICAqXG4gICAgICogU291cmNlIGNvZGUgYWN0aW9ucyBhcHBseSB0byB0aGUgZW50aXJlIGZpbGUuXG4gICAgICovXG4gICAgQ29kZUFjdGlvbktpbmQuU291cmNlID0gJ3NvdXJjZSc7XG4gICAgLyoqXG4gICAgICogQmFzZSBraW5kIGZvciBhbiBvcmdhbml6ZSBpbXBvcnRzIHNvdXJjZSBhY3Rpb246IGBzb3VyY2Uub3JnYW5pemVJbXBvcnRzYFxuICAgICAqL1xuICAgIENvZGVBY3Rpb25LaW5kLlNvdXJjZU9yZ2FuaXplSW1wb3J0cyA9ICdzb3VyY2Uub3JnYW5pemVJbXBvcnRzJztcbiAgICAvKipcbiAgICAgKiBCYXNlIGtpbmQgZm9yIGF1dG8tZml4IHNvdXJjZSBhY3Rpb25zOiBgc291cmNlLmZpeEFsbGAuXG4gICAgICpcbiAgICAgKiBGaXggYWxsIGFjdGlvbnMgYXV0b21hdGljYWxseSBmaXggZXJyb3JzIHRoYXQgaGF2ZSBhIGNsZWFyIGZpeCB0aGF0IGRvIG5vdCByZXF1aXJlIHVzZXIgaW5wdXQuXG4gICAgICogVGhleSBzaG91bGQgbm90IHN1cHByZXNzIGVycm9ycyBvciBwZXJmb3JtIHVuc2FmZSBmaXhlcyBzdWNoIGFzIGdlbmVyYXRpbmcgbmV3IHR5cGVzIG9yIGNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMy4xNS4wXG4gICAgICovXG4gICAgQ29kZUFjdGlvbktpbmQuU291cmNlRml4QWxsID0gJ3NvdXJjZS5maXhBbGwnO1xufSkoQ29kZUFjdGlvbktpbmQgfHwgKENvZGVBY3Rpb25LaW5kID0ge30pKTtcbi8qKlxuICogVGhlIENvZGVBY3Rpb25Db250ZXh0IG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW0NvZGVBY3Rpb25Db250ZXh0XSgjQ29kZUFjdGlvbkNvbnRleHQpIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIENvZGVBY3Rpb25Db250ZXh0O1xuKGZ1bmN0aW9uIChDb2RlQWN0aW9uQ29udGV4dCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQ29kZUFjdGlvbkNvbnRleHQgbGl0ZXJhbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUoZGlhZ25vc3RpY3MsIG9ubHkpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHsgZGlhZ25vc3RpY3M6IGRpYWdub3N0aWNzIH07XG4gICAgICAgIGlmIChvbmx5ICE9PSB1bmRlZmluZWQgJiYgb25seSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0Lm9ubHkgPSBvbmx5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIENvZGVBY3Rpb25Db250ZXh0LmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gbGl0ZXJhbCBjb25mb3JtcyB0byB0aGUgW0NvZGVBY3Rpb25Db250ZXh0XSgjQ29kZUFjdGlvbkNvbnRleHQpIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMudHlwZWRBcnJheShjYW5kaWRhdGUuZGlhZ25vc3RpY3MsIERpYWdub3N0aWMuaXMpICYmIChjYW5kaWRhdGUub25seSA9PT0gdW5kZWZpbmVkIHx8IElzLnR5cGVkQXJyYXkoY2FuZGlkYXRlLm9ubHksIElzLnN0cmluZykpO1xuICAgIH1cbiAgICBDb2RlQWN0aW9uQ29udGV4dC5pcyA9IGlzO1xufSkoQ29kZUFjdGlvbkNvbnRleHQgfHwgKENvZGVBY3Rpb25Db250ZXh0ID0ge30pKTtcbmV4cG9ydCB2YXIgQ29kZUFjdGlvbjtcbihmdW5jdGlvbiAoQ29kZUFjdGlvbikge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSh0aXRsZSwga2luZE9yQ29tbWFuZE9yRWRpdCwga2luZCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0geyB0aXRsZTogdGl0bGUgfTtcbiAgICAgICAgdmFyIGNoZWNrS2luZCA9IHRydWU7XG4gICAgICAgIGlmICh0eXBlb2Yga2luZE9yQ29tbWFuZE9yRWRpdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNoZWNrS2luZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmVzdWx0LmtpbmQgPSBraW5kT3JDb21tYW5kT3JFZGl0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKENvbW1hbmQuaXMoa2luZE9yQ29tbWFuZE9yRWRpdCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5jb21tYW5kID0ga2luZE9yQ29tbWFuZE9yRWRpdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5lZGl0ID0ga2luZE9yQ29tbWFuZE9yRWRpdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hlY2tLaW5kICYmIGtpbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzdWx0LmtpbmQgPSBraW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIENvZGVBY3Rpb24uY3JlYXRlID0gY3JlYXRlO1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnRpdGxlKSAmJlxuICAgICAgICAgICAgKGNhbmRpZGF0ZS5kaWFnbm9zdGljcyA9PT0gdW5kZWZpbmVkIHx8IElzLnR5cGVkQXJyYXkoY2FuZGlkYXRlLmRpYWdub3N0aWNzLCBEaWFnbm9zdGljLmlzKSkgJiZcbiAgICAgICAgICAgIChjYW5kaWRhdGUua2luZCA9PT0gdW5kZWZpbmVkIHx8IElzLnN0cmluZyhjYW5kaWRhdGUua2luZCkpICYmXG4gICAgICAgICAgICAoY2FuZGlkYXRlLmVkaXQgIT09IHVuZGVmaW5lZCB8fCBjYW5kaWRhdGUuY29tbWFuZCAhPT0gdW5kZWZpbmVkKSAmJlxuICAgICAgICAgICAgKGNhbmRpZGF0ZS5jb21tYW5kID09PSB1bmRlZmluZWQgfHwgQ29tbWFuZC5pcyhjYW5kaWRhdGUuY29tbWFuZCkpICYmXG4gICAgICAgICAgICAoY2FuZGlkYXRlLmlzUHJlZmVycmVkID09PSB1bmRlZmluZWQgfHwgSXMuYm9vbGVhbihjYW5kaWRhdGUuaXNQcmVmZXJyZWQpKSAmJlxuICAgICAgICAgICAgKGNhbmRpZGF0ZS5lZGl0ID09PSB1bmRlZmluZWQgfHwgV29ya3NwYWNlRWRpdC5pcyhjYW5kaWRhdGUuZWRpdCkpO1xuICAgIH1cbiAgICBDb2RlQWN0aW9uLmlzID0gaXM7XG59KShDb2RlQWN0aW9uIHx8IChDb2RlQWN0aW9uID0ge30pKTtcbi8qKlxuICogVGhlIENvZGVMZW5zIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW0NvZGVMZW5zXSgjQ29kZUxlbnMpIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIENvZGVMZW5zO1xuKGZ1bmN0aW9uIChDb2RlTGVucykge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQ29kZUxlbnMgbGl0ZXJhbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocmFuZ2UsIGRhdGEpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHsgcmFuZ2U6IHJhbmdlIH07XG4gICAgICAgIGlmIChJcy5kZWZpbmVkKGRhdGEpKSB7XG4gICAgICAgICAgICByZXN1bHQuZGF0YSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgQ29kZUxlbnMuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbQ29kZUxlbnNdKCNDb2RlTGVucykgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpICYmIChJcy51bmRlZmluZWQoY2FuZGlkYXRlLmNvbW1hbmQpIHx8IENvbW1hbmQuaXMoY2FuZGlkYXRlLmNvbW1hbmQpKTtcbiAgICB9XG4gICAgQ29kZUxlbnMuaXMgPSBpcztcbn0pKENvZGVMZW5zIHx8IChDb2RlTGVucyA9IHt9KSk7XG4vKipcbiAqIFRoZSBGb3JtYXR0aW5nT3B0aW9ucyBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtGb3JtYXR0aW5nT3B0aW9uc10oI0Zvcm1hdHRpbmdPcHRpb25zKSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBGb3JtYXR0aW5nT3B0aW9ucztcbihmdW5jdGlvbiAoRm9ybWF0dGluZ09wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEZvcm1hdHRpbmdPcHRpb25zIGxpdGVyYWwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHRhYlNpemUsIGluc2VydFNwYWNlcykge1xuICAgICAgICByZXR1cm4geyB0YWJTaXplOiB0YWJTaXplLCBpbnNlcnRTcGFjZXM6IGluc2VydFNwYWNlcyB9O1xuICAgIH1cbiAgICBGb3JtYXR0aW5nT3B0aW9ucy5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtGb3JtYXR0aW5nT3B0aW9uc10oI0Zvcm1hdHRpbmdPcHRpb25zKSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIElzLnVpbnRlZ2VyKGNhbmRpZGF0ZS50YWJTaXplKSAmJiBJcy5ib29sZWFuKGNhbmRpZGF0ZS5pbnNlcnRTcGFjZXMpO1xuICAgIH1cbiAgICBGb3JtYXR0aW5nT3B0aW9ucy5pcyA9IGlzO1xufSkoRm9ybWF0dGluZ09wdGlvbnMgfHwgKEZvcm1hdHRpbmdPcHRpb25zID0ge30pKTtcbi8qKlxuICogVGhlIERvY3VtZW50TGluayBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtEb2N1bWVudExpbmtdKCNEb2N1bWVudExpbmspIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIERvY3VtZW50TGluaztcbihmdW5jdGlvbiAoRG9jdW1lbnRMaW5rKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBEb2N1bWVudExpbmsgbGl0ZXJhbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocmFuZ2UsIHRhcmdldCwgZGF0YSkge1xuICAgICAgICByZXR1cm4geyByYW5nZTogcmFuZ2UsIHRhcmdldDogdGFyZ2V0LCBkYXRhOiBkYXRhIH07XG4gICAgfVxuICAgIERvY3VtZW50TGluay5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtEb2N1bWVudExpbmtdKCNEb2N1bWVudExpbmspIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnJhbmdlKSAmJiAoSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS50YXJnZXQpIHx8IElzLnN0cmluZyhjYW5kaWRhdGUudGFyZ2V0KSk7XG4gICAgfVxuICAgIERvY3VtZW50TGluay5pcyA9IGlzO1xufSkoRG9jdW1lbnRMaW5rIHx8IChEb2N1bWVudExpbmsgPSB7fSkpO1xuLyoqXG4gKiBUaGUgU2VsZWN0aW9uUmFuZ2UgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbiB0byB3b3JrIHdpdGhcbiAqIFNlbGVjdGlvblJhbmdlIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIFNlbGVjdGlvblJhbmdlO1xuKGZ1bmN0aW9uIChTZWxlY3Rpb25SYW5nZSkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgU2VsZWN0aW9uUmFuZ2VcbiAgICAgKiBAcGFyYW0gcmFuZ2UgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSBwYXJlbnQgYW4gb3B0aW9uYWwgcGFyZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShyYW5nZSwgcGFyZW50KSB7XG4gICAgICAgIHJldHVybiB7IHJhbmdlOiByYW5nZSwgcGFyZW50OiBwYXJlbnQgfTtcbiAgICB9XG4gICAgU2VsZWN0aW9uUmFuZ2UuY3JlYXRlID0gY3JlYXRlO1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZSAhPT0gdW5kZWZpbmVkICYmIFJhbmdlLmlzKGNhbmRpZGF0ZS5yYW5nZSkgJiYgKGNhbmRpZGF0ZS5wYXJlbnQgPT09IHVuZGVmaW5lZCB8fCBTZWxlY3Rpb25SYW5nZS5pcyhjYW5kaWRhdGUucGFyZW50KSk7XG4gICAgfVxuICAgIFNlbGVjdGlvblJhbmdlLmlzID0gaXM7XG59KShTZWxlY3Rpb25SYW5nZSB8fCAoU2VsZWN0aW9uUmFuZ2UgPSB7fSkpO1xuZXhwb3J0IHZhciBFT0wgPSBbJ1xcbicsICdcXHJcXG4nLCAnXFxyJ107XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSB0aGUgdGV4dCBkb2N1bWVudCBmcm9tIHRoZSBuZXcgdnNjb2RlLWxhbmd1YWdlc2VydmVyLXRleHRkb2N1bWVudCBwYWNrYWdlLlxuICovXG5leHBvcnQgdmFyIFRleHREb2N1bWVudDtcbihmdW5jdGlvbiAoVGV4dERvY3VtZW50KSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBJVGV4dERvY3VtZW50IGxpdGVyYWwgZnJvbSB0aGUgZ2l2ZW4gdXJpIGFuZCBjb250ZW50LlxuICAgICAqIEBwYXJhbSB1cmkgVGhlIGRvY3VtZW50J3MgdXJpLlxuICAgICAqIEBwYXJhbSBsYW5ndWFnZUlkICBUaGUgZG9jdW1lbnQncyBsYW5ndWFnZSBJZC5cbiAgICAgKiBAcGFyYW0gY29udGVudCBUaGUgZG9jdW1lbnQncyBjb250ZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSh1cmksIGxhbmd1YWdlSWQsIHZlcnNpb24sIGNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdWxsVGV4dERvY3VtZW50KHVyaSwgbGFuZ3VhZ2VJZCwgdmVyc2lvbiwgY29udGVudCk7XG4gICAgfVxuICAgIFRleHREb2N1bWVudC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtJVGV4dERvY3VtZW50XSgjSVRleHREb2N1bWVudCkgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnVyaSkgJiYgKElzLnVuZGVmaW5lZChjYW5kaWRhdGUubGFuZ3VhZ2VJZCkgfHwgSXMuc3RyaW5nKGNhbmRpZGF0ZS5sYW5ndWFnZUlkKSkgJiYgSXMudWludGVnZXIoY2FuZGlkYXRlLmxpbmVDb3VudClcbiAgICAgICAgICAgICYmIElzLmZ1bmMoY2FuZGlkYXRlLmdldFRleHQpICYmIElzLmZ1bmMoY2FuZGlkYXRlLnBvc2l0aW9uQXQpICYmIElzLmZ1bmMoY2FuZGlkYXRlLm9mZnNldEF0KSA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG4gICAgVGV4dERvY3VtZW50LmlzID0gaXM7XG4gICAgZnVuY3Rpb24gYXBwbHlFZGl0cyhkb2N1bWVudCwgZWRpdHMpIHtcbiAgICAgICAgdmFyIHRleHQgPSBkb2N1bWVudC5nZXRUZXh0KCk7XG4gICAgICAgIHZhciBzb3J0ZWRFZGl0cyA9IG1lcmdlU29ydChlZGl0cywgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHZhciBkaWZmID0gYS5yYW5nZS5zdGFydC5saW5lIC0gYi5yYW5nZS5zdGFydC5saW5lO1xuICAgICAgICAgICAgaWYgKGRpZmYgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5yYW5nZS5zdGFydC5jaGFyYWN0ZXIgLSBiLnJhbmdlLnN0YXJ0LmNoYXJhY3RlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGxhc3RNb2RpZmllZE9mZnNldCA9IHRleHQubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gc29ydGVkRWRpdHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBlID0gc29ydGVkRWRpdHNbaV07XG4gICAgICAgICAgICB2YXIgc3RhcnRPZmZzZXQgPSBkb2N1bWVudC5vZmZzZXRBdChlLnJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICAgIHZhciBlbmRPZmZzZXQgPSBkb2N1bWVudC5vZmZzZXRBdChlLnJhbmdlLmVuZCk7XG4gICAgICAgICAgICBpZiAoZW5kT2Zmc2V0IDw9IGxhc3RNb2RpZmllZE9mZnNldCkge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBzdGFydE9mZnNldCkgKyBlLm5ld1RleHQgKyB0ZXh0LnN1YnN0cmluZyhlbmRPZmZzZXQsIHRleHQubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT3ZlcmxhcHBpbmcgZWRpdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkT2Zmc2V0ID0gc3RhcnRPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIFRleHREb2N1bWVudC5hcHBseUVkaXRzID0gYXBwbHlFZGl0cztcbiAgICBmdW5jdGlvbiBtZXJnZVNvcnQoZGF0YSwgY29tcGFyZSkge1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgLy8gc29ydGVkXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcCA9IChkYXRhLmxlbmd0aCAvIDIpIHwgMDtcbiAgICAgICAgdmFyIGxlZnQgPSBkYXRhLnNsaWNlKDAsIHApO1xuICAgICAgICB2YXIgcmlnaHQgPSBkYXRhLnNsaWNlKHApO1xuICAgICAgICBtZXJnZVNvcnQobGVmdCwgY29tcGFyZSk7XG4gICAgICAgIG1lcmdlU29ydChyaWdodCwgY29tcGFyZSk7XG4gICAgICAgIHZhciBsZWZ0SWR4ID0gMDtcbiAgICAgICAgdmFyIHJpZ2h0SWR4ID0gMDtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAobGVmdElkeCA8IGxlZnQubGVuZ3RoICYmIHJpZ2h0SWR4IDwgcmlnaHQubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcmV0ID0gY29tcGFyZShsZWZ0W2xlZnRJZHhdLCByaWdodFtyaWdodElkeF0pO1xuICAgICAgICAgICAgaWYgKHJldCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gc21hbGxlcl9lcXVhbCAtPiB0YWtlIGxlZnQgdG8gcHJlc2VydmUgb3JkZXJcbiAgICAgICAgICAgICAgICBkYXRhW2krK10gPSBsZWZ0W2xlZnRJZHgrK107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBncmVhdGVyIC0+IHRha2UgcmlnaHRcbiAgICAgICAgICAgICAgICBkYXRhW2krK10gPSByaWdodFtyaWdodElkeCsrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAobGVmdElkeCA8IGxlZnQubGVuZ3RoKSB7XG4gICAgICAgICAgICBkYXRhW2krK10gPSBsZWZ0W2xlZnRJZHgrK107XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHJpZ2h0SWR4IDwgcmlnaHQubGVuZ3RoKSB7XG4gICAgICAgICAgICBkYXRhW2krK10gPSByaWdodFtyaWdodElkeCsrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59KShUZXh0RG9jdW1lbnQgfHwgKFRleHREb2N1bWVudCA9IHt9KSk7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSB0aGUgdGV4dCBkb2N1bWVudCBmcm9tIHRoZSBuZXcgdnNjb2RlLWxhbmd1YWdlc2VydmVyLXRleHRkb2N1bWVudCBwYWNrYWdlLlxuICovXG52YXIgRnVsbFRleHREb2N1bWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGdWxsVGV4dERvY3VtZW50KHVyaSwgbGFuZ3VhZ2VJZCwgdmVyc2lvbiwgY29udGVudCkge1xuICAgICAgICB0aGlzLl91cmkgPSB1cmk7XG4gICAgICAgIHRoaXMuX2xhbmd1YWdlSWQgPSBsYW5ndWFnZUlkO1xuICAgICAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy5fY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIHRoaXMuX2xpbmVPZmZzZXRzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUsIFwidXJpXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXJpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bGxUZXh0RG9jdW1lbnQucHJvdG90eXBlLCBcImxhbmd1YWdlSWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sYW5ndWFnZUlkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bGxUZXh0RG9jdW1lbnQucHJvdG90eXBlLCBcInZlcnNpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92ZXJzaW9uO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMub2Zmc2V0QXQocmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgdmFyIGVuZCA9IHRoaXMub2Zmc2V0QXQocmFuZ2UuZW5kKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50LnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudDtcbiAgICB9O1xuICAgIEZ1bGxUZXh0RG9jdW1lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChldmVudCwgdmVyc2lvbikge1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gZXZlbnQudGV4dDtcbiAgICAgICAgdGhpcy5fdmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIHRoaXMuX2xpbmVPZmZzZXRzID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUuZ2V0TGluZU9mZnNldHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9saW5lT2Zmc2V0cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgbGluZU9mZnNldHMgPSBbXTtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gdGhpcy5fY29udGVudDtcbiAgICAgICAgICAgIHZhciBpc0xpbmVTdGFydCA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNMaW5lU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZU9mZnNldHMucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgaXNMaW5lU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGNoID0gdGV4dC5jaGFyQXQoaSk7XG4gICAgICAgICAgICAgICAgaXNMaW5lU3RhcnQgPSAoY2ggPT09ICdcXHInIHx8IGNoID09PSAnXFxuJyk7XG4gICAgICAgICAgICAgICAgaWYgKGNoID09PSAnXFxyJyAmJiBpICsgMSA8IHRleHQubGVuZ3RoICYmIHRleHQuY2hhckF0KGkgKyAxKSA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0xpbmVTdGFydCAmJiB0ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsaW5lT2Zmc2V0cy5wdXNoKHRleHQubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2xpbmVPZmZzZXRzID0gbGluZU9mZnNldHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVPZmZzZXRzO1xuICAgIH07XG4gICAgRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUucG9zaXRpb25BdCA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgb2Zmc2V0ID0gTWF0aC5tYXgoTWF0aC5taW4ob2Zmc2V0LCB0aGlzLl9jb250ZW50Lmxlbmd0aCksIDApO1xuICAgICAgICB2YXIgbGluZU9mZnNldHMgPSB0aGlzLmdldExpbmVPZmZzZXRzKCk7XG4gICAgICAgIHZhciBsb3cgPSAwLCBoaWdoID0gbGluZU9mZnNldHMubGVuZ3RoO1xuICAgICAgICBpZiAoaGlnaCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFBvc2l0aW9uLmNyZWF0ZSgwLCBvZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgICAgICB2YXIgbWlkID0gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKTtcbiAgICAgICAgICAgIGlmIChsaW5lT2Zmc2V0c1ttaWRdID4gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG93IGlzIHRoZSBsZWFzdCB4IGZvciB3aGljaCB0aGUgbGluZSBvZmZzZXQgaXMgbGFyZ2VyIHRoYW4gdGhlIGN1cnJlbnQgb2Zmc2V0XG4gICAgICAgIC8vIG9yIGFycmF5Lmxlbmd0aCBpZiBubyBsaW5lIG9mZnNldCBpcyBsYXJnZXIgdGhhbiB0aGUgY3VycmVudCBvZmZzZXRcbiAgICAgICAgdmFyIGxpbmUgPSBsb3cgLSAxO1xuICAgICAgICByZXR1cm4gUG9zaXRpb24uY3JlYXRlKGxpbmUsIG9mZnNldCAtIGxpbmVPZmZzZXRzW2xpbmVdKTtcbiAgICB9O1xuICAgIEZ1bGxUZXh0RG9jdW1lbnQucHJvdG90eXBlLm9mZnNldEF0ID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBsaW5lT2Zmc2V0cyA9IHRoaXMuZ2V0TGluZU9mZnNldHMoKTtcbiAgICAgICAgaWYgKHBvc2l0aW9uLmxpbmUgPj0gbGluZU9mZnNldHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocG9zaXRpb24ubGluZSA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lT2Zmc2V0ID0gbGluZU9mZnNldHNbcG9zaXRpb24ubGluZV07XG4gICAgICAgIHZhciBuZXh0TGluZU9mZnNldCA9IChwb3NpdGlvbi5saW5lICsgMSA8IGxpbmVPZmZzZXRzLmxlbmd0aCkgPyBsaW5lT2Zmc2V0c1twb3NpdGlvbi5saW5lICsgMV0gOiB0aGlzLl9jb250ZW50Lmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKGxpbmVPZmZzZXQgKyBwb3NpdGlvbi5jaGFyYWN0ZXIsIG5leHRMaW5lT2Zmc2V0KSwgbGluZU9mZnNldCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUsIFwibGluZUNvdW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lT2Zmc2V0cygpLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBGdWxsVGV4dERvY3VtZW50O1xufSgpKTtcbnZhciBJcztcbihmdW5jdGlvbiAoSXMpIHtcbiAgICB2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuICAgIGZ1bmN0aW9uIGRlZmluZWQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgfVxuICAgIElzLmRlZmluZWQgPSBkZWZpbmVkO1xuICAgIGZ1bmN0aW9uIHVuZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJztcbiAgICB9XG4gICAgSXMudW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgIGZ1bmN0aW9uIGJvb2xlYW4odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZTtcbiAgICB9XG4gICAgSXMuYm9vbGVhbiA9IGJvb2xlYW47XG4gICAgZnVuY3Rpb24gc3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG4gICAgfVxuICAgIElzLnN0cmluZyA9IHN0cmluZztcbiAgICBmdW5jdGlvbiBudW1iZXIodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBOdW1iZXJdJztcbiAgICB9XG4gICAgSXMubnVtYmVyID0gbnVtYmVyO1xuICAgIGZ1bmN0aW9uIG51bWJlclJhbmdlKHZhbHVlLCBtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IE51bWJlcl0nICYmIG1pbiA8PSB2YWx1ZSAmJiB2YWx1ZSA8PSBtYXg7XG4gICAgfVxuICAgIElzLm51bWJlclJhbmdlID0gbnVtYmVyUmFuZ2U7XG4gICAgZnVuY3Rpb24gaW50ZWdlcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IE51bWJlcl0nICYmIC0yMTQ3NDgzNjQ4IDw9IHZhbHVlICYmIHZhbHVlIDw9IDIxNDc0ODM2NDc7XG4gICAgfVxuICAgIElzLmludGVnZXIgPSBpbnRlZ2VyO1xuICAgIGZ1bmN0aW9uIHVpbnRlZ2VyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgTnVtYmVyXScgJiYgMCA8PSB2YWx1ZSAmJiB2YWx1ZSA8PSAyMTQ3NDgzNjQ3O1xuICAgIH1cbiAgICBJcy51aW50ZWdlciA9IHVpbnRlZ2VyO1xuICAgIGZ1bmN0aW9uIGZ1bmModmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuICAgIH1cbiAgICBJcy5mdW5jID0gZnVuYztcbiAgICBmdW5jdGlvbiBvYmplY3RMaXRlcmFsKHZhbHVlKSB7XG4gICAgICAgIC8vIFN0cmljdGx5IHNwZWFraW5nIGNsYXNzIGluc3RhbmNlcyBwYXNzIHRoaXMgY2hlY2sgYXMgd2VsbC4gU2luY2UgdGhlIExTUFxuICAgICAgICAvLyBkb2Vzbid0IHVzZSBjbGFzc2VzIHdlIGlnbm9yZSB0aGlzIGZvciBub3cuIElmIHdlIGRvIHdlIG5lZWQgdG8gYWRkIHNvbWV0aGluZ1xuICAgICAgICAvLyBsaWtlIHRoaXM6IGBPYmplY3QuZ2V0UHJvdG90eXBlT2YoT2JqZWN0LmdldFByb3RvdHlwZU9mKHgpKSA9PT0gbnVsbGBcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCc7XG4gICAgfVxuICAgIElzLm9iamVjdExpdGVyYWwgPSBvYmplY3RMaXRlcmFsO1xuICAgIGZ1bmN0aW9uIHR5cGVkQXJyYXkodmFsdWUsIGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5ldmVyeShjaGVjayk7XG4gICAgfVxuICAgIElzLnR5cGVkQXJyYXkgPSB0eXBlZEFycmF5O1xufSkoSXMgfHwgKElzID0ge30pKTtcbiIsICIvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4ndXNlIHN0cmljdCc7XG52YXIgRnVsbFRleHREb2N1bWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGdWxsVGV4dERvY3VtZW50KHVyaSwgbGFuZ3VhZ2VJZCwgdmVyc2lvbiwgY29udGVudCkge1xuICAgICAgICB0aGlzLl91cmkgPSB1cmk7XG4gICAgICAgIHRoaXMuX2xhbmd1YWdlSWQgPSBsYW5ndWFnZUlkO1xuICAgICAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy5fY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIHRoaXMuX2xpbmVPZmZzZXRzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUsIFwidXJpXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXJpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUsIFwibGFuZ3VhZ2VJZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xhbmd1YWdlSWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdWxsVGV4dERvY3VtZW50LnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmVyc2lvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMub2Zmc2V0QXQocmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgdmFyIGVuZCA9IHRoaXMub2Zmc2V0QXQocmFuZ2UuZW5kKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50LnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudDtcbiAgICB9O1xuICAgIEZ1bGxUZXh0RG9jdW1lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChjaGFuZ2VzLCB2ZXJzaW9uKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgY2hhbmdlc18xID0gY2hhbmdlczsgX2kgPCBjaGFuZ2VzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gY2hhbmdlc18xW19pXTtcbiAgICAgICAgICAgIGlmIChGdWxsVGV4dERvY3VtZW50LmlzSW5jcmVtZW50YWwoY2hhbmdlKSkge1xuICAgICAgICAgICAgICAgIC8vIG1ha2VzIHN1cmUgc3RhcnQgaXMgYmVmb3JlIGVuZFxuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IGdldFdlbGxmb3JtZWRSYW5nZShjaGFuZ2UucmFuZ2UpO1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBjb250ZW50XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0T2Zmc2V0ID0gdGhpcy5vZmZzZXRBdChyYW5nZS5zdGFydCk7XG4gICAgICAgICAgICAgICAgdmFyIGVuZE9mZnNldCA9IHRoaXMub2Zmc2V0QXQocmFuZ2UuZW5kKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250ZW50ID0gdGhpcy5fY29udGVudC5zdWJzdHJpbmcoMCwgc3RhcnRPZmZzZXQpICsgY2hhbmdlLnRleHQgKyB0aGlzLl9jb250ZW50LnN1YnN0cmluZyhlbmRPZmZzZXQsIHRoaXMuX2NvbnRlbnQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIG9mZnNldHNcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRMaW5lID0gTWF0aC5tYXgocmFuZ2Uuc3RhcnQubGluZSwgMCk7XG4gICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSBNYXRoLm1heChyYW5nZS5lbmQubGluZSwgMCk7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmVPZmZzZXRzID0gdGhpcy5fbGluZU9mZnNldHM7XG4gICAgICAgICAgICAgICAgdmFyIGFkZGVkTGluZU9mZnNldHMgPSBjb21wdXRlTGluZU9mZnNldHMoY2hhbmdlLnRleHQsIGZhbHNlLCBzdGFydE9mZnNldCk7XG4gICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgLSBzdGFydExpbmUgPT09IGFkZGVkTGluZU9mZnNldHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhZGRlZExpbmVPZmZzZXRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lT2Zmc2V0c1tpICsgc3RhcnRMaW5lICsgMV0gPSBhZGRlZExpbmVPZmZzZXRzW2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkZWRMaW5lT2Zmc2V0cy5sZW5ndGggPCAxMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZU9mZnNldHMuc3BsaWNlLmFwcGx5KGxpbmVPZmZzZXRzLCBbc3RhcnRMaW5lICsgMSwgZW5kTGluZSAtIHN0YXJ0TGluZV0uY29uY2F0KGFkZGVkTGluZU9mZnNldHMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gYXZvaWQgdG9vIG1hbnkgYXJndW1lbnRzIGZvciBzcGxpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVPZmZzZXRzID0gbGluZU9mZnNldHMgPSBsaW5lT2Zmc2V0cy5zbGljZSgwLCBzdGFydExpbmUgKyAxKS5jb25jYXQoYWRkZWRMaW5lT2Zmc2V0cywgbGluZU9mZnNldHMuc2xpY2UoZW5kTGluZSArIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtIChlbmRPZmZzZXQgLSBzdGFydE9mZnNldCk7XG4gICAgICAgICAgICAgICAgaWYgKGRpZmYgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0TGluZSArIDEgKyBhZGRlZExpbmVPZmZzZXRzLmxlbmd0aCwgbGVuID0gbGluZU9mZnNldHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVPZmZzZXRzW2ldID0gbGluZU9mZnNldHNbaV0gKyBkaWZmO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoRnVsbFRleHREb2N1bWVudC5pc0Z1bGwoY2hhbmdlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRlbnQgPSBjaGFuZ2UudGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lT2Zmc2V0cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBjaGFuZ2UgZXZlbnQgcmVjZWl2ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcbiAgICB9O1xuICAgIEZ1bGxUZXh0RG9jdW1lbnQucHJvdG90eXBlLmdldExpbmVPZmZzZXRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fbGluZU9mZnNldHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fbGluZU9mZnNldHMgPSBjb21wdXRlTGluZU9mZnNldHModGhpcy5fY29udGVudCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVPZmZzZXRzO1xuICAgIH07XG4gICAgRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUucG9zaXRpb25BdCA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgb2Zmc2V0ID0gTWF0aC5tYXgoTWF0aC5taW4ob2Zmc2V0LCB0aGlzLl9jb250ZW50Lmxlbmd0aCksIDApO1xuICAgICAgICB2YXIgbGluZU9mZnNldHMgPSB0aGlzLmdldExpbmVPZmZzZXRzKCk7XG4gICAgICAgIHZhciBsb3cgPSAwLCBoaWdoID0gbGluZU9mZnNldHMubGVuZ3RoO1xuICAgICAgICBpZiAoaGlnaCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgbGluZTogMCwgY2hhcmFjdGVyOiBvZmZzZXQgfTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgICAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGxvdyArIGhpZ2gpIC8gMik7XG4gICAgICAgICAgICBpZiAobGluZU9mZnNldHNbbWlkXSA+IG9mZnNldCkge1xuICAgICAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGxvdyBpcyB0aGUgbGVhc3QgeCBmb3Igd2hpY2ggdGhlIGxpbmUgb2Zmc2V0IGlzIGxhcmdlciB0aGFuIHRoZSBjdXJyZW50IG9mZnNldFxuICAgICAgICAvLyBvciBhcnJheS5sZW5ndGggaWYgbm8gbGluZSBvZmZzZXQgaXMgbGFyZ2VyIHRoYW4gdGhlIGN1cnJlbnQgb2Zmc2V0XG4gICAgICAgIHZhciBsaW5lID0gbG93IC0gMTtcbiAgICAgICAgcmV0dXJuIHsgbGluZTogbGluZSwgY2hhcmFjdGVyOiBvZmZzZXQgLSBsaW5lT2Zmc2V0c1tsaW5lXSB9O1xuICAgIH07XG4gICAgRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUub2Zmc2V0QXQgPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgdmFyIGxpbmVPZmZzZXRzID0gdGhpcy5nZXRMaW5lT2Zmc2V0cygpO1xuICAgICAgICBpZiAocG9zaXRpb24ubGluZSA+PSBsaW5lT2Zmc2V0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwb3NpdGlvbi5saW5lIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpbmVPZmZzZXQgPSBsaW5lT2Zmc2V0c1twb3NpdGlvbi5saW5lXTtcbiAgICAgICAgdmFyIG5leHRMaW5lT2Zmc2V0ID0gKHBvc2l0aW9uLmxpbmUgKyAxIDwgbGluZU9mZnNldHMubGVuZ3RoKSA/IGxpbmVPZmZzZXRzW3Bvc2l0aW9uLmxpbmUgKyAxXSA6IHRoaXMuX2NvbnRlbnQubGVuZ3RoO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4obGluZU9mZnNldCArIHBvc2l0aW9uLmNoYXJhY3RlciwgbmV4dExpbmVPZmZzZXQpLCBsaW5lT2Zmc2V0KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdWxsVGV4dERvY3VtZW50LnByb3RvdHlwZSwgXCJsaW5lQ291bnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldExpbmVPZmZzZXRzKCkubGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBGdWxsVGV4dERvY3VtZW50LmlzSW5jcmVtZW50YWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IGV2ZW50O1xuICAgICAgICByZXR1cm4gY2FuZGlkYXRlICE9PSB1bmRlZmluZWQgJiYgY2FuZGlkYXRlICE9PSBudWxsICYmXG4gICAgICAgICAgICB0eXBlb2YgY2FuZGlkYXRlLnRleHQgPT09ICdzdHJpbmcnICYmIGNhbmRpZGF0ZS5yYW5nZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAoY2FuZGlkYXRlLnJhbmdlTGVuZ3RoID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGNhbmRpZGF0ZS5yYW5nZUxlbmd0aCA9PT0gJ251bWJlcicpO1xuICAgIH07XG4gICAgRnVsbFRleHREb2N1bWVudC5pc0Z1bGwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IGV2ZW50O1xuICAgICAgICByZXR1cm4gY2FuZGlkYXRlICE9PSB1bmRlZmluZWQgJiYgY2FuZGlkYXRlICE9PSBudWxsICYmXG4gICAgICAgICAgICB0eXBlb2YgY2FuZGlkYXRlLnRleHQgPT09ICdzdHJpbmcnICYmIGNhbmRpZGF0ZS5yYW5nZSA9PT0gdW5kZWZpbmVkICYmIGNhbmRpZGF0ZS5yYW5nZUxlbmd0aCA9PT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgcmV0dXJuIEZ1bGxUZXh0RG9jdW1lbnQ7XG59KCkpO1xuZXhwb3J0IHZhciBUZXh0RG9jdW1lbnQ7XG4oZnVuY3Rpb24gKFRleHREb2N1bWVudCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGV4dCBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1cmkgVGhlIGRvY3VtZW50J3MgdXJpLlxuICAgICAqIEBwYXJhbSBsYW5ndWFnZUlkICBUaGUgZG9jdW1lbnQncyBsYW5ndWFnZSBJZC5cbiAgICAgKiBAcGFyYW0gdmVyc2lvbiBUaGUgZG9jdW1lbnQncyBpbml0aWFsIHZlcnNpb24gbnVtYmVyLlxuICAgICAqIEBwYXJhbSBjb250ZW50IFRoZSBkb2N1bWVudCdzIGNvbnRlbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHVyaSwgbGFuZ3VhZ2VJZCwgdmVyc2lvbiwgY29udGVudCkge1xuICAgICAgICByZXR1cm4gbmV3IEZ1bGxUZXh0RG9jdW1lbnQodXJpLCBsYW5ndWFnZUlkLCB2ZXJzaW9uLCBjb250ZW50KTtcbiAgICB9XG4gICAgVGV4dERvY3VtZW50LmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGEgVGV4dERvY3VtZW50IGJ5IG1vZGlmaW5nIGl0cyBjb250ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3VtZW50IHRoZSBkb2N1bWVudCB0byB1cGRhdGUuIE9ubHkgZG9jdW1lbnRzIGNyZWF0ZWQgYnkgVGV4dERvY3VtZW50LmNyZWF0ZSBhcmUgdmFsaWQgaW5wdXRzLlxuICAgICAqIEBwYXJhbSBjaGFuZ2VzIHRoZSBjaGFuZ2VzIHRvIGFwcGx5IHRvIHRoZSBkb2N1bWVudC5cbiAgICAgKiBAcmV0dXJucyBUaGUgdXBkYXRlZCBUZXh0RG9jdW1lbnQuIE5vdGU6IFRoYXQncyB0aGUgc2FtZSBkb2N1bWVudCBpbnN0YW5jZSBwYXNzZWQgaW4gYXMgZmlyc3QgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlKGRvY3VtZW50LCBjaGFuZ2VzLCB2ZXJzaW9uKSB7XG4gICAgICAgIGlmIChkb2N1bWVudCBpbnN0YW5jZW9mIEZ1bGxUZXh0RG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnVwZGF0ZShjaGFuZ2VzLCB2ZXJzaW9uKTtcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGV4dERvY3VtZW50LnVwZGF0ZTogZG9jdW1lbnQgbXVzdCBiZSBjcmVhdGVkIGJ5IFRleHREb2N1bWVudC5jcmVhdGUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBUZXh0RG9jdW1lbnQudXBkYXRlID0gdXBkYXRlO1xuICAgIGZ1bmN0aW9uIGFwcGx5RWRpdHMoZG9jdW1lbnQsIGVkaXRzKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gZG9jdW1lbnQuZ2V0VGV4dCgpO1xuICAgICAgICB2YXIgc29ydGVkRWRpdHMgPSBtZXJnZVNvcnQoZWRpdHMubWFwKGdldFdlbGxmb3JtZWRFZGl0KSwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHZhciBkaWZmID0gYS5yYW5nZS5zdGFydC5saW5lIC0gYi5yYW5nZS5zdGFydC5saW5lO1xuICAgICAgICAgICAgaWYgKGRpZmYgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5yYW5nZS5zdGFydC5jaGFyYWN0ZXIgLSBiLnJhbmdlLnN0YXJ0LmNoYXJhY3RlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGxhc3RNb2RpZmllZE9mZnNldCA9IDA7XG4gICAgICAgIHZhciBzcGFucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHNvcnRlZEVkaXRzXzEgPSBzb3J0ZWRFZGl0czsgX2kgPCBzb3J0ZWRFZGl0c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGUgPSBzb3J0ZWRFZGl0c18xW19pXTtcbiAgICAgICAgICAgIHZhciBzdGFydE9mZnNldCA9IGRvY3VtZW50Lm9mZnNldEF0KGUucmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgaWYgKHN0YXJ0T2Zmc2V0IDwgbGFzdE1vZGlmaWVkT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPdmVybGFwcGluZyBlZGl0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdGFydE9mZnNldCA+IGxhc3RNb2RpZmllZE9mZnNldCkge1xuICAgICAgICAgICAgICAgIHNwYW5zLnB1c2godGV4dC5zdWJzdHJpbmcobGFzdE1vZGlmaWVkT2Zmc2V0LCBzdGFydE9mZnNldCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGUubmV3VGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzcGFucy5wdXNoKGUubmV3VGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0TW9kaWZpZWRPZmZzZXQgPSBkb2N1bWVudC5vZmZzZXRBdChlLnJhbmdlLmVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3BhbnMucHVzaCh0ZXh0LnN1YnN0cihsYXN0TW9kaWZpZWRPZmZzZXQpKTtcbiAgICAgICAgcmV0dXJuIHNwYW5zLmpvaW4oJycpO1xuICAgIH1cbiAgICBUZXh0RG9jdW1lbnQuYXBwbHlFZGl0cyA9IGFwcGx5RWRpdHM7XG59KShUZXh0RG9jdW1lbnQgfHwgKFRleHREb2N1bWVudCA9IHt9KSk7XG5mdW5jdGlvbiBtZXJnZVNvcnQoZGF0YSwgY29tcGFyZSkge1xuICAgIGlmIChkYXRhLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgIC8vIHNvcnRlZFxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgdmFyIHAgPSAoZGF0YS5sZW5ndGggLyAyKSB8IDA7XG4gICAgdmFyIGxlZnQgPSBkYXRhLnNsaWNlKDAsIHApO1xuICAgIHZhciByaWdodCA9IGRhdGEuc2xpY2UocCk7XG4gICAgbWVyZ2VTb3J0KGxlZnQsIGNvbXBhcmUpO1xuICAgIG1lcmdlU29ydChyaWdodCwgY29tcGFyZSk7XG4gICAgdmFyIGxlZnRJZHggPSAwO1xuICAgIHZhciByaWdodElkeCA9IDA7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChsZWZ0SWR4IDwgbGVmdC5sZW5ndGggJiYgcmlnaHRJZHggPCByaWdodC5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHJldCA9IGNvbXBhcmUobGVmdFtsZWZ0SWR4XSwgcmlnaHRbcmlnaHRJZHhdKTtcbiAgICAgICAgaWYgKHJldCA8PSAwKSB7XG4gICAgICAgICAgICAvLyBzbWFsbGVyX2VxdWFsIC0+IHRha2UgbGVmdCB0byBwcmVzZXJ2ZSBvcmRlclxuICAgICAgICAgICAgZGF0YVtpKytdID0gbGVmdFtsZWZ0SWR4KytdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZ3JlYXRlciAtPiB0YWtlIHJpZ2h0XG4gICAgICAgICAgICBkYXRhW2krK10gPSByaWdodFtyaWdodElkeCsrXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAobGVmdElkeCA8IGxlZnQubGVuZ3RoKSB7XG4gICAgICAgIGRhdGFbaSsrXSA9IGxlZnRbbGVmdElkeCsrXTtcbiAgICB9XG4gICAgd2hpbGUgKHJpZ2h0SWR4IDwgcmlnaHQubGVuZ3RoKSB7XG4gICAgICAgIGRhdGFbaSsrXSA9IHJpZ2h0W3JpZ2h0SWR4KytdO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVMaW5lT2Zmc2V0cyh0ZXh0LCBpc0F0TGluZVN0YXJ0LCB0ZXh0T2Zmc2V0KSB7XG4gICAgaWYgKHRleHRPZmZzZXQgPT09IHZvaWQgMCkgeyB0ZXh0T2Zmc2V0ID0gMDsgfVxuICAgIHZhciByZXN1bHQgPSBpc0F0TGluZVN0YXJ0ID8gW3RleHRPZmZzZXRdIDogW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaCA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNoID09PSAxMyAvKiBDYXJyaWFnZVJldHVybiAqLyB8fCBjaCA9PT0gMTAgLyogTGluZUZlZWQgKi8pIHtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gMTMgLyogQ2FycmlhZ2VSZXR1cm4gKi8gJiYgaSArIDEgPCB0ZXh0Lmxlbmd0aCAmJiB0ZXh0LmNoYXJDb2RlQXQoaSArIDEpID09PSAxMCAvKiBMaW5lRmVlZCAqLykge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRleHRPZmZzZXQgKyBpICsgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldFdlbGxmb3JtZWRSYW5nZShyYW5nZSkge1xuICAgIHZhciBzdGFydCA9IHJhbmdlLnN0YXJ0O1xuICAgIHZhciBlbmQgPSByYW5nZS5lbmQ7XG4gICAgaWYgKHN0YXJ0LmxpbmUgPiBlbmQubGluZSB8fCAoc3RhcnQubGluZSA9PT0gZW5kLmxpbmUgJiYgc3RhcnQuY2hhcmFjdGVyID4gZW5kLmNoYXJhY3RlcikpIHtcbiAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IGVuZCwgZW5kOiBzdGFydCB9O1xuICAgIH1cbiAgICByZXR1cm4gcmFuZ2U7XG59XG5mdW5jdGlvbiBnZXRXZWxsZm9ybWVkRWRpdCh0ZXh0RWRpdCkge1xuICAgIHZhciByYW5nZSA9IGdldFdlbGxmb3JtZWRSYW5nZSh0ZXh0RWRpdC5yYW5nZSk7XG4gICAgaWYgKHJhbmdlICE9PSB0ZXh0RWRpdC5yYW5nZSkge1xuICAgICAgICByZXR1cm4geyBuZXdUZXh0OiB0ZXh0RWRpdC5uZXdUZXh0LCByYW5nZTogcmFuZ2UgfTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHRFZGl0O1xufVxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgUmFuZ2UsIFRleHRFZGl0LCBDb2xvciwgQ29sb3JJbmZvcm1hdGlvbiwgQ29sb3JQcmVzZW50YXRpb24sIEZvbGRpbmdSYW5nZSwgRm9sZGluZ1JhbmdlS2luZCwgTWFya3VwS2luZCwgU2VsZWN0aW9uUmFuZ2UsIERpYWdub3N0aWMsIERpYWdub3N0aWNTZXZlcml0eSwgQ29tcGxldGlvbkl0ZW0sIENvbXBsZXRpb25JdGVtS2luZCwgQ29tcGxldGlvbkxpc3QsIFBvc2l0aW9uLCBJbnNlcnRUZXh0Rm9ybWF0LCBNYXJrdXBDb250ZW50LCBTeW1ib2xJbmZvcm1hdGlvbiwgU3ltYm9sS2luZCwgRG9jdW1lbnRTeW1ib2wsIExvY2F0aW9uLCBIb3ZlciwgTWFya2VkU3RyaW5nIH0gZnJvbSAnLi4vdnNjb2RlLWxhbmd1YWdlc2VydmVyLXR5cGVzL21haW4uanMnO1xuaW1wb3J0IHsgVGV4dERvY3VtZW50IH0gZnJvbSAnLi4vdnNjb2RlLWxhbmd1YWdlc2VydmVyLXRleHRkb2N1bWVudC9saWIvZXNtL21haW4uanMnO1xuZXhwb3J0IHsgVGV4dERvY3VtZW50LCBSYW5nZSwgVGV4dEVkaXQsIENvbG9yLCBDb2xvckluZm9ybWF0aW9uLCBDb2xvclByZXNlbnRhdGlvbiwgRm9sZGluZ1JhbmdlLCBGb2xkaW5nUmFuZ2VLaW5kLCBTZWxlY3Rpb25SYW5nZSwgRGlhZ25vc3RpYywgRGlhZ25vc3RpY1NldmVyaXR5LCBDb21wbGV0aW9uSXRlbSwgQ29tcGxldGlvbkl0ZW1LaW5kLCBDb21wbGV0aW9uTGlzdCwgUG9zaXRpb24sIEluc2VydFRleHRGb3JtYXQsIE1hcmt1cENvbnRlbnQsIE1hcmt1cEtpbmQsIFN5bWJvbEluZm9ybWF0aW9uLCBTeW1ib2xLaW5kLCBEb2N1bWVudFN5bWJvbCwgTG9jYXRpb24sIEhvdmVyLCBNYXJrZWRTdHJpbmcgfTtcbi8qKlxuICogRXJyb3IgY29kZXMgdXNlZCBieSBkaWFnbm9zdGljc1xuICovXG5leHBvcnQgdmFyIEVycm9yQ29kZTtcbihmdW5jdGlvbiAoRXJyb3JDb2RlKSB7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlVuZGVmaW5lZFwiXSA9IDBdID0gXCJVbmRlZmluZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiRW51bVZhbHVlTWlzbWF0Y2hcIl0gPSAxXSA9IFwiRW51bVZhbHVlTWlzbWF0Y2hcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiRGVwcmVjYXRlZFwiXSA9IDJdID0gXCJEZXByZWNhdGVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlVuZXhwZWN0ZWRFbmRPZkNvbW1lbnRcIl0gPSAyNTddID0gXCJVbmV4cGVjdGVkRW5kT2ZDb21tZW50XCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlVuZXhwZWN0ZWRFbmRPZlN0cmluZ1wiXSA9IDI1OF0gPSBcIlVuZXhwZWN0ZWRFbmRPZlN0cmluZ1wiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJVbmV4cGVjdGVkRW5kT2ZOdW1iZXJcIl0gPSAyNTldID0gXCJVbmV4cGVjdGVkRW5kT2ZOdW1iZXJcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiSW52YWxpZFVuaWNvZGVcIl0gPSAyNjBdID0gXCJJbnZhbGlkVW5pY29kZVwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJJbnZhbGlkRXNjYXBlQ2hhcmFjdGVyXCJdID0gMjYxXSA9IFwiSW52YWxpZEVzY2FwZUNoYXJhY3RlclwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJJbnZhbGlkQ2hhcmFjdGVyXCJdID0gMjYyXSA9IFwiSW52YWxpZENoYXJhY3RlclwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJQcm9wZXJ0eUV4cGVjdGVkXCJdID0gNTEzXSA9IFwiUHJvcGVydHlFeHBlY3RlZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJDb21tYUV4cGVjdGVkXCJdID0gNTE0XSA9IFwiQ29tbWFFeHBlY3RlZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJDb2xvbkV4cGVjdGVkXCJdID0gNTE1XSA9IFwiQ29sb25FeHBlY3RlZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJWYWx1ZUV4cGVjdGVkXCJdID0gNTE2XSA9IFwiVmFsdWVFeHBlY3RlZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJDb21tYU9yQ2xvc2VCYWNrZXRFeHBlY3RlZFwiXSA9IDUxN10gPSBcIkNvbW1hT3JDbG9zZUJhY2tldEV4cGVjdGVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkNvbW1hT3JDbG9zZUJyYWNlRXhwZWN0ZWRcIl0gPSA1MThdID0gXCJDb21tYU9yQ2xvc2VCcmFjZUV4cGVjdGVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlRyYWlsaW5nQ29tbWFcIl0gPSA1MTldID0gXCJUcmFpbGluZ0NvbW1hXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkR1cGxpY2F0ZUtleVwiXSA9IDUyMF0gPSBcIkR1cGxpY2F0ZUtleVwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJDb21tZW50Tm90UGVybWl0dGVkXCJdID0gNTIxXSA9IFwiQ29tbWVudE5vdFBlcm1pdHRlZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJTY2hlbWFSZXNvbHZlRXJyb3JcIl0gPSA3NjhdID0gXCJTY2hlbWFSZXNvbHZlRXJyb3JcIjtcbn0pKEVycm9yQ29kZSB8fCAoRXJyb3JDb2RlID0ge30pKTtcbmV4cG9ydCB2YXIgQ2xpZW50Q2FwYWJpbGl0aWVzO1xuKGZ1bmN0aW9uIChDbGllbnRDYXBhYmlsaXRpZXMpIHtcbiAgICBDbGllbnRDYXBhYmlsaXRpZXMuTEFURVNUID0ge1xuICAgICAgICB0ZXh0RG9jdW1lbnQ6IHtcbiAgICAgICAgICAgIGNvbXBsZXRpb246IHtcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uSXRlbToge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudGF0aW9uRm9ybWF0OiBbTWFya3VwS2luZC5NYXJrZG93biwgTWFya3VwS2luZC5QbGFpblRleHRdLFxuICAgICAgICAgICAgICAgICAgICBjb21taXRDaGFyYWN0ZXJzU3VwcG9ydDogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59KShDbGllbnRDYXBhYmlsaXRpZXMgfHwgKENsaWVudENhcGFiaWxpdGllcyA9IHt9KSk7XG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5mdW5jdGlvbiBmb3JtYXQobWVzc2FnZSwgYXJncykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlc3VsdCA9IG1lc3NhZ2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBtZXNzYWdlLnJlcGxhY2UoL1xceyhcXGQrKVxcfS9nLCBmdW5jdGlvbiAobWF0Y2gsIHJlc3QpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHJlc3RbMF07XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3NbaW5kZXhdICE9PSAndW5kZWZpbmVkJyA/IGFyZ3NbaW5kZXhdIDogbWF0Y2g7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbG9jYWxpemUoa2V5LCBtZXNzYWdlKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gZm9ybWF0KG1lc3NhZ2UsIGFyZ3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRNZXNzYWdlQnVuZGxlKGZpbGUpIHtcbiAgICByZXR1cm4gbG9jYWxpemU7XG59XG5leHBvcnQgZnVuY3Rpb24gY29uZmlnKG9wdCkge1xuICAgIHJldHVybiBsb2FkTWVzc2FnZUJ1bmRsZTtcbn1cbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgKiBhcyBKc29uIGZyb20gJy4uLy4uL2pzb25jLXBhcnNlci9tYWluLmpzJztcbmltcG9ydCB7IGlzTnVtYmVyLCBlcXVhbHMsIGlzQm9vbGVhbiwgaXNTdHJpbmcsIGlzRGVmaW5lZCB9IGZyb20gJy4uL3V0aWxzL29iamVjdHMuanMnO1xuaW1wb3J0IHsgRXJyb3JDb2RlLCBEaWFnbm9zdGljLCBEaWFnbm9zdGljU2V2ZXJpdHksIFJhbmdlIH0gZnJvbSAnLi4vanNvbkxhbmd1YWdlVHlwZXMuanMnO1xuaW1wb3J0ICogYXMgbmxzIGZyb20gJy4uLy4uLy4uL2ZpbGxlcnMvdnNjb2RlLW5scy5qcyc7XG52YXIgbG9jYWxpemUgPSBubHMubG9hZE1lc3NhZ2VCdW5kbGUoKTtcbnZhciBmb3JtYXRzID0ge1xuICAgICdjb2xvci1oZXgnOiB7IGVycm9yTWVzc2FnZTogbG9jYWxpemUoJ2NvbG9ySGV4Rm9ybWF0V2FybmluZycsICdJbnZhbGlkIGNvbG9yIGZvcm1hdC4gVXNlICNSR0IsICNSR0JBLCAjUlJHR0JCIG9yICNSUkdHQkJBQS4nKSwgcGF0dGVybjogL14jKFswLTlBLUZhLWZdezMsNH18KFswLTlBLUZhLWZdezJ9KXszLDR9KSQvIH0sXG4gICAgJ2RhdGUtdGltZSc6IHsgZXJyb3JNZXNzYWdlOiBsb2NhbGl6ZSgnZGF0ZVRpbWVGb3JtYXRXYXJuaW5nJywgJ1N0cmluZyBpcyBub3QgYSBSRkMzMzM5IGRhdGUtdGltZS4nKSwgcGF0dGVybjogL14oXFxkezR9KS0oMFsxLTldfDFbMC0yXSktKDBbMS05XXxbMTJdWzAtOV18M1swMV0pVChbMDFdWzAtOV18MlswLTNdKTooWzAtNV1bMC05XSk6KFswLTVdWzAtOV18NjApKFxcLlswLTldKyk/KFp8KFxcK3wtKShbMDFdWzAtOV18MlswLTNdKTooWzAtNV1bMC05XSkpJC9pIH0sXG4gICAgJ2RhdGUnOiB7IGVycm9yTWVzc2FnZTogbG9jYWxpemUoJ2RhdGVGb3JtYXRXYXJuaW5nJywgJ1N0cmluZyBpcyBub3QgYSBSRkMzMzM5IGRhdGUuJyksIHBhdHRlcm46IC9eKFxcZHs0fSktKDBbMS05XXwxWzAtMl0pLSgwWzEtOV18WzEyXVswLTldfDNbMDFdKSQvaSB9LFxuICAgICd0aW1lJzogeyBlcnJvck1lc3NhZ2U6IGxvY2FsaXplKCd0aW1lRm9ybWF0V2FybmluZycsICdTdHJpbmcgaXMgbm90IGEgUkZDMzMzOSB0aW1lLicpLCBwYXR0ZXJuOiAvXihbMDFdWzAtOV18MlswLTNdKTooWzAtNV1bMC05XSk6KFswLTVdWzAtOV18NjApKFxcLlswLTldKyk/KFp8KFxcK3wtKShbMDFdWzAtOV18MlswLTNdKTooWzAtNV1bMC05XSkpJC9pIH0sXG4gICAgJ2VtYWlsJzogeyBlcnJvck1lc3NhZ2U6IGxvY2FsaXplKCdlbWFpbEZvcm1hdFdhcm5pbmcnLCAnU3RyaW5nIGlzIG5vdCBhbiBlLW1haWwgYWRkcmVzcy4nKSwgcGF0dGVybjogL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC8gfVxufTtcbnZhciBBU1ROb2RlSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBU1ROb2RlSW1wbChwYXJlbnQsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgIGlmIChsZW5ndGggPT09IHZvaWQgMCkgeyBsZW5ndGggPSAwOyB9XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBU1ROb2RlSW1wbC5wcm90b3R5cGUsIFwiY2hpbGRyZW5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEFTVE5vZGVJbXBsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICd0eXBlOiAnICsgdGhpcy50eXBlICsgJyAoJyArIHRoaXMub2Zmc2V0ICsgJy8nICsgdGhpcy5sZW5ndGggKyAnKScgKyAodGhpcy5wYXJlbnQgPyAnIHBhcmVudDogeycgKyB0aGlzLnBhcmVudC50b1N0cmluZygpICsgJ30nIDogJycpO1xuICAgIH07XG4gICAgcmV0dXJuIEFTVE5vZGVJbXBsO1xufSgpKTtcbmV4cG9ydCB7IEFTVE5vZGVJbXBsIH07XG52YXIgTnVsbEFTVE5vZGVJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOdWxsQVNUTm9kZUltcGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTnVsbEFTVE5vZGVJbXBsKHBhcmVudCwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBhcmVudCwgb2Zmc2V0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gJ251bGwnO1xuICAgICAgICBfdGhpcy52YWx1ZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE51bGxBU1ROb2RlSW1wbDtcbn0oQVNUTm9kZUltcGwpKTtcbmV4cG9ydCB7IE51bGxBU1ROb2RlSW1wbCB9O1xudmFyIEJvb2xlYW5BU1ROb2RlSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQm9vbGVhbkFTVE5vZGVJbXBsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJvb2xlYW5BU1ROb2RlSW1wbChwYXJlbnQsIGJvb2xWYWx1ZSwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBhcmVudCwgb2Zmc2V0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gJ2Jvb2xlYW4nO1xuICAgICAgICBfdGhpcy52YWx1ZSA9IGJvb2xWYWx1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQm9vbGVhbkFTVE5vZGVJbXBsO1xufShBU1ROb2RlSW1wbCkpO1xuZXhwb3J0IHsgQm9vbGVhbkFTVE5vZGVJbXBsIH07XG52YXIgQXJyYXlBU1ROb2RlSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXJyYXlBU1ROb2RlSW1wbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBcnJheUFTVE5vZGVJbXBsKHBhcmVudCwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBhcmVudCwgb2Zmc2V0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gJ2FycmF5JztcbiAgICAgICAgX3RoaXMuaXRlbXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlBU1ROb2RlSW1wbC5wcm90b3R5cGUsIFwiY2hpbGRyZW5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFycmF5QVNUTm9kZUltcGw7XG59KEFTVE5vZGVJbXBsKSk7XG5leHBvcnQgeyBBcnJheUFTVE5vZGVJbXBsIH07XG52YXIgTnVtYmVyQVNUTm9kZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE51bWJlckFTVE5vZGVJbXBsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE51bWJlckFTVE5vZGVJbXBsKHBhcmVudCwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBhcmVudCwgb2Zmc2V0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gJ251bWJlcic7XG4gICAgICAgIF90aGlzLmlzSW50ZWdlciA9IHRydWU7XG4gICAgICAgIF90aGlzLnZhbHVlID0gTnVtYmVyLk5hTjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gTnVtYmVyQVNUTm9kZUltcGw7XG59KEFTVE5vZGVJbXBsKSk7XG5leHBvcnQgeyBOdW1iZXJBU1ROb2RlSW1wbCB9O1xudmFyIFN0cmluZ0FTVE5vZGVJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdHJpbmdBU1ROb2RlSW1wbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdHJpbmdBU1ROb2RlSW1wbChwYXJlbnQsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBhcmVudCwgb2Zmc2V0LCBsZW5ndGgpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSAnc3RyaW5nJztcbiAgICAgICAgX3RoaXMudmFsdWUgPSAnJztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nQVNUTm9kZUltcGw7XG59KEFTVE5vZGVJbXBsKSk7XG5leHBvcnQgeyBTdHJpbmdBU1ROb2RlSW1wbCB9O1xudmFyIFByb3BlcnR5QVNUTm9kZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb3BlcnR5QVNUTm9kZUltcGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHJvcGVydHlBU1ROb2RlSW1wbChwYXJlbnQsIG9mZnNldCwga2V5Tm9kZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwYXJlbnQsIG9mZnNldCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudHlwZSA9ICdwcm9wZXJ0eSc7XG4gICAgICAgIF90aGlzLmNvbG9uT2Zmc2V0ID0gLTE7XG4gICAgICAgIF90aGlzLmtleU5vZGUgPSBrZXlOb2RlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9wZXJ0eUFTVE5vZGVJbXBsLnByb3RvdHlwZSwgXCJjaGlsZHJlblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVOb2RlID8gW3RoaXMua2V5Tm9kZSwgdGhpcy52YWx1ZU5vZGVdIDogW3RoaXMua2V5Tm9kZV07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUHJvcGVydHlBU1ROb2RlSW1wbDtcbn0oQVNUTm9kZUltcGwpKTtcbmV4cG9ydCB7IFByb3BlcnR5QVNUTm9kZUltcGwgfTtcbnZhciBPYmplY3RBU1ROb2RlSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT2JqZWN0QVNUTm9kZUltcGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT2JqZWN0QVNUTm9kZUltcGwocGFyZW50LCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcGFyZW50LCBvZmZzZXQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSAnb2JqZWN0JztcbiAgICAgICAgX3RoaXMucHJvcGVydGllcyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3RBU1ROb2RlSW1wbC5wcm90b3R5cGUsIFwiY2hpbGRyZW5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0QVNUTm9kZUltcGw7XG59KEFTVE5vZGVJbXBsKSk7XG5leHBvcnQgeyBPYmplY3RBU1ROb2RlSW1wbCB9O1xuZXhwb3J0IGZ1bmN0aW9uIGFzU2NoZW1hKHNjaGVtYSkge1xuICAgIGlmIChpc0Jvb2xlYW4oc2NoZW1hKSkge1xuICAgICAgICByZXR1cm4gc2NoZW1hID8ge30gOiB7IFwibm90XCI6IHt9IH07XG4gICAgfVxuICAgIHJldHVybiBzY2hlbWE7XG59XG5leHBvcnQgdmFyIEVudW1NYXRjaDtcbihmdW5jdGlvbiAoRW51bU1hdGNoKSB7XG4gICAgRW51bU1hdGNoW0VudW1NYXRjaFtcIktleVwiXSA9IDBdID0gXCJLZXlcIjtcbiAgICBFbnVtTWF0Y2hbRW51bU1hdGNoW1wiRW51bVwiXSA9IDFdID0gXCJFbnVtXCI7XG59KShFbnVtTWF0Y2ggfHwgKEVudW1NYXRjaCA9IHt9KSk7XG52YXIgU2NoZW1hQ29sbGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjaGVtYUNvbGxlY3Rvcihmb2N1c09mZnNldCwgZXhjbHVkZSkge1xuICAgICAgICBpZiAoZm9jdXNPZmZzZXQgPT09IHZvaWQgMCkgeyBmb2N1c09mZnNldCA9IC0xOyB9XG4gICAgICAgIHRoaXMuZm9jdXNPZmZzZXQgPSBmb2N1c09mZnNldDtcbiAgICAgICAgdGhpcy5leGNsdWRlID0gZXhjbHVkZTtcbiAgICAgICAgdGhpcy5zY2hlbWFzID0gW107XG4gICAgfVxuICAgIFNjaGVtYUNvbGxlY3Rvci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHNjaGVtYSkge1xuICAgICAgICB0aGlzLnNjaGVtYXMucHVzaChzY2hlbWEpO1xuICAgIH07XG4gICAgU2NoZW1hQ29sbGVjdG9yLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLnNjaGVtYXMsIG90aGVyLnNjaGVtYXMpO1xuICAgIH07XG4gICAgU2NoZW1hQ29sbGVjdG9yLnByb3RvdHlwZS5pbmNsdWRlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZvY3VzT2Zmc2V0ID09PSAtMSB8fCBjb250YWlucyhub2RlLCB0aGlzLmZvY3VzT2Zmc2V0KSkgJiYgKG5vZGUgIT09IHRoaXMuZXhjbHVkZSk7XG4gICAgfTtcbiAgICBTY2hlbWFDb2xsZWN0b3IucHJvdG90eXBlLm5ld1N1YiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTY2hlbWFDb2xsZWN0b3IoLTEsIHRoaXMuZXhjbHVkZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU2NoZW1hQ29sbGVjdG9yO1xufSgpKTtcbnZhciBOb09wU2NoZW1hQ29sbGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vT3BTY2hlbWFDb2xsZWN0b3IoKSB7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb09wU2NoZW1hQ29sbGVjdG9yLnByb3RvdHlwZSwgXCJzY2hlbWFzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBbXTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE5vT3BTY2hlbWFDb2xsZWN0b3IucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChzY2hlbWEpIHsgfTtcbiAgICBOb09wU2NoZW1hQ29sbGVjdG9yLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uIChvdGhlcikgeyB9O1xuICAgIE5vT3BTY2hlbWFDb2xsZWN0b3IucHJvdG90eXBlLmluY2x1ZGUgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgICBOb09wU2NoZW1hQ29sbGVjdG9yLnByb3RvdHlwZS5uZXdTdWIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgIE5vT3BTY2hlbWFDb2xsZWN0b3IuaW5zdGFuY2UgPSBuZXcgTm9PcFNjaGVtYUNvbGxlY3RvcigpO1xuICAgIHJldHVybiBOb09wU2NoZW1hQ29sbGVjdG9yO1xufSgpKTtcbnZhciBWYWxpZGF0aW9uUmVzdWx0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZhbGlkYXRpb25SZXN1bHQoKSB7XG4gICAgICAgIHRoaXMucHJvYmxlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzTWF0Y2hlcyA9IDA7XG4gICAgICAgIHRoaXMucHJvcGVydGllc1ZhbHVlTWF0Y2hlcyA9IDA7XG4gICAgICAgIHRoaXMucHJpbWFyeVZhbHVlTWF0Y2hlcyA9IDA7XG4gICAgICAgIHRoaXMuZW51bVZhbHVlTWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbnVtVmFsdWVzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBWYWxpZGF0aW9uUmVzdWx0LnByb3RvdHlwZS5oYXNQcm9ibGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5wcm9ibGVtcy5sZW5ndGg7XG4gICAgfTtcbiAgICBWYWxpZGF0aW9uUmVzdWx0LnByb3RvdHlwZS5tZXJnZUFsbCA9IGZ1bmN0aW9uICh2YWxpZGF0aW9uUmVzdWx0cykge1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHZhbGlkYXRpb25SZXN1bHRzXzEgPSB2YWxpZGF0aW9uUmVzdWx0czsgX2kgPCB2YWxpZGF0aW9uUmVzdWx0c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHZhbGlkYXRpb25SZXN1bHQgPSB2YWxpZGF0aW9uUmVzdWx0c18xW19pXTtcbiAgICAgICAgICAgIHRoaXMubWVyZ2UodmFsaWRhdGlvblJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhbGlkYXRpb25SZXN1bHQucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gKHZhbGlkYXRpb25SZXN1bHQpIHtcbiAgICAgICAgdGhpcy5wcm9ibGVtcyA9IHRoaXMucHJvYmxlbXMuY29uY2F0KHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMpO1xuICAgIH07XG4gICAgVmFsaWRhdGlvblJlc3VsdC5wcm90b3R5cGUubWVyZ2VFbnVtVmFsdWVzID0gZnVuY3Rpb24gKHZhbGlkYXRpb25SZXN1bHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVudW1WYWx1ZU1hdGNoICYmICF2YWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZU1hdGNoICYmIHRoaXMuZW51bVZhbHVlcyAmJiB2YWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZW51bVZhbHVlcyA9IHRoaXMuZW51bVZhbHVlcy5jb25jYXQodmFsaWRhdGlvblJlc3VsdC5lbnVtVmFsdWVzKTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnByb2JsZW1zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gRXJyb3JDb2RlLkVudW1WYWx1ZU1pc21hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSBsb2NhbGl6ZSgnZW51bVdhcm5pbmcnLCAnVmFsdWUgaXMgbm90IGFjY2VwdGVkLiBWYWxpZCB2YWx1ZXM6IHswfS4nLCB0aGlzLmVudW1WYWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTsgfSkuam9pbignLCAnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWYWxpZGF0aW9uUmVzdWx0LnByb3RvdHlwZS5tZXJnZVByb3BlcnR5TWF0Y2ggPSBmdW5jdGlvbiAocHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0KSB7XG4gICAgICAgIHRoaXMubWVyZ2UocHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzTWF0Y2hlcysrO1xuICAgICAgICBpZiAocHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZU1hdGNoIHx8ICFwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQuaGFzUHJvYmxlbXMoKSAmJiBwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc01hdGNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcGVydGllc1ZhbHVlTWF0Y2hlcysrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQuZW51bVZhbHVlTWF0Y2ggJiYgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZXMgJiYgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnByaW1hcnlWYWx1ZU1hdGNoZXMrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFsaWRhdGlvblJlc3VsdC5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICB2YXIgaGFzUHJvYmxlbXMgPSB0aGlzLmhhc1Byb2JsZW1zKCk7XG4gICAgICAgIGlmIChoYXNQcm9ibGVtcyAhPT0gb3RoZXIuaGFzUHJvYmxlbXMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGhhc1Byb2JsZW1zID8gLTEgOiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVudW1WYWx1ZU1hdGNoICE9PSBvdGhlci5lbnVtVmFsdWVNYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyLmVudW1WYWx1ZU1hdGNoID8gLTEgOiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByaW1hcnlWYWx1ZU1hdGNoZXMgIT09IG90aGVyLnByaW1hcnlWYWx1ZU1hdGNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByaW1hcnlWYWx1ZU1hdGNoZXMgLSBvdGhlci5wcmltYXJ5VmFsdWVNYXRjaGVzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMgIT09IG90aGVyLnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMgLSBvdGhlci5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXNNYXRjaGVzIC0gb3RoZXIucHJvcGVydGllc01hdGNoZXM7XG4gICAgfTtcbiAgICByZXR1cm4gVmFsaWRhdGlvblJlc3VsdDtcbn0oKSk7XG5leHBvcnQgeyBWYWxpZGF0aW9uUmVzdWx0IH07XG5leHBvcnQgZnVuY3Rpb24gbmV3SlNPTkRvY3VtZW50KHJvb3QsIGRpYWdub3N0aWNzKSB7XG4gICAgaWYgKGRpYWdub3N0aWNzID09PSB2b2lkIDApIHsgZGlhZ25vc3RpY3MgPSBbXTsgfVxuICAgIHJldHVybiBuZXcgSlNPTkRvY3VtZW50KHJvb3QsIGRpYWdub3N0aWNzLCBbXSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVZhbHVlKG5vZGUpIHtcbiAgICByZXR1cm4gSnNvbi5nZXROb2RlVmFsdWUobm9kZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVBhdGgobm9kZSkge1xuICAgIHJldHVybiBKc29uLmdldE5vZGVQYXRoKG5vZGUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zKG5vZGUsIG9mZnNldCwgaW5jbHVkZVJpZ2h0Qm91bmQpIHtcbiAgICBpZiAoaW5jbHVkZVJpZ2h0Qm91bmQgPT09IHZvaWQgMCkgeyBpbmNsdWRlUmlnaHRCb3VuZCA9IGZhbHNlOyB9XG4gICAgcmV0dXJuIG9mZnNldCA+PSBub2RlLm9mZnNldCAmJiBvZmZzZXQgPCAobm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCkgfHwgaW5jbHVkZVJpZ2h0Qm91bmQgJiYgb2Zmc2V0ID09PSAobm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCk7XG59XG52YXIgSlNPTkRvY3VtZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEpTT05Eb2N1bWVudChyb290LCBzeW50YXhFcnJvcnMsIGNvbW1lbnRzKSB7XG4gICAgICAgIGlmIChzeW50YXhFcnJvcnMgPT09IHZvaWQgMCkgeyBzeW50YXhFcnJvcnMgPSBbXTsgfVxuICAgICAgICBpZiAoY29tbWVudHMgPT09IHZvaWQgMCkgeyBjb21tZW50cyA9IFtdOyB9XG4gICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgICAgIHRoaXMuc3ludGF4RXJyb3JzID0gc3ludGF4RXJyb3JzO1xuICAgICAgICB0aGlzLmNvbW1lbnRzID0gY29tbWVudHM7XG4gICAgfVxuICAgIEpTT05Eb2N1bWVudC5wcm90b3R5cGUuZ2V0Tm9kZUZyb21PZmZzZXQgPSBmdW5jdGlvbiAob2Zmc2V0LCBpbmNsdWRlUmlnaHRCb3VuZCkge1xuICAgICAgICBpZiAoaW5jbHVkZVJpZ2h0Qm91bmQgPT09IHZvaWQgMCkgeyBpbmNsdWRlUmlnaHRCb3VuZCA9IGZhbHNlOyB9XG4gICAgICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgICAgICAgIHJldHVybiBKc29uLmZpbmROb2RlQXRPZmZzZXQodGhpcy5yb290LCBvZmZzZXQsIGluY2x1ZGVSaWdodEJvdW5kKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgSlNPTkRvY3VtZW50LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yKSB7XG4gICAgICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgICAgICAgIHZhciBkb1Zpc2l0XzEgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBjdG4gPSB2aXNpdG9yKG5vZGUpO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoICYmIGN0bjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdG4gPSBkb1Zpc2l0XzEoY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjdG47XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZG9WaXNpdF8xKHRoaXMucm9vdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05Eb2N1bWVudC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiAodGV4dERvY3VtZW50LCBzY2hlbWEsIHNldmVyaXR5KSB7XG4gICAgICAgIGlmIChzZXZlcml0eSA9PT0gdm9pZCAwKSB7IHNldmVyaXR5ID0gRGlhZ25vc3RpY1NldmVyaXR5Lldhcm5pbmc7IH1cbiAgICAgICAgaWYgKHRoaXMucm9vdCAmJiBzY2hlbWEpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgIHZhbGlkYXRlKHRoaXMucm9vdCwgc2NoZW1hLCB2YWxpZGF0aW9uUmVzdWx0LCBOb09wU2NoZW1hQ29sbGVjdG9yLmluc3RhbmNlKTtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLm1hcChmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBSYW5nZS5jcmVhdGUodGV4dERvY3VtZW50LnBvc2l0aW9uQXQocC5sb2NhdGlvbi5vZmZzZXQpLCB0ZXh0RG9jdW1lbnQucG9zaXRpb25BdChwLmxvY2F0aW9uLm9mZnNldCArIHAubG9jYXRpb24ubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERpYWdub3N0aWMuY3JlYXRlKHJhbmdlLCBwLm1lc3NhZ2UsIChfYSA9IHAuc2V2ZXJpdHkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHNldmVyaXR5LCBwLmNvZGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIEpTT05Eb2N1bWVudC5wcm90b3R5cGUuZ2V0TWF0Y2hpbmdTY2hlbWFzID0gZnVuY3Rpb24gKHNjaGVtYSwgZm9jdXNPZmZzZXQsIGV4Y2x1ZGUpIHtcbiAgICAgICAgaWYgKGZvY3VzT2Zmc2V0ID09PSB2b2lkIDApIHsgZm9jdXNPZmZzZXQgPSAtMTsgfVxuICAgICAgICB2YXIgbWF0Y2hpbmdTY2hlbWFzID0gbmV3IFNjaGVtYUNvbGxlY3Rvcihmb2N1c09mZnNldCwgZXhjbHVkZSk7XG4gICAgICAgIGlmICh0aGlzLnJvb3QgJiYgc2NoZW1hKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZSh0aGlzLnJvb3QsIHNjaGVtYSwgbmV3IFZhbGlkYXRpb25SZXN1bHQoKSwgbWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2hpbmdTY2hlbWFzLnNjaGVtYXM7XG4gICAgfTtcbiAgICByZXR1cm4gSlNPTkRvY3VtZW50O1xufSgpKTtcbmV4cG9ydCB7IEpTT05Eb2N1bWVudCB9O1xuZnVuY3Rpb24gdmFsaWRhdGUobiwgc2NoZW1hLCB2YWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpIHtcbiAgICBpZiAoIW4gfHwgIW1hdGNoaW5nU2NoZW1hcy5pbmNsdWRlKG4pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5vZGUgPSBuO1xuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICBfdmFsaWRhdGVPYmplY3ROb2RlKG5vZGUsIHNjaGVtYSwgdmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdhcnJheSc6XG4gICAgICAgICAgICBfdmFsaWRhdGVBcnJheU5vZGUobm9kZSwgc2NoZW1hLCB2YWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICBfdmFsaWRhdGVTdHJpbmdOb2RlKG5vZGUsIHNjaGVtYSwgdmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgX3ZhbGlkYXRlTnVtYmVyTm9kZShub2RlLCBzY2hlbWEsIHZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncHJvcGVydHknOlxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlKG5vZGUudmFsdWVOb2RlLCBzY2hlbWEsIHZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hcyk7XG4gICAgfVxuICAgIF92YWxpZGF0ZU5vZGUoKTtcbiAgICBtYXRjaGluZ1NjaGVtYXMuYWRkKHsgbm9kZTogbm9kZSwgc2NoZW1hOiBzY2hlbWEgfSk7XG4gICAgZnVuY3Rpb24gX3ZhbGlkYXRlTm9kZSgpIHtcbiAgICAgICAgZnVuY3Rpb24gbWF0Y2hlc1R5cGUodHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUudHlwZSA9PT0gdHlwZSB8fCAodHlwZSA9PT0gJ2ludGVnZXInICYmIG5vZGUudHlwZSA9PT0gJ251bWJlcicgJiYgbm9kZS5pc0ludGVnZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS50eXBlKSkge1xuICAgICAgICAgICAgaWYgKCFzY2hlbWEudHlwZS5zb21lKG1hdGNoZXNUeXBlKSkge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogc2NoZW1hLmVycm9yTWVzc2FnZSB8fCBsb2NhbGl6ZSgndHlwZUFycmF5TWlzbWF0Y2hXYXJuaW5nJywgJ0luY29ycmVjdCB0eXBlLiBFeHBlY3RlZCBvbmUgb2YgezB9LicsIHNjaGVtYS50eXBlLmpvaW4oJywgJykpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2NoZW1hLnR5cGUpIHtcbiAgICAgICAgICAgIGlmICghbWF0Y2hlc1R5cGUoc2NoZW1hLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEuZXJyb3JNZXNzYWdlIHx8IGxvY2FsaXplKCd0eXBlTWlzbWF0Y2hXYXJuaW5nJywgJ0luY29ycmVjdCB0eXBlLiBFeHBlY3RlZCBcInswfVwiLicsIHNjaGVtYS50eXBlKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5hbGxPZikpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBzY2hlbWEuYWxsT2Y7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YlNjaGVtYVJlZiA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZShub2RlLCBhc1NjaGVtYShzdWJTY2hlbWFSZWYpLCB2YWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBub3RTY2hlbWEgPSBhc1NjaGVtYShzY2hlbWEubm90KTtcbiAgICAgICAgaWYgKG5vdFNjaGVtYSkge1xuICAgICAgICAgICAgdmFyIHN1YlZhbGlkYXRpb25SZXN1bHQgPSBuZXcgVmFsaWRhdGlvblJlc3VsdCgpO1xuICAgICAgICAgICAgdmFyIHN1Yk1hdGNoaW5nU2NoZW1hcyA9IG1hdGNoaW5nU2NoZW1hcy5uZXdTdWIoKTtcbiAgICAgICAgICAgIHZhbGlkYXRlKG5vZGUsIG5vdFNjaGVtYSwgc3ViVmFsaWRhdGlvblJlc3VsdCwgc3ViTWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgIGlmICghc3ViVmFsaWRhdGlvblJlc3VsdC5oYXNQcm9ibGVtcygpKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnbm90U2NoZW1hV2FybmluZycsIFwiTWF0Y2hlcyBhIHNjaGVtYSB0aGF0IGlzIG5vdCBhbGxvd2VkLlwiKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IHN1Yk1hdGNoaW5nU2NoZW1hcy5zY2hlbWFzOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBtcyA9IF9jW19iXTtcbiAgICAgICAgICAgICAgICBtcy5pbnZlcnRlZCA9ICFtcy5pbnZlcnRlZDtcbiAgICAgICAgICAgICAgICBtYXRjaGluZ1NjaGVtYXMuYWRkKG1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdGVzdEFsdGVybmF0aXZlcyA9IGZ1bmN0aW9uIChhbHRlcm5hdGl2ZXMsIG1heE9uZU1hdGNoKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgICAgICAgICAgLy8gcmVtZW1iZXIgdGhlIGJlc3QgbWF0Y2ggdGhhdCBpcyB1c2VkIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICAgICAgdmFyIGJlc3RNYXRjaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgYWx0ZXJuYXRpdmVzXzEgPSBhbHRlcm5hdGl2ZXM7IF9pIDwgYWx0ZXJuYXRpdmVzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YlNjaGVtYVJlZiA9IGFsdGVybmF0aXZlc18xW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgc3ViU2NoZW1hID0gYXNTY2hlbWEoc3ViU2NoZW1hUmVmKTtcbiAgICAgICAgICAgICAgICB2YXIgc3ViVmFsaWRhdGlvblJlc3VsdCA9IG5ldyBWYWxpZGF0aW9uUmVzdWx0KCk7XG4gICAgICAgICAgICAgICAgdmFyIHN1Yk1hdGNoaW5nU2NoZW1hcyA9IG1hdGNoaW5nU2NoZW1hcy5uZXdTdWIoKTtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZShub2RlLCBzdWJTY2hlbWEsIHN1YlZhbGlkYXRpb25SZXN1bHQsIHN1Yk1hdGNoaW5nU2NoZW1hcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdWJWYWxpZGF0aW9uUmVzdWx0Lmhhc1Byb2JsZW1zKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKHN1YlNjaGVtYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghYmVzdE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlc3RNYXRjaCA9IHsgc2NoZW1hOiBzdWJTY2hlbWEsIHZhbGlkYXRpb25SZXN1bHQ6IHN1YlZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hczogc3ViTWF0Y2hpbmdTY2hlbWFzIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1heE9uZU1hdGNoICYmICFzdWJWYWxpZGF0aW9uUmVzdWx0Lmhhc1Byb2JsZW1zKCkgJiYgIWJlc3RNYXRjaC52YWxpZGF0aW9uUmVzdWx0Lmhhc1Byb2JsZW1zKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIGVycm9ycywgYm90aCBhcmUgZXF1YWxseSBnb29kIG1hdGNoZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RNYXRjaC5tYXRjaGluZ1NjaGVtYXMubWVyZ2Uoc3ViTWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RNYXRjaC52YWxpZGF0aW9uUmVzdWx0LnByb3BlcnRpZXNNYXRjaGVzICs9IHN1YlZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc01hdGNoZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBiZXN0TWF0Y2gudmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzICs9IHN1YlZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc1ZhbHVlTWF0Y2hlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wYXJlUmVzdWx0ID0gc3ViVmFsaWRhdGlvblJlc3VsdC5jb21wYXJlKGJlc3RNYXRjaC52YWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wYXJlUmVzdWx0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG91ciBub2RlIGlzIHRoZSBiZXN0IG1hdGNoaW5nIHNvIGZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RNYXRjaCA9IHsgc2NoZW1hOiBzdWJTY2hlbWEsIHZhbGlkYXRpb25SZXN1bHQ6IHN1YlZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hczogc3ViTWF0Y2hpbmdTY2hlbWFzIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb21wYXJlUmVzdWx0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUncyBhbHJlYWR5IGEgYmVzdCBtYXRjaGluZyBidXQgd2UgYXJlIGFzIGdvb2RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZXN0TWF0Y2gubWF0Y2hpbmdTY2hlbWFzLm1lcmdlKHN1Yk1hdGNoaW5nU2NoZW1hcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdE1hdGNoLnZhbGlkYXRpb25SZXN1bHQubWVyZ2VFbnVtVmFsdWVzKHN1YlZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID4gMSAmJiBtYXhPbmVNYXRjaCkge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogMSB9LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnb25lT2ZXYXJuaW5nJywgXCJNYXRjaGVzIG11bHRpcGxlIHNjaGVtYXMgd2hlbiBvbmx5IG9uZSBtdXN0IHZhbGlkYXRlLlwiKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJlc3RNYXRjaCkge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQubWVyZ2UoYmVzdE1hdGNoLnZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc01hdGNoZXMgKz0gYmVzdE1hdGNoLnZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc01hdGNoZXM7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzICs9IGJlc3RNYXRjaC52YWxpZGF0aW9uUmVzdWx0LnByb3BlcnRpZXNWYWx1ZU1hdGNoZXM7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdTY2hlbWFzLm1lcmdlKGJlc3RNYXRjaC5tYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXMubGVuZ3RoO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuYW55T2YpKSB7XG4gICAgICAgICAgICB0ZXN0QWx0ZXJuYXRpdmVzKHNjaGVtYS5hbnlPZiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5vbmVPZikpIHtcbiAgICAgICAgICAgIHRlc3RBbHRlcm5hdGl2ZXMoc2NoZW1hLm9uZU9mLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGVzdEJyYW5jaCA9IGZ1bmN0aW9uIChzY2hlbWEpIHtcbiAgICAgICAgICAgIHZhciBzdWJWYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgIHZhciBzdWJNYXRjaGluZ1NjaGVtYXMgPSBtYXRjaGluZ1NjaGVtYXMubmV3U3ViKCk7XG4gICAgICAgICAgICB2YWxpZGF0ZShub2RlLCBhc1NjaGVtYShzY2hlbWEpLCBzdWJWYWxpZGF0aW9uUmVzdWx0LCBzdWJNYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5tZXJnZShzdWJWYWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc01hdGNoZXMgKz0gc3ViVmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzTWF0Y2hlcztcbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc1ZhbHVlTWF0Y2hlcyArPSBzdWJWYWxpZGF0aW9uUmVzdWx0LnByb3BlcnRpZXNWYWx1ZU1hdGNoZXM7XG4gICAgICAgICAgICBtYXRjaGluZ1NjaGVtYXMubWVyZ2Uoc3ViTWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRlc3RDb25kaXRpb24gPSBmdW5jdGlvbiAoaWZTY2hlbWEsIHRoZW5TY2hlbWEsIGVsc2VTY2hlbWEpIHtcbiAgICAgICAgICAgIHZhciBzdWJTY2hlbWEgPSBhc1NjaGVtYShpZlNjaGVtYSk7XG4gICAgICAgICAgICB2YXIgc3ViVmFsaWRhdGlvblJlc3VsdCA9IG5ldyBWYWxpZGF0aW9uUmVzdWx0KCk7XG4gICAgICAgICAgICB2YXIgc3ViTWF0Y2hpbmdTY2hlbWFzID0gbWF0Y2hpbmdTY2hlbWFzLm5ld1N1YigpO1xuICAgICAgICAgICAgdmFsaWRhdGUobm9kZSwgc3ViU2NoZW1hLCBzdWJWYWxpZGF0aW9uUmVzdWx0LCBzdWJNYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgICAgICAgbWF0Y2hpbmdTY2hlbWFzLm1lcmdlKHN1Yk1hdGNoaW5nU2NoZW1hcyk7XG4gICAgICAgICAgICBpZiAoIXN1YlZhbGlkYXRpb25SZXN1bHQuaGFzUHJvYmxlbXMoKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGVuU2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3RCcmFuY2godGhlblNjaGVtYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZWxzZVNjaGVtYSkge1xuICAgICAgICAgICAgICAgIHRlc3RCcmFuY2goZWxzZVNjaGVtYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBpZlNjaGVtYSA9IGFzU2NoZW1hKHNjaGVtYS5pZik7XG4gICAgICAgIGlmIChpZlNjaGVtYSkge1xuICAgICAgICAgICAgdGVzdENvbmRpdGlvbihpZlNjaGVtYSwgYXNTY2hlbWEoc2NoZW1hLnRoZW4pLCBhc1NjaGVtYShzY2hlbWEuZWxzZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5lbnVtKSkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IGdldE5vZGVWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIHZhciBlbnVtVmFsdWVNYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgX2QgPSAwLCBfZSA9IHNjaGVtYS5lbnVtOyBfZCA8IF9lLmxlbmd0aDsgX2QrKykge1xuICAgICAgICAgICAgICAgIHZhciBlID0gX2VbX2RdO1xuICAgICAgICAgICAgICAgIGlmIChlcXVhbHModmFsLCBlKSkge1xuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsdWVNYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQuZW51bVZhbHVlcyA9IHNjaGVtYS5lbnVtO1xuICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5lbnVtVmFsdWVNYXRjaCA9IGVudW1WYWx1ZU1hdGNoO1xuICAgICAgICAgICAgaWYgKCFlbnVtVmFsdWVNYXRjaCkge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogRXJyb3JDb2RlLkVudW1WYWx1ZU1pc21hdGNoLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEuZXJyb3JNZXNzYWdlIHx8IGxvY2FsaXplKCdlbnVtV2FybmluZycsICdWYWx1ZSBpcyBub3QgYWNjZXB0ZWQuIFZhbGlkIHZhbHVlczogezB9LicsIHNjaGVtYS5lbnVtLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7IH0pLmpvaW4oJywgJykpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRGVmaW5lZChzY2hlbWEuY29uc3QpKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gZ2V0Tm9kZVZhbHVlKG5vZGUpO1xuICAgICAgICAgICAgaWYgKCFlcXVhbHModmFsLCBzY2hlbWEuY29uc3QpKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICBjb2RlOiBFcnJvckNvZGUuRW51bVZhbHVlTWlzbWF0Y2gsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYS5lcnJvck1lc3NhZ2UgfHwgbG9jYWxpemUoJ2NvbnN0V2FybmluZycsICdWYWx1ZSBtdXN0IGJlIHswfS4nLCBKU09OLnN0cmluZ2lmeShzY2hlbWEuY29uc3QpKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQuZW51bVZhbHVlTWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQuZW51bVZhbHVlTWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5lbnVtVmFsdWVzID0gW3NjaGVtYS5jb25zdF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS5kZXByZWNhdGlvbk1lc3NhZ2UgJiYgbm9kZS5wYXJlbnQpIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLnBhcmVudC5vZmZzZXQsIGxlbmd0aDogbm9kZS5wYXJlbnQubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgc2V2ZXJpdHk6IERpYWdub3N0aWNTZXZlcml0eS5XYXJuaW5nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYS5kZXByZWNhdGlvbk1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgY29kZTogRXJyb3JDb2RlLkRlcHJlY2F0ZWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIF92YWxpZGF0ZU51bWJlck5vZGUobm9kZSwgc2NoZW1hLCB2YWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpIHtcbiAgICAgICAgdmFyIHZhbCA9IG5vZGUudmFsdWU7XG4gICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUZsb2F0cyhmbG9hdCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gL14oLT9cXGQrKSg/OlxcLihcXGQrKSk/KD86ZShbLStdXFxkKykpPyQvLmV4ZWMoZmxvYXQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICByZXR1cm4gcGFydHMgJiYge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIocGFydHNbMV0gKyAocGFydHNbMl0gfHwgJycpKSxcbiAgICAgICAgICAgICAgICBtdWx0aXBsaWVyOiAoKChfYSA9IHBhcnRzWzJdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSB8fCAwKSAtIChwYXJzZUludChwYXJ0c1szXSkgfHwgMClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgO1xuICAgICAgICBpZiAoaXNOdW1iZXIoc2NoZW1hLm11bHRpcGxlT2YpKSB7XG4gICAgICAgICAgICB2YXIgcmVtYWluZGVyID0gLTE7XG4gICAgICAgICAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihzY2hlbWEubXVsdGlwbGVPZikpIHtcbiAgICAgICAgICAgICAgICByZW1haW5kZXIgPSB2YWwgJSBzY2hlbWEubXVsdGlwbGVPZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBub3JtTXVsdGlwbGVPZiA9IG5vcm1hbGl6ZUZsb2F0cyhzY2hlbWEubXVsdGlwbGVPZik7XG4gICAgICAgICAgICAgICAgdmFyIG5vcm1WYWx1ZSA9IG5vcm1hbGl6ZUZsb2F0cyh2YWwpO1xuICAgICAgICAgICAgICAgIGlmIChub3JtTXVsdGlwbGVPZiAmJiBub3JtVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG11bHRpcGxpZXIgPSBNYXRoLnBvdygxMCwgTWF0aC5hYnMobm9ybVZhbHVlLm11bHRpcGxpZXIgLSBub3JtTXVsdGlwbGVPZi5tdWx0aXBsaWVyKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub3JtVmFsdWUubXVsdGlwbGllciA8IG5vcm1NdWx0aXBsZU9mLm11bHRpcGxpZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1WYWx1ZS52YWx1ZSAqPSBtdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9ybU11bHRpcGxlT2YudmFsdWUgKj0gbXVsdGlwbGllcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZW1haW5kZXIgPSBub3JtVmFsdWUudmFsdWUgJSBub3JtTXVsdGlwbGVPZi52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVtYWluZGVyICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnbXVsdGlwbGVPZldhcm5pbmcnLCAnVmFsdWUgaXMgbm90IGRpdmlzaWJsZSBieSB7MH0uJywgc2NoZW1hLm11bHRpcGxlT2YpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0RXhjbHVzaXZlTGltaXQobGltaXQsIGV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKGV4Y2x1c2l2ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhjbHVzaXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzQm9vbGVhbihleGNsdXNpdmUpICYmIGV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaW1pdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0TGltaXQobGltaXQsIGV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgaWYgKCFpc0Jvb2xlYW4oZXhjbHVzaXZlKSB8fCAhZXhjbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbWl0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXhjbHVzaXZlTWluaW11bSA9IGdldEV4Y2x1c2l2ZUxpbWl0KHNjaGVtYS5taW5pbXVtLCBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSk7XG4gICAgICAgIGlmIChpc051bWJlcihleGNsdXNpdmVNaW5pbXVtKSAmJiB2YWwgPD0gZXhjbHVzaXZlTWluaW11bSkge1xuICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ2V4Y2x1c2l2ZU1pbmltdW1XYXJuaW5nJywgJ1ZhbHVlIGlzIGJlbG93IHRoZSBleGNsdXNpdmUgbWluaW11bSBvZiB7MH0uJywgZXhjbHVzaXZlTWluaW11bSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBleGNsdXNpdmVNYXhpbXVtID0gZ2V0RXhjbHVzaXZlTGltaXQoc2NoZW1hLm1heGltdW0sIHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtKTtcbiAgICAgICAgaWYgKGlzTnVtYmVyKGV4Y2x1c2l2ZU1heGltdW0pICYmIHZhbCA+PSBleGNsdXNpdmVNYXhpbXVtKSB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnZXhjbHVzaXZlTWF4aW11bVdhcm5pbmcnLCAnVmFsdWUgaXMgYWJvdmUgdGhlIGV4Y2x1c2l2ZSBtYXhpbXVtIG9mIHswfS4nLCBleGNsdXNpdmVNYXhpbXVtKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pbmltdW0gPSBnZXRMaW1pdChzY2hlbWEubWluaW11bSwgc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0pO1xuICAgICAgICBpZiAoaXNOdW1iZXIobWluaW11bSkgJiYgdmFsIDwgbWluaW11bSkge1xuICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ21pbmltdW1XYXJuaW5nJywgJ1ZhbHVlIGlzIGJlbG93IHRoZSBtaW5pbXVtIG9mIHswfS4nLCBtaW5pbXVtKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1heGltdW0gPSBnZXRMaW1pdChzY2hlbWEubWF4aW11bSwgc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0pO1xuICAgICAgICBpZiAoaXNOdW1iZXIobWF4aW11bSkgJiYgdmFsID4gbWF4aW11bSkge1xuICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ21heGltdW1XYXJuaW5nJywgJ1ZhbHVlIGlzIGFib3ZlIHRoZSBtYXhpbXVtIG9mIHswfS4nLCBtYXhpbXVtKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gX3ZhbGlkYXRlU3RyaW5nTm9kZShub2RlLCBzY2hlbWEsIHZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hcykge1xuICAgICAgICBpZiAoaXNOdW1iZXIoc2NoZW1hLm1pbkxlbmd0aCkgJiYgbm9kZS52YWx1ZS5sZW5ndGggPCBzY2hlbWEubWluTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnbWluTGVuZ3RoV2FybmluZycsICdTdHJpbmcgaXMgc2hvcnRlciB0aGFuIHRoZSBtaW5pbXVtIGxlbmd0aCBvZiB7MH0uJywgc2NoZW1hLm1pbkxlbmd0aClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc051bWJlcihzY2hlbWEubWF4TGVuZ3RoKSAmJiBub2RlLnZhbHVlLmxlbmd0aCA+IHNjaGVtYS5tYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdtYXhMZW5ndGhXYXJuaW5nJywgJ1N0cmluZyBpcyBsb25nZXIgdGhhbiB0aGUgbWF4aW11bSBsZW5ndGggb2YgezB9LicsIHNjaGVtYS5tYXhMZW5ndGgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpbmcoc2NoZW1hLnBhdHRlcm4pKSB7XG4gICAgICAgICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHNjaGVtYS5wYXR0ZXJuKTtcbiAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChub2RlLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogc2NoZW1hLnBhdHRlcm5FcnJvck1lc3NhZ2UgfHwgc2NoZW1hLmVycm9yTWVzc2FnZSB8fCBsb2NhbGl6ZSgncGF0dGVybldhcm5pbmcnLCAnU3RyaW5nIGRvZXMgbm90IG1hdGNoIHRoZSBwYXR0ZXJuIG9mIFwiezB9XCIuJywgc2NoZW1hLnBhdHRlcm4pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS5mb3JtYXQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoc2NoZW1hLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VyaSc6XG4gICAgICAgICAgICAgICAgY2FzZSAndXJpLXJlZmVyZW5jZSc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5vZGUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBsb2NhbGl6ZSgndXJpRW1wdHknLCAnVVJJIGV4cGVjdGVkLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gL14oKFteOi8/I10rPyk6KT8oXFwvXFwvKFteLz8jXSopKT8oW14/I10qKShcXD8oW14jXSopKT8oIyguKikpPy8uZXhlYyhub2RlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGxvY2FsaXplKCd1cmlNaXNzaW5nJywgJ1VSSSBpcyBleHBlY3RlZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIW1hdGNoWzJdICYmIHNjaGVtYS5mb3JtYXQgPT09ICd1cmknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGxvY2FsaXplKCd1cmlTY2hlbWVNaXNzaW5nJywgJ1VSSSB3aXRoIGEgc2NoZW1lIGlzIGV4cGVjdGVkLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYS5wYXR0ZXJuRXJyb3JNZXNzYWdlIHx8IHNjaGVtYS5lcnJvck1lc3NhZ2UgfHwgbG9jYWxpemUoJ3VyaUZvcm1hdFdhcm5pbmcnLCAnU3RyaW5nIGlzIG5vdCBhIFVSSTogezB9JywgZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbG9yLWhleCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZGF0ZS10aW1lJzpcbiAgICAgICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICBjYXNlICd0aW1lJzpcbiAgICAgICAgICAgICAgICBjYXNlICdlbWFpbCc6XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JtYXQgPSBmb3JtYXRzW3NjaGVtYS5mb3JtYXRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5vZGUudmFsdWUgfHwgIWZvcm1hdC5wYXR0ZXJuLmV4ZWMobm9kZS52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYS5wYXR0ZXJuRXJyb3JNZXNzYWdlIHx8IHNjaGVtYS5lcnJvck1lc3NhZ2UgfHwgZm9ybWF0LmVycm9yTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIF92YWxpZGF0ZUFycmF5Tm9kZShub2RlLCBzY2hlbWEsIHZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hcykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuaXRlbXMpKSB7XG4gICAgICAgICAgICB2YXIgc3ViU2NoZW1hcyA9IHNjaGVtYS5pdGVtcztcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBzdWJTY2hlbWFzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHZhciBzdWJTY2hlbWFSZWYgPSBzdWJTY2hlbWFzW2luZGV4XTtcbiAgICAgICAgICAgICAgICB2YXIgc3ViU2NoZW1hID0gYXNTY2hlbWEoc3ViU2NoZW1hUmVmKTtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbVZhbGlkYXRpb25SZXN1bHQgPSBuZXcgVmFsaWRhdGlvblJlc3VsdCgpO1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gbm9kZS5pdGVtc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGUoaXRlbSwgc3ViU2NoZW1hLCBpdGVtVmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5tZXJnZVByb3BlcnR5TWF0Y2goaXRlbVZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChub2RlLml0ZW1zLmxlbmd0aCA+PSBzdWJTY2hlbWFzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZS5pdGVtcy5sZW5ndGggPiBzdWJTY2hlbWFzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLmFkZGl0aW9uYWxJdGVtcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN1YlNjaGVtYXMubGVuZ3RoOyBpIDwgbm9kZS5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1WYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlKG5vZGUuaXRlbXNbaV0sIHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMsIGl0ZW1WYWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5tZXJnZVByb3BlcnR5TWF0Y2goaXRlbVZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnYWRkaXRpb25hbEl0ZW1zV2FybmluZycsICdBcnJheSBoYXMgdG9vIG1hbnkgaXRlbXMgYWNjb3JkaW5nIHRvIHNjaGVtYS4gRXhwZWN0ZWQgezB9IG9yIGZld2VyLicsIHN1YlNjaGVtYXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgaXRlbVNjaGVtYSA9IGFzU2NoZW1hKHNjaGVtYS5pdGVtcyk7XG4gICAgICAgICAgICBpZiAoaXRlbVNjaGVtYSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBub2RlLml0ZW1zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1WYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGUoaXRlbSwgaXRlbVNjaGVtYSwgaXRlbVZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hcyk7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQubWVyZ2VQcm9wZXJ0eU1hdGNoKGl0ZW1WYWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRhaW5zU2NoZW1hID0gYXNTY2hlbWEoc2NoZW1hLmNvbnRhaW5zKTtcbiAgICAgICAgaWYgKGNvbnRhaW5zU2NoZW1hKSB7XG4gICAgICAgICAgICB2YXIgZG9lc0NvbnRhaW4gPSBub2RlLml0ZW1zLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbVZhbGlkYXRpb25SZXN1bHQgPSBuZXcgVmFsaWRhdGlvblJlc3VsdCgpO1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlKGl0ZW0sIGNvbnRhaW5zU2NoZW1hLCBpdGVtVmFsaWRhdGlvblJlc3VsdCwgTm9PcFNjaGVtYUNvbGxlY3Rvci5pbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFpdGVtVmFsaWRhdGlvblJlc3VsdC5oYXNQcm9ibGVtcygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWRvZXNDb250YWluKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEuZXJyb3JNZXNzYWdlIHx8IGxvY2FsaXplKCdyZXF1aXJlZEl0ZW1NaXNzaW5nV2FybmluZycsICdBcnJheSBkb2VzIG5vdCBjb250YWluIHJlcXVpcmVkIGl0ZW0uJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOdW1iZXIoc2NoZW1hLm1pbkl0ZW1zKSAmJiBub2RlLml0ZW1zLmxlbmd0aCA8IHNjaGVtYS5taW5JdGVtcykge1xuICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ21pbkl0ZW1zV2FybmluZycsICdBcnJheSBoYXMgdG9vIGZldyBpdGVtcy4gRXhwZWN0ZWQgezB9IG9yIG1vcmUuJywgc2NoZW1hLm1pbkl0ZW1zKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTnVtYmVyKHNjaGVtYS5tYXhJdGVtcykgJiYgbm9kZS5pdGVtcy5sZW5ndGggPiBzY2hlbWEubWF4SXRlbXMpIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdtYXhJdGVtc1dhcm5pbmcnLCAnQXJyYXkgaGFzIHRvbyBtYW55IGl0ZW1zLiBFeHBlY3RlZCB7MH0gb3IgZmV3ZXIuJywgc2NoZW1hLm1heEl0ZW1zKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS51bmlxdWVJdGVtcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlc18xID0gZ2V0Tm9kZVZhbHVlKG5vZGUpO1xuICAgICAgICAgICAgdmFyIGR1cGxpY2F0ZXMgPSB2YWx1ZXNfMS5zb21lKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggIT09IHZhbHVlc18xLmxhc3RJbmRleE9mKHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGR1cGxpY2F0ZXMpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCd1bmlxdWVJdGVtc1dhcm5pbmcnLCAnQXJyYXkgaGFzIGR1cGxpY2F0ZSBpdGVtcy4nKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIF92YWxpZGF0ZU9iamVjdE5vZGUobm9kZSwgc2NoZW1hLCB2YWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpIHtcbiAgICAgICAgdmFyIHNlZW5LZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdmFyIHVucHJvY2Vzc2VkUHJvcGVydGllcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gbm9kZS5wcm9wZXJ0aWVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5Tm9kZSA9IF9hW19pXTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBwcm9wZXJ0eU5vZGUua2V5Tm9kZS52YWx1ZTtcbiAgICAgICAgICAgIHNlZW5LZXlzW2tleV0gPSBwcm9wZXJ0eU5vZGUudmFsdWVOb2RlO1xuICAgICAgICAgICAgdW5wcm9jZXNzZWRQcm9wZXJ0aWVzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEucmVxdWlyZWQpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIF9jID0gc2NoZW1hLnJlcXVpcmVkOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBfY1tfYl07XG4gICAgICAgICAgICAgICAgaWYgKCFzZWVuS2V5c1twcm9wZXJ0eU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlOb2RlID0gbm9kZS5wYXJlbnQgJiYgbm9kZS5wYXJlbnQudHlwZSA9PT0gJ3Byb3BlcnR5JyAmJiBub2RlLnBhcmVudC5rZXlOb2RlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBrZXlOb2RlID8geyBvZmZzZXQ6IGtleU5vZGUub2Zmc2V0LCBsZW5ndGg6IGtleU5vZGUubGVuZ3RoIH0gOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogMSB9O1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ01pc3NpbmdSZXF1aXJlZFByb3BXYXJuaW5nJywgJ01pc3NpbmcgcHJvcGVydHkgXCJ7MH1cIi4nLCBwcm9wZXJ0eU5hbWUpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvcGVydHlQcm9jZXNzZWQgPSBmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdW5wcm9jZXNzZWRQcm9wZXJ0aWVzLmluZGV4T2YocHJvcCk7XG4gICAgICAgICAgICB3aGlsZSAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIHVucHJvY2Vzc2VkUHJvcGVydGllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gdW5wcm9jZXNzZWRQcm9wZXJ0aWVzLmluZGV4T2YocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChzY2hlbWEucHJvcGVydGllcykge1xuICAgICAgICAgICAgZm9yICh2YXIgX2QgPSAwLCBfZSA9IE9iamVjdC5rZXlzKHNjaGVtYS5wcm9wZXJ0aWVzKTsgX2QgPCBfZS5sZW5ndGg7IF9kKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gX2VbX2RdO1xuICAgICAgICAgICAgICAgIHByb3BlcnR5UHJvY2Vzc2VkKHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5U2NoZW1hID0gc2NoZW1hLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBzZWVuS2V5c1twcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNCb29sZWFuKHByb3BlcnR5U2NoZW1hKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eVNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5vZGUgPSBjaGlsZC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBwcm9wZXJ0eU5vZGUua2V5Tm9kZS5vZmZzZXQsIGxlbmd0aDogcHJvcGVydHlOb2RlLmtleU5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYS5lcnJvck1lc3NhZ2UgfHwgbG9jYWxpemUoJ0Rpc2FsbG93ZWRFeHRyYVByb3BXYXJuaW5nJywgJ1Byb3BlcnR5IHswfSBpcyBub3QgYWxsb3dlZC4nLCBwcm9wZXJ0eU5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb3BlcnRpZXNNYXRjaGVzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlKGNoaWxkLCBwcm9wZXJ0eVNjaGVtYSwgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5tZXJnZVByb3BlcnR5TWF0Y2gocHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfZiA9IDAsIF9nID0gT2JqZWN0LmtleXMoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKTsgX2YgPCBfZy5sZW5ndGg7IF9mKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlQYXR0ZXJuID0gX2dbX2ZdO1xuICAgICAgICAgICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAocHJvcGVydHlQYXR0ZXJuKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaCA9IDAsIF9qID0gdW5wcm9jZXNzZWRQcm9wZXJ0aWVzLnNsaWNlKDApOyBfaCA8IF9qLmxlbmd0aDsgX2grKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gX2pbX2hdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVnZXgudGVzdChwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eVByb2Nlc3NlZChwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gc2VlbktleXNbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eVNjaGVtYSA9IHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1twcm9wZXJ0eVBhdHRlcm5dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Jvb2xlYW4ocHJvcGVydHlTY2hlbWEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHlTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5vZGUgPSBjaGlsZC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogcHJvcGVydHlOb2RlLmtleU5vZGUub2Zmc2V0LCBsZW5ndGg6IHByb3BlcnR5Tm9kZS5rZXlOb2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYS5lcnJvck1lc3NhZ2UgfHwgbG9jYWxpemUoJ0Rpc2FsbG93ZWRFeHRyYVByb3BXYXJuaW5nJywgJ1Byb3BlcnR5IHswfSBpcyBub3QgYWxsb3dlZC4nLCBwcm9wZXJ0eU5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc01hdGNoZXMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc1ZhbHVlTWF0Y2hlcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGUoY2hpbGQsIHByb3BlcnR5U2NoZW1hLCBwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQubWVyZ2VQcm9wZXJ0eU1hdGNoKHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZm9yICh2YXIgX2sgPSAwLCB1bnByb2Nlc3NlZFByb3BlcnRpZXNfMSA9IHVucHJvY2Vzc2VkUHJvcGVydGllczsgX2sgPCB1bnByb2Nlc3NlZFByb3BlcnRpZXNfMS5sZW5ndGg7IF9rKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gdW5wcm9jZXNzZWRQcm9wZXJ0aWVzXzFbX2tdO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHNlZW5LZXlzW3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQgPSBuZXcgVmFsaWRhdGlvblJlc3VsdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZShjaGlsZCwgc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hcyk7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQubWVyZ2VQcm9wZXJ0eU1hdGNoKHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmICh1bnByb2Nlc3NlZFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9sID0gMCwgdW5wcm9jZXNzZWRQcm9wZXJ0aWVzXzIgPSB1bnByb2Nlc3NlZFByb3BlcnRpZXM7IF9sIDwgdW5wcm9jZXNzZWRQcm9wZXJ0aWVzXzIubGVuZ3RoOyBfbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSB1bnByb2Nlc3NlZFByb3BlcnRpZXNfMltfbF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHNlZW5LZXlzW3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5Tm9kZSA9IGNoaWxkLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBwcm9wZXJ0eU5vZGUua2V5Tm9kZS5vZmZzZXQsIGxlbmd0aDogcHJvcGVydHlOb2RlLmtleU5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogc2NoZW1hLmVycm9yTWVzc2FnZSB8fCBsb2NhbGl6ZSgnRGlzYWxsb3dlZEV4dHJhUHJvcFdhcm5pbmcnLCAnUHJvcGVydHkgezB9IGlzIG5vdCBhbGxvd2VkLicsIHByb3BlcnR5TmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc051bWJlcihzY2hlbWEubWF4UHJvcGVydGllcykpIHtcbiAgICAgICAgICAgIGlmIChub2RlLnByb3BlcnRpZXMubGVuZ3RoID4gc2NoZW1hLm1heFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdNYXhQcm9wV2FybmluZycsICdPYmplY3QgaGFzIG1vcmUgcHJvcGVydGllcyB0aGFuIGxpbWl0IG9mIHswfS4nLCBzY2hlbWEubWF4UHJvcGVydGllcylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOdW1iZXIoc2NoZW1hLm1pblByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5wcm9wZXJ0aWVzLmxlbmd0aCA8IHNjaGVtYS5taW5Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnTWluUHJvcFdhcm5pbmcnLCAnT2JqZWN0IGhhcyBmZXdlciBwcm9wZXJ0aWVzIHRoYW4gdGhlIHJlcXVpcmVkIG51bWJlciBvZiB7MH0nLCBzY2hlbWEubWluUHJvcGVydGllcylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLmRlcGVuZGVuY2llcykge1xuICAgICAgICAgICAgZm9yICh2YXIgX20gPSAwLCBfbyA9IE9iamVjdC5rZXlzKHNjaGVtYS5kZXBlbmRlbmNpZXMpOyBfbSA8IF9vLmxlbmd0aDsgX20rKykge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfb1tfbV07XG4gICAgICAgICAgICAgICAgdmFyIHByb3AgPSBzZWVuS2V5c1trZXldO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eURlcCA9IHNjaGVtYS5kZXBlbmRlbmNpZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcGVydHlEZXApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcCA9IDAsIHByb3BlcnR5RGVwXzEgPSBwcm9wZXJ0eURlcDsgX3AgPCBwcm9wZXJ0eURlcF8xLmxlbmd0aDsgX3ArKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXF1aXJlZFByb3AgPSBwcm9wZXJ0eURlcF8xW19wXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlZW5LZXlzW3JlcXVpcmVkUHJvcF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdSZXF1aXJlZERlcGVuZGVudFByb3BXYXJuaW5nJywgJ09iamVjdCBpcyBtaXNzaW5nIHByb3BlcnR5IHswfSByZXF1aXJlZCBieSBwcm9wZXJ0eSB7MX0uJywgcmVxdWlyZWRQcm9wLCBrZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5U2NoZW1hID0gYXNTY2hlbWEocHJvcGVydHlEZXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5U2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdCA9IG5ldyBWYWxpZGF0aW9uUmVzdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGUobm9kZSwgcHJvcGVydHlTY2hlbWEsIHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Lm1lcmdlUHJvcGVydHlNYXRjaChwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9wZXJ0eU5hbWVzID0gYXNTY2hlbWEoc2NoZW1hLnByb3BlcnR5TmFtZXMpO1xuICAgICAgICBpZiAocHJvcGVydHlOYW1lcykge1xuICAgICAgICAgICAgZm9yICh2YXIgX3EgPSAwLCBfciA9IG5vZGUucHJvcGVydGllczsgX3EgPCBfci5sZW5ndGg7IF9xKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZiA9IF9yW19xXTtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gZi5rZXlOb2RlO1xuICAgICAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGUoa2V5LCBwcm9wZXJ0eU5hbWVzLCB2YWxpZGF0aW9uUmVzdWx0LCBOb09wU2NoZW1hQ29sbGVjdG9yLmluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2UodGV4dERvY3VtZW50LCBjb25maWcpIHtcbiAgICB2YXIgcHJvYmxlbXMgPSBbXTtcbiAgICB2YXIgbGFzdFByb2JsZW1PZmZzZXQgPSAtMTtcbiAgICB2YXIgdGV4dCA9IHRleHREb2N1bWVudC5nZXRUZXh0KCk7XG4gICAgdmFyIHNjYW5uZXIgPSBKc29uLmNyZWF0ZVNjYW5uZXIodGV4dCwgZmFsc2UpO1xuICAgIHZhciBjb21tZW50UmFuZ2VzID0gY29uZmlnICYmIGNvbmZpZy5jb2xsZWN0Q29tbWVudHMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICBmdW5jdGlvbiBfc2Nhbk5leHQoKSB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW5fMSA9IHNjYW5uZXIuc2NhbigpO1xuICAgICAgICAgICAgX2NoZWNrU2NhbkVycm9yKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuXzEpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDEyIC8qIExpbmVDb21tZW50VHJpdmlhICovOlxuICAgICAgICAgICAgICAgIGNhc2UgMTMgLyogQmxvY2tDb21tZW50VHJpdmlhICovOlxuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb21tZW50UmFuZ2VzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudFJhbmdlcy5wdXNoKFJhbmdlLmNyZWF0ZSh0ZXh0RG9jdW1lbnQucG9zaXRpb25BdChzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpLCB0ZXh0RG9jdW1lbnQucG9zaXRpb25BdChzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBzY2FubmVyLmdldFRva2VuTGVuZ3RoKCkpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxNSAvKiBUcml2aWEgKi86XG4gICAgICAgICAgICAgICAgY2FzZSAxNCAvKiBMaW5lQnJlYWtUcml2aWEgKi86XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbl8xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9hY2NlcHQodG9rZW4pIHtcbiAgICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gdG9rZW4pIHtcbiAgICAgICAgICAgIF9zY2FuTmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfZXJyb3JBdFJhbmdlKG1lc3NhZ2UsIGNvZGUsIHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQsIHNldmVyaXR5KSB7XG4gICAgICAgIGlmIChzZXZlcml0eSA9PT0gdm9pZCAwKSB7IHNldmVyaXR5ID0gRGlhZ25vc3RpY1NldmVyaXR5LkVycm9yOyB9XG4gICAgICAgIGlmIChwcm9ibGVtcy5sZW5ndGggPT09IDAgfHwgc3RhcnRPZmZzZXQgIT09IGxhc3RQcm9ibGVtT2Zmc2V0KSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBSYW5nZS5jcmVhdGUodGV4dERvY3VtZW50LnBvc2l0aW9uQXQoc3RhcnRPZmZzZXQpLCB0ZXh0RG9jdW1lbnQucG9zaXRpb25BdChlbmRPZmZzZXQpKTtcbiAgICAgICAgICAgIHByb2JsZW1zLnB1c2goRGlhZ25vc3RpYy5jcmVhdGUocmFuZ2UsIG1lc3NhZ2UsIHNldmVyaXR5LCBjb2RlLCB0ZXh0RG9jdW1lbnQubGFuZ3VhZ2VJZCkpO1xuICAgICAgICAgICAgbGFzdFByb2JsZW1PZmZzZXQgPSBzdGFydE9mZnNldDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBfZXJyb3IobWVzc2FnZSwgY29kZSwgbm9kZSwgc2tpcFVudGlsQWZ0ZXIsIHNraXBVbnRpbCkge1xuICAgICAgICBpZiAobm9kZSA9PT0gdm9pZCAwKSB7IG5vZGUgPSB1bmRlZmluZWQ7IH1cbiAgICAgICAgaWYgKHNraXBVbnRpbEFmdGVyID09PSB2b2lkIDApIHsgc2tpcFVudGlsQWZ0ZXIgPSBbXTsgfVxuICAgICAgICBpZiAoc2tpcFVudGlsID09PSB2b2lkIDApIHsgc2tpcFVudGlsID0gW107IH1cbiAgICAgICAgdmFyIHN0YXJ0ID0gc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpO1xuICAgICAgICB2YXIgZW5kID0gc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpICsgc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpO1xuICAgICAgICBpZiAoc3RhcnQgPT09IGVuZCAmJiBzdGFydCA+IDApIHtcbiAgICAgICAgICAgIHN0YXJ0LS07XG4gICAgICAgICAgICB3aGlsZSAoc3RhcnQgPiAwICYmIC9cXHMvLnRlc3QodGV4dC5jaGFyQXQoc3RhcnQpKSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0LS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmQgPSBzdGFydCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgX2Vycm9yQXRSYW5nZShtZXNzYWdlLCBjb2RlLCBzdGFydCwgZW5kKTtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIF9maW5hbGl6ZShub2RlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNraXBVbnRpbEFmdGVyLmxlbmd0aCArIHNraXBVbnRpbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW5fMiA9IHNjYW5uZXIuZ2V0VG9rZW4oKTtcbiAgICAgICAgICAgIHdoaWxlICh0b2tlbl8yICE9PSAxNyAvKiBFT0YgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAoc2tpcFVudGlsQWZ0ZXIuaW5kZXhPZih0b2tlbl8yKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgX3NjYW5OZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChza2lwVW50aWwuaW5kZXhPZih0b2tlbl8yKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2VuXzIgPSBfc2Nhbk5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX2NoZWNrU2NhbkVycm9yKCkge1xuICAgICAgICBzd2l0Y2ggKHNjYW5uZXIuZ2V0VG9rZW5FcnJvcigpKSB7XG4gICAgICAgICAgICBjYXNlIDQgLyogSW52YWxpZFVuaWNvZGUgKi86XG4gICAgICAgICAgICAgICAgX2Vycm9yKGxvY2FsaXplKCdJbnZhbGlkVW5pY29kZScsICdJbnZhbGlkIHVuaWNvZGUgc2VxdWVuY2UgaW4gc3RyaW5nLicpLCBFcnJvckNvZGUuSW52YWxpZFVuaWNvZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY2FzZSA1IC8qIEludmFsaWRFc2NhcGVDaGFyYWN0ZXIgKi86XG4gICAgICAgICAgICAgICAgX2Vycm9yKGxvY2FsaXplKCdJbnZhbGlkRXNjYXBlQ2hhcmFjdGVyJywgJ0ludmFsaWQgZXNjYXBlIGNoYXJhY3RlciBpbiBzdHJpbmcuJyksIEVycm9yQ29kZS5JbnZhbGlkRXNjYXBlQ2hhcmFjdGVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNhc2UgMyAvKiBVbmV4cGVjdGVkRW5kT2ZOdW1iZXIgKi86XG4gICAgICAgICAgICAgICAgX2Vycm9yKGxvY2FsaXplKCdVbmV4cGVjdGVkRW5kT2ZOdW1iZXInLCAnVW5leHBlY3RlZCBlbmQgb2YgbnVtYmVyLicpLCBFcnJvckNvZGUuVW5leHBlY3RlZEVuZE9mTnVtYmVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBVbmV4cGVjdGVkRW5kT2ZDb21tZW50ICovOlxuICAgICAgICAgICAgICAgIF9lcnJvcihsb2NhbGl6ZSgnVW5leHBlY3RlZEVuZE9mQ29tbWVudCcsICdVbmV4cGVjdGVkIGVuZCBvZiBjb21tZW50LicpLCBFcnJvckNvZGUuVW5leHBlY3RlZEVuZE9mQ29tbWVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBjYXNlIDIgLyogVW5leHBlY3RlZEVuZE9mU3RyaW5nICovOlxuICAgICAgICAgICAgICAgIF9lcnJvcihsb2NhbGl6ZSgnVW5leHBlY3RlZEVuZE9mU3RyaW5nJywgJ1VuZXhwZWN0ZWQgZW5kIG9mIHN0cmluZy4nKSwgRXJyb3JDb2RlLlVuZXhwZWN0ZWRFbmRPZlN0cmluZyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBjYXNlIDYgLyogSW52YWxpZENoYXJhY3RlciAqLzpcbiAgICAgICAgICAgICAgICBfZXJyb3IobG9jYWxpemUoJ0ludmFsaWRDaGFyYWN0ZXInLCAnSW52YWxpZCBjaGFyYWN0ZXJzIGluIHN0cmluZy4gQ29udHJvbCBjaGFyYWN0ZXJzIG11c3QgYmUgZXNjYXBlZC4nKSwgRXJyb3JDb2RlLkludmFsaWRDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX2ZpbmFsaXplKG5vZGUsIHNjYW5OZXh0KSB7XG4gICAgICAgIG5vZGUubGVuZ3RoID0gc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpICsgc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpIC0gbm9kZS5vZmZzZXQ7XG4gICAgICAgIGlmIChzY2FuTmV4dCkge1xuICAgICAgICAgICAgX3NjYW5OZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9wYXJzZUFycmF5KHBhcmVudCkge1xuICAgICAgICBpZiAoc2Nhbm5lci5nZXRUb2tlbigpICE9PSAzIC8qIE9wZW5CcmFja2V0VG9rZW4gKi8pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgQXJyYXlBU1ROb2RlSW1wbChwYXJlbnQsIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSk7XG4gICAgICAgIF9zY2FuTmV4dCgpOyAvLyBjb25zdW1lIE9wZW5CcmFja2V0VG9rZW5cbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgdmFyIG5lZWRzQ29tbWEgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKHNjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gNCAvKiBDbG9zZUJyYWNrZXRUb2tlbiAqLyAmJiBzY2FubmVyLmdldFRva2VuKCkgIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gNSAvKiBDb21tYVRva2VuICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuZWVkc0NvbW1hKSB7XG4gICAgICAgICAgICAgICAgICAgIF9lcnJvcihsb2NhbGl6ZSgnVmFsdWVFeHBlY3RlZCcsICdWYWx1ZSBleHBlY3RlZCcpLCBFcnJvckNvZGUuVmFsdWVFeHBlY3RlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjb21tYU9mZnNldCA9IHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKTtcbiAgICAgICAgICAgICAgICBfc2Nhbk5leHQoKTsgLy8gY29uc3VtZSBjb21tYVxuICAgICAgICAgICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgPT09IDQgLyogQ2xvc2VCcmFja2V0VG9rZW4gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRzQ29tbWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lcnJvckF0UmFuZ2UobG9jYWxpemUoJ1RyYWlsaW5nQ29tbWEnLCAnVHJhaWxpbmcgY29tbWEnKSwgRXJyb3JDb2RlLlRyYWlsaW5nQ29tbWEsIGNvbW1hT2Zmc2V0LCBjb21tYU9mZnNldCArIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5lZWRzQ29tbWEpIHtcbiAgICAgICAgICAgICAgICBfZXJyb3IobG9jYWxpemUoJ0V4cGVjdGVkQ29tbWEnLCAnRXhwZWN0ZWQgY29tbWEnKSwgRXJyb3JDb2RlLkNvbW1hRXhwZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBfcGFyc2VWYWx1ZShub2RlKTtcbiAgICAgICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgICAgIF9lcnJvcihsb2NhbGl6ZSgnUHJvcGVydHlFeHBlY3RlZCcsICdWYWx1ZSBleHBlY3RlZCcpLCBFcnJvckNvZGUuVmFsdWVFeHBlY3RlZCwgdW5kZWZpbmVkLCBbXSwgWzQgLyogQ2xvc2VCcmFja2V0VG9rZW4gKi8sIDUgLyogQ29tbWFUb2tlbiAqL10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmVlZHNDb21tYSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gNCAvKiBDbG9zZUJyYWNrZXRUb2tlbiAqLykge1xuICAgICAgICAgICAgcmV0dXJuIF9lcnJvcihsb2NhbGl6ZSgnRXhwZWN0ZWRDbG9zZUJyYWNrZXQnLCAnRXhwZWN0ZWQgY29tbWEgb3IgY2xvc2luZyBicmFja2V0JyksIEVycm9yQ29kZS5Db21tYU9yQ2xvc2VCYWNrZXRFeHBlY3RlZCwgbm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9maW5hbGl6ZShub2RlLCB0cnVlKTtcbiAgICB9XG4gICAgdmFyIGtleVBsYWNlaG9sZGVyID0gbmV3IFN0cmluZ0FTVE5vZGVJbXBsKHVuZGVmaW5lZCwgMCwgMCk7XG4gICAgZnVuY3Rpb24gX3BhcnNlUHJvcGVydHkocGFyZW50LCBrZXlzU2Vlbikge1xuICAgICAgICB2YXIgbm9kZSA9IG5ldyBQcm9wZXJ0eUFTVE5vZGVJbXBsKHBhcmVudCwgc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpLCBrZXlQbGFjZWhvbGRlcik7XG4gICAgICAgIHZhciBrZXkgPSBfcGFyc2VTdHJpbmcobm9kZSk7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICBpZiAoc2Nhbm5lci5nZXRUb2tlbigpID09PSAxNiAvKiBVbmtub3duICovKSB7XG4gICAgICAgICAgICAgICAgLy8gZ2l2ZSBhIG1vcmUgaGVscGZ1bCBlcnJvciBtZXNzYWdlXG4gICAgICAgICAgICAgICAgX2Vycm9yKGxvY2FsaXplKCdEb3VibGVRdW90ZXNFeHBlY3RlZCcsICdQcm9wZXJ0eSBrZXlzIG11c3QgYmUgZG91YmxlcXVvdGVkJyksIEVycm9yQ29kZS5VbmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIHZhciBrZXlOb2RlID0gbmV3IFN0cmluZ0FTVE5vZGVJbXBsKG5vZGUsIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSwgc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpKTtcbiAgICAgICAgICAgICAgICBrZXlOb2RlLnZhbHVlID0gc2Nhbm5lci5nZXRUb2tlblZhbHVlKCk7XG4gICAgICAgICAgICAgICAga2V5ID0ga2V5Tm9kZTtcbiAgICAgICAgICAgICAgICBfc2Nhbk5leHQoKTsgLy8gY29uc3VtZSBVbmtub3duXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5vZGUua2V5Tm9kZSA9IGtleTtcbiAgICAgICAgdmFyIHNlZW4gPSBrZXlzU2VlbltrZXkudmFsdWVdO1xuICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgICAgX2Vycm9yQXRSYW5nZShsb2NhbGl6ZSgnRHVwbGljYXRlS2V5V2FybmluZycsIFwiRHVwbGljYXRlIG9iamVjdCBrZXlcIiksIEVycm9yQ29kZS5EdXBsaWNhdGVLZXksIG5vZGUua2V5Tm9kZS5vZmZzZXQsIG5vZGUua2V5Tm9kZS5vZmZzZXQgKyBub2RlLmtleU5vZGUubGVuZ3RoLCBEaWFnbm9zdGljU2V2ZXJpdHkuV2FybmluZyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlZW4gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgX2Vycm9yQXRSYW5nZShsb2NhbGl6ZSgnRHVwbGljYXRlS2V5V2FybmluZycsIFwiRHVwbGljYXRlIG9iamVjdCBrZXlcIiksIEVycm9yQ29kZS5EdXBsaWNhdGVLZXksIHNlZW4ua2V5Tm9kZS5vZmZzZXQsIHNlZW4ua2V5Tm9kZS5vZmZzZXQgKyBzZWVuLmtleU5vZGUubGVuZ3RoLCBEaWFnbm9zdGljU2V2ZXJpdHkuV2FybmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZXlzU2VlbltrZXkudmFsdWVdID0gdHJ1ZTsgLy8gaWYgdGhlIHNhbWUga2V5IGlzIGR1cGxpY2F0ZSBhZ2FpbiwgYXZvaWQgZHVwbGljYXRlIGVycm9yIHJlcG9ydGluZ1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAga2V5c1NlZW5ba2V5LnZhbHVlXSA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gNiAvKiBDb2xvblRva2VuICovKSB7XG4gICAgICAgICAgICBub2RlLmNvbG9uT2Zmc2V0ID0gc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpO1xuICAgICAgICAgICAgX3NjYW5OZXh0KCk7IC8vIGNvbnN1bWUgQ29sb25Ub2tlblxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX2Vycm9yKGxvY2FsaXplKCdDb2xvbkV4cGVjdGVkJywgJ0NvbG9uIGV4cGVjdGVkJyksIEVycm9yQ29kZS5Db2xvbkV4cGVjdGVkKTtcbiAgICAgICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgPT09IDEwIC8qIFN0cmluZ0xpdGVyYWwgKi8gJiYgdGV4dERvY3VtZW50LnBvc2l0aW9uQXQoa2V5Lm9mZnNldCArIGtleS5sZW5ndGgpLmxpbmUgPCB0ZXh0RG9jdW1lbnQucG9zaXRpb25BdChzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpLmxpbmUpIHtcbiAgICAgICAgICAgICAgICBub2RlLmxlbmd0aCA9IGtleS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gX3BhcnNlVmFsdWUobm9kZSk7XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBfZXJyb3IobG9jYWxpemUoJ1ZhbHVlRXhwZWN0ZWQnLCAnVmFsdWUgZXhwZWN0ZWQnKSwgRXJyb3JDb2RlLlZhbHVlRXhwZWN0ZWQsIG5vZGUsIFtdLCBbMiAvKiBDbG9zZUJyYWNlVG9rZW4gKi8sIDUgLyogQ29tbWFUb2tlbiAqL10pO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUudmFsdWVOb2RlID0gdmFsdWU7XG4gICAgICAgIG5vZGUubGVuZ3RoID0gdmFsdWUub2Zmc2V0ICsgdmFsdWUubGVuZ3RoIC0gbm9kZS5vZmZzZXQ7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfcGFyc2VPYmplY3QocGFyZW50KSB7XG4gICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgIT09IDEgLyogT3BlbkJyYWNlVG9rZW4gKi8pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgT2JqZWN0QVNUTm9kZUltcGwocGFyZW50LCBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpO1xuICAgICAgICB2YXIga2V5c1NlZW4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBfc2Nhbk5leHQoKTsgLy8gY29uc3VtZSBPcGVuQnJhY2VUb2tlblxuICAgICAgICB2YXIgbmVlZHNDb21tYSA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAoc2Nhbm5lci5nZXRUb2tlbigpICE9PSAyIC8qIENsb3NlQnJhY2VUb2tlbiAqLyAmJiBzY2FubmVyLmdldFRva2VuKCkgIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gNSAvKiBDb21tYVRva2VuICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuZWVkc0NvbW1hKSB7XG4gICAgICAgICAgICAgICAgICAgIF9lcnJvcihsb2NhbGl6ZSgnUHJvcGVydHlFeHBlY3RlZCcsICdQcm9wZXJ0eSBleHBlY3RlZCcpLCBFcnJvckNvZGUuUHJvcGVydHlFeHBlY3RlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjb21tYU9mZnNldCA9IHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKTtcbiAgICAgICAgICAgICAgICBfc2Nhbk5leHQoKTsgLy8gY29uc3VtZSBjb21tYVxuICAgICAgICAgICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgPT09IDIgLyogQ2xvc2VCcmFjZVRva2VuICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZWVkc0NvbW1hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZXJyb3JBdFJhbmdlKGxvY2FsaXplKCdUcmFpbGluZ0NvbW1hJywgJ1RyYWlsaW5nIGNvbW1hJyksIEVycm9yQ29kZS5UcmFpbGluZ0NvbW1hLCBjb21tYU9mZnNldCwgY29tbWFPZmZzZXQgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChuZWVkc0NvbW1hKSB7XG4gICAgICAgICAgICAgICAgX2Vycm9yKGxvY2FsaXplKCdFeHBlY3RlZENvbW1hJywgJ0V4cGVjdGVkIGNvbW1hJyksIEVycm9yQ29kZS5Db21tYUV4cGVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IF9wYXJzZVByb3BlcnR5KG5vZGUsIGtleXNTZWVuKTtcbiAgICAgICAgICAgIGlmICghcHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICBfZXJyb3IobG9jYWxpemUoJ1Byb3BlcnR5RXhwZWN0ZWQnLCAnUHJvcGVydHkgZXhwZWN0ZWQnKSwgRXJyb3JDb2RlLlByb3BlcnR5RXhwZWN0ZWQsIHVuZGVmaW5lZCwgW10sIFsyIC8qIENsb3NlQnJhY2VUb2tlbiAqLywgNSAvKiBDb21tYVRva2VuICovXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlLnByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZWVkc0NvbW1hID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Nhbm5lci5nZXRUb2tlbigpICE9PSAyIC8qIENsb3NlQnJhY2VUb2tlbiAqLykge1xuICAgICAgICAgICAgcmV0dXJuIF9lcnJvcihsb2NhbGl6ZSgnRXhwZWN0ZWRDbG9zZUJyYWNlJywgJ0V4cGVjdGVkIGNvbW1hIG9yIGNsb3NpbmcgYnJhY2UnKSwgRXJyb3JDb2RlLkNvbW1hT3JDbG9zZUJyYWNlRXhwZWN0ZWQsIG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfZmluYWxpemUobm9kZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9wYXJzZVN0cmluZyhwYXJlbnQpIHtcbiAgICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gMTAgLyogU3RyaW5nTGl0ZXJhbCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm9kZSA9IG5ldyBTdHJpbmdBU1ROb2RlSW1wbChwYXJlbnQsIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSk7XG4gICAgICAgIG5vZGUudmFsdWUgPSBzY2FubmVyLmdldFRva2VuVmFsdWUoKTtcbiAgICAgICAgcmV0dXJuIF9maW5hbGl6ZShub2RlLCB0cnVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX3BhcnNlTnVtYmVyKHBhcmVudCkge1xuICAgICAgICBpZiAoc2Nhbm5lci5nZXRUb2tlbigpICE9PSAxMSAvKiBOdW1lcmljTGl0ZXJhbCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm9kZSA9IG5ldyBOdW1iZXJBU1ROb2RlSW1wbChwYXJlbnQsIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSk7XG4gICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuRXJyb3IoKSA9PT0gMCAvKiBOb25lICovKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW5WYWx1ZSA9IHNjYW5uZXIuZ2V0VG9rZW5WYWx1ZSgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgbnVtYmVyVmFsdWUgPSBKU09OLnBhcnNlKHRva2VuVmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmICghaXNOdW1iZXIobnVtYmVyVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfZXJyb3IobG9jYWxpemUoJ0ludmFsaWROdW1iZXJGb3JtYXQnLCAnSW52YWxpZCBudW1iZXIgZm9ybWF0LicpLCBFcnJvckNvZGUuVW5kZWZpbmVkLCBub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZS52YWx1ZSA9IG51bWJlclZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2Vycm9yKGxvY2FsaXplKCdJbnZhbGlkTnVtYmVyRm9ybWF0JywgJ0ludmFsaWQgbnVtYmVyIGZvcm1hdC4nKSwgRXJyb3JDb2RlLlVuZGVmaW5lZCwgbm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLmlzSW50ZWdlciA9IHRva2VuVmFsdWUuaW5kZXhPZignLicpID09PSAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2ZpbmFsaXplKG5vZGUsIHRydWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfcGFyc2VMaXRlcmFsKHBhcmVudCkge1xuICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgc3dpdGNoIChzY2FubmVyLmdldFRva2VuKCkpIHtcbiAgICAgICAgICAgIGNhc2UgNyAvKiBOdWxsS2V5d29yZCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2ZpbmFsaXplKG5ldyBOdWxsQVNUTm9kZUltcGwocGFyZW50LCBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpLCB0cnVlKTtcbiAgICAgICAgICAgIGNhc2UgOCAvKiBUcnVlS2V5d29yZCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2ZpbmFsaXplKG5ldyBCb29sZWFuQVNUTm9kZUltcGwocGFyZW50LCB0cnVlLCBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpLCB0cnVlKTtcbiAgICAgICAgICAgIGNhc2UgOSAvKiBGYWxzZUtleXdvcmQgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9maW5hbGl6ZShuZXcgQm9vbGVhbkFTVE5vZGVJbXBsKHBhcmVudCwgZmFsc2UsIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSksIHRydWUpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9wYXJzZVZhbHVlKHBhcmVudCkge1xuICAgICAgICByZXR1cm4gX3BhcnNlQXJyYXkocGFyZW50KSB8fCBfcGFyc2VPYmplY3QocGFyZW50KSB8fCBfcGFyc2VTdHJpbmcocGFyZW50KSB8fCBfcGFyc2VOdW1iZXIocGFyZW50KSB8fCBfcGFyc2VMaXRlcmFsKHBhcmVudCk7XG4gICAgfVxuICAgIHZhciBfcm9vdCA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdG9rZW4gPSBfc2Nhbk5leHQoKTtcbiAgICBpZiAodG9rZW4gIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICBfcm9vdCA9IF9wYXJzZVZhbHVlKF9yb290KTtcbiAgICAgICAgaWYgKCFfcm9vdCkge1xuICAgICAgICAgICAgX2Vycm9yKGxvY2FsaXplKCdJbnZhbGlkIHN5bWJvbCcsICdFeHBlY3RlZCBhIEpTT04gb2JqZWN0LCBhcnJheSBvciBsaXRlcmFsLicpLCBFcnJvckNvZGUuVW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzY2FubmVyLmdldFRva2VuKCkgIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICAgICAgX2Vycm9yKGxvY2FsaXplKCdFbmQgb2YgZmlsZSBleHBlY3RlZCcsICdFbmQgb2YgZmlsZSBleHBlY3RlZC4nKSwgRXJyb3JDb2RlLlVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBKU09ORG9jdW1lbnQoX3Jvb3QsIHByb2JsZW1zLCBjb21tZW50UmFuZ2VzKTtcbn1cbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4qICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlPYmplY3Qob2JqLCBpbmRlbnQsIHN0cmluZ2lmeUxpdGVyYWwpIHtcbiAgICBpZiAob2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBuZXdJbmRlbnQgPSBpbmRlbnQgKyAnXFx0JztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgaWYgKG9iai5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1tdJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAnW1xcbic7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBuZXdJbmRlbnQgKyBzdHJpbmdpZnlPYmplY3Qob2JqW2ldLCBuZXdJbmRlbnQsIHN0cmluZ2lmeUxpdGVyYWwpO1xuICAgICAgICAgICAgICAgIGlmIChpIDwgb2JqLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcsJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ICs9IGluZGVudCArICddJztcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3t9JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAne1xcbic7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gbmV3SW5kZW50ICsgSlNPTi5zdHJpbmdpZnkoa2V5KSArICc6ICcgKyBzdHJpbmdpZnlPYmplY3Qob2JqW2tleV0sIG5ld0luZGVudCwgc3RyaW5naWZ5TGl0ZXJhbCk7XG4gICAgICAgICAgICAgICAgaWYgKGkgPCBrZXlzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcsJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ICs9IGluZGVudCArICd9JztcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZ2lmeUxpdGVyYWwob2JqKTtcbn1cbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4qICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHNXaXRoKGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgICBpZiAoaGF5c3RhY2subGVuZ3RoIDwgbmVlZGxlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVlZGxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChoYXlzdGFja1tpXSAhPT0gbmVlZGxlW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIERldGVybWluZXMgaWYgaGF5c3RhY2sgZW5kcyB3aXRoIG5lZWRsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZHNXaXRoKGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgICB2YXIgZGlmZiA9IGhheXN0YWNrLmxlbmd0aCAtIG5lZWRsZS5sZW5ndGg7XG4gICAgaWYgKGRpZmYgPiAwKSB7XG4gICAgICAgIHJldHVybiBoYXlzdGFjay5sYXN0SW5kZXhPZihuZWVkbGUpID09PSBkaWZmO1xuICAgIH1cbiAgICBlbHNlIGlmIChkaWZmID09PSAwKSB7XG4gICAgICAgIHJldHVybiBoYXlzdGFjayA9PT0gbmVlZGxlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0U2ltcGxlMlJlZ0V4cFBhdHRlcm4ocGF0dGVybikge1xuICAgIHJldHVybiBwYXR0ZXJuLnJlcGxhY2UoL1tcXC1cXFxcXFx7XFx9XFwrXFw/XFx8XFxeXFwkXFwuXFwsXFxbXFxdXFwoXFwpXFwjXFxzXS9nLCAnXFxcXCQmJykucmVwbGFjZSgvW1xcKl0vZywgJy4qJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVwZWF0KHZhbHVlLCBjb3VudCkge1xuICAgIHZhciBzID0gJyc7XG4gICAgd2hpbGUgKGNvdW50ID4gMCkge1xuICAgICAgICBpZiAoKGNvdW50ICYgMSkgPT09IDEpIHtcbiAgICAgICAgICAgIHMgKz0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgKz0gdmFsdWU7XG4gICAgICAgIGNvdW50ID0gY291bnQgPj4+IDE7XG4gICAgfVxuICAgIHJldHVybiBzO1xufVxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0ICogYXMgUGFyc2VyIGZyb20gJy4uL3BhcnNlci9qc29uUGFyc2VyLmpzJztcbmltcG9ydCAqIGFzIEpzb24gZnJvbSAnLi4vLi4vanNvbmMtcGFyc2VyL21haW4uanMnO1xuaW1wb3J0IHsgc3RyaW5naWZ5T2JqZWN0IH0gZnJvbSAnLi4vdXRpbHMvanNvbi5qcyc7XG5pbXBvcnQgeyBlbmRzV2l0aCB9IGZyb20gJy4uL3V0aWxzL3N0cmluZ3MuanMnO1xuaW1wb3J0IHsgaXNEZWZpbmVkIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0cy5qcyc7XG5pbXBvcnQgeyBDb21wbGV0aW9uSXRlbSwgQ29tcGxldGlvbkl0ZW1LaW5kLCBSYW5nZSwgVGV4dEVkaXQsIEluc2VydFRleHRGb3JtYXQsIE1hcmt1cEtpbmQgfSBmcm9tICcuLi9qc29uTGFuZ3VhZ2VUeXBlcy5qcyc7XG5pbXBvcnQgKiBhcyBubHMgZnJvbSAnLi4vLi4vLi4vZmlsbGVycy92c2NvZGUtbmxzLmpzJztcbnZhciBsb2NhbGl6ZSA9IG5scy5sb2FkTWVzc2FnZUJ1bmRsZSgpO1xudmFyIHZhbHVlQ29tbWl0Q2hhcmFjdGVycyA9IFsnLCcsICd9JywgJ10nXTtcbnZhciBwcm9wZXJ0eUNvbW1pdENoYXJhY3RlcnMgPSBbJzonXTtcbnZhciBKU09OQ29tcGxldGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBKU09OQ29tcGxldGlvbihzY2hlbWFTZXJ2aWNlLCBjb250cmlidXRpb25zLCBwcm9taXNlQ29uc3RydWN0b3IsIGNsaWVudENhcGFiaWxpdGllcykge1xuICAgICAgICBpZiAoY29udHJpYnV0aW9ucyA9PT0gdm9pZCAwKSB7IGNvbnRyaWJ1dGlvbnMgPSBbXTsgfVxuICAgICAgICBpZiAocHJvbWlzZUNvbnN0cnVjdG9yID09PSB2b2lkIDApIHsgcHJvbWlzZUNvbnN0cnVjdG9yID0gUHJvbWlzZTsgfVxuICAgICAgICBpZiAoY2xpZW50Q2FwYWJpbGl0aWVzID09PSB2b2lkIDApIHsgY2xpZW50Q2FwYWJpbGl0aWVzID0ge307IH1cbiAgICAgICAgdGhpcy5zY2hlbWFTZXJ2aWNlID0gc2NoZW1hU2VydmljZTtcbiAgICAgICAgdGhpcy5jb250cmlidXRpb25zID0gY29udHJpYnV0aW9ucztcbiAgICAgICAgdGhpcy5wcm9taXNlQ29uc3RydWN0b3IgPSBwcm9taXNlQ29uc3RydWN0b3I7XG4gICAgICAgIHRoaXMuY2xpZW50Q2FwYWJpbGl0aWVzID0gY2xpZW50Q2FwYWJpbGl0aWVzO1xuICAgIH1cbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZG9SZXNvbHZlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuY29udHJpYnV0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIHJlc29sdmVDb21wbGV0aW9uID0gdGhpcy5jb250cmlidXRpb25zW2ldLnJlc29sdmVDb21wbGV0aW9uO1xuICAgICAgICAgICAgaWYgKHJlc29sdmVDb21wbGV0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc29sdmVyID0gcmVzb2x2ZUNvbXBsZXRpb24oaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZUNvbnN0cnVjdG9yLnJlc29sdmUoaXRlbSk7XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZG9Db21wbGV0ZSA9IGZ1bmN0aW9uIChkb2N1bWVudCwgcG9zaXRpb24sIGRvYykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICAgICAgaXNJbmNvbXBsZXRlOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB2YXIgdGV4dCA9IGRvY3VtZW50LmdldFRleHQoKTtcbiAgICAgICAgdmFyIG9mZnNldCA9IGRvY3VtZW50Lm9mZnNldEF0KHBvc2l0aW9uKTtcbiAgICAgICAgdmFyIG5vZGUgPSBkb2MuZ2V0Tm9kZUZyb21PZmZzZXQob2Zmc2V0LCB0cnVlKTtcbiAgICAgICAgaWYgKHRoaXMuaXNJbkNvbW1lbnQoZG9jdW1lbnQsIG5vZGUgPyBub2RlLm9mZnNldCA6IDAsIG9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSAmJiAob2Zmc2V0ID09PSBub2RlLm9mZnNldCArIG5vZGUubGVuZ3RoKSAmJiBvZmZzZXQgPiAwKSB7XG4gICAgICAgICAgICB2YXIgY2ggPSB0ZXh0W29mZnNldCAtIDFdO1xuICAgICAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ29iamVjdCcgJiYgY2ggPT09ICd9JyB8fCBub2RlLnR5cGUgPT09ICdhcnJheScgJiYgY2ggPT09ICddJykge1xuICAgICAgICAgICAgICAgIC8vIGFmdGVyIF0gb3IgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFdvcmQgPSB0aGlzLmdldEN1cnJlbnRXb3JkKGRvY3VtZW50LCBvZmZzZXQpO1xuICAgICAgICB2YXIgb3ZlcndyaXRlUmFuZ2U7XG4gICAgICAgIGlmIChub2RlICYmIChub2RlLnR5cGUgPT09ICdzdHJpbmcnIHx8IG5vZGUudHlwZSA9PT0gJ251bWJlcicgfHwgbm9kZS50eXBlID09PSAnYm9vbGVhbicgfHwgbm9kZS50eXBlID09PSAnbnVsbCcpKSB7XG4gICAgICAgICAgICBvdmVyd3JpdGVSYW5nZSA9IFJhbmdlLmNyZWF0ZShkb2N1bWVudC5wb3NpdGlvbkF0KG5vZGUub2Zmc2V0KSwgZG9jdW1lbnQucG9zaXRpb25BdChub2RlLm9mZnNldCArIG5vZGUubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgb3ZlcndyaXRlU3RhcnQgPSBvZmZzZXQgLSBjdXJyZW50V29yZC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAob3ZlcndyaXRlU3RhcnQgPiAwICYmIHRleHRbb3ZlcndyaXRlU3RhcnQgLSAxXSA9PT0gJ1wiJykge1xuICAgICAgICAgICAgICAgIG92ZXJ3cml0ZVN0YXJ0LS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdmVyd3JpdGVSYW5nZSA9IFJhbmdlLmNyZWF0ZShkb2N1bWVudC5wb3NpdGlvbkF0KG92ZXJ3cml0ZVN0YXJ0KSwgcG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdXBwb3J0c0NvbW1pdENoYXJhY3RlcnMgPSBmYWxzZTsgLy90aGlzLmRvZXNTdXBwb3J0c0NvbW1pdENoYXJhY3RlcnMoKTsgZGlzYWJsZWQgZm9yIG5vdywgd2FpdGluZyBmb3IgbmV3IEFQSTogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC92c2NvZGUvaXNzdWVzLzQyNTQ0XG4gICAgICAgIHZhciBwcm9wb3NlZCA9IHt9O1xuICAgICAgICB2YXIgY29sbGVjdG9yID0ge1xuICAgICAgICAgICAgYWRkOiBmdW5jdGlvbiAoc3VnZ2VzdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IHN1Z2dlc3Rpb24ubGFiZWw7XG4gICAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nID0gcHJvcG9zZWRbbGFiZWxdO1xuICAgICAgICAgICAgICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBsYWJlbC5yZXBsYWNlKC9bXFxuXS9nLCAnXHUyMUI1Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbC5sZW5ndGggPiA2MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNob3J0ZW5kZWRMYWJlbCA9IGxhYmVsLnN1YnN0cigwLCA1NykudHJpbSgpICsgJy4uLic7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3Bvc2VkW3Nob3J0ZW5kZWRMYWJlbF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IHNob3J0ZW5kZWRMYWJlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcndyaXRlUmFuZ2UgJiYgc3VnZ2VzdGlvbi5pbnNlcnRUZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb24udGV4dEVkaXQgPSBUZXh0RWRpdC5yZXBsYWNlKG92ZXJ3cml0ZVJhbmdlLCBzdWdnZXN0aW9uLmluc2VydFRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdXBwb3J0c0NvbW1pdENoYXJhY3RlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb24uY29tbWl0Q2hhcmFjdGVycyA9IHN1Z2dlc3Rpb24ua2luZCA9PT0gQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5ID8gcHJvcGVydHlDb21taXRDaGFyYWN0ZXJzIDogdmFsdWVDb21taXRDaGFyYWN0ZXJzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb24ubGFiZWwgPSBsYWJlbDtcbiAgICAgICAgICAgICAgICAgICAgcHJvcG9zZWRbbGFiZWxdID0gc3VnZ2VzdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lml0ZW1zLnB1c2goc3VnZ2VzdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nLmRvY3VtZW50YXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmRvY3VtZW50YXRpb24gPSBzdWdnZXN0aW9uLmRvY3VtZW50YXRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZy5kZXRhaWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmRldGFpbCA9IHN1Z2dlc3Rpb24uZGV0YWlsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldEFzSW5jb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5pc0luY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbG9nOiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE51bWJlck9mUHJvcG9zYWxzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5pdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLnNjaGVtYVNlcnZpY2UuZ2V0U2NoZW1hRm9yUmVzb3VyY2UoZG9jdW1lbnQudXJpLCBkb2MpLnRoZW4oZnVuY3Rpb24gKHNjaGVtYSkge1xuICAgICAgICAgICAgdmFyIGNvbGxlY3Rpb25Qcm9taXNlcyA9IFtdO1xuICAgICAgICAgICAgdmFyIGFkZFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50S2V5ID0gJyc7XG4gICAgICAgICAgICB2YXIgY3VycmVudFByb3BlcnR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50LnR5cGUgPT09ICdwcm9wZXJ0eScgJiYgcGFyZW50LmtleU5vZGUgPT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZhbHVlID0gIXBhcmVudC52YWx1ZU5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJvcGVydHkgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50S2V5ID0gdGV4dC5zdWJzdHIobm9kZS5vZmZzZXQgKyAxLCBub2RlLmxlbmd0aCAtIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcHJvcG9zYWxzIGZvciBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBpZiAobm9kZSAmJiBub2RlLnR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3Qgc3VnZ2VzdCBrZXlzIHdoZW4gdGhlIGN1cnNvciBpcyBqdXN0IGJlZm9yZSB0aGUgb3BlbmluZyBjdXJseSBicmFjZVxuICAgICAgICAgICAgICAgIGlmIChub2RlLm9mZnNldCA9PT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRvbid0IHN1Z2dlc3QgcHJvcGVydGllcyB0aGF0IGFyZSBhbHJlYWR5IHByZXNlbnRcbiAgICAgICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IG5vZGUucHJvcGVydGllcztcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50UHJvcGVydHkgfHwgY3VycmVudFByb3BlcnR5ICE9PSBwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NlZFtwLmtleU5vZGUudmFsdWVdID0gQ29tcGxldGlvbkl0ZW0uY3JlYXRlKCdfXycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHNlcGFyYXRvckFmdGVyXzEgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoYWRkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VwYXJhdG9yQWZ0ZXJfMSA9IF90aGlzLmV2YWx1YXRlU2VwYXJhdG9yQWZ0ZXIoZG9jdW1lbnQsIGRvY3VtZW50Lm9mZnNldEF0KG92ZXJ3cml0ZVJhbmdlLmVuZCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHByb3BlcnR5IHByb3Bvc2FscyB3aXRoIHNjaGVtYVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5nZXRQcm9wZXJ0eUNvbXBsZXRpb25zKHNjaGVtYSwgZG9jLCBub2RlLCBhZGRWYWx1ZSwgc2VwYXJhdG9yQWZ0ZXJfMSwgY29sbGVjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHByb3BlcnR5IHByb3Bvc2FscyB3aXRob3V0IHNjaGVtYVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5nZXRTY2hlbWFMZXNzUHJvcGVydHlDb21wbGV0aW9ucyhkb2MsIG5vZGUsIGN1cnJlbnRLZXksIGNvbGxlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbl8xID0gUGFyc2VyLmdldE5vZGVQYXRoKG5vZGUpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbnRyaWJ1dGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoY29udHJpYnV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2xsZWN0UHJvbWlzZSA9IGNvbnRyaWJ1dGlvbi5jb2xsZWN0UHJvcGVydHlDb21wbGV0aW9ucyhkb2N1bWVudC51cmksIGxvY2F0aW9uXzEsIGN1cnJlbnRXb3JkLCBhZGRWYWx1ZSwgc2VwYXJhdG9yQWZ0ZXJfMSA9PT0gJycsIGNvbGxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2xsZWN0UHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvblByb21pc2VzLnB1c2goY29sbGVjdFByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCghc2NoZW1hICYmIGN1cnJlbnRXb3JkLmxlbmd0aCA+IDAgJiYgdGV4dC5jaGFyQXQob2Zmc2V0IC0gY3VycmVudFdvcmQubGVuZ3RoIC0gMSkgIT09ICdcIicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IF90aGlzLmdldExhYmVsRm9yVmFsdWUoY3VycmVudFdvcmQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VGV4dDogX3RoaXMuZ2V0SW5zZXJ0VGV4dEZvclByb3BlcnR5KGN1cnJlbnRXb3JkLCB1bmRlZmluZWQsIGZhbHNlLCBzZXBhcmF0b3JBZnRlcl8xKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCwgZG9jdW1lbnRhdGlvbjogJycsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0b3Iuc2V0QXNJbmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcHJvcG9zYWxzIGZvciB2YWx1ZXNcbiAgICAgICAgICAgIHZhciB0eXBlcyA9IHt9O1xuICAgICAgICAgICAgaWYgKHNjaGVtYSkge1xuICAgICAgICAgICAgICAgIC8vIHZhbHVlIHByb3Bvc2FscyB3aXRoIHNjaGVtYVxuICAgICAgICAgICAgICAgIF90aGlzLmdldFZhbHVlQ29tcGxldGlvbnMoc2NoZW1hLCBkb2MsIG5vZGUsIG9mZnNldCwgZG9jdW1lbnQsIGNvbGxlY3RvciwgdHlwZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdmFsdWUgcHJvcG9zYWxzIHdpdGhvdXQgc2NoZW1hXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0U2NoZW1hTGVzc1ZhbHVlQ29tcGxldGlvbnMoZG9jLCBub2RlLCBvZmZzZXQsIGRvY3VtZW50LCBjb2xsZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLmNvbnRyaWJ1dGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmdldENvbnRyaWJ1dGVkVmFsdWVDb21wbGV0aW9ucyhkb2MsIG5vZGUsIG9mZnNldCwgZG9jdW1lbnQsIGNvbGxlY3RvciwgY29sbGVjdGlvblByb21pc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5wcm9taXNlQ29uc3RydWN0b3IuYWxsKGNvbGxlY3Rpb25Qcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbGxlY3Rvci5nZXROdW1iZXJPZlByb3Bvc2FscygpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXRGb3JTZXBhcmF0b3IgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlICYmIChub2RlLnR5cGUgPT09ICdzdHJpbmcnIHx8IG5vZGUudHlwZSA9PT0gJ251bWJlcicgfHwgbm9kZS50eXBlID09PSAnYm9vbGVhbicgfHwgbm9kZS50eXBlID09PSAnbnVsbCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRGb3JTZXBhcmF0b3IgPSBub2RlLm9mZnNldCArIG5vZGUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXBhcmF0b3JBZnRlciA9IF90aGlzLmV2YWx1YXRlU2VwYXJhdG9yQWZ0ZXIoZG9jdW1lbnQsIG9mZnNldEZvclNlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZEZpbGxlclZhbHVlQ29tcGxldGlvbnModHlwZXMsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmdldFByb3BlcnR5Q29tcGxldGlvbnMgPSBmdW5jdGlvbiAoc2NoZW1hLCBkb2MsIG5vZGUsIGFkZFZhbHVlLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXRjaGluZ1NjaGVtYXMgPSBkb2MuZ2V0TWF0Y2hpbmdTY2hlbWFzKHNjaGVtYS5zY2hlbWEsIG5vZGUub2Zmc2V0KTtcbiAgICAgICAgbWF0Y2hpbmdTY2hlbWFzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIGlmIChzLm5vZGUgPT09IG5vZGUgJiYgIXMuaW52ZXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NoZW1hUHJvcGVydGllc18xID0gcy5zY2hlbWEucHJvcGVydGllcztcbiAgICAgICAgICAgICAgICBpZiAoc2NoZW1hUHJvcGVydGllc18xKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHNjaGVtYVByb3BlcnRpZXNfMSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlTY2hlbWEgPSBzY2hlbWFQcm9wZXJ0aWVzXzFba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHlTY2hlbWEgPT09ICdvYmplY3QnICYmICFwcm9wZXJ0eVNjaGVtYS5kZXByZWNhdGlvbk1lc3NhZ2UgJiYgIXByb3BlcnR5U2NoZW1hLmRvTm90U3VnZ2VzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wb3NhbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDoga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiBfdGhpcy5nZXRJbnNlcnRUZXh0Rm9yUHJvcGVydHkoa2V5LCBwcm9wZXJ0eVNjaGVtYSwgYWRkVmFsdWUsIHNlcGFyYXRvckFmdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJUZXh0OiBfdGhpcy5nZXRGaWx0ZXJUZXh0Rm9yVmFsdWUoa2V5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRhdGlvbjogX3RoaXMuZnJvbU1hcmt1cChwcm9wZXJ0eVNjaGVtYS5tYXJrZG93bkRlc2NyaXB0aW9uKSB8fCBwcm9wZXJ0eVNjaGVtYS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eVNjaGVtYS5zdWdnZXN0U29ydFRleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NhbC5zb3J0VGV4dCA9IHByb3BlcnR5U2NoZW1hLnN1Z2dlc3RTb3J0VGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3Bvc2FsLmluc2VydFRleHQgJiYgZW5kc1dpdGgocHJvcG9zYWwuaW5zZXJ0VGV4dCwgXCIkMVwiICsgc2VwYXJhdG9yQWZ0ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2FsLmNvbW1hbmQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Z2dlc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogJ2VkaXRvci5hY3Rpb24udHJpZ2dlclN1Z2dlc3QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQocHJvcG9zYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHNjaGVtYVByb3BlcnR5TmFtZXNfMSA9IHMuc2NoZW1hLnByb3BlcnR5TmFtZXM7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWFQcm9wZXJ0eU5hbWVzXzEgPT09ICdvYmplY3QnICYmICFzY2hlbWFQcm9wZXJ0eU5hbWVzXzEuZGVwcmVjYXRpb25NZXNzYWdlICYmICFzY2hlbWFQcm9wZXJ0eU5hbWVzXzEuZG9Ob3RTdWdnZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWVDb21wbGV0aW9uSXRlbSA9IGZ1bmN0aW9uIChuYW1lLCBlbnVtRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnVtRGVzY3JpcHRpb24gPT09IHZvaWQgMCkgeyBlbnVtRGVzY3JpcHRpb24gPSB1bmRlZmluZWQ7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wb3NhbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDb21wbGV0aW9uSXRlbUtpbmQuUHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VGV4dDogX3RoaXMuZ2V0SW5zZXJ0VGV4dEZvclByb3BlcnR5KG5hbWUsIHVuZGVmaW5lZCwgYWRkVmFsdWUsIHNlcGFyYXRvckFmdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyVGV4dDogX3RoaXMuZ2V0RmlsdGVyVGV4dEZvclZhbHVlKG5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50YXRpb246IGVudW1EZXNjcmlwdGlvbiB8fCBfdGhpcy5mcm9tTWFya3VwKHNjaGVtYVByb3BlcnR5TmFtZXNfMS5tYXJrZG93bkRlc2NyaXB0aW9uKSB8fCBzY2hlbWFQcm9wZXJ0eU5hbWVzXzEuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjaGVtYVByb3BlcnR5TmFtZXNfMS5zdWdnZXN0U29ydFRleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2FsLnNvcnRUZXh0ID0gc2NoZW1hUHJvcGVydHlOYW1lc18xLnN1Z2dlc3RTb3J0VGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wb3NhbC5pbnNlcnRUZXh0ICYmIGVuZHNXaXRoKHByb3Bvc2FsLmluc2VydFRleHQsIFwiJDFcIiArIHNlcGFyYXRvckFmdGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2FsLmNvbW1hbmQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VnZ2VzdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdlZGl0b3IuYWN0aW9uLnRyaWdnZXJTdWdnZXN0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0b3IuYWRkKHByb3Bvc2FsKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjaGVtYVByb3BlcnR5TmFtZXNfMS5lbnVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYVByb3BlcnR5TmFtZXNfMS5lbnVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudW1EZXNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NoZW1hUHJvcGVydHlOYW1lc18xLm1hcmtkb3duRW51bURlc2NyaXB0aW9ucyAmJiBpIDwgc2NoZW1hUHJvcGVydHlOYW1lc18xLm1hcmtkb3duRW51bURlc2NyaXB0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bURlc2NyaXB0aW9uID0gX3RoaXMuZnJvbU1hcmt1cChzY2hlbWFQcm9wZXJ0eU5hbWVzXzEubWFya2Rvd25FbnVtRGVzY3JpcHRpb25zW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2NoZW1hUHJvcGVydHlOYW1lc18xLmVudW1EZXNjcmlwdGlvbnMgJiYgaSA8IHNjaGVtYVByb3BlcnR5TmFtZXNfMS5lbnVtRGVzY3JpcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtRGVzY3JpcHRpb24gPSBzY2hlbWFQcm9wZXJ0eU5hbWVzXzEuZW51bURlc2NyaXB0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lQ29tcGxldGlvbkl0ZW0oc2NoZW1hUHJvcGVydHlOYW1lc18xLmVudW1baV0sIGVudW1EZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjaGVtYVByb3BlcnR5TmFtZXNfMS5jb25zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lQ29tcGxldGlvbkl0ZW0oc2NoZW1hUHJvcGVydHlOYW1lc18xLmNvbnN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZ2V0U2NoZW1hTGVzc1Byb3BlcnR5Q29tcGxldGlvbnMgPSBmdW5jdGlvbiAoZG9jLCBub2RlLCBjdXJyZW50S2V5LCBjb2xsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbGxlY3RDb21wbGV0aW9uc0ZvclNpbWlsYXJPYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICBvYmoucHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHAua2V5Tm9kZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDoga2V5LFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiBfdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUoa2V5LCAnJyksXG4gICAgICAgICAgICAgICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyVGV4dDogX3RoaXMuZ2V0RmlsdGVyVGV4dEZvclZhbHVlKGtleSksXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG5vZGUucGFyZW50KSB7XG4gICAgICAgICAgICBpZiAobm9kZS5wYXJlbnQudHlwZSA9PT0gJ3Byb3BlcnR5Jykge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaXMgYSBwcm9wZXJ0eSB2YWx1ZSwgY2hlY2sgdGhlIHRyZWUgZm9yIG90aGVyIG9iamVjdHMgdGhhdCBoYW5nIHVuZGVyIGEgcHJvcGVydHkgb2YgdGhlIHNhbWUgbmFtZVxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRLZXlfMSA9IG5vZGUucGFyZW50LmtleU5vZGUudmFsdWU7XG4gICAgICAgICAgICAgICAgZG9jLnZpc2l0KGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuLnR5cGUgPT09ICdwcm9wZXJ0eScgJiYgbiAhPT0gbm9kZS5wYXJlbnQgJiYgbi5rZXlOb2RlLnZhbHVlID09PSBwYXJlbnRLZXlfMSAmJiBuLnZhbHVlTm9kZSAmJiBuLnZhbHVlTm9kZS50eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdENvbXBsZXRpb25zRm9yU2ltaWxhck9iamVjdChuLnZhbHVlTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLnBhcmVudC50eXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIG9iamVjdCBpcyBpbiBhbiBhcnJheSwgdXNlIGFsbCBvdGhlciBhcnJheSBlbGVtZW50cyBhcyBzaW1pbGFyIG9iamVjdHNcbiAgICAgICAgICAgICAgICBub2RlLnBhcmVudC5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuLnR5cGUgPT09ICdvYmplY3QnICYmIG4gIT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RDb21wbGV0aW9uc0ZvclNpbWlsYXJPYmplY3Qobik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLnR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAgICAgICAgICBraW5kOiBDb21wbGV0aW9uSXRlbUtpbmQuUHJvcGVydHksXG4gICAgICAgICAgICAgICAgbGFiZWw6ICckc2NoZW1hJyxcbiAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiB0aGlzLmdldEluc2VydFRleHRGb3JQcm9wZXJ0eSgnJHNjaGVtYScsIHVuZGVmaW5lZCwgdHJ1ZSwgJycpLFxuICAgICAgICAgICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCwgZG9jdW1lbnRhdGlvbjogJycsXG4gICAgICAgICAgICAgICAgZmlsdGVyVGV4dDogdGhpcy5nZXRGaWx0ZXJUZXh0Rm9yVmFsdWUoXCIkc2NoZW1hXCIpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmdldFNjaGVtYUxlc3NWYWx1ZUNvbXBsZXRpb25zID0gZnVuY3Rpb24gKGRvYywgbm9kZSwgb2Zmc2V0LCBkb2N1bWVudCwgY29sbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvZmZzZXRGb3JTZXBhcmF0b3IgPSBvZmZzZXQ7XG4gICAgICAgIGlmIChub2RlICYmIChub2RlLnR5cGUgPT09ICdzdHJpbmcnIHx8IG5vZGUudHlwZSA9PT0gJ251bWJlcicgfHwgbm9kZS50eXBlID09PSAnYm9vbGVhbicgfHwgbm9kZS50eXBlID09PSAnbnVsbCcpKSB7XG4gICAgICAgICAgICBvZmZzZXRGb3JTZXBhcmF0b3IgPSBub2RlLm9mZnNldCArIG5vZGUubGVuZ3RoO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgY29sbGVjdG9yLmFkZCh7XG4gICAgICAgICAgICAgICAga2luZDogdGhpcy5nZXRTdWdnZXN0aW9uS2luZCgnb2JqZWN0JyksXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdFbXB0eSBvYmplY3QnLFxuICAgICAgICAgICAgICAgIGluc2VydFRleHQ6IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHt9LCAnJyksXG4gICAgICAgICAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgICAgICAgICAgIGRvY3VtZW50YXRpb246ICcnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAgICAgIGtpbmQ6IHRoaXMuZ2V0U3VnZ2VzdGlvbktpbmQoJ2FycmF5JyksXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdFbXB0eSBhcnJheScsXG4gICAgICAgICAgICAgICAgaW5zZXJ0VGV4dDogdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUoW10sICcnKSxcbiAgICAgICAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRhdGlvbjogJydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZXBhcmF0b3JBZnRlciA9IHRoaXMuZXZhbHVhdGVTZXBhcmF0b3JBZnRlcihkb2N1bWVudCwgb2Zmc2V0Rm9yU2VwYXJhdG9yKTtcbiAgICAgICAgdmFyIGNvbGxlY3RTdWdnZXN0aW9uc0ZvclZhbHVlcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlLnBhcmVudCAmJiAhUGFyc2VyLmNvbnRhaW5zKHZhbHVlLnBhcmVudCwgb2Zmc2V0LCB0cnVlKSkge1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBfdGhpcy5nZXRTdWdnZXN0aW9uS2luZCh2YWx1ZS50eXBlKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IF90aGlzLmdldExhYmVsVGV4dEZvck1hdGNoaW5nTm9kZSh2YWx1ZSwgZG9jdW1lbnQpLFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiBfdGhpcy5nZXRJbnNlcnRUZXh0Rm9yTWF0Y2hpbmdOb2RlKHZhbHVlLCBkb2N1bWVudCwgc2VwYXJhdG9yQWZ0ZXIpLFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsIGRvY3VtZW50YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUudHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkQm9vbGVhblZhbHVlQ29tcGxldGlvbighdmFsdWUudmFsdWUsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAobm9kZS50eXBlID09PSAncHJvcGVydHknKSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID4gKG5vZGUuY29sb25PZmZzZXQgfHwgMCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVOb2RlID0gbm9kZS52YWx1ZU5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlTm9kZSAmJiAob2Zmc2V0ID4gKHZhbHVlTm9kZS5vZmZzZXQgKyB2YWx1ZU5vZGUubGVuZ3RoKSB8fCB2YWx1ZU5vZGUudHlwZSA9PT0gJ29iamVjdCcgfHwgdmFsdWVOb2RlLnR5cGUgPT09ICdhcnJheScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc3VnZ2VzdCB2YWx1ZXMgYXQgdGhlIHNhbWUga2V5XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudEtleV8yID0gbm9kZS5rZXlOb2RlLnZhbHVlO1xuICAgICAgICAgICAgICAgIGRvYy52aXNpdChmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobi50eXBlID09PSAncHJvcGVydHknICYmIG4ua2V5Tm9kZS52YWx1ZSA9PT0gcGFyZW50S2V5XzIgJiYgbi52YWx1ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RTdWdnZXN0aW9uc0ZvclZhbHVlcyhuLnZhbHVlTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEtleV8yID09PSAnJHNjaGVtYScgJiYgbm9kZS5wYXJlbnQgJiYgIW5vZGUucGFyZW50LnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZERvbGxhclNjaGVtYUNvbXBsZXRpb25zKHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS50eXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5wYXJlbnQgJiYgbm9kZS5wYXJlbnQudHlwZSA9PT0gJ3Byb3BlcnR5Jykge1xuICAgICAgICAgICAgICAgIC8vIHN1Z2dlc3QgaXRlbXMgb2YgYW4gYXJyYXkgYXQgdGhlIHNhbWUga2V5XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudEtleV8zID0gbm9kZS5wYXJlbnQua2V5Tm9kZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBkb2MudmlzaXQoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4udHlwZSA9PT0gJ3Byb3BlcnR5JyAmJiBuLmtleU5vZGUudmFsdWUgPT09IHBhcmVudEtleV8zICYmIG4udmFsdWVOb2RlICYmIG4udmFsdWVOb2RlLnR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG4udmFsdWVOb2RlLml0ZW1zLmZvckVhY2goY29sbGVjdFN1Z2dlc3Rpb25zRm9yVmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHN1Z2dlc3QgaXRlbXMgaW4gdGhlIHNhbWUgYXJyYXlcbiAgICAgICAgICAgICAgICBub2RlLml0ZW1zLmZvckVhY2goY29sbGVjdFN1Z2dlc3Rpb25zRm9yVmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmdldFZhbHVlQ29tcGxldGlvbnMgPSBmdW5jdGlvbiAoc2NoZW1hLCBkb2MsIG5vZGUsIG9mZnNldCwgZG9jdW1lbnQsIGNvbGxlY3RvciwgdHlwZXMpIHtcbiAgICAgICAgdmFyIG9mZnNldEZvclNlcGFyYXRvciA9IG9mZnNldDtcbiAgICAgICAgdmFyIHBhcmVudEtleSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHZhbHVlTm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKG5vZGUgJiYgKG5vZGUudHlwZSA9PT0gJ3N0cmluZycgfHwgbm9kZS50eXBlID09PSAnbnVtYmVyJyB8fCBub2RlLnR5cGUgPT09ICdib29sZWFuJyB8fCBub2RlLnR5cGUgPT09ICdudWxsJykpIHtcbiAgICAgICAgICAgIG9mZnNldEZvclNlcGFyYXRvciA9IG5vZGUub2Zmc2V0ICsgbm9kZS5sZW5ndGg7XG4gICAgICAgICAgICB2YWx1ZU5vZGUgPSBub2RlO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgdGhpcy5hZGRTY2hlbWFWYWx1ZUNvbXBsZXRpb25zKHNjaGVtYS5zY2hlbWEsICcnLCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKG5vZGUudHlwZSA9PT0gJ3Byb3BlcnR5JykgJiYgb2Zmc2V0ID4gKG5vZGUuY29sb25PZmZzZXQgfHwgMCkpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZU5vZGVfMSA9IG5vZGUudmFsdWVOb2RlO1xuICAgICAgICAgICAgaWYgKHZhbHVlTm9kZV8xICYmIG9mZnNldCA+ICh2YWx1ZU5vZGVfMS5vZmZzZXQgKyB2YWx1ZU5vZGVfMS5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyB3ZSBhcmUgcGFzdCB0aGUgdmFsdWUgbm9kZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50S2V5ID0gbm9kZS5rZXlOb2RlLnZhbHVlO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlICYmIChwYXJlbnRLZXkgIT09IHVuZGVmaW5lZCB8fCBub2RlLnR5cGUgPT09ICdhcnJheScpKSB7XG4gICAgICAgICAgICB2YXIgc2VwYXJhdG9yQWZ0ZXIgPSB0aGlzLmV2YWx1YXRlU2VwYXJhdG9yQWZ0ZXIoZG9jdW1lbnQsIG9mZnNldEZvclNlcGFyYXRvcik7XG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmdTY2hlbWFzID0gZG9jLmdldE1hdGNoaW5nU2NoZW1hcyhzY2hlbWEuc2NoZW1hLCBub2RlLm9mZnNldCwgdmFsdWVOb2RlKTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbWF0Y2hpbmdTY2hlbWFzXzEgPSBtYXRjaGluZ1NjaGVtYXM7IF9pIDwgbWF0Y2hpbmdTY2hlbWFzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHMgPSBtYXRjaGluZ1NjaGVtYXNfMVtfaV07XG4gICAgICAgICAgICAgICAgaWYgKHMubm9kZSA9PT0gbm9kZSAmJiAhcy5pbnZlcnRlZCAmJiBzLnNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS50eXBlID09PSAnYXJyYXknICYmIHMuc2NoZW1hLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzLnNjaGVtYS5pdGVtcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmZpbmRJdGVtQXRPZmZzZXQobm9kZSwgZG9jdW1lbnQsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgcy5zY2hlbWEuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkU2NoZW1hVmFsdWVDb21wbGV0aW9ucyhzLnNjaGVtYS5pdGVtc1tpbmRleF0sIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnMocy5zY2hlbWEuaXRlbXMsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50S2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eU1hdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5U2NoZW1hID0gcy5zY2hlbWEucHJvcGVydGllc1twYXJlbnRLZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eVNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eU1hdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnMocHJvcGVydHlTY2hlbWEsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5zY2hlbWEucGF0dGVyblByb3BlcnRpZXMgJiYgIXByb3BlcnR5TWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgX2IgPSBPYmplY3Qua2V5cyhzLnNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyk7IF9hIDwgX2IubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gX2JbX2FdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVnZXgudGVzdChwYXJlbnRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eU1hdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5U2NoZW1hID0gcy5zY2hlbWEucGF0dGVyblByb3BlcnRpZXNbcGF0dGVybl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnMocHJvcGVydHlTY2hlbWEsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyAmJiAhcHJvcGVydHlNYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5U2NoZW1hID0gcy5zY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRTY2hlbWFWYWx1ZUNvbXBsZXRpb25zKHByb3BlcnR5U2NoZW1hLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yLCB0eXBlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyZW50S2V5ID09PSAnJHNjaGVtYScgJiYgIW5vZGUucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGREb2xsYXJTY2hlbWFDb21wbGV0aW9ucyhzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlc1snYm9vbGVhbiddKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCb29sZWFuVmFsdWVDb21wbGV0aW9uKHRydWUsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQm9vbGVhblZhbHVlQ29tcGxldGlvbihmYWxzZSwgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZXNbJ251bGwnXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkTnVsbFZhbHVlQ29tcGxldGlvbihzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmdldENvbnRyaWJ1dGVkVmFsdWVDb21wbGV0aW9ucyA9IGZ1bmN0aW9uIChkb2MsIG5vZGUsIG9mZnNldCwgZG9jdW1lbnQsIGNvbGxlY3RvciwgY29sbGVjdGlvblByb21pc2VzKSB7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgdGhpcy5jb250cmlidXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGNvbnRyaWJ1dGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBjb2xsZWN0UHJvbWlzZSA9IGNvbnRyaWJ1dGlvbi5jb2xsZWN0RGVmYXVsdENvbXBsZXRpb25zKGRvY3VtZW50LnVyaSwgY29sbGVjdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoY29sbGVjdFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvblByb21pc2VzLnB1c2goY29sbGVjdFByb21pc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ3N0cmluZycgfHwgbm9kZS50eXBlID09PSAnbnVtYmVyJyB8fCBub2RlLnR5cGUgPT09ICdib29sZWFuJyB8fCBub2RlLnR5cGUgPT09ICdudWxsJykge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlICYmIChub2RlLnR5cGUgPT09ICdwcm9wZXJ0eScpICYmIG9mZnNldCA+IChub2RlLmNvbG9uT2Zmc2V0IHx8IDApKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudEtleV80ID0gbm9kZS5rZXlOb2RlLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZU5vZGUgPSBub2RlLnZhbHVlTm9kZTtcbiAgICAgICAgICAgICAgICBpZiAoKCF2YWx1ZU5vZGUgfHwgb2Zmc2V0IDw9ICh2YWx1ZU5vZGUub2Zmc2V0ICsgdmFsdWVOb2RlLmxlbmd0aCkpICYmIG5vZGUucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbl8yID0gUGFyc2VyLmdldE5vZGVQYXRoKG5vZGUucGFyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cmlidXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGNvbnRyaWJ1dGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbGxlY3RQcm9taXNlID0gY29udHJpYnV0aW9uLmNvbGxlY3RWYWx1ZUNvbXBsZXRpb25zKGRvY3VtZW50LnVyaSwgbG9jYXRpb25fMiwgcGFyZW50S2V5XzQsIGNvbGxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGVjdFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uUHJvbWlzZXMucHVzaChjb2xsZWN0UHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnMgPSBmdW5jdGlvbiAoc2NoZW1hLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yLCB0eXBlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRW51bVZhbHVlQ29tcGxldGlvbnMoc2NoZW1hLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuYWRkRGVmYXVsdFZhbHVlQ29tcGxldGlvbnMoc2NoZW1hLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdFR5cGVzKHNjaGVtYSwgdHlwZXMpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmFsbE9mKSkge1xuICAgICAgICAgICAgICAgIHNjaGVtYS5hbGxPZi5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7IHJldHVybiBfdGhpcy5hZGRTY2hlbWFWYWx1ZUNvbXBsZXRpb25zKHMsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIHR5cGVzKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuYW55T2YpKSB7XG4gICAgICAgICAgICAgICAgc2NoZW1hLmFueU9mLmZvckVhY2goZnVuY3Rpb24gKHMpIHsgcmV0dXJuIF90aGlzLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnMocywgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3RvciwgdHlwZXMpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5vbmVPZikpIHtcbiAgICAgICAgICAgICAgICBzY2hlbWEub25lT2YuZm9yRWFjaChmdW5jdGlvbiAocykgeyByZXR1cm4gX3RoaXMuYWRkU2NoZW1hVmFsdWVDb21wbGV0aW9ucyhzLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yLCB0eXBlcyk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuYWRkRGVmYXVsdFZhbHVlQ29tcGxldGlvbnMgPSBmdW5jdGlvbiAoc2NoZW1hLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yLCBhcnJheURlcHRoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChhcnJheURlcHRoID09PSB2b2lkIDApIHsgYXJyYXlEZXB0aCA9IDA7IH1cbiAgICAgICAgdmFyIGhhc1Byb3Bvc2FscyA9IGZhbHNlO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHNjaGVtYS5kZWZhdWx0KSkge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBzY2hlbWEudHlwZTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNjaGVtYS5kZWZhdWx0O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGFycmF5RGVwdGg7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IFt2YWx1ZV07XG4gICAgICAgICAgICAgICAgdHlwZSA9ICdhcnJheSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAgICAgICAgICBraW5kOiB0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKHR5cGUpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmdldExhYmVsRm9yVmFsdWUodmFsdWUpLFxuICAgICAgICAgICAgICAgIGluc2VydFRleHQ6IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHZhbHVlLCBzZXBhcmF0b3JBZnRlciksXG4gICAgICAgICAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgICAgICAgICAgIGRldGFpbDogbG9jYWxpemUoJ2pzb24uc3VnZ2VzdC5kZWZhdWx0JywgJ0RlZmF1bHQgdmFsdWUnKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYXNQcm9wb3NhbHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5leGFtcGxlcykpIHtcbiAgICAgICAgICAgIHNjaGVtYS5leGFtcGxlcy5mb3JFYWNoKGZ1bmN0aW9uIChleGFtcGxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBzY2hlbWEudHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBleGFtcGxlO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBhcnJheURlcHRoOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gW3ZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdhcnJheSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBfdGhpcy5nZXRTdWdnZXN0aW9uS2luZCh0eXBlKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IF90aGlzLmdldExhYmVsRm9yVmFsdWUodmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiBfdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUodmFsdWUsIHNlcGFyYXRvckFmdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaGFzUHJvcG9zYWxzID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5kZWZhdWx0U25pcHBldHMpKSB7XG4gICAgICAgICAgICBzY2hlbWEuZGVmYXVsdFNuaXBwZXRzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHNjaGVtYS50eXBlO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHMuYm9keTtcbiAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBzLmxhYmVsO1xuICAgICAgICAgICAgICAgIHZhciBpbnNlcnRUZXh0O1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJUZXh0O1xuICAgICAgICAgICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlXzEgPSBzY2hlbWEudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGFycmF5RGVwdGg7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gW3ZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfMSA9ICdhcnJheSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VGV4dCA9IF90aGlzLmdldEluc2VydFRleHRGb3JTbmlwcGV0VmFsdWUodmFsdWUsIHNlcGFyYXRvckFmdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyVGV4dCA9IF90aGlzLmdldEZpbHRlclRleHRGb3JTbmlwcGV0VmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IGxhYmVsIHx8IF90aGlzLmdldExhYmVsRm9yU25pcHBldFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHMuYm9keVRleHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmVmaXggPSAnJywgc3VmZml4ID0gJycsIGluZGVudCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gYXJyYXlEZXB0aDsgaSA+IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4ID0gcHJlZml4ICsgaW5kZW50ICsgJ1tcXG4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VmZml4ID0gc3VmZml4ICsgJ1xcbicgKyBpbmRlbnQgKyAnXSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRlbnQgKz0gJ1xcdCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ2FycmF5JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0ID0gcHJlZml4ICsgaW5kZW50ICsgcy5ib2R5VGV4dC5zcGxpdCgnXFxuJykuam9pbignXFxuJyArIGluZGVudCkgKyBzdWZmaXggKyBzZXBhcmF0b3JBZnRlcjtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBsYWJlbCB8fCBpbnNlcnRUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyVGV4dCA9IGluc2VydFRleHQucmVwbGFjZSgvW1xcbl0vZywgJycpOyAvLyByZW1vdmUgbmV3IGxpbmVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBfdGhpcy5nZXRTdWdnZXN0aW9uS2luZCh0eXBlKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudGF0aW9uOiBfdGhpcy5mcm9tTWFya3VwKHMubWFya2Rvd25EZXNjcmlwdGlvbikgfHwgcy5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VGV4dDogaW5zZXJ0VGV4dCxcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJUZXh0OiBmaWx0ZXJUZXh0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaGFzUHJvcG9zYWxzID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGFzUHJvcG9zYWxzICYmIHR5cGVvZiBzY2hlbWEuaXRlbXMgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykgJiYgYXJyYXlEZXB0aCA8IDUgLyogYmV3YXJlIG9mIHJlY3Vyc2lvbiAqLykge1xuICAgICAgICAgICAgdGhpcy5hZGREZWZhdWx0VmFsdWVDb21wbGV0aW9ucyhzY2hlbWEuaXRlbXMsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIGFycmF5RGVwdGggKyAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmFkZEVudW1WYWx1ZUNvbXBsZXRpb25zID0gZnVuY3Rpb24gKHNjaGVtYSwgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3Rvcikge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHNjaGVtYS5jb25zdCkpIHtcbiAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAgICAgIGtpbmQ6IHRoaXMuZ2V0U3VnZ2VzdGlvbktpbmQoc2NoZW1hLnR5cGUpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmdldExhYmVsRm9yVmFsdWUoc2NoZW1hLmNvbnN0KSxcbiAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiB0aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZShzY2hlbWEuY29uc3QsIHNlcGFyYXRvckFmdGVyKSxcbiAgICAgICAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRhdGlvbjogdGhpcy5mcm9tTWFya3VwKHNjaGVtYS5tYXJrZG93bkRlc2NyaXB0aW9uKSB8fCBzY2hlbWEuZGVzY3JpcHRpb25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5lbnVtKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHNjaGVtYS5lbnVtLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVubSA9IHNjaGVtYS5lbnVtW2ldO1xuICAgICAgICAgICAgICAgIHZhciBkb2N1bWVudGF0aW9uID0gdGhpcy5mcm9tTWFya3VwKHNjaGVtYS5tYXJrZG93bkRlc2NyaXB0aW9uKSB8fCBzY2hlbWEuZGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgaWYgKHNjaGVtYS5tYXJrZG93bkVudW1EZXNjcmlwdGlvbnMgJiYgaSA8IHNjaGVtYS5tYXJrZG93bkVudW1EZXNjcmlwdGlvbnMubGVuZ3RoICYmIHRoaXMuZG9lc1N1cHBvcnRNYXJrZG93bigpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50YXRpb24gPSB0aGlzLmZyb21NYXJrdXAoc2NoZW1hLm1hcmtkb3duRW51bURlc2NyaXB0aW9uc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNjaGVtYS5lbnVtRGVzY3JpcHRpb25zICYmIGkgPCBzY2hlbWEuZW51bURlc2NyaXB0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRhdGlvbiA9IHNjaGVtYS5lbnVtRGVzY3JpcHRpb25zW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogdGhpcy5nZXRTdWdnZXN0aW9uS2luZChzY2hlbWEudHlwZSksXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmdldExhYmVsRm9yVmFsdWUoZW5tKSxcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VGV4dDogdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUoZW5tLCBzZXBhcmF0b3JBZnRlciksXG4gICAgICAgICAgICAgICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCxcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRhdGlvbjogZG9jdW1lbnRhdGlvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuY29sbGVjdFR5cGVzID0gZnVuY3Rpb24gKHNjaGVtYSwgdHlwZXMpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmVudW0pIHx8IGlzRGVmaW5lZChzY2hlbWEuY29uc3QpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHR5cGUgPSBzY2hlbWEudHlwZTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgICAgIHR5cGUuZm9yRWFjaChmdW5jdGlvbiAodCkgeyByZXR1cm4gdHlwZXNbdF0gPSB0cnVlOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlKSB7XG4gICAgICAgICAgICB0eXBlc1t0eXBlXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5hZGRGaWxsZXJWYWx1ZUNvbXBsZXRpb25zID0gZnVuY3Rpb24gKHR5cGVzLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKSB7XG4gICAgICAgIGlmICh0eXBlc1snb2JqZWN0J10pIHtcbiAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAgICAgIGtpbmQ6IHRoaXMuZ2V0U3VnZ2VzdGlvbktpbmQoJ29iamVjdCcpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAne30nLFxuICAgICAgICAgICAgICAgIGluc2VydFRleHQ6IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvckd1ZXNzZWRWYWx1ZSh7fSwgc2VwYXJhdG9yQWZ0ZXIpLFxuICAgICAgICAgICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCxcbiAgICAgICAgICAgICAgICBkZXRhaWw6IGxvY2FsaXplKCdkZWZhdWx0cy5vYmplY3QnLCAnTmV3IG9iamVjdCcpLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50YXRpb246ICcnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZXNbJ2FycmF5J10pIHtcbiAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAgICAgIGtpbmQ6IHRoaXMuZ2V0U3VnZ2VzdGlvbktpbmQoJ2FycmF5JyksXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdbXScsXG4gICAgICAgICAgICAgICAgaW5zZXJ0VGV4dDogdGhpcy5nZXRJbnNlcnRUZXh0Rm9yR3Vlc3NlZFZhbHVlKFtdLCBzZXBhcmF0b3JBZnRlciksXG4gICAgICAgICAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgICAgICAgICAgIGRldGFpbDogbG9jYWxpemUoJ2RlZmF1bHRzLmFycmF5JywgJ05ldyBhcnJheScpLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50YXRpb246ICcnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmFkZEJvb2xlYW5WYWx1ZUNvbXBsZXRpb24gPSBmdW5jdGlvbiAodmFsdWUsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpIHtcbiAgICAgICAgY29sbGVjdG9yLmFkZCh7XG4gICAgICAgICAgICBraW5kOiB0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKCdib29sZWFuJyksXG4gICAgICAgICAgICBsYWJlbDogdmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnLFxuICAgICAgICAgICAgaW5zZXJ0VGV4dDogdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUodmFsdWUsIHNlcGFyYXRvckFmdGVyKSxcbiAgICAgICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCxcbiAgICAgICAgICAgIGRvY3VtZW50YXRpb246ICcnXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmFkZE51bGxWYWx1ZUNvbXBsZXRpb24gPSBmdW5jdGlvbiAoc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3Rvcikge1xuICAgICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAgICAgIGtpbmQ6IHRoaXMuZ2V0U3VnZ2VzdGlvbktpbmQoJ251bGwnKSxcbiAgICAgICAgICAgIGxhYmVsOiAnbnVsbCcsXG4gICAgICAgICAgICBpbnNlcnRUZXh0OiAnbnVsbCcgKyBzZXBhcmF0b3JBZnRlcixcbiAgICAgICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCxcbiAgICAgICAgICAgIGRvY3VtZW50YXRpb246ICcnXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmFkZERvbGxhclNjaGVtYUNvbXBsZXRpb25zID0gZnVuY3Rpb24gKHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHNjaGVtYUlkcyA9IHRoaXMuc2NoZW1hU2VydmljZS5nZXRSZWdpc3RlcmVkU2NoZW1hSWRzKGZ1bmN0aW9uIChzY2hlbWEpIHsgcmV0dXJuIHNjaGVtYSA9PT0gJ2h0dHAnIHx8IHNjaGVtYSA9PT0gJ2h0dHBzJzsgfSk7XG4gICAgICAgIHNjaGVtYUlkcy5mb3JFYWNoKGZ1bmN0aW9uIChzY2hlbWFJZCkgeyByZXR1cm4gY29sbGVjdG9yLmFkZCh7XG4gICAgICAgICAgICBraW5kOiBDb21wbGV0aW9uSXRlbUtpbmQuTW9kdWxlLFxuICAgICAgICAgICAgbGFiZWw6IF90aGlzLmdldExhYmVsRm9yVmFsdWUoc2NoZW1hSWQpLFxuICAgICAgICAgICAgZmlsdGVyVGV4dDogX3RoaXMuZ2V0RmlsdGVyVGV4dEZvclZhbHVlKHNjaGVtYUlkKSxcbiAgICAgICAgICAgIGluc2VydFRleHQ6IF90aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZShzY2hlbWFJZCwgc2VwYXJhdG9yQWZ0ZXIpLFxuICAgICAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LCBkb2N1bWVudGF0aW9uOiAnJ1xuICAgICAgICB9KTsgfSk7XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZ2V0TGFiZWxGb3JWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmdldEZpbHRlclRleHRGb3JWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmdldEZpbHRlclRleHRGb3JTbmlwcGV0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9cXCRcXHtcXGQrOihbXn1dKylcXH18XFwkXFxkKy9nLCAnJDEnKTtcbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5nZXRMYWJlbEZvclNuaXBwZXRWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgbGFiZWwgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBsYWJlbC5yZXBsYWNlKC9cXCRcXHtcXGQrOihbXn1dKylcXH18XFwkXFxkKy9nLCAnJDEnKTtcbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5nZXRJbnNlcnRUZXh0Rm9yUGxhaW5UZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSgvW1xcXFxcXCRcXH1dL2csICdcXFxcJCYnKTsgLy8gZXNjYXBlICQsIFxcIGFuZCB9IFxuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmdldEluc2VydFRleHRGb3JWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgc2VwYXJhdG9yQWZ0ZXIpIHtcbiAgICAgICAgdmFyIHRleHQgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSwgbnVsbCwgJ1xcdCcpO1xuICAgICAgICBpZiAodGV4dCA9PT0gJ3t9Jykge1xuICAgICAgICAgICAgcmV0dXJuICd7JDF9JyArIHNlcGFyYXRvckFmdGVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRleHQgPT09ICdbXScpIHtcbiAgICAgICAgICAgIHJldHVybiAnWyQxXScgKyBzZXBhcmF0b3JBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnNlcnRUZXh0Rm9yUGxhaW5UZXh0KHRleHQgKyBzZXBhcmF0b3JBZnRlcik7XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZ2V0SW5zZXJ0VGV4dEZvclNuaXBwZXRWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgc2VwYXJhdG9yQWZ0ZXIpIHtcbiAgICAgICAgdmFyIHJlcGxhY2VyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSA9PT0gJ14nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHIoMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeU9iamVjdCh2YWx1ZSwgJycsIHJlcGxhY2VyKSArIHNlcGFyYXRvckFmdGVyO1xuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmdldEluc2VydFRleHRGb3JHdWVzc2VkVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIHNlcGFyYXRvckFmdGVyKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyR7MTpudWxsfScgKyBzZXBhcmF0b3JBZnRlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHZhbHVlLCBzZXBhcmF0b3JBZnRlcik7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIHZhciBzbmlwcGV0VmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc25pcHBldFZhbHVlID0gc25pcHBldFZhbHVlLnN1YnN0cigxLCBzbmlwcGV0VmFsdWUubGVuZ3RoIC0gMik7IC8vIHJlbW92ZSBxdW90ZXNcbiAgICAgICAgICAgICAgICBzbmlwcGV0VmFsdWUgPSB0aGlzLmdldEluc2VydFRleHRGb3JQbGFpblRleHQoc25pcHBldFZhbHVlKTsgLy8gZXNjYXBlIFxcIGFuZCB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICdcIiR7MTonICsgc25pcHBldFZhbHVlICsgJ31cIicgKyBzZXBhcmF0b3JBZnRlcjtcbiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJyR7MTonICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpICsgJ30nICsgc2VwYXJhdG9yQWZ0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHZhbHVlLCBzZXBhcmF0b3JBZnRlcik7XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZ2V0U3VnZ2VzdGlvbktpbmQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICAgICAgdmFyIGFycmF5ID0gdHlwZTtcbiAgICAgICAgICAgIHR5cGUgPSBhcnJheS5sZW5ndGggPiAwID8gYXJyYXlbMF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tcGxldGlvbkl0ZW1LaW5kLlZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzogcmV0dXJuIENvbXBsZXRpb25JdGVtS2luZC5WYWx1ZTtcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6IHJldHVybiBDb21wbGV0aW9uSXRlbUtpbmQuTW9kdWxlO1xuICAgICAgICAgICAgY2FzZSAncHJvcGVydHknOiByZXR1cm4gQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5O1xuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIENvbXBsZXRpb25JdGVtS2luZC5WYWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmdldExhYmVsVGV4dEZvck1hdGNoaW5nTm9kZSA9IGZ1bmN0aW9uIChub2RlLCBkb2N1bWVudCkge1xuICAgICAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgICAgICAgICAgIHJldHVybiAnW10nO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3t9JztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBkb2N1bWVudC5nZXRUZXh0KCkuc3Vic3RyKG5vZGUub2Zmc2V0LCBub2RlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5nZXRJbnNlcnRUZXh0Rm9yTWF0Y2hpbmdOb2RlID0gZnVuY3Rpb24gKG5vZGUsIGRvY3VtZW50LCBzZXBhcmF0b3JBZnRlcikge1xuICAgICAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZShbXSwgc2VwYXJhdG9yQWZ0ZXIpO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUoe30sIHNlcGFyYXRvckFmdGVyKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBkb2N1bWVudC5nZXRUZXh0KCkuc3Vic3RyKG5vZGUub2Zmc2V0LCBub2RlLmxlbmd0aCkgKyBzZXBhcmF0b3JBZnRlcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnNlcnRUZXh0Rm9yUGxhaW5UZXh0KGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZ2V0SW5zZXJ0VGV4dEZvclByb3BlcnR5ID0gZnVuY3Rpb24gKGtleSwgcHJvcGVydHlTY2hlbWEsIGFkZFZhbHVlLCBzZXBhcmF0b3JBZnRlcikge1xuICAgICAgICB2YXIgcHJvcGVydHlUZXh0ID0gdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUoa2V5LCAnJyk7XG4gICAgICAgIGlmICghYWRkVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eVRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdFRleHQgPSBwcm9wZXJ0eVRleHQgKyAnOiAnO1xuICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgIHZhciBuVmFsdWVQcm9wb3NhbHMgPSAwO1xuICAgICAgICBpZiAocHJvcGVydHlTY2hlbWEpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5U2NoZW1hLmRlZmF1bHRTbmlwcGV0cykpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHlTY2hlbWEuZGVmYXVsdFNuaXBwZXRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9IHByb3BlcnR5U2NoZW1hLmRlZmF1bHRTbmlwcGV0c1swXS5ib2R5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEZWZpbmVkKGJvZHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclNuaXBwZXRWYWx1ZShib2R5LCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgblZhbHVlUHJvcG9zYWxzICs9IHByb3BlcnR5U2NoZW1hLmRlZmF1bHRTbmlwcGV0cy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvcGVydHlTY2hlbWEuZW51bSkge1xuICAgICAgICAgICAgICAgIGlmICghdmFsdWUgJiYgcHJvcGVydHlTY2hlbWEuZW51bS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmdldEluc2VydFRleHRGb3JHdWVzc2VkVmFsdWUocHJvcGVydHlTY2hlbWEuZW51bVswXSwgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuVmFsdWVQcm9wb3NhbHMgKz0gcHJvcGVydHlTY2hlbWEuZW51bS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnR5U2NoZW1hLmRlZmF1bHQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvckd1ZXNzZWRWYWx1ZShwcm9wZXJ0eVNjaGVtYS5kZWZhdWx0LCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5WYWx1ZVByb3Bvc2FscysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcGVydHlTY2hlbWEuZXhhbXBsZXMpICYmIHByb3BlcnR5U2NoZW1hLmV4YW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmdldEluc2VydFRleHRGb3JHdWVzc2VkVmFsdWUocHJvcGVydHlTY2hlbWEuZXhhbXBsZXNbMF0sICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgblZhbHVlUHJvcG9zYWxzICs9IHByb3BlcnR5U2NoZW1hLmV4YW1wbGVzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuVmFsdWVQcm9wb3NhbHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IEFycmF5LmlzQXJyYXkocHJvcGVydHlTY2hlbWEudHlwZSkgPyBwcm9wZXJ0eVNjaGVtYS50eXBlWzBdIDogcHJvcGVydHlTY2hlbWEudHlwZTtcbiAgICAgICAgICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5U2NoZW1hLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnb2JqZWN0JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wZXJ0eVNjaGVtYS5pdGVtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdhcnJheSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnJDEnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICdcIiQxXCInO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICd7JDF9JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdhcnJheSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICdbJDFdJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnRlZ2VyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJyR7MTowfSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICckezE6bnVsbH0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcGVydHlUZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZhbHVlIHx8IG5WYWx1ZVByb3Bvc2FscyA+IDEpIHtcbiAgICAgICAgICAgIHZhbHVlID0gJyQxJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0VGV4dCArIHZhbHVlICsgc2VwYXJhdG9yQWZ0ZXI7XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZ2V0Q3VycmVudFdvcmQgPSBmdW5jdGlvbiAoZG9jdW1lbnQsIG9mZnNldCkge1xuICAgICAgICB2YXIgaSA9IG9mZnNldCAtIDE7XG4gICAgICAgIHZhciB0ZXh0ID0gZG9jdW1lbnQuZ2V0VGV4dCgpO1xuICAgICAgICB3aGlsZSAoaSA+PSAwICYmICcgXFx0XFxuXFxyXFx2XCI6e1ssXX0nLmluZGV4T2YodGV4dC5jaGFyQXQoaSkpID09PSAtMSkge1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhpICsgMSwgb2Zmc2V0KTtcbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5ldmFsdWF0ZVNlcGFyYXRvckFmdGVyID0gZnVuY3Rpb24gKGRvY3VtZW50LCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIHNjYW5uZXIgPSBKc29uLmNyZWF0ZVNjYW5uZXIoZG9jdW1lbnQuZ2V0VGV4dCgpLCB0cnVlKTtcbiAgICAgICAgc2Nhbm5lci5zZXRQb3NpdGlvbihvZmZzZXQpO1xuICAgICAgICB2YXIgdG9rZW4gPSBzY2FubmVyLnNjYW4oKTtcbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgICAgY2FzZSA1IC8qIENvbW1hVG9rZW4gKi86XG4gICAgICAgICAgICBjYXNlIDIgLyogQ2xvc2VCcmFjZVRva2VuICovOlxuICAgICAgICAgICAgY2FzZSA0IC8qIENsb3NlQnJhY2tldFRva2VuICovOlxuICAgICAgICAgICAgY2FzZSAxNyAvKiBFT0YgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJywnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZmluZEl0ZW1BdE9mZnNldCA9IGZ1bmN0aW9uIChub2RlLCBkb2N1bWVudCwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBzY2FubmVyID0gSnNvbi5jcmVhdGVTY2FubmVyKGRvY3VtZW50LmdldFRleHQoKSwgdHJ1ZSk7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuaXRlbXM7XG4gICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID4gY2hpbGQub2Zmc2V0ICsgY2hpbGQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2Nhbm5lci5zZXRQb3NpdGlvbihjaGlsZC5vZmZzZXQgKyBjaGlsZC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHNjYW5uZXIuc2NhbigpO1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbiA9PT0gNSAvKiBDb21tYVRva2VuICovICYmIG9mZnNldCA+PSBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBzY2FubmVyLmdldFRva2VuTGVuZ3RoKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgKyAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9mZnNldCA+PSBjaGlsZC5vZmZzZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5pc0luQ29tbWVudCA9IGZ1bmN0aW9uIChkb2N1bWVudCwgc3RhcnQsIG9mZnNldCkge1xuICAgICAgICB2YXIgc2Nhbm5lciA9IEpzb24uY3JlYXRlU2Nhbm5lcihkb2N1bWVudC5nZXRUZXh0KCksIGZhbHNlKTtcbiAgICAgICAgc2Nhbm5lci5zZXRQb3NpdGlvbihzdGFydCk7XG4gICAgICAgIHZhciB0b2tlbiA9IHNjYW5uZXIuc2NhbigpO1xuICAgICAgICB3aGlsZSAodG9rZW4gIT09IDE3IC8qIEVPRiAqLyAmJiAoc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpICsgc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpIDwgb2Zmc2V0KSkge1xuICAgICAgICAgICAgdG9rZW4gPSBzY2FubmVyLnNjYW4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRva2VuID09PSAxMiAvKiBMaW5lQ29tbWVudFRyaXZpYSAqLyB8fCB0b2tlbiA9PT0gMTMgLyogQmxvY2tDb21tZW50VHJpdmlhICovKSAmJiBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgPD0gb2Zmc2V0O1xuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmZyb21NYXJrdXAgPSBmdW5jdGlvbiAobWFya3VwU3RyaW5nKSB7XG4gICAgICAgIGlmIChtYXJrdXBTdHJpbmcgJiYgdGhpcy5kb2VzU3VwcG9ydE1hcmtkb3duKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAga2luZDogTWFya3VwS2luZC5NYXJrZG93bixcbiAgICAgICAgICAgICAgICB2YWx1ZTogbWFya3VwU3RyaW5nXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZG9lc1N1cHBvcnRNYXJrZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFpc0RlZmluZWQodGhpcy5zdXBwb3J0c01hcmtkb3duKSkge1xuICAgICAgICAgICAgdmFyIGNvbXBsZXRpb24gPSB0aGlzLmNsaWVudENhcGFiaWxpdGllcy50ZXh0RG9jdW1lbnQgJiYgdGhpcy5jbGllbnRDYXBhYmlsaXRpZXMudGV4dERvY3VtZW50LmNvbXBsZXRpb247XG4gICAgICAgICAgICB0aGlzLnN1cHBvcnRzTWFya2Rvd24gPSBjb21wbGV0aW9uICYmIGNvbXBsZXRpb24uY29tcGxldGlvbkl0ZW0gJiYgQXJyYXkuaXNBcnJheShjb21wbGV0aW9uLmNvbXBsZXRpb25JdGVtLmRvY3VtZW50YXRpb25Gb3JtYXQpICYmIGNvbXBsZXRpb24uY29tcGxldGlvbkl0ZW0uZG9jdW1lbnRhdGlvbkZvcm1hdC5pbmRleE9mKE1hcmt1cEtpbmQuTWFya2Rvd24pICE9PSAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdXBwb3J0c01hcmtkb3duO1xuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmRvZXNTdXBwb3J0c0NvbW1pdENoYXJhY3RlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghaXNEZWZpbmVkKHRoaXMuc3VwcG9ydHNDb21taXRDaGFyYWN0ZXJzKSkge1xuICAgICAgICAgICAgdmFyIGNvbXBsZXRpb24gPSB0aGlzLmNsaWVudENhcGFiaWxpdGllcy50ZXh0RG9jdW1lbnQgJiYgdGhpcy5jbGllbnRDYXBhYmlsaXRpZXMudGV4dERvY3VtZW50LmNvbXBsZXRpb247XG4gICAgICAgICAgICB0aGlzLnN1cHBvcnRzQ29tbWl0Q2hhcmFjdGVycyA9IGNvbXBsZXRpb24gJiYgY29tcGxldGlvbi5jb21wbGV0aW9uSXRlbSAmJiAhIWNvbXBsZXRpb24uY29tcGxldGlvbkl0ZW0uY29tbWl0Q2hhcmFjdGVyc1N1cHBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3VwcG9ydHNDb21taXRDaGFyYWN0ZXJzO1xuICAgIH07XG4gICAgcmV0dXJuIEpTT05Db21wbGV0aW9uO1xufSgpKTtcbmV4cG9ydCB7IEpTT05Db21wbGV0aW9uIH07XG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgKiBhcyBQYXJzZXIgZnJvbSAnLi4vcGFyc2VyL2pzb25QYXJzZXIuanMnO1xuaW1wb3J0IHsgUmFuZ2UgfSBmcm9tICcuLi9qc29uTGFuZ3VhZ2VUeXBlcy5qcyc7XG52YXIgSlNPTkhvdmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEpTT05Ib3ZlcihzY2hlbWFTZXJ2aWNlLCBjb250cmlidXRpb25zLCBwcm9taXNlQ29uc3RydWN0b3IpIHtcbiAgICAgICAgaWYgKGNvbnRyaWJ1dGlvbnMgPT09IHZvaWQgMCkgeyBjb250cmlidXRpb25zID0gW107IH1cbiAgICAgICAgdGhpcy5zY2hlbWFTZXJ2aWNlID0gc2NoZW1hU2VydmljZTtcbiAgICAgICAgdGhpcy5jb250cmlidXRpb25zID0gY29udHJpYnV0aW9ucztcbiAgICAgICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZUNvbnN0cnVjdG9yIHx8IFByb21pc2U7XG4gICAgfVxuICAgIEpTT05Ib3Zlci5wcm90b3R5cGUuZG9Ib3ZlciA9IGZ1bmN0aW9uIChkb2N1bWVudCwgcG9zaXRpb24sIGRvYykge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gZG9jdW1lbnQub2Zmc2V0QXQocG9zaXRpb24pO1xuICAgICAgICB2YXIgbm9kZSA9IGRvYy5nZXROb2RlRnJvbU9mZnNldChvZmZzZXQpO1xuICAgICAgICBpZiAoIW5vZGUgfHwgKG5vZGUudHlwZSA9PT0gJ29iamVjdCcgfHwgbm9kZS50eXBlID09PSAnYXJyYXknKSAmJiBvZmZzZXQgPiBub2RlLm9mZnNldCArIDEgJiYgb2Zmc2V0IDwgbm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG92ZXJSYW5nZU5vZGUgPSBub2RlO1xuICAgICAgICAvLyB1c2UgdGhlIHByb3BlcnR5IGRlc2NyaXB0aW9uIHdoZW4gaG92ZXJpbmcgb3ZlciBhbiBvYmplY3Qga2V5XG4gICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC50eXBlID09PSAncHJvcGVydHknICYmIHBhcmVudC5rZXlOb2RlID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHBhcmVudC52YWx1ZU5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhvdmVyUmFuZ2UgPSBSYW5nZS5jcmVhdGUoZG9jdW1lbnQucG9zaXRpb25BdChob3ZlclJhbmdlTm9kZS5vZmZzZXQpLCBkb2N1bWVudC5wb3NpdGlvbkF0KGhvdmVyUmFuZ2VOb2RlLm9mZnNldCArIGhvdmVyUmFuZ2VOb2RlLmxlbmd0aCkpO1xuICAgICAgICB2YXIgY3JlYXRlSG92ZXIgPSBmdW5jdGlvbiAoY29udGVudHMpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgY29udGVudHM6IGNvbnRlbnRzLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBob3ZlclJhbmdlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGxvY2F0aW9uID0gUGFyc2VyLmdldE5vZGVQYXRoKG5vZGUpO1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5jb250cmlidXRpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgY29udHJpYnV0aW9uID0gdGhpcy5jb250cmlidXRpb25zW2ldO1xuICAgICAgICAgICAgdmFyIHByb21pc2UgPSBjb250cmlidXRpb24uZ2V0SW5mb0NvbnRyaWJ1dGlvbihkb2N1bWVudC51cmksIGxvY2F0aW9uKTtcbiAgICAgICAgICAgIGlmIChwcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoaHRtbENvbnRlbnQpIHsgcmV0dXJuIGNyZWF0ZUhvdmVyKGh0bWxDb250ZW50KTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NoZW1hU2VydmljZS5nZXRTY2hlbWFGb3JSZXNvdXJjZShkb2N1bWVudC51cmksIGRvYykudGhlbihmdW5jdGlvbiAoc2NoZW1hKSB7XG4gICAgICAgICAgICBpZiAoc2NoZW1hICYmIG5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hpbmdTY2hlbWFzID0gZG9jLmdldE1hdGNoaW5nU2NoZW1hcyhzY2hlbWEuc2NoZW1hLCBub2RlLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlXzEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdmFyIG1hcmtkb3duRGVzY3JpcHRpb25fMSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB2YXIgbWFya2Rvd25FbnVtVmFsdWVEZXNjcmlwdGlvbl8xID0gdW5kZWZpbmVkLCBlbnVtVmFsdWVfMSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBtYXRjaGluZ1NjaGVtYXMuZXZlcnkoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMubm9kZSA9PT0gbm9kZSAmJiAhcy5pbnZlcnRlZCAmJiBzLnNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVfMSA9IHRpdGxlXzEgfHwgcy5zY2hlbWEudGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZG93bkRlc2NyaXB0aW9uXzEgPSBtYXJrZG93bkRlc2NyaXB0aW9uXzEgfHwgcy5zY2hlbWEubWFya2Rvd25EZXNjcmlwdGlvbiB8fCB0b01hcmtkb3duKHMuc2NoZW1hLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnNjaGVtYS5lbnVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IHMuc2NoZW1hLmVudW0uaW5kZXhPZihQYXJzZXIuZ2V0Tm9kZVZhbHVlKG5vZGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5zY2hlbWEubWFya2Rvd25FbnVtRGVzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtkb3duRW51bVZhbHVlRGVzY3JpcHRpb25fMSA9IHMuc2NoZW1hLm1hcmtkb3duRW51bURlc2NyaXB0aW9uc1tpZHhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzLnNjaGVtYS5lbnVtRGVzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtkb3duRW51bVZhbHVlRGVzY3JpcHRpb25fMSA9IHRvTWFya2Rvd24ocy5zY2hlbWEuZW51bURlc2NyaXB0aW9uc1tpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtkb3duRW51bVZhbHVlRGVzY3JpcHRpb25fMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtVmFsdWVfMSA9IHMuc2NoZW1hLmVudW1baWR4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnVtVmFsdWVfMSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1WYWx1ZV8xID0gSlNPTi5zdHJpbmdpZnkoZW51bVZhbHVlXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAodGl0bGVfMSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0b01hcmtkb3duKHRpdGxlXzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWFya2Rvd25EZXNjcmlwdGlvbl8xKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiXFxuXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IG1hcmtkb3duRGVzY3JpcHRpb25fMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1hcmtkb3duRW51bVZhbHVlRGVzY3JpcHRpb25fMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIlxcblxcblwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcImBcIiArIHRvTWFya2Rvd25Db2RlQmxvY2soZW51bVZhbHVlXzEpICsgXCJgOiBcIiArIG1hcmtkb3duRW51bVZhbHVlRGVzY3JpcHRpb25fMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUhvdmVyKFtyZXN1bHRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBKU09OSG92ZXI7XG59KCkpO1xuZXhwb3J0IHsgSlNPTkhvdmVyIH07XG5mdW5jdGlvbiB0b01hcmtkb3duKHBsYWluKSB7XG4gICAgaWYgKHBsYWluKSB7XG4gICAgICAgIHZhciByZXMgPSBwbGFpbi5yZXBsYWNlKC8oW15cXG5cXHJdKShcXHI/XFxuKShbXlxcblxccl0pL2dtLCAnJDFcXG5cXG4kMycpOyAvLyBzaW5nbGUgbmV3IGxpbmVzIHRvIFxcblxcbiAoTWFya2Rvd24gcGFyYWdyYXBoKVxuICAgICAgICByZXR1cm4gcmVzLnJlcGxhY2UoL1tcXFxcYCpfe31bXFxdKCkjK1xcLS4hXS9nLCBcIlxcXFwkJlwiKTsgLy8gZXNjYXBlIG1hcmtkb3duIHN5bnRheCB0b2tlbnM6IGh0dHA6Ly9kYXJpbmdmaXJlYmFsbC5uZXQvcHJvamVjdHMvbWFya2Rvd24vc3ludGF4I2JhY2tzbGFzaFxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gdG9NYXJrZG93bkNvZGVCbG9jayhjb250ZW50KSB7XG4gICAgLy8gc2VlIGh0dHBzOi8vZGFyaW5nZmlyZWJhbGwubmV0L3Byb2plY3RzL21hcmtkb3duL3N5bnRheCNwcmVjb2RlXG4gICAgaWYgKGNvbnRlbnQuaW5kZXhPZignYCcpICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gJ2BgICcgKyBjb250ZW50ICsgJyBgYCc7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50O1xufVxuIiwgInZhciBMSUI7TElCPSgoKT0+e1widXNlIHN0cmljdFwiO3ZhciB0PXs0NzA6dD0+e2Z1bmN0aW9uIGUodCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhdGggbXVzdCBiZSBhIHN0cmluZy4gUmVjZWl2ZWQgXCIrSlNPTi5zdHJpbmdpZnkodCkpfWZ1bmN0aW9uIHIodCxlKXtmb3IodmFyIHIsbj1cIlwiLG89MCxpPS0xLGE9MCxoPTA7aDw9dC5sZW5ndGg7KytoKXtpZihoPHQubGVuZ3RoKXI9dC5jaGFyQ29kZUF0KGgpO2Vsc2V7aWYoNDc9PT1yKWJyZWFrO3I9NDd9aWYoNDc9PT1yKXtpZihpPT09aC0xfHwxPT09YSk7ZWxzZSBpZihpIT09aC0xJiYyPT09YSl7aWYobi5sZW5ndGg8Mnx8MiE9PW98fDQ2IT09bi5jaGFyQ29kZUF0KG4ubGVuZ3RoLTEpfHw0NiE9PW4uY2hhckNvZGVBdChuLmxlbmd0aC0yKSlpZihuLmxlbmd0aD4yKXt2YXIgcz1uLmxhc3RJbmRleE9mKFwiL1wiKTtpZihzIT09bi5sZW5ndGgtMSl7LTE9PT1zPyhuPVwiXCIsbz0wKTpvPShuPW4uc2xpY2UoMCxzKSkubGVuZ3RoLTEtbi5sYXN0SW5kZXhPZihcIi9cIiksaT1oLGE9MDtjb250aW51ZX19ZWxzZSBpZigyPT09bi5sZW5ndGh8fDE9PT1uLmxlbmd0aCl7bj1cIlwiLG89MCxpPWgsYT0wO2NvbnRpbnVlfWUmJihuLmxlbmd0aD4wP24rPVwiLy4uXCI6bj1cIi4uXCIsbz0yKX1lbHNlIG4ubGVuZ3RoPjA/bis9XCIvXCIrdC5zbGljZShpKzEsaCk6bj10LnNsaWNlKGkrMSxoKSxvPWgtaS0xO2k9aCxhPTB9ZWxzZSA0Nj09PXImJi0xIT09YT8rK2E6YT0tMX1yZXR1cm4gbn12YXIgbj17cmVzb2x2ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCxuPVwiXCIsbz0hMSxpPWFyZ3VtZW50cy5sZW5ndGgtMTtpPj0tMSYmIW87aS0tKXt2YXIgYTtpPj0wP2E9YXJndW1lbnRzW2ldOih2b2lkIDA9PT10JiYodD1wcm9jZXNzLmN3ZCgpKSxhPXQpLGUoYSksMCE9PWEubGVuZ3RoJiYobj1hK1wiL1wiK24sbz00Nz09PWEuY2hhckNvZGVBdCgwKSl9cmV0dXJuIG49cihuLCFvKSxvP24ubGVuZ3RoPjA/XCIvXCIrbjpcIi9cIjpuLmxlbmd0aD4wP246XCIuXCJ9LG5vcm1hbGl6ZTpmdW5jdGlvbih0KXtpZihlKHQpLDA9PT10Lmxlbmd0aClyZXR1cm5cIi5cIjt2YXIgbj00Nz09PXQuY2hhckNvZGVBdCgwKSxvPTQ3PT09dC5jaGFyQ29kZUF0KHQubGVuZ3RoLTEpO3JldHVybiAwIT09KHQ9cih0LCFuKSkubGVuZ3RofHxufHwodD1cIi5cIiksdC5sZW5ndGg+MCYmbyYmKHQrPVwiL1wiKSxuP1wiL1wiK3Q6dH0saXNBYnNvbHV0ZTpmdW5jdGlvbih0KXtyZXR1cm4gZSh0KSx0Lmxlbmd0aD4wJiY0Nz09PXQuY2hhckNvZGVBdCgwKX0sam9pbjpmdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVyblwiLlwiO2Zvcih2YXIgdCxyPTA7cjxhcmd1bWVudHMubGVuZ3RoOysrcil7dmFyIG89YXJndW1lbnRzW3JdO2Uobyksby5sZW5ndGg+MCYmKHZvaWQgMD09PXQ/dD1vOnQrPVwiL1wiK28pfXJldHVybiB2b2lkIDA9PT10P1wiLlwiOm4ubm9ybWFsaXplKHQpfSxyZWxhdGl2ZTpmdW5jdGlvbih0LHIpe2lmKGUodCksZShyKSx0PT09cilyZXR1cm5cIlwiO2lmKCh0PW4ucmVzb2x2ZSh0KSk9PT0ocj1uLnJlc29sdmUocikpKXJldHVyblwiXCI7Zm9yKHZhciBvPTE7bzx0Lmxlbmd0aCYmNDc9PT10LmNoYXJDb2RlQXQobyk7KytvKTtmb3IodmFyIGk9dC5sZW5ndGgsYT1pLW8saD0xO2g8ci5sZW5ndGgmJjQ3PT09ci5jaGFyQ29kZUF0KGgpOysraCk7Zm9yKHZhciBzPXIubGVuZ3RoLWgsZj1hPHM/YTpzLHU9LTEsYz0wO2M8PWY7KytjKXtpZihjPT09Zil7aWYocz5mKXtpZig0Nz09PXIuY2hhckNvZGVBdChoK2MpKXJldHVybiByLnNsaWNlKGgrYysxKTtpZigwPT09YylyZXR1cm4gci5zbGljZShoK2MpfWVsc2UgYT5mJiYoNDc9PT10LmNoYXJDb2RlQXQobytjKT91PWM6MD09PWMmJih1PTApKTticmVha312YXIgbD10LmNoYXJDb2RlQXQobytjKTtpZihsIT09ci5jaGFyQ29kZUF0KGgrYykpYnJlYWs7NDc9PT1sJiYodT1jKX12YXIgcD1cIlwiO2ZvcihjPW8rdSsxO2M8PWk7KytjKWMhPT1pJiY0NyE9PXQuY2hhckNvZGVBdChjKXx8KDA9PT1wLmxlbmd0aD9wKz1cIi4uXCI6cCs9XCIvLi5cIik7cmV0dXJuIHAubGVuZ3RoPjA/cCtyLnNsaWNlKGgrdSk6KGgrPXUsNDc9PT1yLmNoYXJDb2RlQXQoaCkmJisraCxyLnNsaWNlKGgpKX0sX21ha2VMb25nOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxkaXJuYW1lOmZ1bmN0aW9uKHQpe2lmKGUodCksMD09PXQubGVuZ3RoKXJldHVyblwiLlwiO2Zvcih2YXIgcj10LmNoYXJDb2RlQXQoMCksbj00Nz09PXIsbz0tMSxpPSEwLGE9dC5sZW5ndGgtMTthPj0xOy0tYSlpZig0Nz09PShyPXQuY2hhckNvZGVBdChhKSkpe2lmKCFpKXtvPWE7YnJlYWt9fWVsc2UgaT0hMTtyZXR1cm4tMT09PW8/bj9cIi9cIjpcIi5cIjpuJiYxPT09bz9cIi8vXCI6dC5zbGljZSgwLG8pfSxiYXNlbmFtZTpmdW5jdGlvbih0LHIpe2lmKHZvaWQgMCE9PXImJlwic3RyaW5nXCIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZXh0XCIgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZycpO2UodCk7dmFyIG4sbz0wLGk9LTEsYT0hMDtpZih2b2lkIDAhPT1yJiZyLmxlbmd0aD4wJiZyLmxlbmd0aDw9dC5sZW5ndGgpe2lmKHIubGVuZ3RoPT09dC5sZW5ndGgmJnI9PT10KXJldHVyblwiXCI7dmFyIGg9ci5sZW5ndGgtMSxzPS0xO2ZvcihuPXQubGVuZ3RoLTE7bj49MDstLW4pe3ZhciBmPXQuY2hhckNvZGVBdChuKTtpZig0Nz09PWYpe2lmKCFhKXtvPW4rMTticmVha319ZWxzZS0xPT09cyYmKGE9ITEscz1uKzEpLGg+PTAmJihmPT09ci5jaGFyQ29kZUF0KGgpPy0xPT0tLWgmJihpPW4pOihoPS0xLGk9cykpfXJldHVybiBvPT09aT9pPXM6LTE9PT1pJiYoaT10Lmxlbmd0aCksdC5zbGljZShvLGkpfWZvcihuPXQubGVuZ3RoLTE7bj49MDstLW4paWYoNDc9PT10LmNoYXJDb2RlQXQobikpe2lmKCFhKXtvPW4rMTticmVha319ZWxzZS0xPT09aSYmKGE9ITEsaT1uKzEpO3JldHVybi0xPT09aT9cIlwiOnQuc2xpY2UobyxpKX0sZXh0bmFtZTpmdW5jdGlvbih0KXtlKHQpO2Zvcih2YXIgcj0tMSxuPTAsbz0tMSxpPSEwLGE9MCxoPXQubGVuZ3RoLTE7aD49MDstLWgpe3ZhciBzPXQuY2hhckNvZGVBdChoKTtpZig0NyE9PXMpLTE9PT1vJiYoaT0hMSxvPWgrMSksNDY9PT1zPy0xPT09cj9yPWg6MSE9PWEmJihhPTEpOi0xIT09ciYmKGE9LTEpO2Vsc2UgaWYoIWkpe249aCsxO2JyZWFrfX1yZXR1cm4tMT09PXJ8fC0xPT09b3x8MD09PWF8fDE9PT1hJiZyPT09by0xJiZyPT09bisxP1wiXCI6dC5zbGljZShyLG8pfSxmb3JtYXQ6ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInBhdGhPYmplY3RcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHQpO3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciByPWUuZGlyfHxlLnJvb3Qsbj1lLmJhc2V8fChlLm5hbWV8fFwiXCIpKyhlLmV4dHx8XCJcIik7cmV0dXJuIHI/cj09PWUucm9vdD9yK246citcIi9cIituOm59KDAsdCl9LHBhcnNlOmZ1bmN0aW9uKHQpe2UodCk7dmFyIHI9e3Jvb3Q6XCJcIixkaXI6XCJcIixiYXNlOlwiXCIsZXh0OlwiXCIsbmFtZTpcIlwifTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHI7dmFyIG4sbz10LmNoYXJDb2RlQXQoMCksaT00Nz09PW87aT8oci5yb290PVwiL1wiLG49MSk6bj0wO2Zvcih2YXIgYT0tMSxoPTAscz0tMSxmPSEwLHU9dC5sZW5ndGgtMSxjPTA7dT49bjstLXUpaWYoNDchPT0obz10LmNoYXJDb2RlQXQodSkpKS0xPT09cyYmKGY9ITEscz11KzEpLDQ2PT09bz8tMT09PWE/YT11OjEhPT1jJiYoYz0xKTotMSE9PWEmJihjPS0xKTtlbHNlIGlmKCFmKXtoPXUrMTticmVha31yZXR1cm4tMT09PWF8fC0xPT09c3x8MD09PWN8fDE9PT1jJiZhPT09cy0xJiZhPT09aCsxPy0xIT09cyYmKHIuYmFzZT1yLm5hbWU9MD09PWgmJmk/dC5zbGljZSgxLHMpOnQuc2xpY2UoaCxzKSk6KDA9PT1oJiZpPyhyLm5hbWU9dC5zbGljZSgxLGEpLHIuYmFzZT10LnNsaWNlKDEscykpOihyLm5hbWU9dC5zbGljZShoLGEpLHIuYmFzZT10LnNsaWNlKGgscykpLHIuZXh0PXQuc2xpY2UoYSxzKSksaD4wP3IuZGlyPXQuc2xpY2UoMCxoLTEpOmkmJihyLmRpcj1cIi9cIikscn0sc2VwOlwiL1wiLGRlbGltaXRlcjpcIjpcIix3aW4zMjpudWxsLHBvc2l4Om51bGx9O24ucG9zaXg9bix0LmV4cG9ydHM9bn0sNDQ3Oih0LGUscik9Pnt2YXIgbjtpZihyLnIoZSksci5kKGUse1VSSTooKT0+ZyxVdGlsczooKT0+T30pLFwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzKW49XCJ3aW4zMlwiPT09cHJvY2Vzcy5wbGF0Zm9ybTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBuYXZpZ2F0b3Ipe3ZhciBvPW5hdmlnYXRvci51c2VyQWdlbnQ7bj1vLmluZGV4T2YoXCJXaW5kb3dzXCIpPj0wfXZhciBpLGEsaD0oaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKTooci5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IHIpfSkscz0vXlxcd1tcXHdcXGQrLi1dKiQvLGY9L15cXC8vLHU9L15cXC9cXC8vLGM9XCJcIixsPVwiL1wiLHA9L14oKFteOi8/I10rPyk6KT8oXFwvXFwvKFteLz8jXSopKT8oW14/I10qKShcXD8oW14jXSopKT8oIyguKikpPy8sZz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLHIsbixvLGkpe3ZvaWQgMD09PWkmJihpPSExKSxcIm9iamVjdFwiPT10eXBlb2YgdD8odGhpcy5zY2hlbWU9dC5zY2hlbWV8fGMsdGhpcy5hdXRob3JpdHk9dC5hdXRob3JpdHl8fGMsdGhpcy5wYXRoPXQucGF0aHx8Yyx0aGlzLnF1ZXJ5PXQucXVlcnl8fGMsdGhpcy5mcmFnbWVudD10LmZyYWdtZW50fHxjKToodGhpcy5zY2hlbWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdHx8ZT90OlwiZmlsZVwifSh0LGkpLHRoaXMuYXV0aG9yaXR5PWV8fGMsdGhpcy5wYXRoPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQpe2Nhc2VcImh0dHBzXCI6Y2FzZVwiaHR0cFwiOmNhc2VcImZpbGVcIjplP2VbMF0hPT1sJiYoZT1sK2UpOmU9bH1yZXR1cm4gZX0odGhpcy5zY2hlbWUscnx8YyksdGhpcy5xdWVyeT1ufHxjLHRoaXMuZnJhZ21lbnQ9b3x8YyxmdW5jdGlvbih0LGUpe2lmKCF0LnNjaGVtZSYmZSl0aHJvdyBuZXcgRXJyb3IoJ1tVcmlFcnJvcl06IFNjaGVtZSBpcyBtaXNzaW5nOiB7c2NoZW1lOiBcIlwiLCBhdXRob3JpdHk6IFwiJyt0LmF1dGhvcml0eSsnXCIsIHBhdGg6IFwiJyt0LnBhdGgrJ1wiLCBxdWVyeTogXCInK3QucXVlcnkrJ1wiLCBmcmFnbWVudDogXCInK3QuZnJhZ21lbnQrJ1wifScpO2lmKHQuc2NoZW1lJiYhcy50ZXN0KHQuc2NoZW1lKSl0aHJvdyBuZXcgRXJyb3IoXCJbVXJpRXJyb3JdOiBTY2hlbWUgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzLlwiKTtpZih0LnBhdGgpaWYodC5hdXRob3JpdHkpe2lmKCFmLnRlc3QodC5wYXRoKSl0aHJvdyBuZXcgRXJyb3IoJ1tVcmlFcnJvcl06IElmIGEgVVJJIGNvbnRhaW5zIGFuIGF1dGhvcml0eSBjb21wb25lbnQsIHRoZW4gdGhlIHBhdGggY29tcG9uZW50IG11c3QgZWl0aGVyIGJlIGVtcHR5IG9yIGJlZ2luIHdpdGggYSBzbGFzaCAoXCIvXCIpIGNoYXJhY3RlcicpfWVsc2UgaWYodS50ZXN0KHQucGF0aCkpdGhyb3cgbmV3IEVycm9yKCdbVXJpRXJyb3JdOiBJZiBhIFVSSSBkb2VzIG5vdCBjb250YWluIGFuIGF1dGhvcml0eSBjb21wb25lbnQsIHRoZW4gdGhlIHBhdGggY2Fubm90IGJlZ2luIHdpdGggdHdvIHNsYXNoIGNoYXJhY3RlcnMgKFwiLy9cIiknKX0odGhpcyxpKSl9cmV0dXJuIHQuaXNVcmk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0fHwhIWUmJlwic3RyaW5nXCI9PXR5cGVvZiBlLmF1dGhvcml0eSYmXCJzdHJpbmdcIj09dHlwZW9mIGUuZnJhZ21lbnQmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnBhdGgmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnF1ZXJ5JiZcInN0cmluZ1wiPT10eXBlb2YgZS5zY2hlbWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZnNQYXRoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLndpdGgmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUudG9TdHJpbmd9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImZzUGF0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQyh0aGlzLCExKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS53aXRoPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO3ZhciBlPXQuc2NoZW1lLHI9dC5hdXRob3JpdHksbj10LnBhdGgsbz10LnF1ZXJ5LGk9dC5mcmFnbWVudDtyZXR1cm4gdm9pZCAwPT09ZT9lPXRoaXMuc2NoZW1lOm51bGw9PT1lJiYoZT1jKSx2b2lkIDA9PT1yP3I9dGhpcy5hdXRob3JpdHk6bnVsbD09PXImJihyPWMpLHZvaWQgMD09PW4/bj10aGlzLnBhdGg6bnVsbD09PW4mJihuPWMpLHZvaWQgMD09PW8/bz10aGlzLnF1ZXJ5Om51bGw9PT1vJiYobz1jKSx2b2lkIDA9PT1pP2k9dGhpcy5mcmFnbWVudDpudWxsPT09aSYmKGk9YyksZT09PXRoaXMuc2NoZW1lJiZyPT09dGhpcy5hdXRob3JpdHkmJm49PT10aGlzLnBhdGgmJm89PT10aGlzLnF1ZXJ5JiZpPT09dGhpcy5mcmFnbWVudD90aGlzOm5ldyB2KGUscixuLG8saSl9LHQucGFyc2U9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMSk7dmFyIHI9cC5leGVjKHQpO3JldHVybiByP25ldyB2KHJbMl18fGMseChyWzRdfHxjKSx4KHJbNV18fGMpLHgocls3XXx8YykseChyWzldfHxjKSxlKTpuZXcgdihjLGMsYyxjLGMpfSx0LmZpbGU9ZnVuY3Rpb24odCl7dmFyIGU9YztpZihuJiYodD10LnJlcGxhY2UoL1xcXFwvZyxsKSksdFswXT09PWwmJnRbMV09PT1sKXt2YXIgcj10LmluZGV4T2YobCwyKTstMT09PXI/KGU9dC5zdWJzdHJpbmcoMiksdD1sKTooZT10LnN1YnN0cmluZygyLHIpLHQ9dC5zdWJzdHJpbmcocil8fGwpfXJldHVybiBuZXcgdihcImZpbGVcIixlLHQsYyxjKX0sdC5mcm9tPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdih0LnNjaGVtZSx0LmF1dGhvcml0eSx0LnBhdGgsdC5xdWVyeSx0LmZyYWdtZW50KX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSxBKHRoaXMsdCl9LHQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0LnJldml2ZT1mdW5jdGlvbihlKXtpZihlKXtpZihlIGluc3RhbmNlb2YgdClyZXR1cm4gZTt2YXIgcj1uZXcgdihlKTtyZXR1cm4gci5fZm9ybWF0dGVkPWUuZXh0ZXJuYWwsci5fZnNQYXRoPWUuX3NlcD09PWQ/ZS5mc1BhdGg6bnVsbCxyfXJldHVybiBlfSx0fSgpLGQ9bj8xOnZvaWQgMCx2PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuX2Zvcm1hdHRlZD1udWxsLGUuX2ZzUGF0aD1udWxsLGV9cmV0dXJuIGgoZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJmc1BhdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZzUGF0aHx8KHRoaXMuX2ZzUGF0aD1DKHRoaXMsITEpKSx0aGlzLl9mc1BhdGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSx0P0EodGhpcywhMCk6KHRoaXMuX2Zvcm1hdHRlZHx8KHRoaXMuX2Zvcm1hdHRlZD1BKHRoaXMsITEpKSx0aGlzLl9mb3JtYXR0ZWQpfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD17JG1pZDoxfTtyZXR1cm4gdGhpcy5fZnNQYXRoJiYodC5mc1BhdGg9dGhpcy5fZnNQYXRoLHQuX3NlcD1kKSx0aGlzLl9mb3JtYXR0ZWQmJih0LmV4dGVybmFsPXRoaXMuX2Zvcm1hdHRlZCksdGhpcy5wYXRoJiYodC5wYXRoPXRoaXMucGF0aCksdGhpcy5zY2hlbWUmJih0LnNjaGVtZT10aGlzLnNjaGVtZSksdGhpcy5hdXRob3JpdHkmJih0LmF1dGhvcml0eT10aGlzLmF1dGhvcml0eSksdGhpcy5xdWVyeSYmKHQucXVlcnk9dGhpcy5xdWVyeSksdGhpcy5mcmFnbWVudCYmKHQuZnJhZ21lbnQ9dGhpcy5mcmFnbWVudCksdH0sZX0oZyksbT0oKGE9e30pWzU4XT1cIiUzQVwiLGFbNDddPVwiJTJGXCIsYVs2M109XCIlM0ZcIixhWzM1XT1cIiUyM1wiLGFbOTFdPVwiJTVCXCIsYVs5M109XCIlNURcIixhWzY0XT1cIiU0MFwiLGFbMzNdPVwiJTIxXCIsYVszNl09XCIlMjRcIixhWzM4XT1cIiUyNlwiLGFbMzldPVwiJTI3XCIsYVs0MF09XCIlMjhcIixhWzQxXT1cIiUyOVwiLGFbNDJdPVwiJTJBXCIsYVs0M109XCIlMkJcIixhWzQ0XT1cIiUyQ1wiLGFbNTldPVwiJTNCXCIsYVs2MV09XCIlM0RcIixhWzMyXT1cIiUyMFwiLGEpO2Z1bmN0aW9uIHkodCxlKXtmb3IodmFyIHI9dm9pZCAwLG49LTEsbz0wO288dC5sZW5ndGg7bysrKXt2YXIgaT10LmNoYXJDb2RlQXQobyk7aWYoaT49OTcmJmk8PTEyMnx8aT49NjUmJmk8PTkwfHxpPj00OCYmaTw9NTd8fDQ1PT09aXx8NDY9PT1pfHw5NT09PWl8fDEyNj09PWl8fGUmJjQ3PT09aSktMSE9PW4mJihyKz1lbmNvZGVVUklDb21wb25lbnQodC5zdWJzdHJpbmcobixvKSksbj0tMSksdm9pZCAwIT09ciYmKHIrPXQuY2hhckF0KG8pKTtlbHNle3ZvaWQgMD09PXImJihyPXQuc3Vic3RyKDAsbykpO3ZhciBhPW1baV07dm9pZCAwIT09YT8oLTEhPT1uJiYocis9ZW5jb2RlVVJJQ29tcG9uZW50KHQuc3Vic3RyaW5nKG4sbykpLG49LTEpLHIrPWEpOi0xPT09biYmKG49byl9fXJldHVybi0xIT09biYmKHIrPWVuY29kZVVSSUNvbXBvbmVudCh0LnN1YnN0cmluZyhuKSkpLHZvaWQgMCE9PXI/cjp0fWZ1bmN0aW9uIGIodCl7Zm9yKHZhciBlPXZvaWQgMCxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXQuY2hhckNvZGVBdChyKTszNT09PW58fDYzPT09bj8odm9pZCAwPT09ZSYmKGU9dC5zdWJzdHIoMCxyKSksZSs9bVtuXSk6dm9pZCAwIT09ZSYmKGUrPXRbcl0pfXJldHVybiB2b2lkIDAhPT1lP2U6dH1mdW5jdGlvbiBDKHQsZSl7dmFyIHI7cmV0dXJuIHI9dC5hdXRob3JpdHkmJnQucGF0aC5sZW5ndGg+MSYmXCJmaWxlXCI9PT10LnNjaGVtZT9cIi8vXCIrdC5hdXRob3JpdHkrdC5wYXRoOjQ3PT09dC5wYXRoLmNoYXJDb2RlQXQoMCkmJih0LnBhdGguY2hhckNvZGVBdCgxKT49NjUmJnQucGF0aC5jaGFyQ29kZUF0KDEpPD05MHx8dC5wYXRoLmNoYXJDb2RlQXQoMSk+PTk3JiZ0LnBhdGguY2hhckNvZGVBdCgxKTw9MTIyKSYmNTg9PT10LnBhdGguY2hhckNvZGVBdCgyKT9lP3QucGF0aC5zdWJzdHIoMSk6dC5wYXRoWzFdLnRvTG93ZXJDYXNlKCkrdC5wYXRoLnN1YnN0cigyKTp0LnBhdGgsbiYmKHI9ci5yZXBsYWNlKC9cXC8vZyxcIlxcXFxcIikpLHJ9ZnVuY3Rpb24gQSh0LGUpe3ZhciByPWU/Yjp5LG49XCJcIixvPXQuc2NoZW1lLGk9dC5hdXRob3JpdHksYT10LnBhdGgsaD10LnF1ZXJ5LHM9dC5mcmFnbWVudDtpZihvJiYobis9byxuKz1cIjpcIiksKGl8fFwiZmlsZVwiPT09bykmJihuKz1sLG4rPWwpLGkpe3ZhciBmPWkuaW5kZXhPZihcIkBcIik7aWYoLTEhPT1mKXt2YXIgdT1pLnN1YnN0cigwLGYpO2k9aS5zdWJzdHIoZisxKSwtMT09PShmPXUuaW5kZXhPZihcIjpcIikpP24rPXIodSwhMSk6KG4rPXIodS5zdWJzdHIoMCxmKSwhMSksbis9XCI6XCIsbis9cih1LnN1YnN0cihmKzEpLCExKSksbis9XCJAXCJ9LTE9PT0oZj0oaT1pLnRvTG93ZXJDYXNlKCkpLmluZGV4T2YoXCI6XCIpKT9uKz1yKGksITEpOihuKz1yKGkuc3Vic3RyKDAsZiksITEpLG4rPWkuc3Vic3RyKGYpKX1pZihhKXtpZihhLmxlbmd0aD49MyYmNDc9PT1hLmNoYXJDb2RlQXQoMCkmJjU4PT09YS5jaGFyQ29kZUF0KDIpKShjPWEuY2hhckNvZGVBdCgxKSk+PTY1JiZjPD05MCYmKGE9XCIvXCIrU3RyaW5nLmZyb21DaGFyQ29kZShjKzMyKStcIjpcIithLnN1YnN0cigzKSk7ZWxzZSBpZihhLmxlbmd0aD49MiYmNTg9PT1hLmNoYXJDb2RlQXQoMSkpe3ZhciBjOyhjPWEuY2hhckNvZGVBdCgwKSk+PTY1JiZjPD05MCYmKGE9U3RyaW5nLmZyb21DaGFyQ29kZShjKzMyKStcIjpcIithLnN1YnN0cigyKSl9bis9cihhLCEwKX1yZXR1cm4gaCYmKG4rPVwiP1wiLG4rPXIoaCwhMSkpLHMmJihuKz1cIiNcIixuKz1lP3M6eShzLCExKSksbn1mdW5jdGlvbiB3KHQpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQpfWNhdGNoKGUpe3JldHVybiB0Lmxlbmd0aD4zP3Quc3Vic3RyKDAsMykrdyh0LnN1YnN0cigzKSk6dH19dmFyIF89LyglWzAtOUEtWmEtel1bMC05QS1aYS16XSkrL2c7ZnVuY3Rpb24geCh0KXtyZXR1cm4gdC5tYXRjaChfKT90LnJlcGxhY2UoXywoZnVuY3Rpb24odCl7cmV0dXJuIHcodCl9KSk6dH12YXIgTyxQPXIoNDcwKSxqPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wLHI9YXJndW1lbnRzLmxlbmd0aDtlPHI7ZSsrKXQrPWFyZ3VtZW50c1tlXS5sZW5ndGg7dmFyIG49QXJyYXkodCksbz0wO2ZvcihlPTA7ZTxyO2UrKylmb3IodmFyIGk9YXJndW1lbnRzW2VdLGE9MCxoPWkubGVuZ3RoO2E8aDthKyssbysrKW5bb109aVthXTtyZXR1cm4gbn0sVT1QLnBvc2l4fHxQOyFmdW5jdGlvbih0KXt0LmpvaW5QYXRoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiB0LndpdGgoe3BhdGg6VS5qb2luLmFwcGx5KFUsaihbdC5wYXRoXSxlKSl9KX0sdC5yZXNvbHZlUGF0aD1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspZVtyLTFdPWFyZ3VtZW50c1tyXTt2YXIgbj10LnBhdGh8fFwiL1wiO3JldHVybiB0LndpdGgoe3BhdGg6VS5yZXNvbHZlLmFwcGx5KFUsaihbbl0sZSkpfSl9LHQuZGlybmFtZT1mdW5jdGlvbih0KXt2YXIgZT1VLmRpcm5hbWUodC5wYXRoKTtyZXR1cm4gMT09PWUubGVuZ3RoJiY0Nj09PWUuY2hhckNvZGVBdCgwKT90OnQud2l0aCh7cGF0aDplfSl9LHQuYmFzZW5hbWU9ZnVuY3Rpb24odCl7cmV0dXJuIFUuYmFzZW5hbWUodC5wYXRoKX0sdC5leHRuYW1lPWZ1bmN0aW9uKHQpe3JldHVybiBVLmV4dG5hbWUodC5wYXRoKX19KE98fChPPXt9KSl9fSxlPXt9O2Z1bmN0aW9uIHIobil7aWYoZVtuXSlyZXR1cm4gZVtuXS5leHBvcnRzO3ZhciBvPWVbbl09e2V4cG9ydHM6e319O3JldHVybiB0W25dKG8sby5leHBvcnRzLHIpLG8uZXhwb3J0c31yZXR1cm4gci5kPSh0LGUpPT57Zm9yKHZhciBuIGluIGUpci5vKGUsbikmJiFyLm8odCxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7ZW51bWVyYWJsZTohMCxnZXQ6ZVtuXX0pfSxyLm89KHQsZSk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpLHIucj10PT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0scig0NDcpfSkoKTtleHBvcnQgY29uc3R7VVJJLFV0aWxzfT1MSUI7XG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgKiBhcyBKc29uIGZyb20gJy4uLy4uL2pzb25jLXBhcnNlci9tYWluLmpzJztcbmltcG9ydCB7IFVSSSB9IGZyb20gJy4uLy4uL3ZzY29kZS11cmkvaW5kZXguanMnO1xuaW1wb3J0ICogYXMgU3RyaW5ncyBmcm9tICcuLi91dGlscy9zdHJpbmdzLmpzJztcbmltcG9ydCAqIGFzIFBhcnNlciBmcm9tICcuLi9wYXJzZXIvanNvblBhcnNlci5qcyc7XG5pbXBvcnQgKiBhcyBubHMgZnJvbSAnLi4vLi4vLi4vZmlsbGVycy92c2NvZGUtbmxzLmpzJztcbnZhciBsb2NhbGl6ZSA9IG5scy5sb2FkTWVzc2FnZUJ1bmRsZSgpO1xudmFyIEZpbGVQYXR0ZXJuQXNzb2NpYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlsZVBhdHRlcm5Bc3NvY2lhdGlvbihwYXR0ZXJuLCB1cmlzKSB7XG4gICAgICAgIHRoaXMucGF0dGVyblJlZ0V4cHMgPSBbXTtcbiAgICAgICAgdGhpcy5pc0luY2x1ZGUgPSBbXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgcGF0dGVybl8xID0gcGF0dGVybjsgX2kgPCBwYXR0ZXJuXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSBwYXR0ZXJuXzFbX2ldO1xuICAgICAgICAgICAgICAgIHZhciBpbmNsdWRlID0gcFswXSAhPT0gJyEnO1xuICAgICAgICAgICAgICAgIGlmICghaW5jbHVkZSkge1xuICAgICAgICAgICAgICAgICAgICBwID0gcC5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucGF0dGVyblJlZ0V4cHMucHVzaChuZXcgUmVnRXhwKFN0cmluZ3MuY29udmVydFNpbXBsZTJSZWdFeHBQYXR0ZXJuKHApICsgJyQnKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0luY2x1ZGUucHVzaChpbmNsdWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXJpcyA9IHVyaXM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGludmFsaWQgcGF0dGVyblxuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuUmVnRXhwcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgdGhpcy5pc0luY2x1ZGUubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHRoaXMudXJpcyA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIEZpbGVQYXR0ZXJuQXNzb2NpYXRpb24ucHJvdG90eXBlLm1hdGNoZXNQYXR0ZXJuID0gZnVuY3Rpb24gKGZpbGVOYW1lKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGF0dGVyblJlZ0V4cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByZWdFeHAgPSB0aGlzLnBhdHRlcm5SZWdFeHBzW2ldO1xuICAgICAgICAgICAgaWYgKHJlZ0V4cC50ZXN0KGZpbGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoID0gdGhpcy5pc0luY2x1ZGVbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH07XG4gICAgRmlsZVBhdHRlcm5Bc3NvY2lhdGlvbi5wcm90b3R5cGUuZ2V0VVJJcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJpcztcbiAgICB9O1xuICAgIHJldHVybiBGaWxlUGF0dGVybkFzc29jaWF0aW9uO1xufSgpKTtcbnZhciBTY2hlbWFIYW5kbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZW1hSGFuZGxlKHNlcnZpY2UsIHVybCwgdW5yZXNvbHZlZFNjaGVtYUNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlID0gc2VydmljZTtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0ge307XG4gICAgICAgIGlmICh1bnJlc29sdmVkU2NoZW1hQ29udGVudCkge1xuICAgICAgICAgICAgdGhpcy51bnJlc29sdmVkU2NoZW1hID0gdGhpcy5zZXJ2aWNlLnByb21pc2UucmVzb2x2ZShuZXcgVW5yZXNvbHZlZFNjaGVtYSh1bnJlc29sdmVkU2NoZW1hQ29udGVudCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFNjaGVtYUhhbmRsZS5wcm90b3R5cGUuZ2V0VW5yZXNvbHZlZFNjaGVtYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnVucmVzb2x2ZWRTY2hlbWEpIHtcbiAgICAgICAgICAgIHRoaXMudW5yZXNvbHZlZFNjaGVtYSA9IHRoaXMuc2VydmljZS5sb2FkU2NoZW1hKHRoaXMudXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy51bnJlc29sdmVkU2NoZW1hO1xuICAgIH07XG4gICAgU2NoZW1hSGFuZGxlLnByb3RvdHlwZS5nZXRSZXNvbHZlZFNjaGVtYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnJlc29sdmVkU2NoZW1hKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVkU2NoZW1hID0gdGhpcy5nZXRVbnJlc29sdmVkU2NoZW1hKCkudGhlbihmdW5jdGlvbiAodW5yZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5zZXJ2aWNlLnJlc29sdmVTY2hlbWFDb250ZW50KHVucmVzb2x2ZWQsIF90aGlzLnVybCwgX3RoaXMuZGVwZW5kZW5jaWVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVkU2NoZW1hO1xuICAgIH07XG4gICAgU2NoZW1hSGFuZGxlLnByb3RvdHlwZS5jbGVhclNjaGVtYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlZFNjaGVtYSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy51bnJlc29sdmVkU2NoZW1hID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmRlcGVuZGVuY2llcyA9IHt9O1xuICAgIH07XG4gICAgcmV0dXJuIFNjaGVtYUhhbmRsZTtcbn0oKSk7XG52YXIgVW5yZXNvbHZlZFNjaGVtYSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVbnJlc29sdmVkU2NoZW1hKHNjaGVtYSwgZXJyb3JzKSB7XG4gICAgICAgIGlmIChlcnJvcnMgPT09IHZvaWQgMCkgeyBlcnJvcnMgPSBbXTsgfVxuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgfVxuICAgIHJldHVybiBVbnJlc29sdmVkU2NoZW1hO1xufSgpKTtcbmV4cG9ydCB7IFVucmVzb2x2ZWRTY2hlbWEgfTtcbnZhciBSZXNvbHZlZFNjaGVtYSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNvbHZlZFNjaGVtYShzY2hlbWEsIGVycm9ycykge1xuICAgICAgICBpZiAoZXJyb3JzID09PSB2b2lkIDApIHsgZXJyb3JzID0gW107IH1cbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH1cbiAgICBSZXNvbHZlZFNjaGVtYS5wcm90b3R5cGUuZ2V0U2VjdGlvbiA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHZhciBzY2hlbWFSZWYgPSB0aGlzLmdldFNlY3Rpb25SZWN1cnNpdmUocGF0aCwgdGhpcy5zY2hlbWEpO1xuICAgICAgICBpZiAoc2NoZW1hUmVmKSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VyLmFzU2NoZW1hKHNjaGVtYVJlZik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFJlc29sdmVkU2NoZW1hLnByb3RvdHlwZS5nZXRTZWN0aW9uUmVjdXJzaXZlID0gZnVuY3Rpb24gKHBhdGgsIHNjaGVtYSkge1xuICAgICAgICBpZiAoIXNjaGVtYSB8fCB0eXBlb2Ygc2NoZW1hID09PSAnYm9vbGVhbicgfHwgcGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5leHQgPSBwYXRoLnNoaWZ0KCk7XG4gICAgICAgIGlmIChzY2hlbWEucHJvcGVydGllcyAmJiB0eXBlb2Ygc2NoZW1hLnByb3BlcnRpZXNbbmV4dF0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNlY3Rpb25SZWN1cnNpdmUocGF0aCwgc2NoZW1hLnByb3BlcnRpZXNbbmV4dF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcykge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5rZXlzKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXR0ZXJuKTtcbiAgICAgICAgICAgICAgICBpZiAocmVnZXgudGVzdChuZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWN0aW9uUmVjdXJzaXZlKHBhdGgsIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWN0aW9uUmVjdXJzaXZlKHBhdGgsIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV4dC5tYXRjaCgnWzAtOV0rJykpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBwYXJzZUludChuZXh0LCAxMCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihpbmRleCkgJiYgc2NoZW1hLml0ZW1zW2luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWN0aW9uUmVjdXJzaXZlKHBhdGgsIHNjaGVtYS5pdGVtc1tpbmRleF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNjaGVtYS5pdGVtcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNlY3Rpb25SZWN1cnNpdmUocGF0aCwgc2NoZW1hLml0ZW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc29sdmVkU2NoZW1hO1xufSgpKTtcbmV4cG9ydCB7IFJlc29sdmVkU2NoZW1hIH07XG52YXIgSlNPTlNjaGVtYVNlcnZpY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSlNPTlNjaGVtYVNlcnZpY2UocmVxdWVzdFNlcnZpY2UsIGNvbnRleHRTZXJ2aWNlLCBwcm9taXNlQ29uc3RydWN0b3IpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0U2VydmljZSA9IGNvbnRleHRTZXJ2aWNlO1xuICAgICAgICB0aGlzLnJlcXVlc3RTZXJ2aWNlID0gcmVxdWVzdFNlcnZpY2U7XG4gICAgICAgIHRoaXMucHJvbWlzZUNvbnN0cnVjdG9yID0gcHJvbWlzZUNvbnN0cnVjdG9yIHx8IFByb21pc2U7XG4gICAgICAgIHRoaXMuY2FsbE9uRGlzcG9zZSA9IFtdO1xuICAgICAgICB0aGlzLmNvbnRyaWJ1dGlvblNjaGVtYXMgPSB7fTtcbiAgICAgICAgdGhpcy5jb250cmlidXRpb25Bc3NvY2lhdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5zY2hlbWFzQnlJZCA9IHt9O1xuICAgICAgICB0aGlzLmZpbGVQYXR0ZXJuQXNzb2NpYXRpb25zID0gW107XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZFNjaGVtYXNJZHMgPSB7fTtcbiAgICB9XG4gICAgSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLmdldFJlZ2lzdGVyZWRTY2hlbWFJZHMgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnJlZ2lzdGVyZWRTY2hlbWFzSWRzKS5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICB2YXIgc2NoZW1lID0gVVJJLnBhcnNlKGlkKS5zY2hlbWU7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1lICE9PSAnc2NoZW1hc2VydmljZScgJiYgKCFmaWx0ZXIgfHwgZmlsdGVyKHNjaGVtZSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKU09OU2NoZW1hU2VydmljZS5wcm90b3R5cGUsIFwicHJvbWlzZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZUNvbnN0cnVjdG9yO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmNhbGxPbkRpc3Bvc2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5jYWxsT25EaXNwb3NlLnBvcCgpKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05TY2hlbWFTZXJ2aWNlLnByb3RvdHlwZS5vblJlc291cmNlQ2hhbmdlID0gZnVuY3Rpb24gKHVyaSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaGFzQ2hhbmdlcyA9IGZhbHNlO1xuICAgICAgICB1cmkgPSBub3JtYWxpemVJZCh1cmkpO1xuICAgICAgICB2YXIgdG9XYWxrID0gW3VyaV07XG4gICAgICAgIHZhciBhbGwgPSBPYmplY3Qua2V5cyh0aGlzLnNjaGVtYXNCeUlkKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gX3RoaXMuc2NoZW1hc0J5SWRba2V5XTsgfSk7XG4gICAgICAgIHdoaWxlICh0b1dhbGsubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgY3VyciA9IHRvV2Fsay5wb3AoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGFsbFtpXTtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlICYmIChoYW5kbGUudXJsID09PSBjdXJyIHx8IGhhbmRsZS5kZXBlbmRlbmNpZXNbY3Vycl0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGUudXJsICE9PSBjdXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b1dhbGsucHVzaChoYW5kbGUudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuY2xlYXJTY2hlbWEoKTtcbiAgICAgICAgICAgICAgICAgICAgYWxsW2ldID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhc0NoYW5nZXM7XG4gICAgfTtcbiAgICBKU09OU2NoZW1hU2VydmljZS5wcm90b3R5cGUuc2V0U2NoZW1hQ29udHJpYnV0aW9ucyA9IGZ1bmN0aW9uIChzY2hlbWFDb250cmlidXRpb25zKSB7XG4gICAgICAgIGlmIChzY2hlbWFDb250cmlidXRpb25zLnNjaGVtYXMpIHtcbiAgICAgICAgICAgIHZhciBzY2hlbWFzID0gc2NoZW1hQ29udHJpYnV0aW9ucy5zY2hlbWFzO1xuICAgICAgICAgICAgZm9yICh2YXIgaWQgaW4gc2NoZW1hcykge1xuICAgICAgICAgICAgICAgIHZhciBub3JtYWxpemVkSWQgPSBub3JtYWxpemVJZChpZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250cmlidXRpb25TY2hlbWFzW25vcm1hbGl6ZWRJZF0gPSB0aGlzLmFkZFNjaGVtYUhhbmRsZShub3JtYWxpemVkSWQsIHNjaGVtYXNbaWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWFDb250cmlidXRpb25zLnNjaGVtYUFzc29jaWF0aW9ucykpIHtcbiAgICAgICAgICAgIHZhciBzY2hlbWFBc3NvY2lhdGlvbnMgPSBzY2hlbWFDb250cmlidXRpb25zLnNjaGVtYUFzc29jaWF0aW9ucztcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgc2NoZW1hQXNzb2NpYXRpb25zXzEgPSBzY2hlbWFBc3NvY2lhdGlvbnM7IF9pIDwgc2NoZW1hQXNzb2NpYXRpb25zXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNjaGVtYUFzc29jaWF0aW9uID0gc2NoZW1hQXNzb2NpYXRpb25zXzFbX2ldO1xuICAgICAgICAgICAgICAgIHZhciB1cmlzID0gc2NoZW1hQXNzb2NpYXRpb24udXJpcy5tYXAobm9ybWFsaXplSWQpO1xuICAgICAgICAgICAgICAgIHZhciBhc3NvY2lhdGlvbiA9IHRoaXMuYWRkRmlsZVBhdHRlcm5Bc3NvY2lhdGlvbihzY2hlbWFBc3NvY2lhdGlvbi5wYXR0ZXJuLCB1cmlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyaWJ1dGlvbkFzc29jaWF0aW9ucy5wdXNoKGFzc29jaWF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLmFkZFNjaGVtYUhhbmRsZSA9IGZ1bmN0aW9uIChpZCwgdW5yZXNvbHZlZFNjaGVtYUNvbnRlbnQpIHtcbiAgICAgICAgdmFyIHNjaGVtYUhhbmRsZSA9IG5ldyBTY2hlbWFIYW5kbGUodGhpcywgaWQsIHVucmVzb2x2ZWRTY2hlbWFDb250ZW50KTtcbiAgICAgICAgdGhpcy5zY2hlbWFzQnlJZFtpZF0gPSBzY2hlbWFIYW5kbGU7XG4gICAgICAgIHJldHVybiBzY2hlbWFIYW5kbGU7XG4gICAgfTtcbiAgICBKU09OU2NoZW1hU2VydmljZS5wcm90b3R5cGUuZ2V0T3JBZGRTY2hlbWFIYW5kbGUgPSBmdW5jdGlvbiAoaWQsIHVucmVzb2x2ZWRTY2hlbWFDb250ZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjaGVtYXNCeUlkW2lkXSB8fCB0aGlzLmFkZFNjaGVtYUhhbmRsZShpZCwgdW5yZXNvbHZlZFNjaGVtYUNvbnRlbnQpO1xuICAgIH07XG4gICAgSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLmFkZEZpbGVQYXR0ZXJuQXNzb2NpYXRpb24gPSBmdW5jdGlvbiAocGF0dGVybiwgdXJpcykge1xuICAgICAgICB2YXIgZnBhID0gbmV3IEZpbGVQYXR0ZXJuQXNzb2NpYXRpb24ocGF0dGVybiwgdXJpcyk7XG4gICAgICAgIHRoaXMuZmlsZVBhdHRlcm5Bc3NvY2lhdGlvbnMucHVzaChmcGEpO1xuICAgICAgICByZXR1cm4gZnBhO1xuICAgIH07XG4gICAgSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLnJlZ2lzdGVyRXh0ZXJuYWxTY2hlbWEgPSBmdW5jdGlvbiAodXJpLCBmaWxlUGF0dGVybnMsIHVucmVzb2x2ZWRTY2hlbWFDb250ZW50KSB7XG4gICAgICAgIHZhciBpZCA9IG5vcm1hbGl6ZUlkKHVyaSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZFNjaGVtYXNJZHNbaWRdID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jYWNoZWRTY2hlbWFGb3JSZXNvdXJjZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGZpbGVQYXR0ZXJucykge1xuICAgICAgICAgICAgdGhpcy5hZGRGaWxlUGF0dGVybkFzc29jaWF0aW9uKGZpbGVQYXR0ZXJucywgW3VyaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bnJlc29sdmVkU2NoZW1hQ29udGVudCA/IHRoaXMuYWRkU2NoZW1hSGFuZGxlKGlkLCB1bnJlc29sdmVkU2NoZW1hQ29udGVudCkgOiB0aGlzLmdldE9yQWRkU2NoZW1hSGFuZGxlKGlkKTtcbiAgICB9O1xuICAgIEpTT05TY2hlbWFTZXJ2aWNlLnByb3RvdHlwZS5jbGVhckV4dGVybmFsU2NoZW1hcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zY2hlbWFzQnlJZCA9IHt9O1xuICAgICAgICB0aGlzLmZpbGVQYXR0ZXJuQXNzb2NpYXRpb25zID0gW107XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZFNjaGVtYXNJZHMgPSB7fTtcbiAgICAgICAgdGhpcy5jYWNoZWRTY2hlbWFGb3JSZXNvdXJjZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5jb250cmlidXRpb25TY2hlbWFzKSB7XG4gICAgICAgICAgICB0aGlzLnNjaGVtYXNCeUlkW2lkXSA9IHRoaXMuY29udHJpYnV0aW9uU2NoZW1hc1tpZF07XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyZWRTY2hlbWFzSWRzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuY29udHJpYnV0aW9uQXNzb2NpYXRpb25zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGNvbnRyaWJ1dGlvbkFzc29jaWF0aW9uID0gX2FbX2ldO1xuICAgICAgICAgICAgdGhpcy5maWxlUGF0dGVybkFzc29jaWF0aW9ucy5wdXNoKGNvbnRyaWJ1dGlvbkFzc29jaWF0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLmdldFJlc29sdmVkU2NoZW1hID0gZnVuY3Rpb24gKHNjaGVtYUlkKSB7XG4gICAgICAgIHZhciBpZCA9IG5vcm1hbGl6ZUlkKHNjaGVtYUlkKTtcbiAgICAgICAgdmFyIHNjaGVtYUhhbmRsZSA9IHRoaXMuc2NoZW1hc0J5SWRbaWRdO1xuICAgICAgICBpZiAoc2NoZW1hSGFuZGxlKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hSGFuZGxlLmdldFJlc29sdmVkU2NoZW1hKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgfTtcbiAgICBKU09OU2NoZW1hU2VydmljZS5wcm90b3R5cGUubG9hZFNjaGVtYSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlcXVlc3RTZXJ2aWNlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gbG9jYWxpemUoJ2pzb24uc2NoZW1hLm5vcmVxdWVzdHNlcnZpY2UnLCAnVW5hYmxlIHRvIGxvYWQgc2NoZW1hIGZyb20gXFwnezB9XFwnLiBObyBzY2hlbWEgcmVxdWVzdCBzZXJ2aWNlIGF2YWlsYWJsZScsIHRvRGlzcGxheVN0cmluZyh1cmwpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb21pc2UucmVzb2x2ZShuZXcgVW5yZXNvbHZlZFNjaGVtYSh7fSwgW2Vycm9yTWVzc2FnZV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0U2VydmljZSh1cmwpLnRoZW4oZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICAgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBsb2NhbGl6ZSgnanNvbi5zY2hlbWEubm9jb250ZW50JywgJ1VuYWJsZSB0byBsb2FkIHNjaGVtYSBmcm9tIFxcJ3swfVxcJzogTm8gY29udGVudC4nLCB0b0Rpc3BsYXlTdHJpbmcodXJsKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVbnJlc29sdmVkU2NoZW1hKHt9LCBbZXJyb3JNZXNzYWdlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2NoZW1hQ29udGVudCA9IHt9O1xuICAgICAgICAgICAgdmFyIGpzb25FcnJvcnMgPSBbXTtcbiAgICAgICAgICAgIHNjaGVtYUNvbnRlbnQgPSBKc29uLnBhcnNlKGNvbnRlbnQsIGpzb25FcnJvcnMpO1xuICAgICAgICAgICAgdmFyIGVycm9ycyA9IGpzb25FcnJvcnMubGVuZ3RoID8gW2xvY2FsaXplKCdqc29uLnNjaGVtYS5pbnZhbGlkRm9ybWF0JywgJ1VuYWJsZSB0byBwYXJzZSBjb250ZW50IGZyb20gXFwnezB9XFwnOiBQYXJzZSBlcnJvciBhdCBvZmZzZXQgezF9LicsIHRvRGlzcGxheVN0cmluZyh1cmwpLCBqc29uRXJyb3JzWzBdLm9mZnNldCldIDogW107XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVucmVzb2x2ZWRTY2hlbWEoc2NoZW1hQ29udGVudCwgZXJyb3JzKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBlcnJvclNwbGl0ID0gZXJyb3IudG9TdHJpbmcoKS5zcGxpdCgnRXJyb3I6ICcpO1xuICAgICAgICAgICAgaWYgKGVycm9yU3BsaXQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIG1vcmUgY29uY2lzZSBlcnJvciBtZXNzYWdlLCBVUkwgYW5kIGNvbnRleHQgYXJlIGF0dGFjaGVkIGJ5IGNhbGxlciBhbnl3YXlzXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3JTcGxpdFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChTdHJpbmdzLmVuZHNXaXRoKGVycm9yTWVzc2FnZSwgJy4nKSkge1xuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yTWVzc2FnZS5zdWJzdHIoMCwgZXJyb3JNZXNzYWdlLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVbnJlc29sdmVkU2NoZW1hKHt9LCBbbG9jYWxpemUoJ2pzb24uc2NoZW1hLm5vY29udGVudCcsICdVbmFibGUgdG8gbG9hZCBzY2hlbWEgZnJvbSBcXCd7MH1cXCc6IHsxfS4nLCB0b0Rpc3BsYXlTdHJpbmcodXJsKSwgZXJyb3JNZXNzYWdlKV0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEpTT05TY2hlbWFTZXJ2aWNlLnByb3RvdHlwZS5yZXNvbHZlU2NoZW1hQ29udGVudCA9IGZ1bmN0aW9uIChzY2hlbWFUb1Jlc29sdmUsIHNjaGVtYVVSTCwgZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciByZXNvbHZlRXJyb3JzID0gc2NoZW1hVG9SZXNvbHZlLmVycm9ycy5zbGljZSgwKTtcbiAgICAgICAgdmFyIHNjaGVtYSA9IHNjaGVtYVRvUmVzb2x2ZS5zY2hlbWE7XG4gICAgICAgIGlmIChzY2hlbWEuJHNjaGVtYSkge1xuICAgICAgICAgICAgdmFyIGlkID0gbm9ybWFsaXplSWQoc2NoZW1hLiRzY2hlbWEpO1xuICAgICAgICAgICAgaWYgKGlkID09PSAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wMy9zY2hlbWEnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZS5yZXNvbHZlKG5ldyBSZXNvbHZlZFNjaGVtYSh7fSwgW2xvY2FsaXplKCdqc29uLnNjaGVtYS5kcmFmdDAzLm5vdHN1cHBvcnRlZCcsIFwiRHJhZnQtMDMgc2NoZW1hcyBhcmUgbm90IHN1cHBvcnRlZC5cIildKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpZCA9PT0gJ2h0dHBzOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LzIwMTktMDkvc2NoZW1hJykge1xuICAgICAgICAgICAgICAgIHJlc29sdmVFcnJvcnMucHVzaChsb2NhbGl6ZSgnanNvbi5zY2hlbWEuZHJhZnQyMDE5MDkubm90c3VwcG9ydGVkJywgXCJEcmFmdCAyMDE5LTA5IHNjaGVtYXMgYXJlIG5vdCB5ZXQgZnVsbHkgc3VwcG9ydGVkLlwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRleHRTZXJ2aWNlID0gdGhpcy5jb250ZXh0U2VydmljZTtcbiAgICAgICAgdmFyIGZpbmRTZWN0aW9uID0gZnVuY3Rpb24gKHNjaGVtYSwgcGF0aCkge1xuICAgICAgICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gc2NoZW1hO1xuICAgICAgICAgICAgaWYgKHBhdGhbMF0gPT09ICcvJykge1xuICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoLnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhdGguc3BsaXQoJy8nKS5zb21lKGZ1bmN0aW9uIChwYXJ0KSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGFydF07XG4gICAgICAgICAgICAgICAgcmV0dXJuICFjdXJyZW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG1lcmdlID0gZnVuY3Rpb24gKHRhcmdldCwgc291cmNlUm9vdCwgc291cmNlVVJJLCByZWZTZWdtZW50KSB7XG4gICAgICAgICAgICB2YXIgcGF0aCA9IHJlZlNlZ21lbnQgPyBkZWNvZGVVUklDb21wb25lbnQocmVmU2VnbWVudCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9IGZpbmRTZWN0aW9uKHNvdXJjZVJvb3QsIHBhdGgpO1xuICAgICAgICAgICAgaWYgKHNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc2VjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbi5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICF0YXJnZXQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzZWN0aW9uW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlRXJyb3JzLnB1c2gobG9jYWxpemUoJ2pzb24uc2NoZW1hLmludmFsaWRyZWYnLCAnJHJlZiBcXCd7MH1cXCcgaW4gXFwnezF9XFwnIGNhbiBub3QgYmUgcmVzb2x2ZWQuJywgcGF0aCwgc291cmNlVVJJKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXNvbHZlRXh0ZXJuYWxMaW5rID0gZnVuY3Rpb24gKG5vZGUsIHVyaSwgcmVmU2VnbWVudCwgcGFyZW50U2NoZW1hVVJMLCBwYXJlbnRTY2hlbWFEZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0U2VydmljZSAmJiAhL15cXHcrOlxcL1xcLy4qLy50ZXN0KHVyaSkpIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBjb250ZXh0U2VydmljZS5yZXNvbHZlUmVsYXRpdmVQYXRoKHVyaSwgcGFyZW50U2NoZW1hVVJMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVyaSA9IG5vcm1hbGl6ZUlkKHVyaSk7XG4gICAgICAgICAgICB2YXIgcmVmZXJlbmNlZEhhbmRsZSA9IF90aGlzLmdldE9yQWRkU2NoZW1hSGFuZGxlKHVyaSk7XG4gICAgICAgICAgICByZXR1cm4gcmVmZXJlbmNlZEhhbmRsZS5nZXRVbnJlc29sdmVkU2NoZW1hKCkudGhlbihmdW5jdGlvbiAodW5yZXNvbHZlZFNjaGVtYSkge1xuICAgICAgICAgICAgICAgIHBhcmVudFNjaGVtYURlcGVuZGVuY2llc1t1cmldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodW5yZXNvbHZlZFNjaGVtYS5lcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2MgPSByZWZTZWdtZW50ID8gdXJpICsgJyMnICsgcmVmU2VnbWVudCA6IHVyaTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUVycm9ycy5wdXNoKGxvY2FsaXplKCdqc29uLnNjaGVtYS5wcm9ibGVtbG9hZGluZ3JlZicsICdQcm9ibGVtcyBsb2FkaW5nIHJlZmVyZW5jZSBcXCd7MH1cXCc6IHsxfScsIGxvYywgdW5yZXNvbHZlZFNjaGVtYS5lcnJvcnNbMF0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWVyZ2Uobm9kZSwgdW5yZXNvbHZlZFNjaGVtYS5zY2hlbWEsIHVyaSwgcmVmU2VnbWVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVSZWZzKG5vZGUsIHVucmVzb2x2ZWRTY2hlbWEuc2NoZW1hLCB1cmksIHJlZmVyZW5jZWRIYW5kbGUuZGVwZW5kZW5jaWVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVzb2x2ZVJlZnMgPSBmdW5jdGlvbiAobm9kZSwgcGFyZW50U2NoZW1hLCBwYXJlbnRTY2hlbWFVUkwsIHBhcmVudFNjaGVtYURlcGVuZGVuY2llcykge1xuICAgICAgICAgICAgaWYgKCFub2RlIHx8IHR5cGVvZiBub2RlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdG9XYWxrID0gW25vZGVdO1xuICAgICAgICAgICAgdmFyIHNlZW4gPSBbXTtcbiAgICAgICAgICAgIHZhciBvcGVuUHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0RW50cmllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50cmllcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJpZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBlbnRyaWVzXzEgPSBlbnRyaWVzOyBfYSA8IGVudHJpZXNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc18xW19hXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvV2Fsay5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgY29sbGVjdE1hcEVudHJpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBtYXBzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgbWFwc18xID0gbWFwczsgX2EgPCBtYXBzXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXAgPSBtYXBzXzFbX2FdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1hcCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgaW4gbWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gbWFwW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9XYWxrLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgY29sbGVjdEFycmF5RW50cmllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXlzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgYXJyYXlzXzEgPSBhcnJheXM7IF9hIDwgYXJyYXlzXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IGFycmF5c18xW19hXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIGFycmF5XzEgPSBhcnJheTsgX2IgPCBhcnJheV8xLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IGFycmF5XzFbX2JdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZW50cnkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvV2Fsay5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGhhbmRsZVJlZiA9IGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlZW5SZWZzID0gW107XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5leHQuJHJlZikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVmID0gbmV4dC4kcmVmO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VnbWVudHMgPSByZWYuc3BsaXQoJyMnLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5leHQuJHJlZjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlZ21lbnRzWzBdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Qcm9taXNlcy5wdXNoKHJlc29sdmVFeHRlcm5hbExpbmsobmV4dCwgc2VnbWVudHNbMF0sIHNlZ21lbnRzWzFdLCBwYXJlbnRTY2hlbWFVUkwsIHBhcmVudFNjaGVtYURlcGVuZGVuY2llcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZW5SZWZzLmluZGV4T2YocmVmKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXJnZShuZXh0LCBwYXJlbnRTY2hlbWEsIHBhcmVudFNjaGVtYVVSTCwgc2VnbWVudHNbMV0pOyAvLyBjYW4gc2V0IG5leHQuJHJlZiBhZ2FpbiwgdXNlIHNlZW5SZWZzIHRvIGF2b2lkIGNpcmNsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZW5SZWZzLnB1c2gocmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb2xsZWN0RW50cmllcyhuZXh0Lml0ZW1zLCBuZXh0LmFkZGl0aW9uYWxJdGVtcywgbmV4dC5hZGRpdGlvbmFsUHJvcGVydGllcywgbmV4dC5ub3QsIG5leHQuY29udGFpbnMsIG5leHQucHJvcGVydHlOYW1lcywgbmV4dC5pZiwgbmV4dC50aGVuLCBuZXh0LmVsc2UpO1xuICAgICAgICAgICAgICAgIGNvbGxlY3RNYXBFbnRyaWVzKG5leHQuZGVmaW5pdGlvbnMsIG5leHQucHJvcGVydGllcywgbmV4dC5wYXR0ZXJuUHJvcGVydGllcywgbmV4dC5kZXBlbmRlbmNpZXMpO1xuICAgICAgICAgICAgICAgIGNvbGxlY3RBcnJheUVudHJpZXMobmV4dC5hbnlPZiwgbmV4dC5hbGxPZiwgbmV4dC5vbmVPZiwgbmV4dC5pdGVtcyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2hpbGUgKHRvV2Fsay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IHRvV2Fsay5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2Vlbi5pbmRleE9mKG5leHQpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlZW4ucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgICBoYW5kbGVSZWYobmV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucHJvbWlzZS5hbGwob3BlblByb21pc2VzKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVSZWZzKHNjaGVtYSwgc2NoZW1hLCBzY2hlbWFVUkwsIGRlcGVuZGVuY2llcykudGhlbihmdW5jdGlvbiAoXykgeyByZXR1cm4gbmV3IFJlc29sdmVkU2NoZW1hKHNjaGVtYSwgcmVzb2x2ZUVycm9ycyk7IH0pO1xuICAgIH07XG4gICAgSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLmdldFNjaGVtYUZvclJlc291cmNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBkb2N1bWVudCkge1xuICAgICAgICAvLyBmaXJzdCB1c2UgJHNjaGVtYSBpZiBwcmVzZW50XG4gICAgICAgIGlmIChkb2N1bWVudCAmJiBkb2N1bWVudC5yb290ICYmIGRvY3VtZW50LnJvb3QudHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHZhciBzY2hlbWFQcm9wZXJ0aWVzID0gZG9jdW1lbnQucm9vdC5wcm9wZXJ0aWVzLmZpbHRlcihmdW5jdGlvbiAocCkgeyByZXR1cm4gKHAua2V5Tm9kZS52YWx1ZSA9PT0gJyRzY2hlbWEnKSAmJiBwLnZhbHVlTm9kZSAmJiBwLnZhbHVlTm9kZS50eXBlID09PSAnc3RyaW5nJzsgfSk7XG4gICAgICAgICAgICBpZiAoc2NoZW1hUHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlTm9kZSA9IHNjaGVtYVByb3BlcnRpZXNbMF0udmFsdWVOb2RlO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZU5vZGUgJiYgdmFsdWVOb2RlLnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY2hlbWVJZCA9IFBhcnNlci5nZXROb2RlVmFsdWUodmFsdWVOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjaGVtZUlkICYmIFN0cmluZ3Muc3RhcnRzV2l0aChzY2hlbWVJZCwgJy4nKSAmJiB0aGlzLmNvbnRleHRTZXJ2aWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWVJZCA9IHRoaXMuY29udGV4dFNlcnZpY2UucmVzb2x2ZVJlbGF0aXZlUGF0aChzY2hlbWVJZCwgcmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY2hlbWVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gbm9ybWFsaXplSWQoc2NoZW1lSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3JBZGRTY2hlbWFIYW5kbGUoaWQpLmdldFJlc29sdmVkU2NoZW1hKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2FjaGVkU2NoZW1hRm9yUmVzb3VyY2UgJiYgdGhpcy5jYWNoZWRTY2hlbWFGb3JSZXNvdXJjZS5yZXNvdXJjZSA9PT0gcmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlZFNjaGVtYUZvclJlc291cmNlLnJlc29sdmVkU2NoZW1hO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWVuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdmFyIHNjaGVtYXMgPSBbXTtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRSZXNvdXJjZSA9IG5vcm1hbGl6ZVJlc291cmNlRm9yTWF0Y2hpbmcocmVzb3VyY2UpO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5maWxlUGF0dGVybkFzc29jaWF0aW9uczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IF9hW19pXTtcbiAgICAgICAgICAgIGlmIChlbnRyeS5tYXRjaGVzUGF0dGVybihub3JtYWxpemVkUmVzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IGVudHJ5LmdldFVSSXMoKTsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjaGVtYUlkID0gX2NbX2JdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlZW5bc2NoZW1hSWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWFzLnB1c2goc2NoZW1hSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VlbltzY2hlbWFJZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZXNvbHZlZFNjaGVtYSA9IHNjaGVtYXMubGVuZ3RoID4gMCA/IHRoaXMuY3JlYXRlQ29tYmluZWRTY2hlbWEocmVzb3VyY2UsIHNjaGVtYXMpLmdldFJlc29sdmVkU2NoZW1hKCkgOiB0aGlzLnByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLmNhY2hlZFNjaGVtYUZvclJlc291cmNlID0geyByZXNvdXJjZTogcmVzb3VyY2UsIHJlc29sdmVkU2NoZW1hOiByZXNvbHZlZFNjaGVtYSB9O1xuICAgICAgICByZXR1cm4gcmVzb2x2ZWRTY2hlbWE7XG4gICAgfTtcbiAgICBKU09OU2NoZW1hU2VydmljZS5wcm90b3R5cGUuY3JlYXRlQ29tYmluZWRTY2hlbWEgPSBmdW5jdGlvbiAocmVzb3VyY2UsIHNjaGVtYUlkcykge1xuICAgICAgICBpZiAoc2NoZW1hSWRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3JBZGRTY2hlbWFIYW5kbGUoc2NoZW1hSWRzWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjb21iaW5lZFNjaGVtYUlkID0gJ3NjaGVtYXNlcnZpY2U6Ly9jb21iaW5lZFNjaGVtYS8nICsgZW5jb2RlVVJJQ29tcG9uZW50KHJlc291cmNlKTtcbiAgICAgICAgICAgIHZhciBjb21iaW5lZFNjaGVtYSA9IHtcbiAgICAgICAgICAgICAgICBhbGxPZjogc2NoZW1hSWRzLm1hcChmdW5jdGlvbiAoc2NoZW1hSWQpIHsgcmV0dXJuICh7ICRyZWY6IHNjaGVtYUlkIH0pOyB9KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZFNjaGVtYUhhbmRsZShjb21iaW5lZFNjaGVtYUlkLCBjb21iaW5lZFNjaGVtYSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05TY2hlbWFTZXJ2aWNlLnByb3RvdHlwZS5nZXRNYXRjaGluZ1NjaGVtYXMgPSBmdW5jdGlvbiAoZG9jdW1lbnQsIGpzb25Eb2N1bWVudCwgc2NoZW1hKSB7XG4gICAgICAgIGlmIChzY2hlbWEpIHtcbiAgICAgICAgICAgIHZhciBpZCA9IHNjaGVtYS5pZCB8fCAoJ3NjaGVtYXNlcnZpY2U6Ly91bnRpdGxlZC9tYXRjaGluZ1NjaGVtYXMvJyArIGlkQ291bnRlcisrKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVTY2hlbWFDb250ZW50KG5ldyBVbnJlc29sdmVkU2NoZW1hKHNjaGVtYSksIGlkLCB7fSkudGhlbihmdW5jdGlvbiAocmVzb2x2ZWRTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbkRvY3VtZW50LmdldE1hdGNoaW5nU2NoZW1hcyhyZXNvbHZlZFNjaGVtYS5zY2hlbWEpLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gIXMuaW52ZXJ0ZWQ7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2NoZW1hRm9yUmVzb3VyY2UoZG9jdW1lbnQudXJpLCBqc29uRG9jdW1lbnQpLnRoZW4oZnVuY3Rpb24gKHNjaGVtYSkge1xuICAgICAgICAgICAgaWYgKHNjaGVtYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBqc29uRG9jdW1lbnQuZ2V0TWF0Y2hpbmdTY2hlbWFzKHNjaGVtYS5zY2hlbWEpLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gIXMuaW52ZXJ0ZWQ7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBKU09OU2NoZW1hU2VydmljZTtcbn0oKSk7XG5leHBvcnQgeyBKU09OU2NoZW1hU2VydmljZSB9O1xudmFyIGlkQ291bnRlciA9IDA7XG5mdW5jdGlvbiBub3JtYWxpemVJZChpZCkge1xuICAgIC8vIHJlbW92ZSB0cmFpbGluZyAnIycsIG5vcm1hbGl6ZSBkcml2ZSBjYXBpdGFsaXphdGlvblxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBVUkkucGFyc2UoaWQpLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVSZXNvdXJjZUZvck1hdGNoaW5nKHJlc291cmNlKSB7XG4gICAgLy8gcmVtb3ZlIHF1ZXJ1ZXMgYW5kIGZyYWdtZW50cywgbm9ybWFsaXplIGRyaXZlIGNhcGl0YWxpemF0aW9uXG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIFVSSS5wYXJzZShyZXNvdXJjZSkud2l0aCh7IGZyYWdtZW50OiBudWxsLCBxdWVyeTogbnVsbCB9KS50b1N0cmluZygpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gcmVzb3VyY2U7XG4gICAgfVxufVxuZnVuY3Rpb24gdG9EaXNwbGF5U3RyaW5nKHVybCkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciB1cmkgPSBVUkkucGFyc2UodXJsKTtcbiAgICAgICAgaWYgKHVyaS5zY2hlbWUgPT09ICdmaWxlJykge1xuICAgICAgICAgICAgcmV0dXJuIHVyaS5mc1BhdGg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaWdub3JlXG4gICAgfVxuICAgIHJldHVybiB1cmw7XG59XG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBVbnJlc29sdmVkU2NoZW1hIH0gZnJvbSAnLi9qc29uU2NoZW1hU2VydmljZS5qcyc7XG5pbXBvcnQgeyBFcnJvckNvZGUsIERpYWdub3N0aWMsIERpYWdub3N0aWNTZXZlcml0eSwgUmFuZ2UgfSBmcm9tICcuLi9qc29uTGFuZ3VhZ2VUeXBlcy5qcyc7XG5pbXBvcnQgKiBhcyBubHMgZnJvbSAnLi4vLi4vLi4vZmlsbGVycy92c2NvZGUtbmxzLmpzJztcbmltcG9ydCB7IGlzQm9vbGVhbiB9IGZyb20gJy4uL3V0aWxzL29iamVjdHMuanMnO1xudmFyIGxvY2FsaXplID0gbmxzLmxvYWRNZXNzYWdlQnVuZGxlKCk7XG52YXIgSlNPTlZhbGlkYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSlNPTlZhbGlkYXRpb24oanNvblNjaGVtYVNlcnZpY2UsIHByb21pc2VDb25zdHJ1Y3Rvcikge1xuICAgICAgICB0aGlzLmpzb25TY2hlbWFTZXJ2aWNlID0ganNvblNjaGVtYVNlcnZpY2U7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2VDb25zdHJ1Y3RvcjtcbiAgICAgICAgdGhpcy52YWxpZGF0aW9uRW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIEpTT05WYWxpZGF0aW9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocmF3KSB7XG4gICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGlvbkVuYWJsZWQgPSByYXcudmFsaWRhdGUgIT09IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jb21tZW50U2V2ZXJpdHkgPSByYXcuYWxsb3dDb21tZW50cyA/IHVuZGVmaW5lZCA6IERpYWdub3N0aWNTZXZlcml0eS5FcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTlZhbGlkYXRpb24ucHJvdG90eXBlLmRvVmFsaWRhdGlvbiA9IGZ1bmN0aW9uICh0ZXh0RG9jdW1lbnQsIGpzb25Eb2N1bWVudCwgZG9jdW1lbnRTZXR0aW5ncywgc2NoZW1hKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0aW9uRW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGlhZ25vc3RpY3MgPSBbXTtcbiAgICAgICAgdmFyIGFkZGVkID0ge307XG4gICAgICAgIHZhciBhZGRQcm9ibGVtID0gZnVuY3Rpb24gKHByb2JsZW0pIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBkdXBsaWNhdGVkIG1lc3NhZ2VzXG4gICAgICAgICAgICB2YXIgc2lnbmF0dXJlID0gcHJvYmxlbS5yYW5nZS5zdGFydC5saW5lICsgJyAnICsgcHJvYmxlbS5yYW5nZS5zdGFydC5jaGFyYWN0ZXIgKyAnICcgKyBwcm9ibGVtLm1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoIWFkZGVkW3NpZ25hdHVyZV0pIHtcbiAgICAgICAgICAgICAgICBhZGRlZFtzaWduYXR1cmVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBkaWFnbm9zdGljcy5wdXNoKHByb2JsZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2V0RGlhZ25vc3RpY3MgPSBmdW5jdGlvbiAoc2NoZW1hKSB7XG4gICAgICAgICAgICB2YXIgdHJhaWxpbmdDb21tYVNldmVyaXR5ID0gZG9jdW1lbnRTZXR0aW5ncyA/IHRvRGlhZ25vc3RpY1NldmVyaXR5KGRvY3VtZW50U2V0dGluZ3MudHJhaWxpbmdDb21tYXMpIDogRGlhZ25vc3RpY1NldmVyaXR5LkVycm9yO1xuICAgICAgICAgICAgdmFyIGNvbW1lbnRTZXZlcml0eSA9IGRvY3VtZW50U2V0dGluZ3MgPyB0b0RpYWdub3N0aWNTZXZlcml0eShkb2N1bWVudFNldHRpbmdzLmNvbW1lbnRzKSA6IF90aGlzLmNvbW1lbnRTZXZlcml0eTtcbiAgICAgICAgICAgIHZhciBzY2hlbWFWYWxpZGF0aW9uID0gKGRvY3VtZW50U2V0dGluZ3MgPT09IG51bGwgfHwgZG9jdW1lbnRTZXR0aW5ncyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZG9jdW1lbnRTZXR0aW5ncy5zY2hlbWFWYWxpZGF0aW9uKSA/IHRvRGlhZ25vc3RpY1NldmVyaXR5KGRvY3VtZW50U2V0dGluZ3Muc2NoZW1hVmFsaWRhdGlvbikgOiBEaWFnbm9zdGljU2V2ZXJpdHkuV2FybmluZztcbiAgICAgICAgICAgIHZhciBzY2hlbWFSZXF1ZXN0ID0gKGRvY3VtZW50U2V0dGluZ3MgPT09IG51bGwgfHwgZG9jdW1lbnRTZXR0aW5ncyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZG9jdW1lbnRTZXR0aW5ncy5zY2hlbWFSZXF1ZXN0KSA/IHRvRGlhZ25vc3RpY1NldmVyaXR5KGRvY3VtZW50U2V0dGluZ3Muc2NoZW1hUmVxdWVzdCkgOiBEaWFnbm9zdGljU2V2ZXJpdHkuV2FybmluZztcbiAgICAgICAgICAgIGlmIChzY2hlbWEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NoZW1hLmVycm9ycy5sZW5ndGggJiYganNvbkRvY3VtZW50LnJvb3QgJiYgc2NoZW1hUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXN0Um9vdCA9IGpzb25Eb2N1bWVudC5yb290O1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBhc3RSb290LnR5cGUgPT09ICdvYmplY3QnID8gYXN0Um9vdC5wcm9wZXJ0aWVzWzBdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkgJiYgcHJvcGVydHkua2V5Tm9kZS52YWx1ZSA9PT0gJyRzY2hlbWEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHByb3BlcnR5LnZhbHVlTm9kZSB8fCBwcm9wZXJ0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IFJhbmdlLmNyZWF0ZSh0ZXh0RG9jdW1lbnQucG9zaXRpb25BdChub2RlLm9mZnNldCksIHRleHREb2N1bWVudC5wb3NpdGlvbkF0KG5vZGUub2Zmc2V0ICsgbm9kZS5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFByb2JsZW0oRGlhZ25vc3RpYy5jcmVhdGUocmFuZ2UsIHNjaGVtYS5lcnJvcnNbMF0sIHNjaGVtYVJlcXVlc3QsIEVycm9yQ29kZS5TY2hlbWFSZXNvbHZlRXJyb3IpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IFJhbmdlLmNyZWF0ZSh0ZXh0RG9jdW1lbnQucG9zaXRpb25BdChhc3RSb290Lm9mZnNldCksIHRleHREb2N1bWVudC5wb3NpdGlvbkF0KGFzdFJvb3Qub2Zmc2V0ICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkUHJvYmxlbShEaWFnbm9zdGljLmNyZWF0ZShyYW5nZSwgc2NoZW1hLmVycm9yc1swXSwgc2NoZW1hUmVxdWVzdCwgRXJyb3JDb2RlLlNjaGVtYVJlc29sdmVFcnJvcikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNjaGVtYVZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbWFudGljRXJyb3JzID0ganNvbkRvY3VtZW50LnZhbGlkYXRlKHRleHREb2N1bWVudCwgc2NoZW1hLnNjaGVtYSwgc2NoZW1hVmFsaWRhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZW1hbnRpY0Vycm9ycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNFcnJvcnMuZm9yRWFjaChhZGRQcm9ibGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2NoZW1hQWxsb3dzQ29tbWVudHMoc2NoZW1hLnNjaGVtYSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudFNldmVyaXR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2NoZW1hQWxsb3dzVHJhaWxpbmdDb21tYXMoc2NoZW1hLnNjaGVtYSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhaWxpbmdDb21tYVNldmVyaXR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBqc29uRG9jdW1lbnQuc3ludGF4RXJyb3JzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBwID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIGlmIChwLmNvZGUgPT09IEVycm9yQ29kZS5UcmFpbGluZ0NvbW1hKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHJhaWxpbmdDb21tYVNldmVyaXR5ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcC5zZXZlcml0eSA9IHRyYWlsaW5nQ29tbWFTZXZlcml0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkUHJvYmxlbShwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29tbWVudFNldmVyaXR5ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlXzEgPSBsb2NhbGl6ZSgnSW52YWxpZENvbW1lbnRUb2tlbicsICdDb21tZW50cyBhcmUgbm90IHBlcm1pdHRlZCBpbiBKU09OLicpO1xuICAgICAgICAgICAgICAgIGpzb25Eb2N1bWVudC5jb21tZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFByb2JsZW0oRGlhZ25vc3RpYy5jcmVhdGUoYywgbWVzc2FnZV8xLCBjb21tZW50U2V2ZXJpdHksIEVycm9yQ29kZS5Db21tZW50Tm90UGVybWl0dGVkKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGlhZ25vc3RpY3M7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChzY2hlbWEpIHtcbiAgICAgICAgICAgIHZhciBpZCA9IHNjaGVtYS5pZCB8fCAoJ3NjaGVtYXNlcnZpY2U6Ly91bnRpdGxlZC8nICsgaWRDb3VudGVyKyspO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuanNvblNjaGVtYVNlcnZpY2UucmVzb2x2ZVNjaGVtYUNvbnRlbnQobmV3IFVucmVzb2x2ZWRTY2hlbWEoc2NoZW1hKSwgaWQsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXNvbHZlZFNjaGVtYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXREaWFnbm9zdGljcyhyZXNvbHZlZFNjaGVtYSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5qc29uU2NoZW1hU2VydmljZS5nZXRTY2hlbWFGb3JSZXNvdXJjZSh0ZXh0RG9jdW1lbnQudXJpLCBqc29uRG9jdW1lbnQpLnRoZW4oZnVuY3Rpb24gKHNjaGVtYSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldERpYWdub3N0aWNzKHNjaGVtYSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEpTT05WYWxpZGF0aW9uO1xufSgpKTtcbmV4cG9ydCB7IEpTT05WYWxpZGF0aW9uIH07XG52YXIgaWRDb3VudGVyID0gMDtcbmZ1bmN0aW9uIHNjaGVtYUFsbG93c0NvbW1lbnRzKHNjaGVtYVJlZikge1xuICAgIGlmIChzY2hlbWFSZWYgJiYgdHlwZW9mIHNjaGVtYVJlZiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKGlzQm9vbGVhbihzY2hlbWFSZWYuYWxsb3dDb21tZW50cykpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWFSZWYuYWxsb3dDb21tZW50cztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hUmVmLmFsbE9mKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gc2NoZW1hUmVmLmFsbE9mOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBzY2hlbWEgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgdmFyIGFsbG93ID0gc2NoZW1hQWxsb3dzQ29tbWVudHMoc2NoZW1hKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNCb29sZWFuKGFsbG93KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsb3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBzY2hlbWFBbGxvd3NUcmFpbGluZ0NvbW1hcyhzY2hlbWFSZWYpIHtcbiAgICBpZiAoc2NoZW1hUmVmICYmIHR5cGVvZiBzY2hlbWFSZWYgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChpc0Jvb2xlYW4oc2NoZW1hUmVmLmFsbG93VHJhaWxpbmdDb21tYXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hUmVmLmFsbG93VHJhaWxpbmdDb21tYXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlcHJTY2hlbWFSZWYgPSBzY2hlbWFSZWY7XG4gICAgICAgIGlmIChpc0Jvb2xlYW4oZGVwclNjaGVtYVJlZlsnYWxsb3dzVHJhaWxpbmdDb21tYXMnXSkpIHsgLy8gZGVwcmVjYXRlZFxuICAgICAgICAgICAgcmV0dXJuIGRlcHJTY2hlbWFSZWZbJ2FsbG93c1RyYWlsaW5nQ29tbWFzJ107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYVJlZi5hbGxPZikge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHNjaGVtYVJlZi5hbGxPZjsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NoZW1hID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIHZhciBhbGxvdyA9IHNjaGVtYUFsbG93c1RyYWlsaW5nQ29tbWFzKHNjaGVtYSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzQm9vbGVhbihhbGxvdykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbG93O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gdG9EaWFnbm9zdGljU2V2ZXJpdHkoc2V2ZXJpdHlMZXZlbCkge1xuICAgIHN3aXRjaCAoc2V2ZXJpdHlMZXZlbCkge1xuICAgICAgICBjYXNlICdlcnJvcic6IHJldHVybiBEaWFnbm9zdGljU2V2ZXJpdHkuRXJyb3I7XG4gICAgICAgIGNhc2UgJ3dhcm5pbmcnOiByZXR1cm4gRGlhZ25vc3RpY1NldmVyaXR5Lldhcm5pbmc7XG4gICAgICAgIGNhc2UgJ2lnbm9yZSc6IHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG52YXIgRGlnaXQwID0gNDg7XG52YXIgRGlnaXQ5ID0gNTc7XG52YXIgQSA9IDY1O1xudmFyIGEgPSA5NztcbnZhciBmID0gMTAyO1xuZXhwb3J0IGZ1bmN0aW9uIGhleERpZ2l0KGNoYXJDb2RlKSB7XG4gICAgaWYgKGNoYXJDb2RlIDwgRGlnaXQwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAoY2hhckNvZGUgPD0gRGlnaXQ5KSB7XG4gICAgICAgIHJldHVybiBjaGFyQ29kZSAtIERpZ2l0MDtcbiAgICB9XG4gICAgaWYgKGNoYXJDb2RlIDwgYSkge1xuICAgICAgICBjaGFyQ29kZSArPSAoYSAtIEEpO1xuICAgIH1cbiAgICBpZiAoY2hhckNvZGUgPj0gYSAmJiBjaGFyQ29kZSA8PSBmKSB7XG4gICAgICAgIHJldHVybiBjaGFyQ29kZSAtIGEgKyAxMDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG59XG5leHBvcnQgZnVuY3Rpb24gY29sb3JGcm9tSGV4KHRleHQpIHtcbiAgICBpZiAodGV4dFswXSAhPT0gJyMnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHN3aXRjaCAodGV4dC5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZWQ6IChoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoMSkpICogMHgxMSkgLyAyNTUuMCxcbiAgICAgICAgICAgICAgICBncmVlbjogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCgyKSkgKiAweDExKSAvIDI1NS4wLFxuICAgICAgICAgICAgICAgIGJsdWU6IChoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoMykpICogMHgxMSkgLyAyNTUuMCxcbiAgICAgICAgICAgICAgICBhbHBoYTogMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZWQ6IChoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoMSkpICogMHgxMSkgLyAyNTUuMCxcbiAgICAgICAgICAgICAgICBncmVlbjogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCgyKSkgKiAweDExKSAvIDI1NS4wLFxuICAgICAgICAgICAgICAgIGJsdWU6IChoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoMykpICogMHgxMSkgLyAyNTUuMCxcbiAgICAgICAgICAgICAgICBhbHBoYTogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCg0KSkgKiAweDExKSAvIDI1NS4wLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZWQ6IChoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoMSkpICogMHgxMCArIGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCgyKSkpIC8gMjU1LjAsXG4gICAgICAgICAgICAgICAgZ3JlZW46IChoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoMykpICogMHgxMCArIGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCg0KSkpIC8gMjU1LjAsXG4gICAgICAgICAgICAgICAgYmx1ZTogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCg1KSkgKiAweDEwICsgaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDYpKSkgLyAyNTUuMCxcbiAgICAgICAgICAgICAgICBhbHBoYTogMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZWQ6IChoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoMSkpICogMHgxMCArIGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCgyKSkpIC8gMjU1LjAsXG4gICAgICAgICAgICAgICAgZ3JlZW46IChoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoMykpICogMHgxMCArIGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCg0KSkpIC8gMjU1LjAsXG4gICAgICAgICAgICAgICAgYmx1ZTogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCg1KSkgKiAweDEwICsgaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDYpKSkgLyAyNTUuMCxcbiAgICAgICAgICAgICAgICBhbHBoYTogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCg3KSkgKiAweDEwICsgaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDgpKSkgLyAyNTUuMFxuICAgICAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb2xvckZyb20yNTZSR0IocmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEpIHtcbiAgICBpZiAoYWxwaGEgPT09IHZvaWQgMCkgeyBhbHBoYSA9IDEuMDsgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlZDogcmVkIC8gMjU1LjAsXG4gICAgICAgIGdyZWVuOiBncmVlbiAvIDI1NS4wLFxuICAgICAgICBibHVlOiBibHVlIC8gMjU1LjAsXG4gICAgICAgIGFscGhhOiBhbHBoYVxuICAgIH07XG59XG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgKiBhcyBQYXJzZXIgZnJvbSAnLi4vcGFyc2VyL2pzb25QYXJzZXIuanMnO1xuaW1wb3J0ICogYXMgU3RyaW5ncyBmcm9tICcuLi91dGlscy9zdHJpbmdzLmpzJztcbmltcG9ydCB7IGNvbG9yRnJvbUhleCB9IGZyb20gJy4uL3V0aWxzL2NvbG9ycy5qcyc7XG5pbXBvcnQgeyBSYW5nZSwgVGV4dEVkaXQsIFN5bWJvbEtpbmQsIExvY2F0aW9uIH0gZnJvbSBcIi4uL2pzb25MYW5ndWFnZVR5cGVzLmpzXCI7XG52YXIgSlNPTkRvY3VtZW50U3ltYm9scyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBKU09ORG9jdW1lbnRTeW1ib2xzKHNjaGVtYVNlcnZpY2UpIHtcbiAgICAgICAgdGhpcy5zY2hlbWFTZXJ2aWNlID0gc2NoZW1hU2VydmljZTtcbiAgICB9XG4gICAgSlNPTkRvY3VtZW50U3ltYm9scy5wcm90b3R5cGUuZmluZERvY3VtZW50U3ltYm9scyA9IGZ1bmN0aW9uIChkb2N1bWVudCwgZG9jLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IHsgcmVzdWx0TGltaXQ6IE51bWJlci5NQVhfVkFMVUUgfTsgfVxuICAgICAgICB2YXIgcm9vdCA9IGRvYy5yb290O1xuICAgICAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGltaXQgPSBjb250ZXh0LnJlc3VsdExpbWl0IHx8IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgIC8vIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGtleSBiaW5kaW5nc1xuICAgICAgICB2YXIgcmVzb3VyY2VTdHJpbmcgPSBkb2N1bWVudC51cmk7XG4gICAgICAgIGlmICgocmVzb3VyY2VTdHJpbmcgPT09ICd2c2NvZGU6Ly9kZWZhdWx0c2V0dGluZ3Mva2V5YmluZGluZ3MuanNvbicpIHx8IFN0cmluZ3MuZW5kc1dpdGgocmVzb3VyY2VTdHJpbmcudG9Mb3dlckNhc2UoKSwgJy91c2VyL2tleWJpbmRpbmdzLmpzb24nKSkge1xuICAgICAgICAgICAgaWYgKHJvb3QudHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHRfMSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSByb290Lml0ZW1zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSBpdGVtLnByb3BlcnRpZXM7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gX2NbX2JdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5rZXlOb2RlLnZhbHVlID09PSAna2V5JyAmJiBwcm9wZXJ0eS52YWx1ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gTG9jYXRpb24uY3JlYXRlKGRvY3VtZW50LnVyaSwgZ2V0UmFuZ2UoZG9jdW1lbnQsIGl0ZW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0XzEucHVzaCh7IG5hbWU6IFBhcnNlci5nZXROb2RlVmFsdWUocHJvcGVydHkudmFsdWVOb2RlKSwga2luZDogU3ltYm9sS2luZC5GdW5jdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGltaXQgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5vblJlc3VsdExpbWl0RXhjZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm9uUmVzdWx0TGltaXRFeGNlZWRlZChyZXNvdXJjZVN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XzE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdF8xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0b1Zpc2l0ID0gW1xuICAgICAgICAgICAgeyBub2RlOiByb290LCBjb250YWluZXJOYW1lOiAnJyB9XG4gICAgICAgIF07XG4gICAgICAgIHZhciBuZXh0VG9WaXNpdCA9IDA7XG4gICAgICAgIHZhciBsaW1pdEV4Y2VlZGVkID0gZmFsc2U7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgdmFyIGNvbGxlY3RPdXRsaW5lRW50cmllcyA9IGZ1bmN0aW9uIChub2RlLCBjb250YWluZXJOYW1lKSB7XG4gICAgICAgICAgICBpZiAobm9kZS50eXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b1Zpc2l0LnB1c2goeyBub2RlOiBub2RlLCBjb250YWluZXJOYW1lOiBjb250YWluZXJOYW1lIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLnR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5wcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZU5vZGUgPSBwcm9wZXJ0eS52YWx1ZU5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW1pdCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IExvY2F0aW9uLmNyZWF0ZShkb2N1bWVudC51cmksIGdldFJhbmdlKGRvY3VtZW50LCBwcm9wZXJ0eSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZENvbnRhaW5lck5hbWUgPSBjb250YWluZXJOYW1lID8gY29udGFpbmVyTmFtZSArICcuJyArIHByb3BlcnR5LmtleU5vZGUudmFsdWUgOiBwcm9wZXJ0eS5rZXlOb2RlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgbmFtZTogX3RoaXMuZ2V0S2V5TGFiZWwocHJvcGVydHkpLCBraW5kOiBfdGhpcy5nZXRTeW1ib2xLaW5kKHZhbHVlTm9kZS50eXBlKSwgbG9jYXRpb246IGxvY2F0aW9uLCBjb250YWluZXJOYW1lOiBjb250YWluZXJOYW1lIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvVmlzaXQucHVzaCh7IG5vZGU6IHZhbHVlTm9kZSwgY29udGFpbmVyTmFtZTogY2hpbGRDb250YWluZXJOYW1lIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRFeGNlZWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gYnJlYXRoIGZpcnN0IHRyYXZlcnNhbFxuICAgICAgICB3aGlsZSAobmV4dFRvVmlzaXQgPCB0b1Zpc2l0Lmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIG5leHQgPSB0b1Zpc2l0W25leHRUb1Zpc2l0KytdO1xuICAgICAgICAgICAgY29sbGVjdE91dGxpbmVFbnRyaWVzKG5leHQubm9kZSwgbmV4dC5jb250YWluZXJOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGltaXRFeGNlZWRlZCAmJiBjb250ZXh0ICYmIGNvbnRleHQub25SZXN1bHRMaW1pdEV4Y2VlZGVkKSB7XG4gICAgICAgICAgICBjb250ZXh0Lm9uUmVzdWx0TGltaXRFeGNlZWRlZChyZXNvdXJjZVN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEpTT05Eb2N1bWVudFN5bWJvbHMucHJvdG90eXBlLmZpbmREb2N1bWVudFN5bWJvbHMyID0gZnVuY3Rpb24gKGRvY3VtZW50LCBkb2MsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0geyByZXN1bHRMaW1pdDogTnVtYmVyLk1BWF9WQUxVRSB9OyB9XG4gICAgICAgIHZhciByb290ID0gZG9jLnJvb3Q7XG4gICAgICAgIGlmICghcm9vdCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW1pdCA9IGNvbnRleHQucmVzdWx0TGltaXQgfHwgTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgLy8gc3BlY2lhbCBoYW5kbGluZyBmb3Iga2V5IGJpbmRpbmdzXG4gICAgICAgIHZhciByZXNvdXJjZVN0cmluZyA9IGRvY3VtZW50LnVyaTtcbiAgICAgICAgaWYgKChyZXNvdXJjZVN0cmluZyA9PT0gJ3ZzY29kZTovL2RlZmF1bHRzZXR0aW5ncy9rZXliaW5kaW5ncy5qc29uJykgfHwgU3RyaW5ncy5lbmRzV2l0aChyZXNvdXJjZVN0cmluZy50b0xvd2VyQ2FzZSgpLCAnL3VzZXIva2V5YmluZGluZ3MuanNvbicpKSB7XG4gICAgICAgICAgICBpZiAocm9vdC50eXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdF8yID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHJvb3QuaXRlbXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IGl0ZW0ucHJvcGVydGllczsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBfY1tfYl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5LmtleU5vZGUudmFsdWUgPT09ICdrZXknICYmIHByb3BlcnR5LnZhbHVlTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBnZXRSYW5nZShkb2N1bWVudCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3Rpb25SYW5nZSA9IGdldFJhbmdlKGRvY3VtZW50LCBwcm9wZXJ0eS5rZXlOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0XzIucHVzaCh7IG5hbWU6IFBhcnNlci5nZXROb2RlVmFsdWUocHJvcGVydHkudmFsdWVOb2RlKSwga2luZDogU3ltYm9sS2luZC5GdW5jdGlvbiwgcmFuZ2U6IHJhbmdlLCBzZWxlY3Rpb25SYW5nZTogc2VsZWN0aW9uUmFuZ2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0LS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW1pdCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0Lm9uUmVzdWx0TGltaXRFeGNlZWRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQub25SZXN1bHRMaW1pdEV4Y2VlZGVkKHJlc291cmNlU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRfMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XzI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgdG9WaXNpdCA9IFtcbiAgICAgICAgICAgIHsgbm9kZTogcm9vdCwgcmVzdWx0OiByZXN1bHQgfVxuICAgICAgICBdO1xuICAgICAgICB2YXIgbmV4dFRvVmlzaXQgPSAwO1xuICAgICAgICB2YXIgbGltaXRFeGNlZWRlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgY29sbGVjdE91dGxpbmVFbnRyaWVzID0gZnVuY3Rpb24gKG5vZGUsIHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgIG5vZGUuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW1pdCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IGdldFJhbmdlKGRvY3VtZW50LCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0aW9uUmFuZ2UgPSByYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IFN0cmluZyhpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN5bWJvbCA9IHsgbmFtZTogbmFtZSwga2luZDogX3RoaXMuZ2V0U3ltYm9sS2luZChub2RlLnR5cGUpLCByYW5nZTogcmFuZ2UsIHNlbGVjdGlvblJhbmdlOiBzZWxlY3Rpb25SYW5nZSwgY2hpbGRyZW46IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc3ltYm9sKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1Zpc2l0LnB1c2goeyByZXN1bHQ6IHN5bWJvbC5jaGlsZHJlbiwgbm9kZTogbm9kZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0RXhjZWVkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLnR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5wcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZU5vZGUgPSBwcm9wZXJ0eS52YWx1ZU5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW1pdCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IGdldFJhbmdlKGRvY3VtZW50LCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGlvblJhbmdlID0gZ2V0UmFuZ2UoZG9jdW1lbnQsIHByb3BlcnR5LmtleU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzeW1ib2wgPSB7IG5hbWU6IF90aGlzLmdldEtleUxhYmVsKHByb3BlcnR5KSwga2luZDogX3RoaXMuZ2V0U3ltYm9sS2luZCh2YWx1ZU5vZGUudHlwZSksIHJhbmdlOiByYW5nZSwgc2VsZWN0aW9uUmFuZ2U6IHNlbGVjdGlvblJhbmdlLCBjaGlsZHJlbjogY2hpbGRyZW4sIGRldGFpbDogX3RoaXMuZ2V0RGV0YWlsKHZhbHVlTm9kZSkgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzeW1ib2wpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvVmlzaXQucHVzaCh7IHJlc3VsdDogY2hpbGRyZW4sIG5vZGU6IHZhbHVlTm9kZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0RXhjZWVkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIGJyZWF0aCBmaXJzdCB0cmF2ZXJzYWxcbiAgICAgICAgd2hpbGUgKG5leHRUb1Zpc2l0IDwgdG9WaXNpdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gdG9WaXNpdFtuZXh0VG9WaXNpdCsrXTtcbiAgICAgICAgICAgIGNvbGxlY3RPdXRsaW5lRW50cmllcyhuZXh0Lm5vZGUsIG5leHQucmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGltaXRFeGNlZWRlZCAmJiBjb250ZXh0ICYmIGNvbnRleHQub25SZXN1bHRMaW1pdEV4Y2VlZGVkKSB7XG4gICAgICAgICAgICBjb250ZXh0Lm9uUmVzdWx0TGltaXRFeGNlZWRlZChyZXNvdXJjZVN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEpTT05Eb2N1bWVudFN5bWJvbHMucHJvdG90eXBlLmdldFN5bWJvbEtpbmQgPSBmdW5jdGlvbiAobm9kZVR5cGUpIHtcbiAgICAgICAgc3dpdGNoIChub2RlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gU3ltYm9sS2luZC5Nb2R1bGU7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIHJldHVybiBTeW1ib2xLaW5kLlN0cmluZztcbiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN5bWJvbEtpbmQuTnVtYmVyO1xuICAgICAgICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgICAgICAgICAgIHJldHVybiBTeW1ib2xLaW5kLkFycmF5O1xuICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN5bWJvbEtpbmQuQm9vbGVhbjtcbiAgICAgICAgICAgIGRlZmF1bHQ6IC8vICdudWxsJ1xuICAgICAgICAgICAgICAgIHJldHVybiBTeW1ib2xLaW5kLlZhcmlhYmxlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBKU09ORG9jdW1lbnRTeW1ib2xzLnByb3RvdHlwZS5nZXRLZXlMYWJlbCA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgICB2YXIgbmFtZSA9IHByb3BlcnR5LmtleU5vZGUudmFsdWU7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxuXS9nLCAnXHUyMUI1Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgJiYgbmFtZS50cmltKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlxcXCJcIiArIG5hbWUgKyBcIlxcXCJcIjtcbiAgICB9O1xuICAgIEpTT05Eb2N1bWVudFN5bWJvbHMucHJvdG90eXBlLmdldERldGFpbCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS50eXBlID09PSAnYm9vbGVhbicgfHwgbm9kZS50eXBlID09PSAnbnVtYmVyJyB8fCBub2RlLnR5cGUgPT09ICdudWxsJyB8fCBub2RlLnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKG5vZGUudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmNoaWxkcmVuLmxlbmd0aCA/IHVuZGVmaW5lZCA6ICdbXSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLnR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID8gdW5kZWZpbmVkIDogJ3t9JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgSlNPTkRvY3VtZW50U3ltYm9scy5wcm90b3R5cGUuZmluZERvY3VtZW50Q29sb3JzID0gZnVuY3Rpb24gKGRvY3VtZW50LCBkb2MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NoZW1hU2VydmljZS5nZXRTY2hlbWFGb3JSZXNvdXJjZShkb2N1bWVudC51cmksIGRvYykudGhlbihmdW5jdGlvbiAoc2NoZW1hKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICBpZiAoc2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpbWl0ID0gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5yZXN1bHRMaW1pdCA9PT0gJ251bWJlcicgPyBjb250ZXh0LnJlc3VsdExpbWl0IDogTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hpbmdTY2hlbWFzID0gZG9jLmdldE1hdGNoaW5nU2NoZW1hcyhzY2hlbWEuc2NoZW1hKTtcbiAgICAgICAgICAgICAgICB2YXIgdmlzaXRlZE5vZGUgPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG1hdGNoaW5nU2NoZW1hc18xID0gbWF0Y2hpbmdTY2hlbWFzOyBfaSA8IG1hdGNoaW5nU2NoZW1hc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IG1hdGNoaW5nU2NoZW1hc18xW19pXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzLmludmVydGVkICYmIHMuc2NoZW1hICYmIChzLnNjaGVtYS5mb3JtYXQgPT09ICdjb2xvcicgfHwgcy5zY2hlbWEuZm9ybWF0ID09PSAnY29sb3ItaGV4JykgJiYgcy5ub2RlICYmIHMubm9kZS50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVJZCA9IFN0cmluZyhzLm5vZGUub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmlzaXRlZE5vZGVbbm9kZUlkXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IGNvbG9yRnJvbUhleChQYXJzZXIuZ2V0Tm9kZVZhbHVlKHMubm9kZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBnZXRSYW5nZShkb2N1bWVudCwgcy5ub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBjb2xvcjogY29sb3IsIHJhbmdlOiByYW5nZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZE5vZGVbbm9kZUlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGltaXQgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0Lm9uUmVzdWx0TGltaXRFeGNlZWRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vblJlc3VsdExpbWl0RXhjZWVkZWQoZG9jdW1lbnQudXJpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSlNPTkRvY3VtZW50U3ltYm9scy5wcm90b3R5cGUuZ2V0Q29sb3JQcmVzZW50YXRpb25zID0gZnVuY3Rpb24gKGRvY3VtZW50LCBkb2MsIGNvbG9yLCByYW5nZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIHZhciByZWQyNTYgPSBNYXRoLnJvdW5kKGNvbG9yLnJlZCAqIDI1NSksIGdyZWVuMjU2ID0gTWF0aC5yb3VuZChjb2xvci5ncmVlbiAqIDI1NSksIGJsdWUyNTYgPSBNYXRoLnJvdW5kKGNvbG9yLmJsdWUgKiAyNTUpO1xuICAgICAgICBmdW5jdGlvbiB0b1R3b0RpZ2l0SGV4KG4pIHtcbiAgICAgICAgICAgIHZhciByID0gbi50b1N0cmluZygxNik7XG4gICAgICAgICAgICByZXR1cm4gci5sZW5ndGggIT09IDIgPyAnMCcgKyByIDogcjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFiZWw7XG4gICAgICAgIGlmIChjb2xvci5hbHBoYSA9PT0gMSkge1xuICAgICAgICAgICAgbGFiZWwgPSBcIiNcIiArIHRvVHdvRGlnaXRIZXgocmVkMjU2KSArIHRvVHdvRGlnaXRIZXgoZ3JlZW4yNTYpICsgdG9Ud29EaWdpdEhleChibHVlMjU2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxhYmVsID0gXCIjXCIgKyB0b1R3b0RpZ2l0SGV4KHJlZDI1NikgKyB0b1R3b0RpZ2l0SGV4KGdyZWVuMjU2KSArIHRvVHdvRGlnaXRIZXgoYmx1ZTI1NikgKyB0b1R3b0RpZ2l0SGV4KE1hdGgucm91bmQoY29sb3IuYWxwaGEgKiAyNTUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQucHVzaCh7IGxhYmVsOiBsYWJlbCwgdGV4dEVkaXQ6IFRleHRFZGl0LnJlcGxhY2UocmFuZ2UsIEpTT04uc3RyaW5naWZ5KGxhYmVsKSkgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICByZXR1cm4gSlNPTkRvY3VtZW50U3ltYm9scztcbn0oKSk7XG5leHBvcnQgeyBKU09ORG9jdW1lbnRTeW1ib2xzIH07XG5mdW5jdGlvbiBnZXRSYW5nZShkb2N1bWVudCwgbm9kZSkge1xuICAgIHJldHVybiBSYW5nZS5jcmVhdGUoZG9jdW1lbnQucG9zaXRpb25BdChub2RlLm9mZnNldCksIGRvY3VtZW50LnBvc2l0aW9uQXQobm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCkpO1xufVxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0ICogYXMgbmxzIGZyb20gJy4uLy4uLy4uL2ZpbGxlcnMvdnNjb2RlLW5scy5qcyc7XG52YXIgbG9jYWxpemUgPSBubHMubG9hZE1lc3NhZ2VCdW5kbGUoKTtcbmV4cG9ydCB2YXIgc2NoZW1hQ29udHJpYnV0aW9ucyA9IHtcbiAgICBzY2hlbWFBc3NvY2lhdGlvbnM6IFtdLFxuICAgIHNjaGVtYXM6IHtcbiAgICAgICAgLy8gcmVmZXIgdG8gdGhlIGxhdGVzdCBzY2hlbWFcbiAgICAgICAgJ2h0dHA6Ly9qc29uLXNjaGVtYS5vcmcvc2NoZW1hIyc6IHtcbiAgICAgICAgICAgICRyZWY6ICdodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA3L3NjaGVtYSMnXG4gICAgICAgIH0sXG4gICAgICAgIC8vIGJ1bmRsZSB0aGUgc2NoZW1hLXNjaGVtYSB0byBpbmNsdWRlIChsb2NhbGl6ZWQpIGRlc2NyaXB0aW9uc1xuICAgICAgICAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjJzoge1xuICAgICAgICAgICAgJ3RpdGxlJzogbG9jYWxpemUoJ3NjaGVtYS5qc29uJywgJ0Rlc2NyaWJlcyBhIEpTT04gZmlsZSB1c2luZyBhIHNjaGVtYS4gU2VlIGpzb24tc2NoZW1hLm9yZyBmb3IgbW9yZSBpbmZvLicpLFxuICAgICAgICAgICAgJyRzY2hlbWEnOiAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjJyxcbiAgICAgICAgICAgICdkZWZpbml0aW9ucyc6IHtcbiAgICAgICAgICAgICAgICAnc2NoZW1hQXJyYXknOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ2FycmF5JyxcbiAgICAgICAgICAgICAgICAgICAgJ21pbkl0ZW1zJzogMSxcbiAgICAgICAgICAgICAgICAgICAgJ2l0ZW1zJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyRyZWYnOiAnIydcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3Bvc2l0aXZlSW50ZWdlcic6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnaW50ZWdlcicsXG4gICAgICAgICAgICAgICAgICAgICdtaW5pbXVtJzogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3Bvc2l0aXZlSW50ZWdlckRlZmF1bHQwJzoge1xuICAgICAgICAgICAgICAgICAgICAnYWxsT2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9wb3NpdGl2ZUludGVnZXInXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkZWZhdWx0JzogMFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnc2ltcGxlVHlwZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ3N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICdlbnVtJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FycmF5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdib29sZWFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdpbnRlZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdudWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdudW1iZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnc3RyaW5nQXJyYXknOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ2FycmF5JyxcbiAgICAgICAgICAgICAgICAgICAgJ2l0ZW1zJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnbWluSXRlbXMnOiAxLFxuICAgICAgICAgICAgICAgICAgICAndW5pcXVlSXRlbXMnOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICd0eXBlJzogJ29iamVjdCcsXG4gICAgICAgICAgICAncHJvcGVydGllcyc6IHtcbiAgICAgICAgICAgICAgICAnaWQnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ3N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICdmb3JtYXQnOiAndXJpJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJyRzY2hlbWEnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ3N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICdmb3JtYXQnOiAndXJpJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3RpdGxlJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ3N0cmluZydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdkZWZhdWx0Jzoge30sXG4gICAgICAgICAgICAgICAgJ211bHRpcGxlT2YnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ251bWJlcicsXG4gICAgICAgICAgICAgICAgICAgICdtaW5pbXVtJzogMCxcbiAgICAgICAgICAgICAgICAgICAgJ2V4Y2x1c2l2ZU1pbmltdW0nOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbWF4aW11bSc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2V4Y2x1c2l2ZU1heGltdW0nOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbWluaW11bSc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2V4Y2x1c2l2ZU1pbmltdW0nOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbWF4TGVuZ3RoJzoge1xuICAgICAgICAgICAgICAgICAgICAnYWxsT2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9wb3NpdGl2ZUludGVnZXInXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdtaW5MZW5ndGgnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbGxPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHJlZic6ICcjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlckRlZmF1bHQwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAncGF0dGVybic6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgJ2Zvcm1hdCc6ICdyZWdleCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdhZGRpdGlvbmFsSXRlbXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbnlPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdib29sZWFuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHJlZic6ICcjJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IHt9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnaXRlbXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbnlPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHJlZic6ICcjJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHJlZic6ICcjL2RlZmluaXRpb25zL3NjaGVtYUFycmF5J1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IHt9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbWF4SXRlbXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbGxPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHJlZic6ICcjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ21pbkl0ZW1zJzoge1xuICAgICAgICAgICAgICAgICAgICAnYWxsT2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9wb3NpdGl2ZUludGVnZXJEZWZhdWx0MCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3VuaXF1ZUl0ZW1zJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdib29sZWFuJyxcbiAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ21heFByb3BlcnRpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbGxPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHJlZic6ICcjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ21pblByb3BlcnRpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbGxPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHJlZic6ICcjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlckRlZmF1bHQwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAncmVxdWlyZWQnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbGxPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHJlZic6ICcjL2RlZmluaXRpb25zL3N0cmluZ0FycmF5J1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnYWRkaXRpb25hbFByb3BlcnRpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbnlPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdib29sZWFuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJHJlZic6ICcjJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IHt9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZGVmaW5pdGlvbnMnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICdhZGRpdGlvbmFsUHJvcGVydGllcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICckcmVmJzogJyMnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdkZWZhdWx0Jzoge31cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdwcm9wZXJ0aWVzJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAnYWRkaXRpb25hbFByb3BlcnRpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnJHJlZic6ICcjJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IHt9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAncGF0dGVyblByb3BlcnRpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICdhZGRpdGlvbmFsUHJvcGVydGllcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICckcmVmJzogJyMnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdkZWZhdWx0Jzoge31cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdkZXBlbmRlbmNpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICdhZGRpdGlvbmFsUHJvcGVydGllcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhbnlPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckcmVmJzogJyMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckcmVmJzogJyMvZGVmaW5pdGlvbnMvc3RyaW5nQXJyYXknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZW51bSc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnYXJyYXknLFxuICAgICAgICAgICAgICAgICAgICAnbWluSXRlbXMnOiAxLFxuICAgICAgICAgICAgICAgICAgICAndW5pcXVlSXRlbXMnOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAndHlwZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2FueU9mJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICckcmVmJzogJyMvZGVmaW5pdGlvbnMvc2ltcGxlVHlwZXMnXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ2FycmF5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXRlbXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckcmVmJzogJyMvZGVmaW5pdGlvbnMvc2ltcGxlVHlwZXMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWluSXRlbXMnOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1bmlxdWVJdGVtcyc6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2Zvcm1hdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2FueU9mJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ3N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VudW0nOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkYXRlLXRpbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXJpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hvc3RuYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lwdjQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXB2NicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZWdleCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2FsbE9mJzoge1xuICAgICAgICAgICAgICAgICAgICAnYWxsT2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2FueU9mJzoge1xuICAgICAgICAgICAgICAgICAgICAnYWxsT2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ29uZU9mJzoge1xuICAgICAgICAgICAgICAgICAgICAnYWxsT2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ25vdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2FsbE9mJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICckcmVmJzogJyMnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2RlcGVuZGVuY2llcyc6IHtcbiAgICAgICAgICAgICAgICAnZXhjbHVzaXZlTWF4aW11bSc6IFtcbiAgICAgICAgICAgICAgICAgICAgJ21heGltdW0nXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnZXhjbHVzaXZlTWluaW11bSc6IFtcbiAgICAgICAgICAgICAgICAgICAgJ21pbmltdW0nXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdkZWZhdWx0Jzoge31cbiAgICAgICAgfSxcbiAgICAgICAgJ2h0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIyc6IHtcbiAgICAgICAgICAgICd0aXRsZSc6IGxvY2FsaXplKCdzY2hlbWEuanNvbicsICdEZXNjcmliZXMgYSBKU09OIGZpbGUgdXNpbmcgYSBzY2hlbWEuIFNlZSBqc29uLXNjaGVtYS5vcmcgZm9yIG1vcmUgaW5mby4nKSxcbiAgICAgICAgICAgICdkZWZpbml0aW9ucyc6IHtcbiAgICAgICAgICAgICAgICAnc2NoZW1hQXJyYXknOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ2FycmF5JyxcbiAgICAgICAgICAgICAgICAgICAgJ21pbkl0ZW1zJzogMSxcbiAgICAgICAgICAgICAgICAgICAgJ2l0ZW1zJzogeyAnJHJlZic6ICcjJyB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbm9uTmVnYXRpdmVJbnRlZ2VyJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdpbnRlZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgJ21pbmltdW0nOiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbm9uTmVnYXRpdmVJbnRlZ2VyRGVmYXVsdDAnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbGxPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9ub25OZWdhdGl2ZUludGVnZXInIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7ICdkZWZhdWx0JzogMCB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdzaW1wbGVUeXBlcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2VudW0nOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJyYXknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ludGVnZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ251bGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ251bWJlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdzdHJpbmdBcnJheSc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnYXJyYXknLFxuICAgICAgICAgICAgICAgICAgICAnaXRlbXMnOiB7ICd0eXBlJzogJ3N0cmluZycgfSxcbiAgICAgICAgICAgICAgICAgICAgJ3VuaXF1ZUl0ZW1zJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiBbXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAndHlwZSc6IFsnb2JqZWN0JywgJ2Jvb2xlYW4nXSxcbiAgICAgICAgICAgICdwcm9wZXJ0aWVzJzoge1xuICAgICAgICAgICAgICAgICckaWQnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ3N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICdmb3JtYXQnOiAndXJpLXJlZmVyZW5jZSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICckc2NoZW1hJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAnZm9ybWF0JzogJ3VyaSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICckcmVmJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAnZm9ybWF0JzogJ3VyaS1yZWZlcmVuY2UnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnJGNvbW1lbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ3N0cmluZydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICd0aXRsZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IHRydWUsXG4gICAgICAgICAgICAgICAgJ3JlYWRPbmx5Jzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdib29sZWFuJyxcbiAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2V4YW1wbGVzJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdhcnJheScsXG4gICAgICAgICAgICAgICAgICAgICdpdGVtcyc6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdtdWx0aXBsZU9mJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdudW1iZXInLFxuICAgICAgICAgICAgICAgICAgICAnZXhjbHVzaXZlTWluaW11bSc6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdtYXhpbXVtJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdudW1iZXInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZXhjbHVzaXZlTWF4aW11bSc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ21pbmltdW0nOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ251bWJlcidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdleGNsdXNpdmVNaW5pbXVtJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdudW1iZXInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbWF4TGVuZ3RoJzogeyAnJHJlZic6ICcjL2RlZmluaXRpb25zL25vbk5lZ2F0aXZlSW50ZWdlcicgfSxcbiAgICAgICAgICAgICAgICAnbWluTGVuZ3RoJzogeyAnJHJlZic6ICcjL2RlZmluaXRpb25zL25vbk5lZ2F0aXZlSW50ZWdlckRlZmF1bHQwJyB9LFxuICAgICAgICAgICAgICAgICdwYXR0ZXJuJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAnZm9ybWF0JzogJ3JlZ2V4J1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2FkZGl0aW9uYWxJdGVtcyc6IHsgJyRyZWYnOiAnIycgfSxcbiAgICAgICAgICAgICAgICAnaXRlbXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbnlPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgJyRyZWYnOiAnIycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheScgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdtYXhJdGVtcyc6IHsgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9ub25OZWdhdGl2ZUludGVnZXInIH0sXG4gICAgICAgICAgICAgICAgJ21pbkl0ZW1zJzogeyAnJHJlZic6ICcjL2RlZmluaXRpb25zL25vbk5lZ2F0aXZlSW50ZWdlckRlZmF1bHQwJyB9LFxuICAgICAgICAgICAgICAgICd1bmlxdWVJdGVtcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnYm9vbGVhbicsXG4gICAgICAgICAgICAgICAgICAgICdkZWZhdWx0JzogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdjb250YWlucyc6IHsgJyRyZWYnOiAnIycgfSxcbiAgICAgICAgICAgICAgICAnbWF4UHJvcGVydGllcyc6IHsgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9ub25OZWdhdGl2ZUludGVnZXInIH0sXG4gICAgICAgICAgICAgICAgJ21pblByb3BlcnRpZXMnOiB7ICckcmVmJzogJyMvZGVmaW5pdGlvbnMvbm9uTmVnYXRpdmVJbnRlZ2VyRGVmYXVsdDAnIH0sXG4gICAgICAgICAgICAgICAgJ3JlcXVpcmVkJzogeyAnJHJlZic6ICcjL2RlZmluaXRpb25zL3N0cmluZ0FycmF5JyB9LFxuICAgICAgICAgICAgICAgICdhZGRpdGlvbmFsUHJvcGVydGllcyc6IHsgJyRyZWYnOiAnIycgfSxcbiAgICAgICAgICAgICAgICAnZGVmaW5pdGlvbnMnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICdhZGRpdGlvbmFsUHJvcGVydGllcyc6IHsgJyRyZWYnOiAnIycgfSxcbiAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiB7fVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICdhZGRpdGlvbmFsUHJvcGVydGllcyc6IHsgJyRyZWYnOiAnIycgfSxcbiAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiB7fVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3BhdHRlcm5Qcm9wZXJ0aWVzJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAnYWRkaXRpb25hbFByb3BlcnRpZXMnOiB7ICckcmVmJzogJyMnIH0sXG4gICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eU5hbWVzJzogeyAnZm9ybWF0JzogJ3JlZ2V4JyB9LFxuICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IHt9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZGVwZW5kZW5jaWVzJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAnYWRkaXRpb25hbFByb3BlcnRpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnYW55T2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAnJHJlZic6ICcjJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9zdHJpbmdBcnJheScgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAncHJvcGVydHlOYW1lcyc6IHsgJyRyZWYnOiAnIycgfSxcbiAgICAgICAgICAgICAgICAnY29uc3QnOiB0cnVlLFxuICAgICAgICAgICAgICAgICdlbnVtJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdhcnJheScsXG4gICAgICAgICAgICAgICAgICAgICdpdGVtcyc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICdtaW5JdGVtcyc6IDEsXG4gICAgICAgICAgICAgICAgICAgICd1bmlxdWVJdGVtcyc6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICd0eXBlJzoge1xuICAgICAgICAgICAgICAgICAgICAnYW55T2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7ICckcmVmJzogJyMvZGVmaW5pdGlvbnMvc2ltcGxlVHlwZXMnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnYXJyYXknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpdGVtcyc6IHsgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9zaW1wbGVUeXBlcycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWluSXRlbXMnOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1bmlxdWVJdGVtcyc6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2Zvcm1hdCc6IHsgJ3R5cGUnOiAnc3RyaW5nJyB9LFxuICAgICAgICAgICAgICAgICdjb250ZW50TWVkaWFUeXBlJzogeyAndHlwZSc6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRFbmNvZGluZyc6IHsgJ3R5cGUnOiAnc3RyaW5nJyB9LFxuICAgICAgICAgICAgICAgICdpZic6IHsgJyRyZWYnOiAnIycgfSxcbiAgICAgICAgICAgICAgICAndGhlbic6IHsgJyRyZWYnOiAnIycgfSxcbiAgICAgICAgICAgICAgICAnZWxzZSc6IHsgJyRyZWYnOiAnIycgfSxcbiAgICAgICAgICAgICAgICAnYWxsT2YnOiB7ICckcmVmJzogJyMvZGVmaW5pdGlvbnMvc2NoZW1hQXJyYXknIH0sXG4gICAgICAgICAgICAgICAgJ2FueU9mJzogeyAnJHJlZic6ICcjL2RlZmluaXRpb25zL3NjaGVtYUFycmF5JyB9LFxuICAgICAgICAgICAgICAgICdvbmVPZic6IHsgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheScgfSxcbiAgICAgICAgICAgICAgICAnbm90JzogeyAnJHJlZic6ICcjJyB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2RlZmF1bHQnOiB0cnVlXG4gICAgICAgIH1cbiAgICB9XG59O1xudmFyIGRlc2NyaXB0aW9ucyA9IHtcbiAgICBpZDogbG9jYWxpemUoJ3NjaGVtYS5qc29uLmlkJywgXCJBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgc2NoZW1hLlwiKSxcbiAgICAkc2NoZW1hOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uJHNjaGVtYScsIFwiVGhlIHNjaGVtYSB0byB2ZXJpZnkgdGhpcyBkb2N1bWVudCBhZ2FpbnN0LlwiKSxcbiAgICB0aXRsZTogbG9jYWxpemUoJ3NjaGVtYS5qc29uLnRpdGxlJywgXCJBIGRlc2NyaXB0aXZlIHRpdGxlIG9mIHRoZSBlbGVtZW50LlwiKSxcbiAgICBkZXNjcmlwdGlvbjogbG9jYWxpemUoJ3NjaGVtYS5qc29uLmRlc2NyaXB0aW9uJywgXCJBIGxvbmcgZGVzY3JpcHRpb24gb2YgdGhlIGVsZW1lbnQuIFVzZWQgaW4gaG92ZXIgbWVudXMgYW5kIHN1Z2dlc3Rpb25zLlwiKSxcbiAgICBkZWZhdWx0OiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uZGVmYXVsdCcsIFwiQSBkZWZhdWx0IHZhbHVlLiBVc2VkIGJ5IHN1Z2dlc3Rpb25zLlwiKSxcbiAgICBtdWx0aXBsZU9mOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24ubXVsdGlwbGVPZicsIFwiQSBudW1iZXIgdGhhdCBzaG91bGQgY2xlYW5seSBkaXZpZGUgdGhlIGN1cnJlbnQgdmFsdWUgKGkuZS4gaGF2ZSBubyByZW1haW5kZXIpLlwiKSxcbiAgICBtYXhpbXVtOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24ubWF4aW11bScsIFwiVGhlIG1heGltdW0gbnVtZXJpY2FsIHZhbHVlLCBpbmNsdXNpdmUgYnkgZGVmYXVsdC5cIiksXG4gICAgZXhjbHVzaXZlTWF4aW11bTogbG9jYWxpemUoJ3NjaGVtYS5qc29uLmV4Y2x1c2l2ZU1heGltdW0nLCBcIk1ha2VzIHRoZSBtYXhpbXVtIHByb3BlcnR5IGV4Y2x1c2l2ZS5cIiksXG4gICAgbWluaW11bTogbG9jYWxpemUoJ3NjaGVtYS5qc29uLm1pbmltdW0nLCBcIlRoZSBtaW5pbXVtIG51bWVyaWNhbCB2YWx1ZSwgaW5jbHVzaXZlIGJ5IGRlZmF1bHQuXCIpLFxuICAgIGV4Y2x1c2l2ZU1pbmltdW06IGxvY2FsaXplKCdzY2hlbWEuanNvbi5leGNsdXNpdmVNaW5pbnVtJywgXCJNYWtlcyB0aGUgbWluaW11bSBwcm9wZXJ0eSBleGNsdXNpdmUuXCIpLFxuICAgIG1heExlbmd0aDogbG9jYWxpemUoJ3NjaGVtYS5qc29uLm1heExlbmd0aCcsIFwiVGhlIG1heGltdW0gbGVuZ3RoIG9mIGEgc3RyaW5nLlwiKSxcbiAgICBtaW5MZW5ndGg6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5taW5MZW5ndGgnLCBcIlRoZSBtaW5pbXVtIGxlbmd0aCBvZiBhIHN0cmluZy5cIiksXG4gICAgcGF0dGVybjogbG9jYWxpemUoJ3NjaGVtYS5qc29uLnBhdHRlcm4nLCBcIkEgcmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIHRoZSBzdHJpbmcgYWdhaW5zdC4gSXQgaXMgbm90IGltcGxpY2l0bHkgYW5jaG9yZWQuXCIpLFxuICAgIGFkZGl0aW9uYWxJdGVtczogbG9jYWxpemUoJ3NjaGVtYS5qc29uLmFkZGl0aW9uYWxJdGVtcycsIFwiRm9yIGFycmF5cywgb25seSB3aGVuIGl0ZW1zIGlzIHNldCBhcyBhbiBhcnJheS4gSWYgaXQgaXMgYSBzY2hlbWEsIHRoZW4gdGhpcyBzY2hlbWEgdmFsaWRhdGVzIGl0ZW1zIGFmdGVyIHRoZSBvbmVzIHNwZWNpZmllZCBieSB0aGUgaXRlbXMgYXJyYXkuIElmIGl0IGlzIGZhbHNlLCB0aGVuIGFkZGl0aW9uYWwgaXRlbXMgd2lsbCBjYXVzZSB2YWxpZGF0aW9uIHRvIGZhaWwuXCIpLFxuICAgIGl0ZW1zOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uaXRlbXMnLCBcIkZvciBhcnJheXMuIENhbiBlaXRoZXIgYmUgYSBzY2hlbWEgdG8gdmFsaWRhdGUgZXZlcnkgZWxlbWVudCBhZ2FpbnN0IG9yIGFuIGFycmF5IG9mIHNjaGVtYXMgdG8gdmFsaWRhdGUgZWFjaCBpdGVtIGFnYWluc3QgaW4gb3JkZXIgKHRoZSBmaXJzdCBzY2hlbWEgd2lsbCB2YWxpZGF0ZSB0aGUgZmlyc3QgZWxlbWVudCwgdGhlIHNlY29uZCBzY2hlbWEgd2lsbCB2YWxpZGF0ZSB0aGUgc2Vjb25kIGVsZW1lbnQsIGFuZCBzbyBvbi5cIiksXG4gICAgbWF4SXRlbXM6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5tYXhJdGVtcycsIFwiVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIGluc2lkZSBhbiBhcnJheS4gSW5jbHVzaXZlLlwiKSxcbiAgICBtaW5JdGVtczogbG9jYWxpemUoJ3NjaGVtYS5qc29uLm1pbkl0ZW1zJywgXCJUaGUgbWluaW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgaW5zaWRlIGFuIGFycmF5LiBJbmNsdXNpdmUuXCIpLFxuICAgIHVuaXF1ZUl0ZW1zOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24udW5pcXVlSXRlbXMnLCBcIklmIGFsbCBvZiB0aGUgaXRlbXMgaW4gdGhlIGFycmF5IG11c3QgYmUgdW5pcXVlLiBEZWZhdWx0cyB0byBmYWxzZS5cIiksXG4gICAgbWF4UHJvcGVydGllczogbG9jYWxpemUoJ3NjaGVtYS5qc29uLm1heFByb3BlcnRpZXMnLCBcIlRoZSBtYXhpbXVtIG51bWJlciBvZiBwcm9wZXJ0aWVzIGFuIG9iamVjdCBjYW4gaGF2ZS4gSW5jbHVzaXZlLlwiKSxcbiAgICBtaW5Qcm9wZXJ0aWVzOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24ubWluUHJvcGVydGllcycsIFwiVGhlIG1pbmltdW0gbnVtYmVyIG9mIHByb3BlcnRpZXMgYW4gb2JqZWN0IGNhbiBoYXZlLiBJbmNsdXNpdmUuXCIpLFxuICAgIHJlcXVpcmVkOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24ucmVxdWlyZWQnLCBcIkFuIGFycmF5IG9mIHN0cmluZ3MgdGhhdCBsaXN0cyB0aGUgbmFtZXMgb2YgYWxsIHByb3BlcnRpZXMgcmVxdWlyZWQgb24gdGhpcyBvYmplY3QuXCIpLFxuICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uYWRkaXRpb25hbFByb3BlcnRpZXMnLCBcIkVpdGhlciBhIHNjaGVtYSBvciBhIGJvb2xlYW4uIElmIGEgc2NoZW1hLCB0aGVuIHVzZWQgdG8gdmFsaWRhdGUgYWxsIHByb3BlcnRpZXMgbm90IG1hdGNoZWQgYnkgJ3Byb3BlcnRpZXMnIG9yICdwYXR0ZXJuUHJvcGVydGllcycuIElmIGZhbHNlLCB0aGVuIGFueSBwcm9wZXJ0aWVzIG5vdCBtYXRjaGVkIGJ5IGVpdGhlciB3aWxsIGNhdXNlIHRoaXMgc2NoZW1hIHRvIGZhaWwuXCIpLFxuICAgIGRlZmluaXRpb25zOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uZGVmaW5pdGlvbnMnLCBcIk5vdCB1c2VkIGZvciB2YWxpZGF0aW9uLiBQbGFjZSBzdWJzY2hlbWFzIGhlcmUgdGhhdCB5b3Ugd2lzaCB0byByZWZlcmVuY2UgaW5saW5lIHdpdGggJHJlZi5cIiksXG4gICAgcHJvcGVydGllczogbG9jYWxpemUoJ3NjaGVtYS5qc29uLnByb3BlcnRpZXMnLCBcIkEgbWFwIG9mIHByb3BlcnR5IG5hbWVzIHRvIHNjaGVtYXMgZm9yIGVhY2ggcHJvcGVydHkuXCIpLFxuICAgIHBhdHRlcm5Qcm9wZXJ0aWVzOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24ucGF0dGVyblByb3BlcnRpZXMnLCBcIkEgbWFwIG9mIHJlZ3VsYXIgZXhwcmVzc2lvbnMgb24gcHJvcGVydHkgbmFtZXMgdG8gc2NoZW1hcyBmb3IgbWF0Y2hpbmcgcHJvcGVydGllcy5cIiksXG4gICAgZGVwZW5kZW5jaWVzOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uZGVwZW5kZW5jaWVzJywgXCJBIG1hcCBvZiBwcm9wZXJ0eSBuYW1lcyB0byBlaXRoZXIgYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgb3IgYSBzY2hlbWEuIEFuIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIG1lYW5zIHRoZSBwcm9wZXJ0eSBuYW1lZCBpbiB0aGUga2V5IGRlcGVuZHMgb24gdGhlIHByb3BlcnRpZXMgaW4gdGhlIGFycmF5IGJlaW5nIHByZXNlbnQgaW4gdGhlIG9iamVjdCBpbiBvcmRlciB0byBiZSB2YWxpZC4gSWYgdGhlIHZhbHVlIGlzIGEgc2NoZW1hLCB0aGVuIHRoZSBzY2hlbWEgaXMgb25seSBhcHBsaWVkIHRvIHRoZSBvYmplY3QgaWYgdGhlIHByb3BlcnR5IGluIHRoZSBrZXkgZXhpc3RzIG9uIHRoZSBvYmplY3QuXCIpLFxuICAgIGVudW06IGxvY2FsaXplKCdzY2hlbWEuanNvbi5lbnVtJywgXCJUaGUgc2V0IG9mIGxpdGVyYWwgdmFsdWVzIHRoYXQgYXJlIHZhbGlkLlwiKSxcbiAgICB0eXBlOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24udHlwZScsIFwiRWl0aGVyIGEgc3RyaW5nIG9mIG9uZSBvZiB0aGUgYmFzaWMgc2NoZW1hIHR5cGVzIChudW1iZXIsIGludGVnZXIsIG51bGwsIGFycmF5LCBvYmplY3QsIGJvb2xlYW4sIHN0cmluZykgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncyBzcGVjaWZ5aW5nIGEgc3Vic2V0IG9mIHRob3NlIHR5cGVzLlwiKSxcbiAgICBmb3JtYXQ6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5mb3JtYXQnLCBcIkRlc2NyaWJlcyB0aGUgZm9ybWF0IGV4cGVjdGVkIGZvciB0aGUgdmFsdWUuXCIpLFxuICAgIGFsbE9mOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uYWxsT2YnLCBcIkFuIGFycmF5IG9mIHNjaGVtYXMsIGFsbCBvZiB3aGljaCBtdXN0IG1hdGNoLlwiKSxcbiAgICBhbnlPZjogbG9jYWxpemUoJ3NjaGVtYS5qc29uLmFueU9mJywgXCJBbiBhcnJheSBvZiBzY2hlbWFzLCB3aGVyZSBhdCBsZWFzdCBvbmUgbXVzdCBtYXRjaC5cIiksXG4gICAgb25lT2Y6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5vbmVPZicsIFwiQW4gYXJyYXkgb2Ygc2NoZW1hcywgZXhhY3RseSBvbmUgb2Ygd2hpY2ggbXVzdCBtYXRjaC5cIiksXG4gICAgbm90OiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24ubm90JywgXCJBIHNjaGVtYSB3aGljaCBtdXN0IG5vdCBtYXRjaC5cIiksXG4gICAgJGlkOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uJGlkJywgXCJBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgc2NoZW1hLlwiKSxcbiAgICAkcmVmOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uJHJlZicsIFwiUmVmZXJlbmNlIGEgZGVmaW5pdGlvbiBob3N0ZWQgb24gYW55IGxvY2F0aW9uLlwiKSxcbiAgICAkY29tbWVudDogbG9jYWxpemUoJ3NjaGVtYS5qc29uLiRjb21tZW50JywgXCJDb21tZW50cyBmcm9tIHNjaGVtYSBhdXRob3JzIHRvIHJlYWRlcnMgb3IgbWFpbnRhaW5lcnMgb2YgdGhlIHNjaGVtYS5cIiksXG4gICAgcmVhZE9ubHk6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5yZWFkT25seScsIFwiSW5kaWNhdGVzIHRoYXQgdGhlIHZhbHVlIG9mIHRoZSBpbnN0YW5jZSBpcyBtYW5hZ2VkIGV4Y2x1c2l2ZWx5IGJ5IHRoZSBvd25pbmcgYXV0aG9yaXR5LlwiKSxcbiAgICBleGFtcGxlczogbG9jYWxpemUoJ3NjaGVtYS5qc29uLmV4YW1wbGVzJywgXCJTYW1wbGUgSlNPTiB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIGEgcGFydGljdWxhciBzY2hlbWEsIGZvciB0aGUgcHVycG9zZSBvZiBpbGx1c3RyYXRpbmcgdXNhZ2UuXCIpLFxuICAgIGNvbnRhaW5zOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uY29udGFpbnMnLCBcIkFuIGFycmF5IGluc3RhbmNlIGlzIHZhbGlkIGFnYWluc3QgXFxcImNvbnRhaW5zXFxcIiBpZiBhdCBsZWFzdCBvbmUgb2YgaXRzIGVsZW1lbnRzIGlzIHZhbGlkIGFnYWluc3QgdGhlIGdpdmVuIHNjaGVtYS5cIiksXG4gICAgcHJvcGVydHlOYW1lczogbG9jYWxpemUoJ3NjaGVtYS5qc29uLnByb3BlcnR5TmFtZXMnLCBcIklmIHRoZSBpbnN0YW5jZSBpcyBhbiBvYmplY3QsIHRoaXMga2V5d29yZCB2YWxpZGF0ZXMgaWYgZXZlcnkgcHJvcGVydHkgbmFtZSBpbiB0aGUgaW5zdGFuY2UgdmFsaWRhdGVzIGFnYWluc3QgdGhlIHByb3ZpZGVkIHNjaGVtYS5cIiksXG4gICAgY29uc3Q6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5jb25zdCcsIFwiQW4gaW5zdGFuY2UgdmFsaWRhdGVzIHN1Y2Nlc3NmdWxseSBhZ2FpbnN0IHRoaXMga2V5d29yZCBpZiBpdHMgdmFsdWUgaXMgZXF1YWwgdG8gdGhlIHZhbHVlIG9mIHRoZSBrZXl3b3JkLlwiKSxcbiAgICBjb250ZW50TWVkaWFUeXBlOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uY29udGVudE1lZGlhVHlwZScsIFwiRGVzY3JpYmVzIHRoZSBtZWRpYSB0eXBlIG9mIGEgc3RyaW5nIHByb3BlcnR5LlwiKSxcbiAgICBjb250ZW50RW5jb2Rpbmc6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5jb250ZW50RW5jb2RpbmcnLCBcIkRlc2NyaWJlcyB0aGUgY29udGVudCBlbmNvZGluZyBvZiBhIHN0cmluZyBwcm9wZXJ0eS5cIiksXG4gICAgaWY6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5pZicsIFwiVGhlIHZhbGlkYXRpb24gb3V0Y29tZSBvZiB0aGUgXFxcImlmXFxcIiBzdWJzY2hlbWEgY29udHJvbHMgd2hpY2ggb2YgdGhlIFxcXCJ0aGVuXFxcIiBvciBcXFwiZWxzZVxcXCIga2V5d29yZHMgYXJlIGV2YWx1YXRlZC5cIiksXG4gICAgdGhlbjogbG9jYWxpemUoJ3NjaGVtYS5qc29uLnRoZW4nLCBcIlRoZSBcXFwiaWZcXFwiIHN1YnNjaGVtYSBpcyB1c2VkIGZvciB2YWxpZGF0aW9uIHdoZW4gdGhlIFxcXCJpZlxcXCIgc3Vic2NoZW1hIHN1Y2NlZWRzLlwiKSxcbiAgICBlbHNlOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uZWxzZScsIFwiVGhlIFxcXCJlbHNlXFxcIiBzdWJzY2hlbWEgaXMgdXNlZCBmb3IgdmFsaWRhdGlvbiB3aGVuIHRoZSBcXFwiaWZcXFwiIHN1YnNjaGVtYSBmYWlscy5cIilcbn07XG5mb3IgKHZhciBzY2hlbWFOYW1lIGluIHNjaGVtYUNvbnRyaWJ1dGlvbnMuc2NoZW1hcykge1xuICAgIHZhciBzY2hlbWEgPSBzY2hlbWFDb250cmlidXRpb25zLnNjaGVtYXNbc2NoZW1hTmFtZV07XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gc2NoZW1hLnByb3BlcnRpZXMpIHtcbiAgICAgICAgdmFyIHByb3BlcnR5T2JqZWN0ID0gc2NoZW1hLnByb3BlcnRpZXNbcHJvcGVydHldO1xuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5T2JqZWN0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHByb3BlcnR5T2JqZWN0ID0gc2NoZW1hLnByb3BlcnRpZXNbcHJvcGVydHldID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25zW3Byb3BlcnR5XTtcbiAgICAgICAgaWYgKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eU9iamVjdFsnZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvcGVydHkgKyBcIjogbG9jYWxpemUoJ3NjaGVtYS5qc29uLlwiICsgcHJvcGVydHkgKyBcIicsIFxcXCJcXFwiKVwiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IGNyZWF0ZVNjYW5uZXIgfSBmcm9tICcuLi8uLi9qc29uYy1wYXJzZXIvbWFpbi5qcyc7XG5pbXBvcnQgeyBGb2xkaW5nUmFuZ2VLaW5kLCBQb3NpdGlvbiB9IGZyb20gJy4uL2pzb25MYW5ndWFnZVR5cGVzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRGb2xkaW5nUmFuZ2VzKGRvY3VtZW50LCBjb250ZXh0KSB7XG4gICAgdmFyIHJhbmdlcyA9IFtdO1xuICAgIHZhciBuZXN0aW5nTGV2ZWxzID0gW107XG4gICAgdmFyIHN0YWNrID0gW107XG4gICAgdmFyIHByZXZTdGFydCA9IC0xO1xuICAgIHZhciBzY2FubmVyID0gY3JlYXRlU2Nhbm5lcihkb2N1bWVudC5nZXRUZXh0KCksIGZhbHNlKTtcbiAgICB2YXIgdG9rZW4gPSBzY2FubmVyLnNjYW4oKTtcbiAgICBmdW5jdGlvbiBhZGRSYW5nZShyYW5nZSkge1xuICAgICAgICByYW5nZXMucHVzaChyYW5nZSk7XG4gICAgICAgIG5lc3RpbmdMZXZlbHMucHVzaChzdGFjay5sZW5ndGgpO1xuICAgIH1cbiAgICB3aGlsZSAodG9rZW4gIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgICBjYXNlIDEgLyogT3BlbkJyYWNlVG9rZW4gKi86XG4gICAgICAgICAgICBjYXNlIDMgLyogT3BlbkJyYWNrZXRUb2tlbiAqLzoge1xuICAgICAgICAgICAgICAgIHZhciBzdGFydExpbmUgPSBkb2N1bWVudC5wb3NpdGlvbkF0KHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSkubGluZTtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSB7IHN0YXJ0TGluZTogc3RhcnRMaW5lLCBlbmRMaW5lOiBzdGFydExpbmUsIGtpbmQ6IHRva2VuID09PSAxIC8qIE9wZW5CcmFjZVRva2VuICovID8gJ29iamVjdCcgOiAnYXJyYXknIH07XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChyYW5nZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDIgLyogQ2xvc2VCcmFjZVRva2VuICovOlxuICAgICAgICAgICAgY2FzZSA0IC8qIENsb3NlQnJhY2tldFRva2VuICovOiB7XG4gICAgICAgICAgICAgICAgdmFyIGtpbmQgPSB0b2tlbiA9PT0gMiAvKiBDbG9zZUJyYWNlVG9rZW4gKi8gPyAnb2JqZWN0JyA6ICdhcnJheSc7XG4gICAgICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA+IDAgJiYgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0ua2luZCA9PT0ga2luZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBkb2N1bWVudC5wb3NpdGlvbkF0KHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSkubGluZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlICYmIGxpbmUgPiByYW5nZS5zdGFydExpbmUgKyAxICYmIHByZXZTdGFydCAhPT0gcmFuZ2Uuc3RhcnRMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5lbmRMaW5lID0gbGluZSAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2U3RhcnQgPSByYW5nZS5zdGFydExpbmU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDEzIC8qIEJsb2NrQ29tbWVudFRyaXZpYSAqLzoge1xuICAgICAgICAgICAgICAgIHZhciBzdGFydExpbmUgPSBkb2N1bWVudC5wb3NpdGlvbkF0KHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSkubGluZTtcbiAgICAgICAgICAgICAgICB2YXIgZW5kTGluZSA9IGRvY3VtZW50LnBvc2l0aW9uQXQoc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpICsgc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpKS5saW5lO1xuICAgICAgICAgICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuRXJyb3IoKSA9PT0gMSAvKiBVbmV4cGVjdGVkRW5kT2ZDb21tZW50ICovICYmIHN0YXJ0TGluZSArIDEgPCBkb2N1bWVudC5saW5lQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nhbm5lci5zZXRQb3NpdGlvbihkb2N1bWVudC5vZmZzZXRBdChQb3NpdGlvbi5jcmVhdGUoc3RhcnRMaW5lICsgMSwgMCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydExpbmUgPCBlbmRMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRSYW5nZSh7IHN0YXJ0TGluZTogc3RhcnRMaW5lLCBlbmRMaW5lOiBlbmRMaW5lLCBraW5kOiBGb2xkaW5nUmFuZ2VLaW5kLkNvbW1lbnQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2U3RhcnQgPSBzdGFydExpbmU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDEyIC8qIExpbmVDb21tZW50VHJpdmlhICovOiB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSBkb2N1bWVudC5nZXRUZXh0KCkuc3Vic3RyKHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSwgc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpKTtcbiAgICAgICAgICAgICAgICB2YXIgbSA9IHRleHQubWF0Y2goL15cXC9cXC9cXHMqIyhyZWdpb25cXGIpfChlbmRyZWdpb25cXGIpLyk7XG4gICAgICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBkb2N1bWVudC5wb3NpdGlvbkF0KHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSkubGluZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1bMV0pIHsgLy8gc3RhcnQgcGF0dGVybiBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0geyBzdGFydExpbmU6IGxpbmUsIGVuZExpbmU6IGxpbmUsIGtpbmQ6IEZvbGRpbmdSYW5nZUtpbmQuUmVnaW9uIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gc3RhY2subGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpID49IDAgJiYgc3RhY2tbaV0ua2luZCAhPT0gRm9sZGluZ1JhbmdlS2luZC5SZWdpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gc3RhY2tbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2subGVuZ3RoID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZSA+IHJhbmdlLnN0YXJ0TGluZSAmJiBwcmV2U3RhcnQgIT09IHJhbmdlLnN0YXJ0TGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5lbmRMaW5lID0gbGluZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2U3RhcnQgPSByYW5nZS5zdGFydExpbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRva2VuID0gc2Nhbm5lci5zY2FuKCk7XG4gICAgfVxuICAgIHZhciByYW5nZUxpbWl0ID0gY29udGV4dCAmJiBjb250ZXh0LnJhbmdlTGltaXQ7XG4gICAgaWYgKHR5cGVvZiByYW5nZUxpbWl0ICE9PSAnbnVtYmVyJyB8fCByYW5nZXMubGVuZ3RoIDw9IHJhbmdlTGltaXQpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlcztcbiAgICB9XG4gICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5vblJhbmdlTGltaXRFeGNlZWRlZCkge1xuICAgICAgICBjb250ZXh0Lm9uUmFuZ2VMaW1pdEV4Y2VlZGVkKGRvY3VtZW50LnVyaSk7XG4gICAgfVxuICAgIHZhciBjb3VudHMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIG5lc3RpbmdMZXZlbHNfMSA9IG5lc3RpbmdMZXZlbHM7IF9pIDwgbmVzdGluZ0xldmVsc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgbGV2ZWwgPSBuZXN0aW5nTGV2ZWxzXzFbX2ldO1xuICAgICAgICBpZiAobGV2ZWwgPCAzMCkge1xuICAgICAgICAgICAgY291bnRzW2xldmVsXSA9IChjb3VudHNbbGV2ZWxdIHx8IDApICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgZW50cmllcyA9IDA7XG4gICAgdmFyIG1heExldmVsID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbiA9IGNvdW50c1tpXTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIGlmIChuICsgZW50cmllcyA+IHJhbmdlTGltaXQpIHtcbiAgICAgICAgICAgICAgICBtYXhMZXZlbCA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbnRyaWVzICs9IG47XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBsZXZlbCA9IG5lc3RpbmdMZXZlbHNbaV07XG4gICAgICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAobGV2ZWwgPCBtYXhMZXZlbCB8fCAobGV2ZWwgPT09IG1heExldmVsICYmIGVudHJpZXMrKyA8IHJhbmdlTGltaXQpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocmFuZ2VzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwgIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgUmFuZ2UsIFNlbGVjdGlvblJhbmdlIH0gZnJvbSAnLi4vanNvbkxhbmd1YWdlVHlwZXMuanMnO1xuaW1wb3J0IHsgY3JlYXRlU2Nhbm5lciB9IGZyb20gJy4uLy4uL2pzb25jLXBhcnNlci9tYWluLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb25SYW5nZXMoZG9jdW1lbnQsIHBvc2l0aW9ucywgZG9jKSB7XG4gICAgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uUmFuZ2UocG9zaXRpb24pIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IGRvY3VtZW50Lm9mZnNldEF0KHBvc2l0aW9uKTtcbiAgICAgICAgdmFyIG5vZGUgPSBkb2MuZ2V0Tm9kZUZyb21PZmZzZXQob2Zmc2V0LCB0cnVlKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICAgICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgICAgICAgICAgICAgICAvLyByYW5nZSB3aXRob3V0IFwiLCBbIG9yIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNTdGFydCA9IG5vZGUub2Zmc2V0ICsgMSwgY0VuZCA9IG5vZGUub2Zmc2V0ICsgbm9kZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY1N0YXJ0IDwgY0VuZCAmJiBvZmZzZXQgPj0gY1N0YXJ0ICYmIG9mZnNldCA8PSBjRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXdSYW5nZShjU3RhcnQsIGNFbmQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXdSYW5nZShub2RlLm9mZnNldCwgbm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ251bGwnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3Byb3BlcnR5JzpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3UmFuZ2Uobm9kZS5vZmZzZXQsIG5vZGUub2Zmc2V0ICsgbm9kZS5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZS50eXBlID09PSAncHJvcGVydHknIHx8IG5vZGUucGFyZW50ICYmIG5vZGUucGFyZW50LnR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWZ0ZXJDb21tYU9mZnNldCA9IGdldE9mZnNldEFmdGVyTmV4dFRva2VuKG5vZGUub2Zmc2V0ICsgbm9kZS5sZW5ndGgsIDUgLyogQ29tbWFUb2tlbiAqLyk7XG4gICAgICAgICAgICAgICAgaWYgKGFmdGVyQ29tbWFPZmZzZXQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld1JhbmdlKG5vZGUub2Zmc2V0LCBhZnRlckNvbW1hT2Zmc2V0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IHJlc3VsdC5sZW5ndGggLSAxOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gU2VsZWN0aW9uUmFuZ2UuY3JlYXRlKHJlc3VsdFtpbmRleF0sIGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICAgICAgY3VycmVudCA9IFNlbGVjdGlvblJhbmdlLmNyZWF0ZShSYW5nZS5jcmVhdGUocG9zaXRpb24sIHBvc2l0aW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5ld1JhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlLmNyZWF0ZShkb2N1bWVudC5wb3NpdGlvbkF0KHN0YXJ0KSwgZG9jdW1lbnQucG9zaXRpb25BdChlbmQpKTtcbiAgICB9XG4gICAgdmFyIHNjYW5uZXIgPSBjcmVhdGVTY2FubmVyKGRvY3VtZW50LmdldFRleHQoKSwgdHJ1ZSk7XG4gICAgZnVuY3Rpb24gZ2V0T2Zmc2V0QWZ0ZXJOZXh0VG9rZW4ob2Zmc2V0LCBleHBlY3RlZFRva2VuKSB7XG4gICAgICAgIHNjYW5uZXIuc2V0UG9zaXRpb24ob2Zmc2V0KTtcbiAgICAgICAgdmFyIHRva2VuID0gc2Nhbm5lci5zY2FuKCk7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gZXhwZWN0ZWRUb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSArIHNjYW5uZXIuZ2V0VG9rZW5MZW5ndGgoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIHJldHVybiBwb3NpdGlvbnMubWFwKGdldFNlbGVjdGlvblJhbmdlKTtcbn1cbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IFJhbmdlIH0gZnJvbSAnLi4vanNvbkxhbmd1YWdlVHlwZXMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRMaW5rcyhkb2N1bWVudCwgZG9jKSB7XG4gICAgdmFyIGxpbmtzID0gW107XG4gICAgZG9jLnZpc2l0KGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gXCJwcm9wZXJ0eVwiICYmIG5vZGUua2V5Tm9kZS52YWx1ZSA9PT0gXCIkcmVmXCIgJiYgKChfYSA9IG5vZGUudmFsdWVOb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHlwZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgcGF0aCA9IG5vZGUudmFsdWVOb2RlLnZhbHVlO1xuICAgICAgICAgICAgdmFyIHRhcmdldE5vZGUgPSBmaW5kVGFyZ2V0Tm9kZShkb2MsIHBhdGgpO1xuICAgICAgICAgICAgaWYgKHRhcmdldE5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0UG9zID0gZG9jdW1lbnQucG9zaXRpb25BdCh0YXJnZXROb2RlLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgbGlua3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogZG9jdW1lbnQudXJpICsgXCIjXCIgKyAodGFyZ2V0UG9zLmxpbmUgKyAxKSArIFwiLFwiICsgKHRhcmdldFBvcy5jaGFyYWN0ZXIgKyAxKSxcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGNyZWF0ZVJhbmdlKGRvY3VtZW50LCBub2RlLnZhbHVlTm9kZSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxpbmtzKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGRvY3VtZW50LCBub2RlKSB7XG4gICAgcmV0dXJuIFJhbmdlLmNyZWF0ZShkb2N1bWVudC5wb3NpdGlvbkF0KG5vZGUub2Zmc2V0ICsgMSksIGRvY3VtZW50LnBvc2l0aW9uQXQobm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCAtIDEpKTtcbn1cbmZ1bmN0aW9uIGZpbmRUYXJnZXROb2RlKGRvYywgcGF0aCkge1xuICAgIHZhciB0b2tlbnMgPSBwYXJzZUpTT05Qb2ludGVyKHBhdGgpO1xuICAgIGlmICghdG9rZW5zKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZmluZE5vZGUodG9rZW5zLCBkb2Mucm9vdCk7XG59XG5mdW5jdGlvbiBmaW5kTm9kZShwb2ludGVyLCBub2RlKSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocG9pbnRlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIHZhciB0b2tlbiA9IHBvaW50ZXIuc2hpZnQoKTtcbiAgICBpZiAobm9kZSAmJiBub2RlLnR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eU5vZGUgPSBub2RlLnByb3BlcnRpZXMuZmluZChmdW5jdGlvbiAocHJvcGVydHlOb2RlKSB7IHJldHVybiBwcm9wZXJ0eU5vZGUua2V5Tm9kZS52YWx1ZSA9PT0gdG9rZW47IH0pO1xuICAgICAgICBpZiAoIXByb3BlcnR5Tm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbmROb2RlKHBvaW50ZXIsIHByb3BlcnR5Tm9kZS52YWx1ZU5vZGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlICYmIG5vZGUudHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICBpZiAodG9rZW4ubWF0Y2goL14oMHxbMS05XVswLTldKikkLykpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IE51bWJlci5wYXJzZUludCh0b2tlbik7XG4gICAgICAgICAgICB2YXIgYXJyYXlJdGVtID0gbm9kZS5pdGVtc1tpbmRleF07XG4gICAgICAgICAgICBpZiAoIWFycmF5SXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZpbmROb2RlKHBvaW50ZXIsIGFycmF5SXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBwYXJzZUpTT05Qb2ludGVyKHBhdGgpIHtcbiAgICBpZiAocGF0aCA9PT0gXCIjXCIpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAocGF0aFswXSAhPT0gJyMnIHx8IHBhdGhbMV0gIT09ICcvJykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGguc3Vic3RyaW5nKDIpLnNwbGl0KC9cXC8vKS5tYXAodW5lc2NhcGUpO1xufVxuZnVuY3Rpb24gdW5lc2NhcGUoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9+MS9nLCAnLycpLnJlcGxhY2UoL34wL2csICd+Jyk7XG59XG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBKU09OQ29tcGxldGlvbiB9IGZyb20gJy4vc2VydmljZXMvanNvbkNvbXBsZXRpb24uanMnO1xuaW1wb3J0IHsgSlNPTkhvdmVyIH0gZnJvbSAnLi9zZXJ2aWNlcy9qc29uSG92ZXIuanMnO1xuaW1wb3J0IHsgSlNPTlZhbGlkYXRpb24gfSBmcm9tICcuL3NlcnZpY2VzL2pzb25WYWxpZGF0aW9uLmpzJztcbmltcG9ydCB7IEpTT05Eb2N1bWVudFN5bWJvbHMgfSBmcm9tICcuL3NlcnZpY2VzL2pzb25Eb2N1bWVudFN5bWJvbHMuanMnO1xuaW1wb3J0IHsgcGFyc2UgYXMgcGFyc2VKU09OLCBuZXdKU09ORG9jdW1lbnQgfSBmcm9tICcuL3BhcnNlci9qc29uUGFyc2VyLmpzJztcbmltcG9ydCB7IHNjaGVtYUNvbnRyaWJ1dGlvbnMgfSBmcm9tICcuL3NlcnZpY2VzL2NvbmZpZ3VyYXRpb24uanMnO1xuaW1wb3J0IHsgSlNPTlNjaGVtYVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2pzb25TY2hlbWFTZXJ2aWNlLmpzJztcbmltcG9ydCB7IGdldEZvbGRpbmdSYW5nZXMgfSBmcm9tICcuL3NlcnZpY2VzL2pzb25Gb2xkaW5nLmpzJztcbmltcG9ydCB7IGdldFNlbGVjdGlvblJhbmdlcyB9IGZyb20gJy4vc2VydmljZXMvanNvblNlbGVjdGlvblJhbmdlcy5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgYXMgZm9ybWF0SlNPTiB9IGZyb20gJy4uL2pzb25jLXBhcnNlci9tYWluLmpzJztcbmltcG9ydCB7IFJhbmdlLCBUZXh0RWRpdCB9IGZyb20gJy4vanNvbkxhbmd1YWdlVHlwZXMuanMnO1xuaW1wb3J0IHsgZmluZExpbmtzIH0gZnJvbSAnLi9zZXJ2aWNlcy9qc29uTGlua3MuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9qc29uTGFuZ3VhZ2VUeXBlcy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VTZXJ2aWNlKHBhcmFtcykge1xuICAgIHZhciBwcm9taXNlID0gcGFyYW1zLnByb21pc2VDb25zdHJ1Y3RvciB8fCBQcm9taXNlO1xuICAgIHZhciBqc29uU2NoZW1hU2VydmljZSA9IG5ldyBKU09OU2NoZW1hU2VydmljZShwYXJhbXMuc2NoZW1hUmVxdWVzdFNlcnZpY2UsIHBhcmFtcy53b3Jrc3BhY2VDb250ZXh0LCBwcm9taXNlKTtcbiAgICBqc29uU2NoZW1hU2VydmljZS5zZXRTY2hlbWFDb250cmlidXRpb25zKHNjaGVtYUNvbnRyaWJ1dGlvbnMpO1xuICAgIHZhciBqc29uQ29tcGxldGlvbiA9IG5ldyBKU09OQ29tcGxldGlvbihqc29uU2NoZW1hU2VydmljZSwgcGFyYW1zLmNvbnRyaWJ1dGlvbnMsIHByb21pc2UsIHBhcmFtcy5jbGllbnRDYXBhYmlsaXRpZXMpO1xuICAgIHZhciBqc29uSG92ZXIgPSBuZXcgSlNPTkhvdmVyKGpzb25TY2hlbWFTZXJ2aWNlLCBwYXJhbXMuY29udHJpYnV0aW9ucywgcHJvbWlzZSk7XG4gICAgdmFyIGpzb25Eb2N1bWVudFN5bWJvbHMgPSBuZXcgSlNPTkRvY3VtZW50U3ltYm9scyhqc29uU2NoZW1hU2VydmljZSk7XG4gICAgdmFyIGpzb25WYWxpZGF0aW9uID0gbmV3IEpTT05WYWxpZGF0aW9uKGpzb25TY2hlbWFTZXJ2aWNlLCBwcm9taXNlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25maWd1cmU6IGZ1bmN0aW9uIChzZXR0aW5ncykge1xuICAgICAgICAgICAganNvblNjaGVtYVNlcnZpY2UuY2xlYXJFeHRlcm5hbFNjaGVtYXMoKTtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5zY2hlbWFzKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3Muc2NoZW1hcy5mb3JFYWNoKGZ1bmN0aW9uIChzZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgICBqc29uU2NoZW1hU2VydmljZS5yZWdpc3RlckV4dGVybmFsU2NoZW1hKHNldHRpbmdzLnVyaSwgc2V0dGluZ3MuZmlsZU1hdGNoLCBzZXR0aW5ncy5zY2hlbWEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAganNvblZhbGlkYXRpb24uY29uZmlndXJlKHNldHRpbmdzKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXRTY2hlbWE6IGZ1bmN0aW9uICh1cmkpIHsgcmV0dXJuIGpzb25TY2hlbWFTZXJ2aWNlLm9uUmVzb3VyY2VDaGFuZ2UodXJpKTsgfSxcbiAgICAgICAgZG9WYWxpZGF0aW9uOiBqc29uVmFsaWRhdGlvbi5kb1ZhbGlkYXRpb24uYmluZChqc29uVmFsaWRhdGlvbiksXG4gICAgICAgIHBhcnNlSlNPTkRvY3VtZW50OiBmdW5jdGlvbiAoZG9jdW1lbnQpIHsgcmV0dXJuIHBhcnNlSlNPTihkb2N1bWVudCwgeyBjb2xsZWN0Q29tbWVudHM6IHRydWUgfSk7IH0sXG4gICAgICAgIG5ld0pTT05Eb2N1bWVudDogZnVuY3Rpb24gKHJvb3QsIGRpYWdub3N0aWNzKSB7IHJldHVybiBuZXdKU09ORG9jdW1lbnQocm9vdCwgZGlhZ25vc3RpY3MpOyB9LFxuICAgICAgICBnZXRNYXRjaGluZ1NjaGVtYXM6IGpzb25TY2hlbWFTZXJ2aWNlLmdldE1hdGNoaW5nU2NoZW1hcy5iaW5kKGpzb25TY2hlbWFTZXJ2aWNlKSxcbiAgICAgICAgZG9SZXNvbHZlOiBqc29uQ29tcGxldGlvbi5kb1Jlc29sdmUuYmluZChqc29uQ29tcGxldGlvbiksXG4gICAgICAgIGRvQ29tcGxldGU6IGpzb25Db21wbGV0aW9uLmRvQ29tcGxldGUuYmluZChqc29uQ29tcGxldGlvbiksXG4gICAgICAgIGZpbmREb2N1bWVudFN5bWJvbHM6IGpzb25Eb2N1bWVudFN5bWJvbHMuZmluZERvY3VtZW50U3ltYm9scy5iaW5kKGpzb25Eb2N1bWVudFN5bWJvbHMpLFxuICAgICAgICBmaW5kRG9jdW1lbnRTeW1ib2xzMjoganNvbkRvY3VtZW50U3ltYm9scy5maW5kRG9jdW1lbnRTeW1ib2xzMi5iaW5kKGpzb25Eb2N1bWVudFN5bWJvbHMpLFxuICAgICAgICBmaW5kRG9jdW1lbnRDb2xvcnM6IGpzb25Eb2N1bWVudFN5bWJvbHMuZmluZERvY3VtZW50Q29sb3JzLmJpbmQoanNvbkRvY3VtZW50U3ltYm9scyksXG4gICAgICAgIGdldENvbG9yUHJlc2VudGF0aW9uczoganNvbkRvY3VtZW50U3ltYm9scy5nZXRDb2xvclByZXNlbnRhdGlvbnMuYmluZChqc29uRG9jdW1lbnRTeW1ib2xzKSxcbiAgICAgICAgZG9Ib3ZlcjoganNvbkhvdmVyLmRvSG92ZXIuYmluZChqc29uSG92ZXIpLFxuICAgICAgICBnZXRGb2xkaW5nUmFuZ2VzOiBnZXRGb2xkaW5nUmFuZ2VzLFxuICAgICAgICBnZXRTZWxlY3Rpb25SYW5nZXM6IGdldFNlbGVjdGlvblJhbmdlcyxcbiAgICAgICAgZmluZERlZmluaXRpb246IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7IH0sXG4gICAgICAgIGZpbmRMaW5rczogZmluZExpbmtzLFxuICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uIChkLCByLCBvKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBkLm9mZnNldEF0KHIuc3RhcnQpO1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSBkLm9mZnNldEF0KHIuZW5kKSAtIG9mZnNldDtcbiAgICAgICAgICAgICAgICByYW5nZSA9IHsgb2Zmc2V0OiBvZmZzZXQsIGxlbmd0aDogbGVuZ3RoIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHsgdGFiU2l6ZTogbyA/IG8udGFiU2l6ZSA6IDQsIGluc2VydFNwYWNlczogKG8gPT09IG51bGwgfHwgbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogby5pbnNlcnRTcGFjZXMpID09PSB0cnVlLCBpbnNlcnRGaW5hbE5ld2xpbmU6IChvID09PSBudWxsIHx8IG8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG8uaW5zZXJ0RmluYWxOZXdsaW5lKSA9PT0gdHJ1ZSwgZW9sOiAnXFxuJyB9O1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdEpTT04oZC5nZXRUZXh0KCksIHJhbmdlLCBvcHRpb25zKS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gVGV4dEVkaXQucmVwbGFjZShSYW5nZS5jcmVhdGUoZC5wb3NpdGlvbkF0KGUub2Zmc2V0KSwgZC5wb3NpdGlvbkF0KGUub2Zmc2V0ICsgZS5sZW5ndGgpKSwgZS5jb250ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiIsICIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5pbXBvcnQgKiBhcyBqc29uU2VydmljZSBmcm9tICcuL19kZXBzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS9qc29uTGFuZ3VhZ2VTZXJ2aWNlLmpzJztcbmltcG9ydCB7IFVSSSB9IGZyb20gJy4vX2RlcHMvdnNjb2RlLXVyaS9pbmRleC5qcyc7XG52YXIgZGVmYXVsdFNjaGVtYVJlcXVlc3RTZXJ2aWNlO1xuaWYgKHR5cGVvZiBmZXRjaCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkZWZhdWx0U2NoZW1hUmVxdWVzdFNlcnZpY2UgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiBmZXRjaCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiByZXNwb25zZS50ZXh0KCk7IH0pO1xuICAgIH07XG59XG52YXIgSlNPTldvcmtlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBKU09OV29ya2VyKGN0eCwgY3JlYXRlRGF0YSkge1xuICAgICAgICB0aGlzLl9jdHggPSBjdHg7XG4gICAgICAgIHRoaXMuX2xhbmd1YWdlU2V0dGluZ3MgPSBjcmVhdGVEYXRhLmxhbmd1YWdlU2V0dGluZ3M7XG4gICAgICAgIHRoaXMuX2xhbmd1YWdlSWQgPSBjcmVhdGVEYXRhLmxhbmd1YWdlSWQ7XG4gICAgICAgIHRoaXMuX2xhbmd1YWdlU2VydmljZSA9IGpzb25TZXJ2aWNlLmdldExhbmd1YWdlU2VydmljZSh7XG4gICAgICAgICAgICB3b3Jrc3BhY2VDb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZVJlbGF0aXZlUGF0aDogZnVuY3Rpb24gKHJlbGF0aXZlUGF0aCwgcmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2UgPSByZXNvdXJjZS5zdWJzdHIoMCwgcmVzb3VyY2UubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZVBhdGgoYmFzZSwgcmVsYXRpdmVQYXRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NoZW1hUmVxdWVzdFNlcnZpY2U6IGNyZWF0ZURhdGEuZW5hYmxlU2NoZW1hUmVxdWVzdCAmJiBkZWZhdWx0U2NoZW1hUmVxdWVzdFNlcnZpY2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2xhbmd1YWdlU2VydmljZS5jb25maWd1cmUodGhpcy5fbGFuZ3VhZ2VTZXR0aW5ncyk7XG4gICAgfVxuICAgIEpTT05Xb3JrZXIucHJvdG90eXBlLmRvVmFsaWRhdGlvbiA9IGZ1bmN0aW9uICh1cmkpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRvY3VtZW50LCBqc29uRG9jdW1lbnQ7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQgPSB0aGlzLl9nZXRUZXh0RG9jdW1lbnQodXJpKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAganNvbkRvY3VtZW50ID0gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLnBhcnNlSlNPTkRvY3VtZW50KGRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuX2xhbmd1YWdlU2VydmljZS5kb1ZhbGlkYXRpb24oZG9jdW1lbnQsIGpzb25Eb2N1bWVudCwgdGhpcy5fbGFuZ3VhZ2VTZXR0aW5ncyldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKFtdKV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBKU09OV29ya2VyLnByb3RvdHlwZS5kb0NvbXBsZXRlID0gZnVuY3Rpb24gKHVyaSwgcG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRvY3VtZW50LCBqc29uRG9jdW1lbnQ7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQgPSB0aGlzLl9nZXRUZXh0RG9jdW1lbnQodXJpKTtcbiAgICAgICAgICAgICAgICBqc29uRG9jdW1lbnQgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UucGFyc2VKU09ORG9jdW1lbnQoZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZG9Db21wbGV0ZShkb2N1bWVudCwgcG9zaXRpb24sIGpzb25Eb2N1bWVudCldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSlNPTldvcmtlci5wcm90b3R5cGUuZG9SZXNvbHZlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZG9SZXNvbHZlKGl0ZW0pXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEpTT05Xb3JrZXIucHJvdG90eXBlLmRvSG92ZXIgPSBmdW5jdGlvbiAodXJpLCBwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZG9jdW1lbnQsIGpzb25Eb2N1bWVudDtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudCA9IHRoaXMuX2dldFRleHREb2N1bWVudCh1cmkpO1xuICAgICAgICAgICAgICAgIGpzb25Eb2N1bWVudCA9IHRoaXMuX2xhbmd1YWdlU2VydmljZS5wYXJzZUpTT05Eb2N1bWVudChkb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuX2xhbmd1YWdlU2VydmljZS5kb0hvdmVyKGRvY3VtZW50LCBwb3NpdGlvbiwganNvbkRvY3VtZW50KV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBKU09OV29ya2VyLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAodXJpLCByYW5nZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZG9jdW1lbnQsIHRleHRFZGl0cztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudCA9IHRoaXMuX2dldFRleHREb2N1bWVudCh1cmkpO1xuICAgICAgICAgICAgICAgIHRleHRFZGl0cyA9IHRoaXMuX2xhbmd1YWdlU2VydmljZS5mb3JtYXQoZG9jdW1lbnQsIHJhbmdlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKHRleHRFZGl0cyldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSlNPTldvcmtlci5wcm90b3R5cGUucmVzZXRTY2hlbWEgPSBmdW5jdGlvbiAodXJpKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2xhbmd1YWdlU2VydmljZS5yZXNldFNjaGVtYSh1cmkpKV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBKU09OV29ya2VyLnByb3RvdHlwZS5maW5kRG9jdW1lbnRTeW1ib2xzID0gZnVuY3Rpb24gKHVyaSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZG9jdW1lbnQsIGpzb25Eb2N1bWVudCwgc3ltYm9scztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudCA9IHRoaXMuX2dldFRleHREb2N1bWVudCh1cmkpO1xuICAgICAgICAgICAgICAgIGpzb25Eb2N1bWVudCA9IHRoaXMuX2xhbmd1YWdlU2VydmljZS5wYXJzZUpTT05Eb2N1bWVudChkb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgc3ltYm9scyA9IHRoaXMuX2xhbmd1YWdlU2VydmljZS5maW5kRG9jdW1lbnRTeW1ib2xzKGRvY3VtZW50LCBqc29uRG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlc29sdmUoc3ltYm9scyldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSlNPTldvcmtlci5wcm90b3R5cGUuZmluZERvY3VtZW50Q29sb3JzID0gZnVuY3Rpb24gKHVyaSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZG9jdW1lbnQsIGpzb25Eb2N1bWVudCwgY29sb3JTeW1ib2xzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50ID0gdGhpcy5fZ2V0VGV4dERvY3VtZW50KHVyaSk7XG4gICAgICAgICAgICAgICAganNvbkRvY3VtZW50ID0gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLnBhcnNlSlNPTkRvY3VtZW50KGRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICBjb2xvclN5bWJvbHMgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZmluZERvY3VtZW50Q29sb3JzKGRvY3VtZW50LCBqc29uRG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlc29sdmUoY29sb3JTeW1ib2xzKV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBKU09OV29ya2VyLnByb3RvdHlwZS5nZXRDb2xvclByZXNlbnRhdGlvbnMgPSBmdW5jdGlvbiAodXJpLCBjb2xvciwgcmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRvY3VtZW50LCBqc29uRG9jdW1lbnQsIGNvbG9yUHJlc2VudGF0aW9ucztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudCA9IHRoaXMuX2dldFRleHREb2N1bWVudCh1cmkpO1xuICAgICAgICAgICAgICAgIGpzb25Eb2N1bWVudCA9IHRoaXMuX2xhbmd1YWdlU2VydmljZS5wYXJzZUpTT05Eb2N1bWVudChkb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgY29sb3JQcmVzZW50YXRpb25zID0gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLmdldENvbG9yUHJlc2VudGF0aW9ucyhkb2N1bWVudCwganNvbkRvY3VtZW50LCBjb2xvciwgcmFuZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlc29sdmUoY29sb3JQcmVzZW50YXRpb25zKV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBKU09OV29ya2VyLnByb3RvdHlwZS5nZXRGb2xkaW5nUmFuZ2VzID0gZnVuY3Rpb24gKHVyaSwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZG9jdW1lbnQsIHJhbmdlcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudCA9IHRoaXMuX2dldFRleHREb2N1bWVudCh1cmkpO1xuICAgICAgICAgICAgICAgIHJhbmdlcyA9IHRoaXMuX2xhbmd1YWdlU2VydmljZS5nZXRGb2xkaW5nUmFuZ2VzKGRvY3VtZW50LCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKHJhbmdlcyldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSlNPTldvcmtlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uUmFuZ2VzID0gZnVuY3Rpb24gKHVyaSwgcG9zaXRpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkb2N1bWVudCwganNvbkRvY3VtZW50LCByYW5nZXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQgPSB0aGlzLl9nZXRUZXh0RG9jdW1lbnQodXJpKTtcbiAgICAgICAgICAgICAgICBqc29uRG9jdW1lbnQgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UucGFyc2VKU09ORG9jdW1lbnQoZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgIHJhbmdlcyA9IHRoaXMuX2xhbmd1YWdlU2VydmljZS5nZXRTZWxlY3Rpb25SYW5nZXMoZG9jdW1lbnQsIHBvc2l0aW9ucywganNvbkRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKHJhbmdlcyldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSlNPTldvcmtlci5wcm90b3R5cGUuX2dldFRleHREb2N1bWVudCA9IGZ1bmN0aW9uICh1cmkpIHtcbiAgICAgICAgdmFyIG1vZGVscyA9IHRoaXMuX2N0eC5nZXRNaXJyb3JNb2RlbHMoKTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBtb2RlbHNfMSA9IG1vZGVsczsgX2kgPCBtb2RlbHNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IG1vZGVsc18xW19pXTtcbiAgICAgICAgICAgIGlmIChtb2RlbC51cmkudG9TdHJpbmcoKSA9PT0gdXJpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb25TZXJ2aWNlLlRleHREb2N1bWVudC5jcmVhdGUodXJpLCB0aGlzLl9sYW5ndWFnZUlkLCBtb2RlbC52ZXJzaW9uLCBtb2RlbC5nZXRWYWx1ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBKU09OV29ya2VyO1xufSgpKTtcbmV4cG9ydCB7IEpTT05Xb3JrZXIgfTtcbi8vIFVSSSBwYXRoIHV0aWxpdGllcywgd2lsbCAoaG9wZWZ1bGx5KSBtb3ZlIHRvIHZzY29kZS11cmlcbnZhciBTbGFzaCA9ICcvJy5jaGFyQ29kZUF0KDApO1xudmFyIERvdCA9ICcuJy5jaGFyQ29kZUF0KDApO1xuZnVuY3Rpb24gaXNBYnNvbHV0ZVBhdGgocGF0aCkge1xuICAgIHJldHVybiBwYXRoLmNoYXJDb2RlQXQoMCkgPT09IFNsYXNoO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVBhdGgodXJpU3RyaW5nLCBwYXRoKSB7XG4gICAgaWYgKGlzQWJzb2x1dGVQYXRoKHBhdGgpKSB7XG4gICAgICAgIHZhciB1cmkgPSBVUkkucGFyc2UodXJpU3RyaW5nKTtcbiAgICAgICAgdmFyIHBhcnRzID0gcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICByZXR1cm4gdXJpLndpdGgoeyBwYXRoOiBub3JtYWxpemVQYXRoKHBhcnRzKSB9KS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gam9pblBhdGgodXJpU3RyaW5nLCBwYXRoKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVBhdGgocGFydHMpIHtcbiAgICB2YXIgbmV3UGFydHMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIHBhcnRzXzEgPSBwYXJ0czsgX2kgPCBwYXJ0c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgcGFydCA9IHBhcnRzXzFbX2ldO1xuICAgICAgICBpZiAocGFydC5sZW5ndGggPT09IDAgfHwgKHBhcnQubGVuZ3RoID09PSAxICYmIHBhcnQuY2hhckNvZGVBdCgwKSA9PT0gRG90KSkge1xuICAgICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFydC5sZW5ndGggPT09IDIgJiYgcGFydC5jaGFyQ29kZUF0KDApID09PSBEb3QgJiYgcGFydC5jaGFyQ29kZUF0KDEpID09PSBEb3QpIHtcbiAgICAgICAgICAgIG5ld1BhcnRzLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3UGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFydHMubGVuZ3RoID4gMSAmJiBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgbmV3UGFydHMucHVzaCgnJyk7XG4gICAgfVxuICAgIHZhciByZXMgPSBuZXdQYXJ0cy5qb2luKCcvJyk7XG4gICAgaWYgKHBhcnRzWzBdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXMgPSAnLycgKyByZXM7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBqb2luUGF0aCh1cmlTdHJpbmcpIHtcbiAgICB2YXIgcGF0aHMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBwYXRoc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHVyaSA9IFVSSS5wYXJzZSh1cmlTdHJpbmcpO1xuICAgIHZhciBwYXJ0cyA9IHVyaS5wYXRoLnNwbGl0KCcvJyk7XG4gICAgZm9yICh2YXIgX2EgPSAwLCBwYXRoc18xID0gcGF0aHM7IF9hIDwgcGF0aHNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgdmFyIHBhdGggPSBwYXRoc18xW19hXTtcbiAgICAgICAgcGFydHMucHVzaC5hcHBseShwYXJ0cywgcGF0aC5zcGxpdCgnLycpKTtcbiAgICB9XG4gICAgcmV0dXJuIHVyaS53aXRoKHsgcGF0aDogbm9ybWFsaXplUGF0aChwYXJ0cykgfSkudG9TdHJpbmcoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoY3R4LCBjcmVhdGVEYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBKU09OV29ya2VyKGN0eCwgY3JlYXRlRGF0YSk7XG59XG4iLCAiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgKiBhcyB3b3JrZXIgZnJvbSAnLi4vLi4vZWRpdG9yL2VkaXRvci53b3JrZXIuanMnO1xuaW1wb3J0IHsgSlNPTldvcmtlciB9IGZyb20gJy4vanNvbldvcmtlci5qcyc7XG5zZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBpZ25vcmUgdGhlIGZpcnN0IG1lc3NhZ2VcbiAgICB3b3JrZXIuaW5pdGlhbGl6ZShmdW5jdGlvbiAoY3R4LCBjcmVhdGVEYXRhKSB7XG4gICAgICAgIHJldHVybiBuZXcgSlNPTldvcmtlcihjdHgsIGNyZWF0ZURhdGEpO1xuICAgIH0pO1xufTtcbiJdLAogICJtYXBwaW5ncyI6ICI7O0FBQ08sMkJBQW1CO0FBQUEsSUFDdEIsY0FBYztBQUNWLFdBQUssWUFBWTtBQUNqQixXQUFLLHlCQUF5QixTQUFVLEdBQUc7QUFDdkMsbUJBQVcsTUFBTTtBQUNiLGNBQUksRUFBRSxPQUFPO0FBQ1Qsa0JBQU0sSUFBSSxNQUFNLEVBQUUsVUFBVSxTQUFTLEVBQUU7QUFBQTtBQUUzQyxnQkFBTTtBQUFBLFdBQ1A7QUFBQTtBQUFBO0FBQUEsSUFHWCxLQUFLLEdBQUc7QUFDSixXQUFLLFVBQVUsUUFBUSxDQUFDLGFBQWE7QUFDakMsaUJBQVM7QUFBQTtBQUFBO0FBQUEsSUFHakIsa0JBQWtCLEdBQUc7QUFDakIsV0FBSyx1QkFBdUI7QUFDNUIsV0FBSyxLQUFLO0FBQUE7QUFBQSxJQUdkLDBCQUEwQixHQUFHO0FBQ3pCLFdBQUssdUJBQXVCO0FBQUE7QUFBQTtBQUc3QixNQUFNLGVB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QUNsQyxhQUFRLFNBQVEsWUFBWSxNQUFNO0FBQ2xDLGFBQVEsU0FBUSxXQUFXLE1BQU07QUFDakMsYUFBUSxTQUFRLFdBQVcsTUFBTTtBQUNqQyxhQUFRLFNBQVEsV0FBVyxNQUFNO0FBQ2pDLGFBQVEsU0FBUSxXQUFXLE1BQU07QUFDakMsYUFBUSxTQUFRLFdBQVcsTUFBTTtBQUNqQyxhQUFRLFNBQVEsV0FBVyxNQUFNO0FBQ2pDLGFBQVEsU0FBUSxXQUFXLE1BQU07QUFDakMsYUFBUSxTQUFRLFdBQVcsTUFBTTtBQUNqQyxhQUFRLFNBQVEsV0FBVyxNQUFNO0FBQ2pDLGFBQVEsU0FBUSxXQUFXLE1BQU07QUFDakMsYUFBUSxTQUFRLFdBQVcsTUFBTTtBQUNqQyxhQUFRLFNBQVEsV0FBVyxNQUFNO0FBQ2pDLGFBQVEsU0FBUSxXQUFXLE1BQU07QUFDakMsYUFBUSxTQUFRLFdBQVcsTUFBTTtBQUNqQyxhQUFRLFNBQVEsV0FBVyxNQUFNO0FBQ2pDLGFBQVEsU0FBUSxXQUFXLE1BQU07QUFDakMsYUFBUSxTQUFRLFdBQVcsTUFBTTtBQUNqQyxhQUFRLFNBQVEsV0FBVyxNQUFNO0FBQ2pDLGFBQVEsU0FBUSxXQUFXLE1BQU07QUFDakMsYUFBUSxTQUFRLFdBQVcsTUFBTTtBQUNqQyxhQUFRLFNBQVEsV0FBVyxNQUFNO0FBQ2pDLGFBQVEsU0FBUSxXQUFXLE1BQU07QUFDakMsYUFBUSxTQUFRLFdBQVcsTUFBTTtBQUNqQyxhQUFRLFNBQVEsV0FBVyxNQUFNO0FBQ2pDLGFBQVEsU0FBUSxXQUFXLE1BQU07QUFDakMsYUFBUSxTQUFRLFdBQVcsTUFBTTtBQUNqQyxhQUFRLFNBQVEsV0FBVyxNQUFNO0FBQ2pDLGFBQVEsU0FBUSxXQUFXLE1BQU07QUFDakMsYUFBUSxTQUFRLFdBQVcsTUFBTTtBQUNqQyxhQUFRLFNBQVEsV0FBVyxNQUFNO0FBQ2pDLGFBQVEsU0FBUSxXQUFXLE1BQU07QUFDakMsYUFBUSxTQUFRLFdBQVcsTUFBTTtBQUNqQyxhQUFRLFNBQVEsV0FBVyxNQUFNO0FBQ2pDLGFBQVEsU0FBUSxX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
